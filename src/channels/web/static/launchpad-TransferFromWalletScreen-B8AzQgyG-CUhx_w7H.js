import{r as z,j as l}from"./launchpad.js";import{T as Z,u as H}from"./launchpad-ModalHeader-JjfRejxC-gvXxgADS.js";import{o as ee}from"./launchpad-ScreenHeader-CHmc4-Lu-Bz0hvEfr.js";import{t as ne}from"./launchpad-FundWalletMethodHeader-DRH4o4R5-FwbuUnGj.js";import{n as L}from"./launchpad-Chip-D2-wZOHJ-C13jw6H6.js";import{r as le}from"./launchpad-Subtitle-CV-2yKE4-xZAXWUw0.js";import{d6 as Q,d4 as V,d5 as te,da as ae,ec as oe,ex as ie,ey as ce,ez as P,eA as X,e0 as re,db as se,eB as pe,dw as G,dD as de,eC as ye,dq as U}from"./launchpad-App-D179iYht.js";import{l as ue}from"./launchpad-WalletOverflowButton-DJthXlpc-Dc9-i9L4.js";import{i as me}from"./launchpad-InjectedWalletIcon-DLcYOGDj-DM-O-Fpn.js";import{n as we}from"./launchpad-styles-Dr0J8BuN-_pXKPTPH.js";import"./launchpad-LoadingSkeleton-U6-3yFwI-De_7LaVb.js";import"./launchpad-createLucideIcon-BSOjrqRH.js";import"./launchpad-WalletIcon-CmQNtWKM.js";import"./launchpad-LinkPasskeyScreen-BfLq2-Q5-CD3LfYpW.js";import"./launchpad-TodoList-CgrU7uwu-SiSPC2Wo.js";import"./launchpad-check-C5kCRahI.js";import"./launchpad-ScreenLayout-Ca6ml9wY-CeAdm0Km.js";import"./launchpad-Screen-DE3ldE_X-BBf8NvvX.js";import"./launchpad-index-Dq_xe9dz-bxbF5Mdc.js";import"./launchpad-circle-check-big-Bg8vqBbP.js";import"./launchpad-fingerprint-pattern-eZF4302v.js";const y=({provider:u,displayName:v,logo:g,connectOnly:o,connector:c})=>{let S,{navigate:f,setModalData:$}=V(),{connectWallet:B}=Q(),k=re(),W=se(u),C=c.connectorType==="wallet_connect_v2"?u:c.walletClientType,b=window.matchMedia("(display-mode: standalone)").matches,x=pe({connectorType:c.connectorType,walletClientType:C});S=x&&x.chainTypes.includes(c.chainType)?()=>{x.isInstalled||c.chainType==="solana"&&"isInstalled"in c&&c.isInstalled?(B(c,C),f(o?"ConnectOnlyStatusScreen":"ConnectionStatusScreen")):G?($({installWalletModalData:{walletConfig:x,chainType:c.chainType,connectOnly:o}}),f("WalletInterstitialScreen")):($({installWalletModalData:{walletConfig:x,chainType:c.chainType,connectOnly:o}}),f("InstallWalletScreen"))}:c.connectorType!=="coinbase_wallet"||c.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!G||b||de()?()=>{(!ye(window.navigator.userAgent)||event?.isTrusted)&&(B(c,C),o?c.connectorType==="wallet_connect_v2"?($(M=>({...M,externalConnectWallet:{...M?.externalConnectWallet,preSelectedWalletId:"wallet_connect_qr"}})),f("ConnectOnlyLandingScreen")):f("ConnectOnlyStatusScreen"):f("ConnectionStatusScreen"))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let _=v||W?.metadata?.shortName||W?.name||c.walletClientType;return l.jsxs(he,{onClick:S,children:[l.jsx(me,{icon:g||W?.image_url?.md,name:_}),l.jsx("span",{children:_}),l.jsxs(fe,{id:"chip-container",children:[k?.walletClientType===C&&k?.chainType===c.chainType?l.jsx(J,{color:"gray",children:"Recent"}):l.jsx("span",{id:"connect-text",children:"Connect"}),c.chainType==="solana"&&l.jsx(J,{color:"gray",children:"Solana"})]})]})};let he=U(X)`
  /* Wallet name text color */
  > span {
    color: var(--privy-color-foreground);
  }

  /* Show "Connect" on hover */
  > #chip-container > #connect-text {
    font-weight: 500;
    color: var(--privy-color-accent);
    opacity: 0;
    transition: opacity 0.1s ease-out;
  }

  :hover > #chip-container > #connect-text {
    opacity: 1;
  }

  @media (max-width: 440px) {
    > #chip-container > #connect-text {
      display: none;
    }
  }
`,J=U(L)`
  margin-left: auto;
`,fe=U.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-left: auto;
`;const Te=["coinbase_wallet","base_account"];let ge=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance","kraken_wallet"];const Ce=["safe"],xe=["phantom","backpack","solflare","jupiter","universal_profile"],ze={component:()=>{let u,{connectors:v}=Q(),{setModalData:g,data:o,navigate:c}=V(),S=te(),{wallets:f}=ae(),$=v.filter(oe).flatMap(e=>e.wallets),[B,k]=z.useState("default"),W=o?.funding?.chainType==="solana",C=!!o?.funding?.crossChainBridgingEnabled;u=o?.funding?.chainType==="ethereum"?o.funding.erc20Address&&!o.funding.isUSDC?"ethereum-only":C&&!o.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":C&&!o.funding?.isUSDC?"ethereum-and-solana":"solana-only";let b=f.filter(e=>e.walletClientType!=="privy"),x=b.map(e=>e.walletClientType),_=$.filter(e=>e.walletClientType!=="privy"),M=_.map(e=>e.walletClientType),T=[],F={...o.funding};F.usingDefaultFundingMethod&&(F.usingDefaultFundingMethod=!1);let R=({wallet:e,walletChainType:a})=>{g({...o,funding:{...F,connectedWallet:e,onContinueWithExternalWallet:()=>c(q({destChainType:W?"solana":"ethereum",sourceChainType:a}))},solanaFundingData:o?.solanaFundingData?{...o.solanaFundingData,sourceWalletData:{address:e.address,walletClientType:e.walletClientType}}:void 0}),c("FundingAmountEditScreen")};u!=="solana-only"&&T.push(...b.map((e,a)=>l.jsx(K,{onClick:()=>R({wallet:e,walletChainType:"ethereum"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},a))),u!=="ethereum-only"&&T.push(..._.map((e,a)=>l.jsx(K,{onClick:()=>R({wallet:e,walletChainType:"solana"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},a))),T.push(...(({walletList:e,walletChainType:a,connectors:A,connectOnly:p,ignore:O,walletConnectEnabled:j,forceWallet:E})=>{let m=[],I=[],N=[],w=A.filter(d=>a==="ethereum-only"?d.chainType==="ethereum":a!=="solana-only"||d.chainType==="solana"),D=w.find(d=>d.connectorType==="wallet_connect_v2");for(let[d,n]of(E?[E.wallet]:e).entries()){if(n==="detected_ethereum_wallets")for(let[i,t]of w.filter(({chainType:r,connectorType:s,walletClientType:h})=>r!=="solana"&&(h==="uniswap_wallet_extension"||h==="uniswap_extension"?!O.includes("uniswap"):h==="crypto.com_wallet_extension"||h==="crypto.com_onchain"?!O.includes("cryptocom"):s==="injected"&&!O.includes(h))).entries()){let{walletClientType:r,walletBranding:s,chainType:h}=t;(r==="unknown"?I:m).push(l.jsx(y,{connectOnly:p,provider:r,logo:s.icon,displayName:s.name,connector:t},`${d}-${n}-${r}-${h}-${i}`))}if(n==="detected_solana_wallets")for(let[i,t]of w.filter(({chainType:r,walletClientType:s})=>{if(r==="solana")return a!=="ethereum-only"&&!O.includes(s)}).entries()){let{walletClientType:r,walletBranding:s,chainType:h}=t;(r==="unknown"?I:m).push(l.jsx(y,{connectOnly:p,provider:r,logo:s.icon,displayName:s.name,connector:t},`${d}-${n}-${r}-${h}-${i}`))}if(xe.includes(n)){let i=w.find(t=>t.connectorType==="injected"&&t.walletClientType===n||t.connectorType===n);if(i&&m.push(l.jsx(y,{connectOnly:p,provider:n,connector:i},`${d}-${n}`)),a==="solana-only"||a==="ethereum-and-solana"){let t=w.find(({chainType:r,walletClientType:s})=>r==="solana"&&s===n);t&&m.push(l.jsx(y,{connectOnly:p,provider:n,connector:t},`${n}-solana`))}}else if(ge.includes(n)){let i=w.find(t=>n==="uniswap"?t.walletClientType==="uniswap_wallet_extension"||t.walletClientType==="uniswap_extension":n==="cryptocom"?t.walletClientType==="crypto.com_wallet_extension"||t.walletClientType==="crypto.com_onchain":t.connectorType==="injected"&&t.walletClientType===n);if(j&&!i&&(i=D),i&&m.push(l.jsx(y,{connectOnly:p,provider:n,connector:i,logo:i.connectorType==="injected"?i.walletBranding.icon:void 0,displayName:i.connectorType==="injected"?i.walletBranding.name:void 0},`${d}-${n}`)),a==="solana-only"||a==="ethereum-and-solana"){let t=w.find(({chainType:r,walletClientType:s})=>r==="solana"&&s===n);t&&m.push(l.jsx(y,{connectOnly:p,provider:n,connector:t},`${n}-solana`))}}else if(Te.includes(n)){let i=w.find(({connectorType:t})=>t===n);i&&m.push(l.jsx(y,{connectOnly:p,provider:n,connector:i,displayName:i.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:i.walletClientType==="coinbase_wallet"?ie:ce},`${d}-${n}`))}else if(Ce.includes(n))D&&N.push(l.jsx(y,{connectOnly:p,provider:n,connector:D},`${d}-${n}`));else if(n==="wallet_connect")D&&N.push(l.jsx(y,{connectOnly:p,provider:n,connector:D,logo:D.walletBranding.icon,displayName:"WalletConnect"},`${d}-${n}`));else if(n===E?.wallet){let i=E.chainType==="ethereum"&&e.includes("detected_ethereum_wallets"),t=E.chainType==="solana"&&e.includes("detected_solana_wallets");if(i||t){let r=w.find(({walletClientType:s})=>s===n);r&&m.push(l.jsx(y,{connectOnly:p,provider:n,displayName:r.walletBranding?.name,logo:r.walletBranding?.icon,connector:r},`${d}-${n}`))}}}return[...I,...m,...N]})({walletList:S.appearance.walletList.filter(e=>!b.some(a=>a.walletClientType===e)&&!_.some(a=>a.walletClientType===e)),walletChainType:u,connectors:v,connectOnly:!0,ignore:[...S.appearance.walletList,...x,...M],walletConnectEnabled:S.externalWallets.walletConnect.enabled}));let Y=l.jsx(ue,{text:"More wallets",onClick:()=>k("overflow")}),q=({sourceChainType:e,destChainType:a})=>e==="ethereum"&&a==="solana"?"AwaitingEvmToSolBridgingScreen":e==="ethereum"&&a==="ethereum"?"AwaitingExternalEthereumTransferScreen":e==="solana"&&a==="ethereum"?"AwaitingSolToEvmBridgingScreen":F.externalSolanaFundingScreen;return z.useEffect(()=>{g({...o,externalConnectWallet:{onCompleteNavigateTo:({address:e,walletClientType:a,walletChainType:A})=>{let p=A??"ethereum",O=p==="ethereum"?b.find(j=>j.address===e&&j.walletClientType===a):_.find(j=>j.address===e&&j.walletClientType===a);return g({...o,funding:{...F,connectedWallet:O,onContinueWithExternalWallet:()=>{c(q({destChainType:W?"solana":"ethereum",sourceChainType:p}))}},solanaFundingData:o?.solanaFundingData?{...o.solanaFundingData,sourceWalletData:{address:e||"",walletClientType:a||""}}:void 0}),"FundingAmountEditScreen"}}})},[]),l.jsxs(l.Fragment,B==="overflow"?{children:[l.jsx(Z,{backFn:()=>k("default")},"header"),l.jsxs(P,{children:[l.jsx(le,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),T]}),l.jsx(H,{})]}:{children:[l.jsx(ne,{}),l.jsx(ee,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),l.jsxs(P,{children:[T.length>4?T.slice(0,3):T,T.length>4&&Y]}),l.jsx(H,{})]})}};let K=({onClick:u,icon:v,name:g,chainType:o})=>l.jsxs(X,{onClick:u,children:[l.jsx(we,{style:{width:20},children:l.jsx("img",{src:v})}),g,l.jsx(L,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),o==="solana"&&l.jsx(L,{color:"gray",children:"Solana"})]});export{ze as TransferFromWalletScreen,ze as default};
