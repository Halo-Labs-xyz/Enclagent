const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["launchpad-ccip-DyyaCaB2.js","launchpad.js","launchpad-core-dB_9v9l2.js","launchpad-index-DuAbUB39.js","launchpad-parseSignature-D4ljTtc0.js","launchpad-TurnstileWrapper-Co-t5mTh-DpQbCh7W.js","launchpad-HCaptchaWrapper-CUi9LJsp-d9WQjF88.js","launchpad-AccountNotFoundScreen-CeH1-Vk6-CfoZxUZf.js","launchpad-ScreenLayout-Ca6ml9wY-CeAdm0Km.js","launchpad-ModalHeader-JjfRejxC-gvXxgADS.js","launchpad-Screen-DE3ldE_X-BBf8NvvX.js","launchpad-index-Dq_xe9dz-bxbF5Mdc.js","launchpad-createLucideIcon-BSOjrqRH.js","launchpad-AffirmativeConsentScreen-CXITm_N9-BEVPCwDk.js","launchpad-shouldProceedtoEmbeddedWalletCreationFlow-BsPl2jCD-BqPojStS.js","launchpad-external-link-BZ_UzR-j.js","launchpad-AllowlistRejectionScreen-lgFXWCYE-CDFp_rHF.js","launchpad-lock-DOKCRgid.js","launchpad-AuthenticateWithWalletScreen-m06-fuCA-vLFUx2BV.js","launchpad-ConnectWalletView-DMLO1g28-h_zbA_AV.js","launchpad-CopyableText-BCytXyJL-C5DGCEOV.js","launchpad-check-C5kCRahI.js","launchpad-copy-DYa4Op8P.js","launchpad-Link-DJ5gq9Di-Bcmw2lMR.js","launchpad-QrCode-VCBMkqqq-DYkl2ssX.js","launchpad-dijkstra-D_NXgYpA.js","launchpad-EmailInputForm-Dgoii4vf-CXUFlHLV.js","launchpad-ErrorMessage-D8VaAP5m-xTbV0e-V.js","launchpad-useI18n-BdIAB9oU-W7UAn9Rw.js","launchpad-WalletCards-DH1rqayz-Bac_TB-X.js","launchpad-AwaitingEvmToSolBridgingScreen-CckTG9KA-D-XHBW0R.js","launchpad-CheckCircleIcon-D2sCnQx5.js","launchpad-Layouts-BlFm53ED-HTJjrY9f.js","launchpad-ScreenHeader-CHmc4-Lu-Bz0hvEfr.js","launchpad-FundWalletMethodHeader-DRH4o4R5-FwbuUnGj.js","launchpad-useGetTokenPrice-PWP-Uiot-DSryU3xF.js","launchpad-useGetSolPrice-DwwjjGbd-C6EP3HJh.js","launchpad-analytics-mkkvFRju-DOXuftJB.js","launchpad-reservoir-0wfhnc0j-DglEJspj.js","launchpad-getChainName-DjpPdUSc-c2urPd0g.js","launchpad-transaction-CnfuREWo-BX0tihxo.js","launchpad-getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","launchpad-BridgeNetworkSelectionView-C74EH50n-DyH7JGFc.js","launchpad-getErc20Balance-DA4dGV9O-ByhkfifA.js","launchpad-Value-tcJV9e0L-rc9R0DBN.js","launchpad-LoadingSkeleton-U6-3yFwI-De_7LaVb.js","launchpad-Subtitle-CV-2yKE4-xZAXWUw0.js","launchpad-Title-BnzYV3Is-Bc_Ic5pg.js","launchpad-WalletIcon-CmQNtWKM.js","launchpad-Chip-D2-wZOHJ-C13jw6H6.js","launchpad-TransferOrBridgeLoadingScreen-BKmOAmlN-BSkZURGH.js","launchpad-InjectedWalletIcon-DLcYOGDj-DM-O-Fpn.js","launchpad-Address-D-q_5it9-DVYLY2Ks.js","launchpad-GlobeAltIcon-DfBLgGP6.js","launchpad-shared-FM0rljBt-BThDrsH1.js","launchpad-ChevronDownIcon-D09uGFR6.js","launchpad-formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","launchpad-ethers-VWEScvge-ty8Zt0i3.js","launchpad-styles-Dr0J8BuN-_pXKPTPH.js","launchpad-LinkPasskeyScreen-BfLq2-Q5-CD3LfYpW.js","launchpad-TodoList-CgrU7uwu-SiSPC2Wo.js","launchpad-circle-check-big-Bg8vqBbP.js","launchpad-fingerprint-pattern-eZF4302v.js","launchpad-formatters-_15u2lww.js","launchpad-custom-DmCn-z3P.js","launchpad-AwaitingExternalEthereumTransferScreen-eF2GWu8M-DNjjz_Qu.js","launchpad-transfer-6YztDh-t-DU6hH7CZ.js","launchpad-parseEther-b5-X_2jr.js","launchpad-AwaitingPasswordlessCodeScreen-BOBPSamI-D5mLwcyk.js","launchpad-EnvelopeIcon-IX6JTo8v.js","launchpad-PhoneIcon-C1ddPHdQ.js","launchpad-AwaitingSolToEvmBridgingScreen-P3cpg0C5-ChxTtny5.js","launchpad-CaptchaScreen-B3Ykiq24-Q3MGqdQQ.js","launchpad-circle-x-DddvhjMS.js","launchpad-CoinbaseOnrampStatusScreen-w23Wg5d9-DZHutgsf.js","launchpad-ArrowsRightLeftIcon-B31GRfZT.js","launchpad-CheckCircleIcon-BvqP64EM.js","launchpad-ConnectLedgerScreen-CeefF4eo-B9y-Ihqx.js","launchpad-ConnectOnlyLandingScreen-DsUmsQqW-C1Lid8Iz.js","launchpad-ConnectOnlyStatusScreen-BWSDA11j-ap73nF1s.js","launchpad-ConnectionStatusScreen-DC1viuqC-BE62Zj59.js","launchpad-ConnectOrCreateScreen-2uZYB3jh-Da_dkA84.js","launchpad-CustomLandingScreenView-JGe-GePA-DZ8tOuiH.js","launchpad-ConnectEmailForm-DQUiQNyc-DEKhtoMO.js","launchpad-mail-C5wDGb2q.js","launchpad-farcaster-DPlSjvF5-CknmVXgZ.js","launchpad-FingerPrintIcon-CpCeQsPn.js","launchpad-ConnectPhoneForm-DTZTENXQ-bf-O6yMe.js","launchpad-twitch-5IOe4sIQ-Bed50buk.js","launchpad-telegram-B-JqnkqZ-B2ok6_jI.js","launchpad-WalletOverflowButton-DJthXlpc-Dc9-i9L4.js","launchpad-CrossAppAuthScreen-BBpfShQF-DwRBLmp3.js","launchpad-DelegatedActionsConsentScreen-BcanXrk2-kbZtIBxT.js","launchpad-WalletInfoCard-CuZCmvHw-BQqSNujJ.js","launchpad-LabelXs-oqZNqbm_-D2WTgiPX.js","launchpad-circle-alert-l7t-nY5R.js","launchpad-DelegatedActionsRevokeScreen-CEToWbrk-mJvGCssm.js","launchpad-EmbeddedWalletConnectingScreen-CTdp8K5o-Czq7IMiU.js","launchpad-EmbeddedWalletCreatedScreen-BEBjX0Mt-CSQ0DAi3.js","launchpad-EmbeddedWalletKeyExportScreen-DdviAcYq-Chq6eBck.js","launchpad-WarningBanner-c8L53pJ2-Bp2I71hA.js","launchpad-ExclamationTriangleIcon-DS9jnCFw.js","launchpad-EmbeddedWalletOnAccountCreateScreen-eKriq-Nq-BXY3rjZJ.js","launchpad-RecoveryPasswordCreateScreen-BRb1syw7-DL1mh-0A.js","launchpad-SetWalletPasswordForm-C2hZtfwu-CbQ0-1k2.js","launchpad-shared-BcHk2XA3-Dl2lUF-0.js","launchpad-Checkbox-BhNoOKjX-B_tAnTk6.js","launchpad-EmbeddedWalletPasswordUpdateScreen-BAlUIAfz-DZ-QcaDK.js","launchpad-EmbeddedWalletPasswordUpdateSplashScreen-DX_WQZdd-BpwgRlT2.js","launchpad-ErrorScreen-V8ec2dKP-DjcwwqNu.js","launchpad-FarcasterConnectStatusScreen-BB7egF78-BNx7QXCL.js","launchpad-OpenLink-DZHy38vr-CYK5YBWn.js","launchpad-FarcasterSignerStatusScreen-DE_ssKid-Vvye1Bm0.js","launchpad-CopyToClipboard-DSTf_eKU-kZApe455.js","launchpad-FundSolWalletWithExternalSolanaWallet-DAhHczol-BiD94b22.js","launchpad-useSolanaRpcClient-ign2YXAl-BQKFlUzw.js","launchpad-getUsdcMintAddress-DFI1hv05-DwqfiN48.js","launchpad-FundWithBankDepositScreen-wFJhtxMV-C6NjmJtf.js","launchpad-InfoBanner-DkQEPd77-BJw8olDz.js","launchpad-FundingEditAmountScreen-kwQjuyb9-BWz-2h6x.js","launchpad-FundingMethodSelectionScreen-CbxUWw1v-DSNvFwKw.js","launchpad-ErrorBanner-CQERa7bL-D9Jz_y-z.js","launchpad-ExclamationCircleIcon-DuVuT9M1.js","launchpad-getErc20TokenInfo-1Q6w1Ibq-Dxg0lWgJ.js","launchpad-index-BpieExSM-BdWWDer9.js","launchpad-InAppBrowserLoginNotPossible-BR9y7vrg-CrrkV2Dm.js","launchpad-InstallWalletScreen-DkaJ2iZK-lcBw_wPx.js","launchpad-LandingScreen-BtCc-4_K-v4-mIvQ2.js","launchpad-LinkConflictScreen-CSZu5Mc7-CcvIQYJi.js","launchpad-StackedContainer-B2vaEl56-DAGpnjTg.js","launchpad-capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","launchpad-LinkEmailScreen-CMX1b5QU-HVzxYZzk.js","launchpad-LinkPhoneScreen-CGYAeavW-BN_lp9qj.js","launchpad-LoginFailedScreen-DpfFaY7V-Mez0VVEi.js","launchpad-ManualTransferScreen-D3CPPofR-CZN_jGAO.js","launchpad-useWalletBalance-CDyi5_iR-DCkRGcPf.js","launchpad-MfaAuthEnrollmentFlowScreen-YWkK-71P-BMrPeh1U.js","launchpad-ShieldCheckIcon-CP_2fGKU.js","launchpad-EnrollTotp-COmXYzq5-DDWyTrZe.js","launchpad-PinInput-3SLvbnQa-CovKtgDb.js","launchpad-MfaAuthVerifyFlowScreen-BIGip6ll-CcWR6ese.js","launchpad-to-ui-error-CmP4i4IC-CtfAtO2K.js","launchpad-TransactionDetails-DkPozym_-DJ9OmnKi.js","launchpad-WalletLink-B12jNftF-DRQ54pOI.js","launchpad-MfaEnrollmentFlowScreen-XrdyfmmI-D7Uof4kl.js","launchpad-MoonpayStatusScreen-CqsI_vjN-C-zEJkk3.js","launchpad-OAuthStatusScreen-DB8OcP_K-Duhq0-a9.js","launchpad-PasskeySelectSignupOrLogin-DCaGA7kA-BirGOkJR.js","launchpad-PasskeyStatusScreen-5cLO3m8F-DE8o2G2k.js","launchpad-PasswordRecoveryScreen-Bfqx2sWJ-B1IOEbLD.js","launchpad-RecoveryOAuthStatusScreen-CScuB-aG-B3suiv6u.js","launchpad-styles-BsotlekN-DPqfrMat.js","launchpad-RecoverySelectionScreen-DfHkr07F-DBrwd8Uz.js","launchpad-LockClosedIcon-BqF5SfBd.js","launchpad-index-BAAWn9Kv-fzu_BYz6.js","launchpad-JsonTree-aPaJmPx7-Dog5uYEJ.js","launchpad-TransactionErrorView-f1bQRoCZ-CkSFCgYG.js","launchpad-SetAutomaticRecoveryScreen-Ol789UQM-C49yWIed.js","launchpad-SignRequestScreen-CUMcsLye-CDwjDbym.js","launchpad-StandardSignAndSendTransactionScreen-C8nW4u5b-D7CJpK-Y.js","launchpad-TelegramAuthScreen-jb192MAl-6bbEHsrh.js","launchpad-TransferFromWalletScreen-B8AzQgyG-CUhx_w7H.js","launchpad-UpdateEmailScreen-deteEdyS-B3St0lV1.js","launchpad-UpdatePhoneScreen-D3RSZlDk-CiWw2Up5.js","launchpad-UserLimitReachedScreen-QT4sbDev-BFPWshMk.js","launchpad-WalletInterstitialScreen-DPTs9K3X-BYLYdvLD.js","launchpad-MfaVerifyFlowScreen-2H1EX_qQ-nzdrSSK-.js","launchpad-mermaid.core-BGISQ57D.js"])))=>i.map(i=>d[i]);
var vj=Object.defineProperty;var _j=(t,e,n)=>e in t?vj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H3=(t,e,n)=>_j(t,typeof e!="symbol"?e+"":e,n);import{_ as _e,g as w2,c as cA,r as R,j as g,t as ke,a as Cj,b as Rb,d as lA}from"./launchpad.js";const Ej={path:"/api/v1/analytics_events",method:"POST"},xj={path:"/api/v1/apps/:app_id",method:"GET"},Aj={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},Lj={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},Sj={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},Ij={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},Tj={path:"/api/v1/custom_jwt_account/link",method:"POST"},kj={path:"/api/v1/farcaster/init",method:"POST"},Pj={path:"/api/v1/farcaster/authenticate",method:"POST"},Oj={path:"/api/v1/farcaster/link",method:"POST"},Rj={path:"/api/v1/farcaster/unlink",method:"POST"},$j={path:"/api/v1/farcaster/status",method:"GET"},Mj={path:"/api/v2/farcaster/init",method:"POST"},Nj={path:"/api/v2/farcaster/authenticate",method:"POST"},Dj={path:"/api/v1/guest/authenticate",method:"POST"},jj={path:"/api/v1/mfa/passkeys/init",method:"POST"},Uj={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Bj={path:"/api/v1/oauth/authenticate",method:"POST"},Fj={path:"/api/v1/oauth/init",method:"POST"},zj={path:"/api/v1/oauth/link",method:"POST"},Wj={path:"/api/v1/oauth/unlink",method:"POST"},Vj={path:"/api/v1/passkeys/link",method:"POST"},Hj={path:"/api/v1/passkeys/authenticate",method:"POST"},qj={path:"/api/v1/passkeys/register",method:"POST"},Zj={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Gj={path:"/api/v1/passkeys/register/init",method:"POST"},Kj={path:"/api/v1/passkeys/link/init",method:"POST"},Yj={path:"/api/v1/passwordless/authenticate",method:"POST"},Jj={path:"/api/v1/passwordless/init",method:"POST"},Xj={path:"/api/v1/passwordless/link",method:"POST"},Qj={path:"/api/v1/passwordless/unlink",method:"POST"},eU={path:"/api/v1/passwordless/update",method:"POST"},tU={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},nU={path:"/api/v1/passwordless_sms/init",method:"POST"},rU={path:"/api/v1/passwordless_sms/link",method:"POST"},iU={path:"/api/v1/passwordless_sms/unlink",method:"POST"},sU={path:"/api/v1/passwordless_sms/update",method:"POST"},aU={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},oU={path:"/api/v1/recovery/oauth/init",method:"POST"},cU={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},lU={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},uU={path:"/api/v1/recovery/configuration_icloud",method:"POST"},dU=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,$b={path:"/api/v1/sessions",method:"POST"},hU={path:"/api/v1/sessions/logout",method:"POST"},fU={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},uA={path:"/api/v1/siwe/init",method:"POST"},pU={path:"/api/v1/siwe/authenticate",method:"POST"},mU={path:"/api/v1/siwe/link",method:"POST"},gU={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},yU={path:"/api/v1/siwe/unlink",method:"POST"},wU={path:"/api/v1/siws/init",method:"POST"},bU={path:"/api/v1/siws/authenticate",method:"POST"},vU={path:"/api/v1/siws/link",method:"POST"},_U={path:"/api/v1/siws/unlink",method:"POST"},CU={path:"/api/v1/users/me/accept_terms",method:"POST"},EU={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},xU={path:"/api/v1/wallets",method:"POST"},q3={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},AU={path:"/api/v1/wallets/revoke",method:"POST"};let LU=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(fU,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const SU=new TextEncoder,dA=new TextDecoder,IU=t=>{let e=t;typeof e=="string"&&(e=SU.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},TU=t=>IU(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),kU=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},PU=t=>{let e=t;e instanceof Uint8Array&&(e=dA.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return kU(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class OU extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class hc extends OU{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function RU(t){return typeof t=="object"&&t!==null}function $U(t){if(!RU(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Kc=TU,MU=PU;function Lg(t){if(typeof t!="string")throw new hc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new hc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new hc("Invalid JWT");if(!e)throw new hc("JWTs must contain a payload");let r;try{r=MU(e)}catch{throw new hc("Failed to base64url decode the payload")}let i;try{i=JSON.parse(dA.decode(r))}catch{throw new hc("Failed to parse the decoded payload as JSON")}if(!$U(i))throw new hc("Invalid JWT Claims Set");return i}let tl=class hA{static parse(e){try{return new hA(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Lg(e)}},fA=class Sg{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=Sg.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=Sg.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new tl(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Sj,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};fA.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let NU=class{async revoke(){await this._privyInternal.fetch(AU,{})}constructor(e){this._privyInternal=e}};function DU(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const Th={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},pA={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},kh={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},mA={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Ph={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},gA={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},jU={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},UU={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},E4={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},BU={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},FU={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},zU={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},WU={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},VU={id:43419,name:"Gunz Mainnet",network:"gunz",nativeCurrency:{name:"GUN",symbol:"GUN",decimals:18},rpcUrls:{privy:{http:["https://gunz-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]},public:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]}},blockExplorers:{default:{name:"Gunz Explorer",url:"https://gunzscan.io"}}},HU={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},qU={id:13371,name:"Immutable zkEVM",network:"immutable-zkevm",nativeCurrency:{name:"Immutable Coin",symbol:"IMX",decimals:18},rpcUrls:{privy:{http:["https://immutable-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.immutable.com"]},public:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com"}}},ZU={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},GU={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},KU={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},au={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},x4={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},yA={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Oh={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},wA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},YU={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},bA={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},JU={id:1868,name:"Soneium Mainnet",network:"soneium",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://soneium-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.soneium.org"]},public:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com"}}},XU={id:130,name:"Unichain",network:"unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://unichain-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.unichain.org"]},public:{http:["https://mainnet.unichain.org"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz"}}},QU={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{privy:{http:["https://zora-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},eB={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},tB={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},y1=[au,bA,HU,Th,pA,x4,yA,Oh,wA,E4,BU,FU,zU,Ph,gA,jU,UU,VU,qU,KU,ZU,GU,kh,mA,JU,XU,QU,tB,eB,YU,WU],nB=new Set(y1.map(t=>t.id)),vA=t=>t.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=y1.find(i=>i.id===e.id),r=n?.rpcUrls.privy?.http[0];return r?DU(e,r):e}),rB={id:999},A4={id:143};let Z3=class extends Error{constructor({error:e,code:n,status:r}){super(e),this.name="PrivyApiError",this.error=e,this.code=n,this.status=r}},wt=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},iB=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const ko=t=>!!t.id&&t.recovery_method==="privy-v2";let sB=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(ko(this._account))throw new wt({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new wt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new wt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const aB=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Mr;(Mr={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Mr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Mr.INVALID_DATA="invalid_data",Mr.LINKED_TO_ANOTHER_USER="linked_to_another_user",Mr.ALLOWLIST_REJECTED="allowlist_rejected",Mr.OAUTH_USER_DENIED="oauth_user_denied",Mr.UNKNOWN_AUTH_ERROR="unknown_auth_error",Mr.USER_EXITED_AUTH_FLOW="exited_auth_flow",Mr.MUST_BE_AUTHENTICATED="must_be_authenticated",Mr.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Mr.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Mr.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Mr.INVALID_CREDENTIALS="invalid_credentials";let oB=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},xp=class extends Error{constructor(e,n){super(n),this.type=e}},_A=class extends oB{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Mb=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const nl={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function cB(t){let e=t.type;return typeof e=="string"&&aB.includes(e)}function L4(t){return cB(t)&&t.type==="wallet_not_on_device"}async function Ig(t,{request:e,headers:n}){return await t.fetchPrivyRoute(xU,{body:e,headers:n})}async function G3({context:t,chainType:e,idempotencyKey:n}){return{wallet:await Ig(t,{request:{chain_type:e,owner_id:void 0},headers:n?{"privy-idempotency-key":n}:void 0})}}const lB="1.2.3";let Jr=class Tg extends Error{constructor(e,n={}){const r=n.cause instanceof Tg?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Tg&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${lB}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Xa(t,e){return t.exec(e)?.groups}const CA=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,EA=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xA=/^\(.+?\).*?$/,Nb=/^tuple(?<array>(\[(\d*)\])*)$/;function kg(t){let e=t.type;if(Nb.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=kg(s),i<n-1&&(e+=", ")}const r=Xa(Nb,t.type);return e+=`)${r?.array||""}`,kg({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function rl(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=kg(i),r!==n-1&&(e+=", ")}return e}function Xp(t){return t.type==="function"?`function ${t.name}(${rl(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${rl(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${rl(t.inputs)})`:t.type==="error"?`error ${t.name}(${rl(t.inputs)})`:t.type==="constructor"?`constructor(${rl(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const AA=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function uB(t){return AA.test(t)}function dB(t){return Xa(AA,t)}const LA=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function hB(t){return LA.test(t)}function fB(t){return Xa(LA,t)}const SA=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function pB(t){return SA.test(t)}function mB(t){return Xa(SA,t)}const IA=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function w1(t){return IA.test(t)}function gB(t){return Xa(IA,t)}const TA=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function yB(t){return TA.test(t)}function wB(t){return Xa(TA,t)}const kA=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function bB(t){return kA.test(t)}function vB(t){return Xa(kA,t)}const _B=/^receive\(\) external payable$/;function CB(t){return _B.test(t)}const Db=new Set(["memory","indexed","storage","calldata"]),EB=new Set(["indexed"]),Pg=new Set(["calldata","memory","storage"]);class xB extends Jr{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class AB extends Jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class LB extends Jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class SB extends Jr{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class IB extends Jr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class TB extends Jr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class kB extends Jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class PB extends Jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class OB extends Jr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ou extends Jr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class RB extends Jr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class $B extends Jr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class MB extends Jr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class NB extends Jr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function DB(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const K3=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Og(t,e={}){if(pB(t))return jB(t,e);if(hB(t))return UB(t,e);if(uB(t))return BB(t,e);if(yB(t))return FB(t,e);if(bB(t))return zB(t);if(CB(t))return{type:"receive",stateMutability:"payable"};throw new RB({signature:t})}function jB(t,e={}){const n=mB(t);if(!n)throw new ou({signature:t,type:"function"});const r=fi(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Va(r[o],{modifiers:Pg,structs:e,type:"function"}));const a=[];if(n.returns){const o=fi(n.returns),c=o.length;for(let l=0;l<c;l++)a.push(Va(o[l],{modifiers:Pg,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function UB(t,e={}){const n=fB(t);if(!n)throw new ou({signature:t,type:"event"});const r=fi(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Va(r[a],{modifiers:EB,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function BB(t,e={}){const n=dB(t);if(!n)throw new ou({signature:t,type:"error"});const r=fi(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Va(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function FB(t,e={}){const n=wB(t);if(!n)throw new ou({signature:t,type:"constructor"});const r=fi(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Va(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function zB(t){const e=vB(t);if(!e)throw new ou({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const WB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,VB=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,HB=/^u?int$/;function Va(t,e){const n=DB(t,e?.type,e?.structs);if(K3.has(n))return K3.get(n);const r=xA.test(t),i=Xa(r?VB:WB,t);if(!i)throw new IB({param:t});if(i.name&&ZB(i.name))throw new TB({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let c,l={};if(r){c="tuple";const d=fi(i.type),h=[],f=d.length;for(let p=0;p<f;p++)h.push(Va(d[p],{structs:o}));l={components:h}}else if(i.type in o)c="tuple",l={components:o[i.type]};else if(HB.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,e?.type!=="struct"&&!PA(c))throw new LB({type:c});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new kB({param:t,type:e?.type,modifier:i.modifier});if(Pg.has(i.modifier)&&!GB(c,!!i.array))throw new PB({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...a,...l};return K3.set(n,u),u}function fi(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],o=t.slice(s+1);switch(a){case",":return r===0?fi(o,[...e,n.trim()]):fi(o,e,`${n}${a}`,r);case"(":return fi(o,e,`${n}${a}`,r+1);case")":return fi(o,e,`${n}${a}`,r-1);default:return fi(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new NB({current:n,depth:r});return e.push(n.trim()),e}function PA(t){return t==="address"||t==="bool"||t==="function"||t==="string"||CA.test(t)||EA.test(t)}const qB=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ZB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||CA.test(t)||EA.test(t)||qB.test(t)}function GB(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function S4(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!w1(o))continue;const c=gB(o);if(!c)throw new ou({signature:o,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const m=Va(p,{type:"struct"});u.push(m)}if(!u.length)throw new $B({signature:o});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[o,c]=i[a];r[o]=OA(c,e)}return r}const KB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function OA(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(xA.test(a.type))r.push(a);else{const c=Xa(KB,a.type);if(!c?.type)throw new OB({abiParameter:a});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new MB({type:u});r.push({...a,type:`tuple${l??""}`,components:OA(e[u],e,new Set([...n,u]))})}else if(PA(u))r.push(a);else throw new AB({type:u})}}return r}function RA(t){const e=S4(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];w1(s)||n.push(Og(s,e))}return n}function jb(t){let e;if(typeof t=="string")e=Og(t);else{const n=S4(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!w1(s)){e=Og(s,n);break}}}if(!e)throw new xB({signature:t});return e}function Ub(t){const e=[];if(typeof t=="string"){const n=fi(t),r=n.length;for(let i=0;i<r;i++)e.push(Va(n[i],{modifiers:Db}))}else{const n=S4(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(w1(s))continue;const a=fi(s),o=a.length;for(let c=0;c<o;c++)e.push(Va(a[c],{modifiers:Db,structs:n}))}}if(e.length===0)throw new SB({params:t});return e}function Ae(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function hs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new cF(t.type);return`${t.name}(${b1(t.inputs,{includeName:e})})`}function b1(t,{includeName:e=!1}={}){return t?t.map(n=>YB(n,{includeName:e})).join(e?", ":","):""}function YB(t,{includeName:e}){return t.type.startsWith("tuple")?`(${b1(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function xr(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Gt(t){return xr(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const $A="2.46.3";let Y3={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${$A}`},ee=class Rg extends Error{constructor(e,n={}){const r=n.cause instanceof Rg?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Rg&&n.cause.docsPath||n.docsPath,s=Y3.getDocsUrl?.({...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Y3.version?[`Version: ${Y3.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$A}walk(e){return MA(this,e)}};function MA(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?MA(t.cause,e):e?null:t}class NA extends ee{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Qp extends ee{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class DA extends ee{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${b1(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Rh extends ee{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class JB extends ee{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class XB extends ee{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Gt(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class QB extends ee{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class eF extends ee{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Bb extends ee{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class jA extends ee{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class tF extends ee{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class nF extends ee{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Fb extends ee{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Rl extends ee{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class UA extends ee{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class rF extends ee{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class iF extends ee{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${hs(e.abiItem)}\`, and`,`\`${n.type}\` in \`${hs(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let sF=class extends ee{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class e0 extends ee{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${b1(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class I4 extends ee{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${hs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class aF extends ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class oF extends ee{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let BA=class extends ee{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class cF extends ee{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class sAe extends ee{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class lF extends ee{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let FA=class extends ee{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},zA=class extends ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class zb extends ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function b2(t,{dir:e,size:n=32}={}){return typeof t=="string"?qo(t,{dir:e,size:n}):uF(t,{dir:e,size:n})}function qo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new zA({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function uF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new zA({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let T4=class extends ee{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},dF=class extends ee{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class hF extends ee{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let fF=class extends ee{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function mi(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function zi(t,{size:e}){if(Gt(t)>e)throw new fF({givenSize:Gt(t),maxSize:e})}function _t(t,e={}){const{signed:n}=e;e.size&&zi(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function pF(t,e={}){let n=t;if(e.size&&(zi(n,{size:e.size}),n=mi(n)),mi(n)==="0x00")return!1;if(mi(n)==="0x01")return!0;throw new hF(n)}function gi(t,e={}){const n=_t(t,e),r=Number(n);if(!Number.isSafeInteger(r))throw new T4({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${n}n`});return r}function dAe(t,e={}){let n=Ar(t);return e.size&&(zi(n,{size:e.size}),n=mi(n,{dir:"right"})),new TextDecoder().decode(n)}const mF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ye(t,e={}){return typeof t=="number"||typeof t=="bigint"?ue(t,e):typeof t=="string"?$l(t,e):typeof t=="boolean"?WA(t,e):yn(t,e)}function WA(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zi(n,{size:e.size}),b2(n,{size:e.size})):n}function yn(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=mF[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(zi(r,{size:e.size}),b2(r,{dir:"right",size:e.size})):r}function ue(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const c=typeof t=="bigint"?"n":"";throw new T4({max:s?`${s}${c}`:void 0,min:`${a}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?b2(o,{size:r}):o}const gF=new TextEncoder;function $l(t,e={}){const n=gF.encode(t);return yn(n,e)}const yF=new TextEncoder;function Da(t,e={}){return typeof t=="number"||typeof t=="bigint"?bF(t,e):typeof t=="boolean"?wF(t,e):xr(t)?Ar(t,e):Vc(t,e)}function wF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zi(n,{size:e.size}),b2(n,{size:e.size})):n}const aa={zero:48,nine:57,A:65,F:70,a:97,f:102};function Wb(t){if(t>=aa.zero&&t<=aa.nine)return t-aa.zero;if(t>=aa.A&&t<=aa.F)return t-(aa.A-10);if(t>=aa.a&&t<=aa.f)return t-(aa.a-10)}function Ar(t,e={}){let n=t;e.size&&(zi(n,{size:e.size}),n=b2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const c=Wb(r.charCodeAt(o++)),l=Wb(r.charCodeAt(o++));if(c===void 0||l===void 0)throw new ee(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);s[a]=c*16+l}return s}function bF(t,e){const n=ue(t,e);return Ar(n)}function Vc(t,e={}){const n=yF.encode(t);return typeof e.size=="number"?(zi(n,{size:e.size}),b2(n,{dir:"right",size:e.size})):n}const Tf=BigInt(2**32-1),Vb=BigInt(32);function vF(t,e=!1){return e?{h:Number(t&Tf),l:Number(t>>Vb&Tf)}:{h:Number(t>>Vb&Tf)|0,l:Number(t&Tf)|0}}function _F(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=vF(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const CF=(t,e,n)=>t<<n|e>>>32-n,EF=(t,e,n)=>e<<n|t>>>32-n,xF=(t,e,n)=>e<<n-32|t>>>64-n,AF=(t,e,n)=>t<<n-32|e>>>64-n,$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Pd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Yc(t,...e){if(!LF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pd(t.outputLen),Pd(t.blockLen)}function Ml(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function VA(t,e){Yc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function IF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Nl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function J3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Es(t,e){return t<<32-e|t>>>e}const TF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function PF(t){for(let e=0;e<t.length;e++)t[e]=kF(t[e]);return t}const Hb=TF?t=>t:PF;function OF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function v1(t){return typeof t=="string"&&(t=OF(t)),Yc(t),t}function RF(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Yc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let k4=class{};function HA(t){const e=r=>t().update(v1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $F(t=32){if($2&&typeof $2.getRandomValues=="function")return $2.getRandomValues(new Uint8Array(t));if($2&&typeof $2.randomBytes=="function")return Uint8Array.from($2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const MF=BigInt(0),Eu=BigInt(1),NF=BigInt(2),DF=BigInt(7),jF=BigInt(256),UF=BigInt(113),qA=[],ZA=[],GA=[];for(let t=0,e=Eu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],qA.push(2*(5*r+n)),ZA.push((t+1)*(t+2)/2%64);let i=MF;for(let s=0;s<7;s++)e=(e<<Eu^(e>>DF)*UF)%jF,e&NF&&(i^=Eu<<(Eu<<BigInt(s))-Eu);GA.push(i)}const KA=_F(GA,!0),BF=KA[0],FF=KA[1],qb=(t,e,n)=>n>32?xF(t,e,n):CF(t,e,n),Zb=(t,e,n)=>n>32?AF(t,e,n):EF(t,e,n);function zF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=qb(l,u,1)^n[o],h=Zb(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=ZA[a],c=qb(i,s,o),l=Zb(i,s,o),u=qA[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=BF[r],t[1]^=FF[r]}Nl(n)}let WF=class YA extends k4{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Pd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=IF(this.state)}clone(){return this._cloneInto()}keccak(){Hb(this.state32),zF(this.state32,this.rounds),Hb(this.state32),this.posOut=0,this.pos=0}update(e){Ml(this),e=v1(e),Yc(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ml(this,!1),Yc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(VA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Nl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new YA(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const VF=(t,e,n)=>HA(()=>new WF(e,t,n)),JA=VF(1,136,256/8);function jn(t,e){const n=e||"hex",r=JA(xr(t,{strict:!1})?Da(t):t);return n==="bytes"?r:Ye(r)}const HF=t=>jn(Da(t));function qF(t){return HF(t)}function ZF(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!s)throw new ee("Unable to normalize signature.");return i}const GF=t=>{const e=typeof t=="string"?t:Xp(t);return ZF(e)};function XA(t){return qF(GF(t))}const _1=XA;let gn=class extends ee{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},cu=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const X3=new cu(8192);function $h(t,e){if(X3.has(`${t}.${e}`))return X3.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=jn(Vc(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return X3.set(`${t}.${e}`,s),s}function Nn(t,e){if(!Mt(t,{strict:!1}))throw new gn({address:t});return $h(t,e)}const KF=/^0x[a-fA-F0-9]{40}$/,Q3=new cu(8192);function Mt(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Q3.has(r))return Q3.get(r);const i=KF.test(t)?t.toLowerCase()===t?!0:n?$h(t)===t:!0:!1;return Q3.set(r,i),i}function pr(t){return typeof t[0]=="string"?Wi(t):YF(t)}function YF(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Wi(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Ko(t,e,n,{strict:r}={}){return xr(t,{strict:!1})?$g(t,e,n,{strict:r}):tL(t,e,n,{strict:r})}function QA(t,e){if(typeof e=="number"&&e>0&&e>Gt(t)-1)throw new FA({offset:e,position:"start",size:Gt(t)})}function eL(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Gt(t)!==n-e)throw new FA({offset:n,position:"end",size:Gt(t)})}function tL(t,e,n,{strict:r}={}){QA(t,e);const i=t.slice(e,n);return r&&eL(i,e,n),i}function $g(t,e,n,{strict:r}={}){QA(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&eL(i,e,n),i}const mAe=/^(.*)\[([0-9]*)\]$/,JF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function tc(t,e){if(t.length!==e.length)throw new QB({expectedLength:t.length,givenLength:e.length});const n=XF({params:t,values:e}),r=O4(n);return r.length===0?"0x":r}function XF({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(P4({param:t[r],value:e[r]}));return n}function P4({param:t,value:e}){const n=R4(t.type);if(n){const[r,i]=n;return ez(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return sz(e,{param:t});if(t.type==="address")return QF(e);if(t.type==="bool")return nz(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=nL.exec(t.type)??[];return rz(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return tz(e,{param:t});if(t.type==="string")return iz(e);throw new aF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function O4(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=Gt(o)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(n.push(ue(e+i,{size:32})),r.push(o),i+=Gt(o)):n.push(o)}return pr([...n,...r])}function QF(t){if(!Mt(t))throw new gn({address:t});return{dynamic:!1,encoded:qo(t.toLowerCase())}}function ez(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new BA(t);if(!r&&t.length!==e)throw new JB({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const o=P4({param:n,value:t[a]});o.dynamic&&(i=!0),s.push(o)}if(r||i){const a=O4(s);if(r){const o=ue(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?pr([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:pr(s.map(({encoded:a})=>a))}}function tz(t,{param:e}){const[,n]=e.type.split("bytes"),r=Gt(t);if(!n){let i=t;return r%32!==0&&(i=qo(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:pr([qo(ue(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new XB({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:qo(t,{dir:"right"})}}function nz(t){if(typeof t!="boolean")throw new ee(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qo(WA(t))}}function rz(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new T4({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ue(t,{size:32,signed:e})}}function iz(t){const e=$l(t),n=Math.ceil(Gt(e)/32),r=[];for(let i=0;i<n;i++)r.push(qo(Ko(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:pr([qo(ue(Gt(e),{size:32})),...r])}}function sz(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,o=P4({param:s,value:t[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?O4(r):pr(r.map(({encoded:i})=>i))}}function R4(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Mh=t=>Ko(XA(t),0,4);function v2(t){const{abi:e,args:n=[],name:r}=t,i=xr(r,{strict:!1}),s=e.filter(o=>i?o.type==="function"?Mh(o)===r:o.type==="event"?_1(o)===r:!1:"name"in o&&o.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in o&&o.inputs[u];return d?Mg(l,d):!1})){if(a&&"inputs"in a&&a.inputs){const l=rL(o.inputs,a.inputs,n);if(l)throw new iF({abiItem:o,type:l[0]},{abiItem:a,type:l[1]})}a=o}}return a||s[0]}function Mg(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Mt(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>n==="object"&&Mg(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Mg(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function rL(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return rL(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Mt(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Mt(n[r],{strict:!1}):!1)return a}}const Gb="/docs/contract/encodeEventTopics";function Nh(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=v2({abi:e,name:n});if(!c)throw new Fb(n,{docsPath:Gb});i=c}if(i.type!=="event")throw new Fb(void 0,{docsPath:Gb});const s=hs(i),a=_1(s);let o=[];if(r&&"inputs"in i){const c=i.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(u=>r[u.name])??[]:[];l.length>0&&(o=c?.map((u,d)=>Array.isArray(l[d])?l[d].map((h,f)=>Kb({param:u,value:l[d][f]})):typeof l[d]<"u"&&l[d]!==null?Kb({param:u,value:l[d]}):null)??[])}return[a,...o]}function Kb({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return jn(Da(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new lF(t.type);return tc([t],[e])}function C1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:s,transport:a})=>{s==="success"&&e===r&&(n[i]=a.request)}),r=>n[r]||t.request}async function iL(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:a,strict:o,toBlock:c}=e,l=C1(t,{method:"eth_newFilter"}),u=s?Nh({abi:r,args:i,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?ue(a):a,toBlock:typeof c=="bigint"?ue(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!o,type:"event"}}function Nt(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Yb="/docs/contract/encodeFunctionData";function az(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=v2({abi:e,args:n,name:r});if(!s)throw new Rl(r,{docsPath:Yb});i=s}if(i.type!=="function")throw new Rl(void 0,{docsPath:Yb});return{abi:[i],functionName:Mh(hs(i))}}function mr(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:az(t),i=n[0],s=r,a="inputs"in i&&i.inputs?tc(i.inputs,e??[]):void 0;return Wi([s,a??"0x"])}const oz={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},sL={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},cz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Jb=class extends ee{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},aL=class extends ee{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},lz=class extends ee{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const uz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new lz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new aL({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Jb({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Jb({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function $4(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(uz);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function dz(t,e={}){typeof e.size<"u"&&zi(t,{size:e.size});const n=yn(t,e);return _t(n,e)}function hz(t,e={}){let n=t;if(typeof e.size<"u"&&(zi(n,{size:e.size}),n=mi(n)),n.length>1||n[0]>1)throw new dF(n);return!!n[0]}function ja(t,e={}){typeof e.size<"u"&&zi(t,{size:e.size});const n=yn(t,e);return gi(n,e)}function fz(t,e={}){let n=t;return typeof e.size<"u"&&(zi(n,{size:e.size}),n=mi(n,{dir:"right"})),new TextDecoder().decode(n)}function Dh(t,e){const n=typeof e=="string"?Ar(e):e,r=$4(n);if(Gt(n)===0&&t.length>0)throw new Rh;if(Gt(e)&&Gt(e)<32)throw new DA({data:typeof e=="string"?e:yn(e),params:t,size:Gt(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const o=t[a];r.setPosition(i);const[c,l]=yl(r,o,{staticPosition:0});i+=l,s.push(c)}return s}function yl(t,e,{staticPosition:n}){const r=R4(e.type);if(r){const[i,s]=r;return mz(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return bz(t,e,{staticPosition:n});if(e.type==="address")return pz(t);if(e.type==="bool")return gz(t);if(e.type.startsWith("bytes"))return yz(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return wz(t,e);if(e.type==="string")return vz(t,{staticPosition:n});throw new oF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Xb=32,Ng=32;function pz(t){const e=t.readBytes(32);return[$h(yn(tL(e,-20))),32]}function mz(t,e,{length:n,staticPosition:r}){if(!n){const a=ja(t.readBytes(Ng)),o=r+a,c=o+Xb;t.setPosition(o);const l=ja(t.readBytes(Xb)),u=Od(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,m]=yl(t,e,{staticPosition:c});d+=m,h.push(p)}return t.setPosition(r+32),[h,32]}if(Od(e)){const a=ja(t.readBytes(Ng)),o=r+a,c=[];for(let l=0;l<n;++l){t.setPosition(o+l*32);const[u]=yl(t,e,{staticPosition:o});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[o,c]=yl(t,e,{staticPosition:r+i});i+=c,s.push(o)}return[s,i]}function gz(t){return[hz(t.readBytes(32),{size:32}),32]}function yz(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=ja(t.readBytes(32));t.setPosition(n+a);const o=ja(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(o);return t.setPosition(n+32),[yn(c),32]}return[yn(t.readBytes(Number.parseInt(i,10),32)),32]}function wz(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?dz(i,{signed:n}):ja(i,{signed:n}),32]}function bz(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(Od(e)){const a=ja(t.readBytes(Ng)),o=n+a;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(o+s);const[u,d]=yl(t,l,{staticPosition:o});s+=d,i[r?c:l?.name]=u}return t.setPosition(n+32),[i,32]}for(let a=0;a<e.components.length;++a){const o=e.components[a],[c,l]=yl(t,o,{staticPosition:n});i[r?a:o?.name]=c,s+=l}return[i,s]}function vz(t,{staticPosition:e}){const n=ja(t.readBytes(32)),r=e+n;t.setPosition(r);const i=ja(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=fz(mi(s));return t.setPosition(e+32),[a,32]}function Od(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Od);const n=R4(t.type);return!!(n&&Od({...t,type:n[1]}))}function _z(t){const{abi:e,data:n}=t,r=Ko(n,0,4);if(r==="0x")throw new Rh;const s=[...e||[],sL,cz].find(a=>a.type==="error"&&r===Mh(hs(a)));if(!s)throw new jA(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Dh(s.inputs,Ko(n,4)):void 0,errorName:s.name}}const Ln=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function oL({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Ln(e[s]):e[s]}`).join(", ")})`}const Cz={gwei:9,wei:18},Ez={ether:-9,wei:9};function cL(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function M4(t,e="wei"){return cL(t,Cz[e])}function Zr(t,e="wei"){return cL(t,Ez[e])}class xz extends ee{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Az extends ee{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Qb(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Lz(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=Qb(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=Qb(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function jh(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Sz extends ee{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Iz extends ee{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",jh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Tz extends ee{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class kz extends ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=jh({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Zr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Zr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Zr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class lL extends ee{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let a="Transaction";r&&s!==void 0&&(a=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(a=`Transaction at block number "${n}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class uL extends ee{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class dL extends ee{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class Pz extends ee{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Oz=t=>t,N4=t=>t;class hL extends ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){const p=n?Nt(n):void 0;let m=jh({from:p?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Zr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Zr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Zr(l)} gwei`,nonce:u});f&&(m+=`
${Lz(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class fL extends ee{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:a,sender:o}){const c=v2({abi:n,args:r,name:a}),l=c?oL({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?hs(c,{includeName:!0}):void 0,d=jh({address:i&&Oz(i),function:u,args:l&&l!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=o}}class Dg extends ee{constructor({abi:e,data:n,functionName:r,message:i}){let s,a,o,c;if(n&&n!=="0x")try{a=_z({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=a;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=oz[f]}else{const f=u?hs(u,{includeName:!0}):void 0,p=u&&h?oL({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;o=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof jA&&(l=s.signature,o=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=c,this.signature=l}}class Rz extends ee{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class $z extends ee{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class E1 extends ee{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class fd extends ee{constructor({body:e,cause:n,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${N4(a)}`,e&&`Request body: ${Ln(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class D4 extends ee{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${N4(r)}`,`Request body: ${Ln(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class e7 extends ee{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${N4(n)}`,`Request body: ${Ln(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Mz=-1;class Xr extends ee{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof D4?e.code:n??Mz}}class Qr extends Xr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Rd extends Xr{constructor(e){super(e,{code:Rd.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $d extends Xr{constructor(e){super(e,{code:$d.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Md extends Xr{constructor(e,{method:n}={}){super(e,{code:Md.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Md,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Nd extends Xr{constructor(e){super(e,{code:Nd.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Nd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Jc extends Xr{constructor(e){super(e,{code:Jc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Yo extends Xr{constructor(e){super(e,{code:Yo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Dd extends Xr{constructor(e){super(e,{code:Dd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Dd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class jd extends Xr{constructor(e){super(e,{code:jd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ud extends Xr{constructor(e){super(e,{code:Ud.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ud,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $c extends Xr{constructor(e,{method:n}={}){super(e,{code:$c.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty($c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Dl extends Xr{constructor(e){super(e,{code:Dl.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Dl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Bd extends Xr{constructor(e){super(e,{code:Bd.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wl extends Qr{constructor(e){super(e,{code:wl.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Fd extends Qr{constructor(e){super(e,{code:Fd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class zd extends Qr{constructor(e,{method:n}={}){super(e,{code:zd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wd extends Qr{constructor(e){super(e,{code:Wd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vd extends Qr{constructor(e){super(e,{code:Vd.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Hd extends Qr{constructor(e){super(e,{code:Hd.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class jl extends Qr{constructor(e){super(e,{code:jl.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(jl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class qd extends Qr{constructor(e){super(e,{code:qd.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Zd extends Qr{constructor(e){super(e,{code:Zd.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Gd extends Qr{constructor(e){super(e,{code:Gd.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Kd extends Qr{constructor(e){super(e,{code:Kd.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Yd extends Qr{constructor(e){super(e,{code:Yd.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ul extends Qr{constructor(e){super(e,{code:Ul.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ul,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Jd extends Qr{constructor(e){super(e,{code:Jd.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class Nz extends Xr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Dz=3;function Xc(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:a}){const o=t instanceof E1?t:t instanceof ee?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=o,f=t instanceof Rh?new Rz({functionName:s}):[Dz,Jc.code].includes(c)&&(l||u||d||h)||c===Yo.code&&u==="execution reverted"&&l?new Dg({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:o instanceof D4?u:h??d}):t;return new fL(f,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:a})}function pL(t){const e=jn(`0x${t.substring(4)}`).substring(26);return $h(`0x${e}`)}async function jz({hash:t,signature:e}){const n=xr(t)?t:Ye(t),{secp256k1:r}=await _e(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>wq);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=t7(f);return new r.Signature(_t(l),_t(u)).addRecoveryBit(p)}const a=xr(e)?e:Ye(e);if(Gt(a)!==65)throw new Error("invalid signature length");const o=gi(`0x${a.slice(130)}`),c=t7(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function t7(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function mL({hash:t,signature:e}){return pL(await jz({hash:t,signature:e}))}function Ha(t,e="hex"){const n=gL(t),r=$4(new Uint8Array(n.length));return n.encode(r),e==="hex"?yn(r.bytes):r.bytes}function gL(t){return Array.isArray(t)?Uz(t.map(e=>gL(e))):Bz(t)}function Uz(t){const e=t.reduce((i,s)=>i+s.length,0),n=yL(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Bz(t){const e=typeof t=="string"?Ar(t):t,n=yL(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function yL(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ee("Length is too large.")}function wL(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=jn(Wi(["0x05",Ha([e?ue(e):"0x",i,n?ue(n):"0x"])]));return r==="bytes"?Ar(s):s}async function x1(t){const{authorization:e,signature:n}=t;return mL({hash:wL(e),signature:n??e})}class Fz extends ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=jh({from:n?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Zr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Zr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Zr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class cl extends ee{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(cl,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Qc extends ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Zr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Qc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class jg extends ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Zr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(jg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ug extends ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ug,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Bg extends ee{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Bg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Fg extends ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Fg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class zg extends ee{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(zg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Wg extends ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Wg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Vg extends ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Vg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Hg extends ee{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Hg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Xd extends ee{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Zr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Zr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Xd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Uh extends ee{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function A1(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ee?t.walk(i=>i?.code===cl.code):t;return r instanceof ee?new cl({cause:t,message:r.details}):cl.nodeMessage.test(n)?new cl({cause:t,message:t.details}):Qc.nodeMessage.test(n)?new Qc({cause:t,maxFeePerGas:e?.maxFeePerGas}):jg.nodeMessage.test(n)?new jg({cause:t,maxFeePerGas:e?.maxFeePerGas}):Ug.nodeMessage.test(n)?new Ug({cause:t,nonce:e?.nonce}):Bg.nodeMessage.test(n)?new Bg({cause:t,nonce:e?.nonce}):Fg.nodeMessage.test(n)?new Fg({cause:t,nonce:e?.nonce}):zg.nodeMessage.test(n)?new zg({cause:t}):Wg.nodeMessage.test(n)?new Wg({cause:t,gas:e?.gas}):Vg.nodeMessage.test(n)?new Vg({cause:t,gas:e?.gas}):Hg.nodeMessage.test(n)?new Hg({cause:t}):Xd.nodeMessage.test(n)?new Xd({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Uh({cause:t})}function zz(t,{docsPath:e,...n}){const r=(()=>{const i=A1(t,n);return i instanceof Uh?t:i})();return new Fz(r,{docsPath:e,...n})}function lu(t,{format:e}){if(!e)return{};const n={};function r(s){const a=Object.keys(s);for(const o of a)o in t&&(n[o]=t[o]),s[o]&&typeof s[o]=="object"&&!Array.isArray(s[o])&&r(s[o])}const i=e(t||{});return r(i),n}function L1(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const a=e(i,s);if(n)for(const o of n)delete a[o];return{...a,...r(i,s)}},type:t})}const Wz={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Qa(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=Hz(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>yn(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=ue(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=ue(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=ue(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=ue(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=ue(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=ue(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=Wz[t.type]),typeof t.value<"u"&&(n.value=ue(t.value)),n}const Vz=L1("transactionRequest",Qa);function Hz(t){return t.map(e=>({address:e.address,r:e.r?ue(BigInt(e.r)):e.r,s:e.s?ue(BigInt(e.s)):e.s,chainId:ue(e.chainId),nonce:ue(e.nonce),...typeof e.yParity<"u"?{yParity:ue(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ue(e.v)}:{}}))}function n7(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new zb({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new zb({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function qz(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=ue(e)),n!==void 0&&(a.nonce=ue(n)),r!==void 0&&(a.state=n7(r)),i!==void 0){if(a.state)throw new Az;a.stateDiff=n7(i)}return a}function j4(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Mt(n,{strict:!1}))throw new gn({address:n});if(e[n])throw new xz({address:n});e[n]=qz(r)}return e}const Zz=2n**16n-1n,S1=2n**256n-1n;function Qs(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?Nt(e):void 0;if(s&&!Mt(s.address))throw new gn({address:s.address});if(i&&!Mt(i))throw new gn({address:i});if(n&&n>S1)throw new Qc({maxFeePerGas:n});if(r&&n&&r>n)throw new Xd({maxFeePerGas:n,maxPriorityFeePerGas:r})}class bL extends ee{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class U4 extends ee{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Gz extends ee{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Zr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class vL extends ee{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const _L={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Bh(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?gi(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?gi(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?_L[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Kz(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const CL=L1("transaction",Bh);function Kz(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function B4(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Bh(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const EL=L1("block",B4);async function as(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,a=n!==void 0?ue(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]},{dedupe:!!a}),!o)throw new vL({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||B4)(o,"getBlock")}async function F4(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Yz(t,e){return xL(t,e)}async function xL(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const o=n||await Ae(t,as,"getBlock")({}),c=await s({block:o,client:t,request:i});if(c===null)throw new Error;return c}if(typeof s<"u")return s;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return _t(a)}catch{const[s,a]=await Promise.all([n?Promise.resolve(n):Ae(t,as,"getBlock")({}),Ae(t,F4,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new U4;const o=a-s.baseFeePerGas;return o<0n?0n:o}}async function Jz(t,e){return qg(t,e)}async function qg(t,e){const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new bL;const c=10**(a.toString().split(".")[1]?.length??0),l=h=>h*BigInt(Math.ceil(a*c))/BigInt(c),u=n||await Ae(t,as,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(h!==null)return h}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new U4;const h=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await xL(t,{block:u,chain:r,request:i}),f=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??f+h,maxPriorityFeePerGas:h}}return{gasPrice:i?.gasPrice??l(await Ae(t,F4,"getGasPrice")({}))}}async function z4(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?ue(r):n]},{dedupe:!!r});return gi(i)}function W4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Ar(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>yn(s))}function V4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>Ar(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>Ar(a)):t.commitments,s=[];for(let a=0;a<r.length;a++){const o=r[a],c=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(o,c)))}return n==="bytes"?s:s.map(a=>yn(a))}function Xz(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function Qz(t,e,n){return t&e^~t&n}function eW(t,e,n){return t&e^t&n^e&n}let tW=class extends k4{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=J3(this.buffer)}update(e){Ml(this),e=v1(e),Yc(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=J3(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ml(this),VA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Nl(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;Xz(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=J3(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const no=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nW=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ro=new Uint32Array(64);let rW=class extends tW{constructor(e=32){super(64,e,8,!1),this.A=no[0]|0,this.B=no[1]|0,this.C=no[2]|0,this.D=no[3]|0,this.E=no[4]|0,this.F=no[5]|0,this.G=no[6]|0,this.H=no[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ro[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ro[d-15],f=ro[d-2],p=Es(h,7)^Es(h,18)^h>>>3,m=Es(f,17)^Es(f,19)^f>>>10;ro[d]=m+ro[d-7]+p+ro[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Es(o,6)^Es(o,11)^Es(o,25),f=u+h+Qz(o,c,l)+nW[d]+ro[d]|0,m=(Es(r,2)^Es(r,13)^Es(r,22))+eW(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Nl(ro)}destroy(){this.set(0,0,0,0,0,0,0,0),Nl(this.buffer)}};const AL=HA(()=>new rW),iW=AL;function LL(t,e){const n=e||"hex",r=iW(xr(t,{strict:!1})?Da(t):t);return n==="bytes"?r:Ye(r)}function sW(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=LL(e,"bytes");return i.set([n],0),r==="bytes"?i:yn(i)}function SL(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(sW({commitment:s,to:r,version:n}));return i}const r7=6,IL=32,H4=4096,TL=IL*H4,i7=TL*r7-1-1*H4*r7,kL=1;class aW extends ee{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class PL extends ee{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class oW extends ee{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class cW extends ee{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${kL}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function lW(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Ar(t.data):t.data,r=Gt(n);if(!r)throw new PL;if(r>i7)throw new aW({maxSize:i7,size:r});const i=[];let s=!0,a=0;for(;s;){const o=$4(new Uint8Array(TL));let c=0;for(;c<H4;){const l=n.slice(a,a+(IL-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),s=!1;break}c++,a+=31}i.push(o)}return e==="bytes"?i.map(o=>o.bytes):i.map(o=>yn(o.bytes))}function OL(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??lW({data:e,to:r}),s=t.commitments??W4({blobs:i,kzg:n,to:r}),a=t.proofs??V4({blobs:i,commitments:s,kzg:n,to:r}),o=[];for(let c=0;c<i.length;c++)o.push({blob:i[c],commitment:s[c],proof:a[c]});return o}function RL(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Iz({transaction:t})}function Fh(t,{docsPath:e,...n}){const r=(()=>{const i=A1(t,n);return i instanceof Uh?t:i})();return new kz(r,{docsPath:e,...n})}async function ea(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return gi(e)}async function q4(t,e){const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:a,blobs:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:m,to:y,type:C,value:L,...w}=e,b=await(async()=>{if(!n||!m||typeof p<"u")return p;const M=Nt(n),N=s?s.id:await Ae(t,ea,"getChainId")({});return await m.consume({address:M.address,chainId:N,client:t})})();Qs(e);const x=s?.formatters?.transactionRequest?.format,I=(x||Qa)({...lu(w,{format:x}),account:n?Nt(n):void 0,accessList:r,authorizationList:i,blobs:o,blobVersionedHashes:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:b,to:y,type:C,value:L},"fillTransaction");try{const M=await t.request({method:"eth_fillTransaction",params:[I]}),U=(s?.formatters?.transaction?.format||Bh)(M.tx);delete U.blockHash,delete U.blockNumber,delete U.r,delete U.s,delete U.transactionIndex,delete U.v,delete U.yParity,U.data=U.input,U.gas&&(U.gas=e.gas??U.gas),U.gasPrice&&(U.gasPrice=e.gasPrice??U.gasPrice),U.maxFeePerBlobGas&&(U.maxFeePerBlobGas=e.maxFeePerBlobGas??U.maxFeePerBlobGas),U.maxFeePerGas&&(U.maxFeePerGas=e.maxFeePerGas??U.maxFeePerGas),U.maxPriorityFeePerGas&&(U.maxPriorityFeePerGas=e.maxPriorityFeePerGas??U.maxPriorityFeePerGas),U.nonce&&(U.nonce=e.nonce??U.nonce);const B=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const v=await Ae(t,as,"getBlock")({});return s.fees.baseFeeMultiplier({block:v,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(B<1)throw new bL;const T=10**(B.toString().split(".")[1]?.length??0),j=v=>v*BigInt(Math.ceil(B*T))/BigInt(T);return U.maxFeePerGas&&!e.maxFeePerGas&&(U.maxFeePerGas=j(U.maxFeePerGas)),U.gasPrice&&!e.gasPrice&&(U.gasPrice=j(U.gasPrice)),{raw:M.raw,transaction:{from:I.from,...U}}}catch(M){throw Fh(M,{...e,chain:t.chain})}}const Z4=["blobVersionedHashes","chainId","fees","gas","nonce","type"],s7=new Map,e6=new cu(128);async function uu(t,e){let n=e;n.account??(n.account=t.account),n.parameters??(n.parameters=Z4);const{account:r,chain:i=t.chain,nonceManager:s,parameters:a}=n,o=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:i?i.id:(c=await Ae(t,ea,"getChainId")({}),c))}const u=r&&Nt(r);let d=n.nonce;if(a.includes("nonce")&&typeof d>"u"&&u&&s){const b=await l();d=await s.consume({address:u.address,chainId:b,client:t})}o?.fn&&o.runAt?.includes("beforeFillTransaction")&&(n=await o.fn({...n,chain:i},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const f=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||e6.get(t.uid)===!1||!["fees","gas"].some(x=>a.includes(x))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof d!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await Ae(t,q4,"fillTransaction")({...n,nonce:d}).then(b=>{const{chainId:x,from:_,gas:I,gasPrice:M,nonce:N,maxFeePerBlobGas:U,maxFeePerGas:B,maxPriorityFeePerGas:P,type:T,...j}=b.transaction;return e6.set(t.uid,!0),{...n,..._?{from:_}:{},...T?{type:T}:{},...typeof x<"u"?{chainId:x}:{},...typeof I<"u"?{gas:I}:{},...typeof M<"u"?{gasPrice:M}:{},...typeof N<"u"?{nonce:N}:{},...typeof U<"u"?{maxFeePerBlobGas:U}:{},...typeof B<"u"?{maxFeePerGas:B}:{},...typeof P<"u"?{maxPriorityFeePerGas:P}:{},..."nonceKey"in j&&typeof j.nonceKey<"u"?{nonceKey:j.nonceKey}:{}}}).catch(b=>{const x=b;return x.name!=="TransactionExecutionError"||x.walk?.(I=>{const M=I;return M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError"})&&e6.set(t.uid,!1),n}):n;d??(d=f.nonce),n={...f,...u?{from:u?.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:m,kzg:y,type:C}=n;o?.fn&&o.runAt?.includes("beforeFillParameters")&&(n=await o.fn({...n,chain:i},{phase:"beforeFillParameters"}));let L;async function w(){return L||(L=await Ae(t,as,"getBlock")({blockTag:"latest"}),L)}if(a.includes("nonce")&&typeof d>"u"&&u&&!s&&(n.nonce=await Ae(t,z4,"getTransactionCount")({address:u.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&p&&y){const b=W4({blobs:p,kzg:y});if(a.includes("blobVersionedHashes")){const x=SL({commitments:b,to:"hex"});n.blobVersionedHashes=x}if(a.includes("sidecars")){const x=V4({blobs:p,commitments:b,kzg:y}),_=OL({blobs:p,commitments:b,proofs:x,to:"hex"});n.sidecars=_}}if(a.includes("chainId")&&(n.chainId=await l()),(a.includes("fees")||a.includes("type"))&&typeof C>"u")try{n.type=RL(n)}catch{let b=s7.get(t.uid);typeof b>"u"&&(b=typeof(await w())?.baseFeePerGas=="bigint",s7.set(t.uid,b)),n.type=b?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const b=await w(),{maxFeePerGas:x,maxPriorityFeePerGas:_}=await qg(t,{block:b,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<_)throw new Gz({maxPriorityFeePerGas:_});n.maxPriorityFeePerGas=_,n.maxFeePerGas=x}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new U4;if(typeof n.gasPrice>"u"){const b=await w(),{gasPrice:x}=await qg(t,{block:b,chain:i,request:n,type:"legacy"});n.gasPrice=x}}return a.includes("gas")&&typeof m>"u"&&(n.gas=await Ae(t,G4,"estimateGas")({...n,account:u,prepare:u?.type==="local"?[]:["blobVersionedHashes"]})),o?.fn&&o.runAt?.includes("afterFillParameters")&&(n=await o.fn({...n,chain:i},{phase:"afterFillParameters"})),Qs(n),delete n.parameters,n}async function G4(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?Nt(n):void 0,s=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await x1({authorization:e.authorizationList[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:o,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,value:b,stateOverride:x,..._}=r?await uu(t,{...e,parameters:s,to:a}):e;if(p&&e.gas!==p)return p;const M=(typeof d=="bigint"?ue(d):void 0)||h,N=j4(x);Qs(e);const U=t.chain?.formatters?.transactionRequest?.format,P=(U||Qa)({...lu(_,{format:U}),account:i,accessList:o,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:a,value:b},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:N?[P,M??t.experimental_blockTag??"latest",N]:M?[P,M]:[P]}))}catch(a){throw zz(a,{...e,account:i,chain:t.chain})}}async function uW(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,...o}=e,c=mr({abi:n,args:i,functionName:s});try{return await Ae(t,G4,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...o})}catch(l){const u=o.account?Nt(o.account):void 0;throw Xc(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u?.address})}}function zh(t,e){if(!Mt(t,{strict:!1}))throw new gn({address:t});if(!Mt(e,{strict:!1}))throw new gn({address:e});return t.toLowerCase()===e.toLowerCase()}function fs(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const a7="/docs/contract/decodeEventLog";function t0(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[a,...o]=i;if(!a)throw new tF({docsPath:a7});const c=e.find(C=>C.type==="event"&&a===_1(hs(C)));if(!(c&&"name"in c)||c.type!=="event")throw new nF(a,{docsPath:a7});const{name:l,inputs:u}=c,d=u?.some(C=>!("name"in C&&C.name)),h=d?[]:{},f=u.map((C,L)=>[C,L]).filter(([C])=>"indexed"in C&&C.indexed),p=[];for(let C=0;C<f.length;C++){const[L,w]=f[C],b=o[C];if(!b){if(s)throw new I4({abiItem:c,param:L});p.push([L,w]);continue}h[d?w:L.name||w]=dW({param:L,value:b})}const m=u.filter(C=>!("indexed"in C&&C.indexed)),y=s?m:[...p.map(([C])=>C),...m];if(y.length>0){if(n&&n!=="0x")try{const C=Dh(y,n);if(C){let L=0;if(!s)for(const[w,b]of p)h[d?b:w.name||b]=C[L++];if(d)for(let w=0;w<u.length;w++)h[w]===void 0&&L<C.length&&(h[w]=C[L++]);else for(let w=0;w<m.length;w++)h[m[w].name]=C[L++]}}catch(C){if(s)throw C instanceof DA||C instanceof aL?new e0({abiItem:c,data:n,params:y,size:Gt(n)}):C}else if(s)throw new e0({abiItem:c,data:"0x",params:y,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function dW({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Dh([t],e)||[])[0]}function K4(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})(),a=e.filter(o=>o.type==="event").map(o=>({abi:o,selector:_1(o)}));return r.map(o=>{const c=typeof o.blockNumber=="string"?fs(o):o,l=a.filter(h=>c.topics[0]===h.selector);if(l.length===0)return null;let u,d;for(const h of l)try{u=t0({...c,abi:[h.abi],strict:!0}),d=h;break}catch{}if(!u&&!i){d=l[0];try{u=t0({data:c.data,topics:c.topics,abi:[d.abi],strict:!1})}catch{const h=d.abi.inputs?.some(f=>!("name"in f&&f.name));return{...c,args:h?[]:{},eventName:d.abi.name}}}return!u||!d||s&&!s.includes(u.eventName)||!hW({args:u.args,inputs:d.abi.inputs,matchArgs:n})?null:{...u,...c}}).filter(Boolean)}function hW(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,a,o){try{return s.type==="address"?zh(a,o):s.type==="string"||s.type==="bytes"?jn(Da(a))===o:a===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const o=n[a];return o?(Array.isArray(s)?s:[s]).some(l=>i(o,l,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const o=n.find(l=>l.name===s);return o?(Array.isArray(a)?a:[a]).some(l=>i(o,l,e[s])):!1}):!1}async function Y4(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:a,args:o,strict:c}={}){const l=c??!1,u=a??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(m=>Nh({abi:[m],eventName:m.name,args:a?void 0:o}))],s&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?ue(r):r,toBlock:typeof i=="bigint"?ue(i):i}]});const f=h.map(p=>fs(p));return u?K4({abi:u,args:o,logs:f,strict:l}):f}async function $L(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:a,fromBlock:o,toBlock:c,strict:l}=e,u=a?v2({abi:n,name:a}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return Ae(t,Y4,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:o,toBlock:c,strict:l})}const t6="/docs/contract/decodeFunctionResult";function nc(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const o=v2({abi:e,args:n,name:r});if(!o)throw new Rl(r,{docsPath:t6});s=o}if(s.type!=="function")throw new Rl(void 0,{docsPath:t6});if(!s.outputs)throw new UA(s.name,{docsPath:t6});const a=Dh(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J4=BigInt(0),Zg=BigInt(1);function Wh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X4(t){if(!Wh(t))throw new Error("Uint8Array expected")}function Qd(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function kf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function ML(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?J4:BigInt("0x"+t)}const NL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eh(t){if(X4(t),NL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=fW[t[n]];return e}const oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function o7(t){if(t>=oa._0&&t<=oa._9)return t-oa._0;if(t>=oa.A&&t<=oa.F)return t-(oa.A-10);if(t>=oa.a&&t<=oa.f)return t-(oa.a-10)}function n0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(NL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=o7(t.charCodeAt(s)),o=o7(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function Hc(t){return ML(eh(t))}function DL(t){return X4(t),ML(eh(Uint8Array.from(t).reverse()))}function Vh(t,e){return n0(t.toString(16).padStart(e*2,"0"))}function jL(t,e){return Vh(t,e).reverse()}function Oi(t,e,n){let r;if(typeof e=="string")try{r=n0(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Wh(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function r0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];X4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const n6=t=>typeof t=="bigint"&&J4<=t;function Q4(t,e,n){return n6(t)&&n6(e)&&n6(n)&&e<=t&&t<n}function bl(t,e,n,r){if(!Q4(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function pW(t){let e;for(e=0;t>J4;t>>=Zg,e+=1);return e}const I1=t=>(Zg<<BigInt(t))-Zg,r6=t=>new Uint8Array(t),c7=t=>Uint8Array.from(t);function mW(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=r6(t),i=r6(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...d)=>n(i,r,...d),c=(d=r6(0))=>{i=o(c7([0]),d),r=o(),d.length!==0&&(i=o(c7([1]),d),r=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=o();const f=r.slice();h.push(f),d+=r.length}return r0(...h)};return(d,h)=>{a(),c(d);let f;for(;!(f=h(l()));)c();return a(),f}}const gW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Wh(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function T1(t,e,n={}){const r=(i,s,a)=>{const o=gW[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function l7(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const yW="0.1.1";function wW(){return yW}let it=class ya extends Error{static setStaticOptions(e){ya.prototype.docsOrigin=e.docsOrigin,ya.prototype.showVersion=e.showVersion,ya.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof ya){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof ya&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??ya.prototype.docsOrigin,a=`${s}${i??""}`,o=!!(n.version??ya.prototype.showVersion),c=n.version??ya.prototype.version,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||o?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,o?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=o,this.version=c}walk(e){return UL(this,e)}};Object.defineProperty(it,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${wW()}`}});it.setStaticOptions(it.defaultStaticOptions);function UL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?UL(t.cause,e):e?null:t}function Hh(t,e){if(ll(t)>e)throw new MW({givenSize:ll(t),maxSize:e})}const ca={zero:48,nine:57,A:65,F:70,a:97,f:102};function u7(t){if(t>=ca.zero&&t<=ca.nine)return t-ca.zero;if(t>=ca.A&&t<=ca.F)return t-(ca.A-10);if(t>=ca.a&&t<=ca.f)return t-(ca.a-10)}function bW(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new NW({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function BL(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function k1(t,e){if(yi(t)>e)throw new zW({givenSize:yi(t),maxSize:e})}function vW(t,e){if(typeof e=="number"&&e>0&&e>yi(t)-1)throw new KL({offset:e,position:"start",size:yi(t)})}function _W(t,e,n){if(typeof e=="number"&&typeof n=="number"&&yi(t)!==n-e)throw new KL({offset:n,position:"end",size:yi(t)})}function FL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new WW({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const CW="#__bigint";function zL(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+CW:i,n)}const EW=new TextDecoder,xW=new TextEncoder;function AW(t){return t instanceof Uint8Array?t:typeof t=="string"?WL(t):LW(t)}function LW(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function WL(t,e={}){const{size:n}=e;let r=t;n&&(k1(t,n),r=t2(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=u7(i.charCodeAt(c++)),u=u7(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new it(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);a[o]=l<<4|u}return a}function SW(t,e={}){const{size:n}=e,r=xW.encode(t);return typeof n=="number"?(Hh(r,n),IW(r,n)):r}function IW(t,e){return bW(t,{dir:"right",size:e})}function ll(t){return t.length}function TW(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function kW(t,e={}){const{size:n}=e;typeof n<"u"&&Hh(t,n);const r=ms(t,e);return qL(r,e)}function PW(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Hh(r,n),r=VL(r)),r.length>1||r[0]>1)throw new $W(r);return!!r[0]}function Ua(t,e={}){const{size:n}=e;typeof n<"u"&&Hh(t,n);const r=ms(t,e);return ZL(r,e)}function OW(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Hh(r,n),r=RW(r)),EW.decode(r)}function VL(t){return BL(t,{dir:"left"})}function RW(t){return BL(t,{dir:"right"})}class $W extends it{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let MW=class extends it{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},NW=class extends it{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const DW=new TextEncoder,jW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function UW(t,e={}){const{strict:n=!1}=e;if(!t)throw new d7(t);if(typeof t!="string")throw new d7(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new h7(t);if(!t.startsWith("0x"))throw new h7(t)}function ps(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function BW(t){return t instanceof Uint8Array?ms(t):Array.isArray(t)?ms(new Uint8Array(t)):t}function HL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(k1(n,e.size),e2(n,e.size)):n}function ms(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=jW[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(k1(r,e.size),t2(r,e.size)):r}function Er(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new GL({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?e2(c,r):c}function e8(t,e={}){return ms(DW.encode(t),e)}function e2(t,e){return FL(t,{dir:"left",size:e})}function t2(t,e){return FL(t,{dir:"right",size:e})}function Ws(t,e,n,r={}){const{strict:i}=r;vW(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&_W(s,e,n),s}function yi(t){return Math.ceil((t.length-2)/2)}function qL(t,e={}){const{signed:n}=e;e.size&&k1(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return r<=a?r:r-s-1n}function ZL(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:qL(t,e))}function FW(t,e={}){const{strict:n=!1}=e;try{return UW(t,{strict:n}),!0}catch{return!1}}let GL=class extends it{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},d7=class extends it{constructor(e){super(`Value \`${typeof e=="object"?zL(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},h7=class extends it{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},zW=class extends it{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},KL=class extends it{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},WW=class extends it{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function VW(t){return{address:t.address,amount:Er(t.amount),index:Er(t.index),validatorIndex:Er(t.validatorIndex)}}function YL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Er(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Er(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Er(t.gasLimit)},...typeof t.number=="bigint"&&{number:Er(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Er(t.prevRandao)},...typeof t.time=="bigint"&&{time:Er(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(VW)}}}const Bl=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Gg=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],JL=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],XL=[...JL,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],HW=[...JL,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],f7=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],p7=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],QL=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],m7=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],TAe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],qW="0x82ad56cb",eS="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ZW="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",GW="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",t8="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Kg extends ee{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class KW extends ee{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class YW extends ee{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class tS extends ee{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class qh extends ee{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const i6="/docs/contract/encodeDeployData";function P1(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new NA({docsPath:i6});if(!("inputs"in i))throw new Qp({docsPath:i6});if(!i.inputs||i.inputs.length===0)throw new Qp({docsPath:i6});const s=tc(i.inputs,n);return Wi([r,s])}function du({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new Kg({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Kg({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function nS(t,{docsPath:e,...n}){const r=(()=>{const i=A1(t,n);return i instanceof Uh?t:i})();return new hL(r,{docsPath:e,...n})}function n8(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const s6=new Map;function rS({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();a();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p?.([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p?.(h)}})},a=()=>s6.delete(e),o=()=>c().map(({args:u})=>u),c=()=>s6.get(e)||[],l=u=>s6.set(e,[...c(),u]);return{flush:a,async schedule(u){const{promise:d,resolve:h,reject:f}=n8();return n?.([...o(),u])&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,r),d)}}}async function Zh(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:b,value:x,stateOverride:_,...I}=e,M=n?Nt(n):void 0;if(u&&(h||f))throw new ee("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&b)throw new ee("Cannot provide both `code` & `to` as parameters.");const N=u&&d,U=h&&f&&b&&d,B=N||U,P=N?iS({code:u,data:d}):U?QW({data:d,factory:h,factoryData:f,to:b}):d;try{Qs(e);const j=(typeof s=="bigint"?ue(s):void 0)||a,v=l?YL(l):void 0,E=j4(_),O=t.chain?.formatters?.transactionRequest?.format,$=(O||Qa)({...lu(I,{format:O}),accessList:o,account:M,authorizationList:r,blobs:c,data:P,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:B?void 0:b,value:x},"call");if(i&&JW({request:$})&&!E&&!v)try{return await XW(t,{...$,blockNumber:s,blockTag:a})}catch(q){if(!(q instanceof tS)&&!(q instanceof Kg))throw q}const D=(()=>{const q=[$,j];return E&&v?[...q,E,v]:E?[...q,E]:v?[...q,{},v]:q})(),W=await t.request({method:"eth_call",params:D});return W==="0x"?{data:void 0}:{data:W}}catch(T){const j=eV(T),{offchainLookup:v,offchainLookupSignature:E}=await _e(async()=>{const{offchainLookup:O,offchainLookupSignature:k}=await import("./launchpad-ccip-DyyaCaB2.js");return{offchainLookup:O,offchainLookupSignature:k}},__vite__mapDeps([0,1]));if(t.ccipRead!==!1&&j?.slice(0,10)===E&&b)return{data:await v(t,{data:j,to:b})};throw B&&j?.slice(0,10)==="0x101bb98d"?new $z({factory:h}):nS(T,{...e,account:M,chain:t.chain})}}function JW({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(qW)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function XW(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:o,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return du({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new tS})(),d=(typeof s=="bigint"?ue(s):void 0)||a,{schedule:h}=rS({id:`${t.uid}.${d}`,wait:i,shouldSplitBatch(m){return m.reduce((C,{data:L})=>C+(L.length-2),0)>n*2},fn:async m=>{const y=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),C=mr({abi:Bl,args:[y],functionName:"aggregate3"}),L=await t.request({method:"eth_call",params:[{...l===null?{data:iS({code:t8,data:C})}:{to:l,data:C}},d]});return nc({abi:Bl,args:[y],functionName:"aggregate3",data:L||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new E1({data:f});return f==="0x"?{data:void 0}:{data:f}}function iS(t){const{code:e,data:n}=t;return P1({abi:RA(["constructor(bytes, bytes)"]),bytecode:eS,args:[e,n]})}function QW(t){const{data:e,factory:n,factoryData:r,to:i}=t;return P1({abi:RA(["constructor(address, bytes, address, bytes)"]),bytecode:ZW,args:[i,e,n,r]})}function eV(t){if(!(t instanceof ee))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function gs(t,e){const{abi:n,address:r,args:i,functionName:s,...a}=e,o=mr({abi:n,args:i,functionName:s});try{const{data:c}=await Ae(t,Zh,"call")({...a,data:o,to:r});return nc({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw Xc(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function tV(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,...o}=e,c=o.account?Nt(o.account):t.account,l=mr({abi:n,args:i,functionName:s});try{const{data:u}=await Ae(t,Zh,"call")({batch:!1,data:`${l}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),d=nc({abi:n,args:i,functionName:s,data:u||"0x"}),h=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:h,address:r,args:i,dataSuffix:a,functionName:s,...o,account:c}}}catch(u){throw Xc(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}const a6=new Map,g7=new Map;let nV=0;function qa(t,e,n){const r=++nV,i=()=>a6.get(t)||[],s=()=>{const u=i();a6.set(t,u.filter(d=>d.id!==r))},a=()=>{const u=i();if(!u.some(h=>h.id===r))return;const d=g7.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}s()},o=i();if(a6.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return a;const c={};for(const u in e)c[u]=(...d)=>{const h=i();if(h.length!==0)for(const f of h)f.fns[u]?.(...d)};const l=n(c);return typeof l=="function"&&g7.set(t,l),a}async function Yg(t){return new Promise(e=>setTimeout(e,t))}function hu(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:s}));const c=await n?.(o)??r;await Yg(c);const l=async()=>{i&&(await t({unpoll:s}),await Yg(r),l())};l()})(),s}const rV=new Map,iV=new Map;function sV(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),n=e(t,rV),r=e(t,iV);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function aV(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=sV(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const oV=t=>`blockNumber.${t}`;async function Gh(t,{cacheTime:e=t.cacheTime}={}){const n=await aV(()=>t.request({method:"eth_blockNumber"}),{cacheKey:oV(t.uid),cacheTime:e});return BigInt(n)}async function O1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>fs(s));return!("abi"in e)||!e.abi?i:K4({abi:e.abi,logs:i,strict:n})}async function R1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function cV(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:a,fromBlock:o,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=h??!1,C=Ln(["watchContractEvent",r,i,s,t.uid,a,d,y,o]);return qa(C,{onLogs:l,onError:c},L=>{let w;o!==void 0&&(w=o-1n);let b,x=!1;const _=hu(async()=>{if(!x){try{b=await Ae(t,iL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:a,strict:y,fromBlock:o})}catch{}x=!0;return}try{let I;if(b)I=await Ae(t,O1,"getFilterChanges")({filter:b});else{const M=await Ae(t,Gh,"getBlockNumber")({});w&&w<M?I=await Ae(t,$L,"getContractEvents")({abi:n,address:r,args:i,eventName:a,fromBlock:w+1n,toBlock:M,strict:y}):I=[],w=M}if(I.length===0)return;if(s)L.onLogs(I);else for(const M of I)L.onLogs([M])}catch(I){b&&I instanceof Yo&&(x=!1),L.onError?.(I)}},{emitOnBegin:!0,interval:d});return async()=>{b&&await Ae(t,R1,"uninstallFilter")({filter:b}),_()}})})():(()=>{const y=h??!1,C=Ln(["watchContractEvent",r,i,s,t.uid,a,d,y]);let L=!0,w=()=>L=!1;return qa(C,{onLogs:l,onError:c},b=>((async()=>{try{const x=(()=>{if(t.transport.type==="fallback"){const M=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return M?M.value:t.transport}return t.transport})(),_=a?Nh({abi:n,eventName:a,args:i}):[],{unsubscribe:I}=await x.subscribe({params:["logs",{address:r,topics:_}],onData(M){if(!L)return;const N=M.result;try{const{eventName:U,args:B}=t0({abi:n,data:N.data,topics:N.topics,strict:h}),P=fs(N,{args:B,eventName:U});b.onLogs([P])}catch(U){let B,P;if(U instanceof e0||U instanceof I4){if(h)return;B=U.abiItem.name,P=U.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const T=fs(N,{args:P?[]:{},eventName:B});b.onLogs([T])}},onError(M){b.onError?.(M)}});w=I,L||w()}catch(x){c?.(x)}})(),()=>w()))})()}class ta extends ee{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class qc extends ee{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Kh({chain:t,currentChainId:e}){if(!t)throw new YW;if(e!==t.id)throw new KW({chain:t,currentChainId:e})}async function $1(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const o6=new cu(128);async function Yh(t,e){const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:a,blobs:o,data:c,dataSuffix:l=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,type:y,value:C,...L}=e;if(typeof n>"u")throw new ta({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Nt(n):null;try{Qs(e);const b=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await x1({authorization:a[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if(w?.type==="json-rpc"||w===null){let x;i!==null&&(x=await Ae(t,ea,"getChainId")({}),r&&Kh({currentChainId:x,chain:i}));const _=t.chain?.formatters?.transactionRequest?.format,M=(_||Qa)({...lu(L,{format:_}),accessList:s,account:w,authorizationList:a,blobs:o,chainId:x,data:c&&pr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,to:b,type:y,value:C},"sendTransaction"),N=o6.get(t.uid),U=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:U,params:[M]},{retryCount:0})}catch(B){if(N===!1)throw B;const P=B;if(P.name==="InvalidInputRpcError"||P.name==="InvalidParamsRpcError"||P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(T=>(o6.set(t.uid,!0),T)).catch(T=>{const j=T;throw j.name==="MethodNotFoundRpcError"||j.name==="MethodNotSupportedRpcError"?(o6.set(t.uid,!1),P):j});throw P}}if(w?.type==="local"){const x=await Ae(t,uu,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:a,blobs:o,chain:i,data:c&&pr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:w.nonceManager,parameters:[...Z4,"sidecars"],type:y,value:C,...L,to:b}),_=i?.serializers?.transaction,I=await w.signTransaction(x,{serializer:_});return await Ae(t,$1,"sendRawTransaction")({serializedTransaction:I})}throw w?.type==="smart"?new qc({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new qc({docsPath:"/docs/actions/wallet/sendTransaction",type:w?.type})}catch(b){throw b instanceof qc?b:Fh(b,{...e,account:w,chain:e.chain||void 0})}}async function Fl(t,e){return Fl.internal(t,Yh,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:a,account:o=n.account,address:c,args:l,functionName:u,...d}=s;if(typeof o>"u")throw new ta({docsPath:"/docs/contract/writeContract"});const h=o?Nt(o):null,f=mr({abi:a,args:l,functionName:u});try{return await Ae(n,r,i)({data:f,to:c,account:h,...d})}catch(p){throw Xc(p,{abi:a,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:u,sender:h?.address})}}t.internal=e})(Fl||(Fl={}));class lV extends ee{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function i0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:o=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:o,error:l}):e;u&&await Yg(u),a({count:o+1})};try{const l=await t();i(l)}catch(l){if(o<n&&await r({count:o,error:l}))return c({error:l});s(l)}};a()})}const sS={"0x0":"reverted","0x1":"success"};function r8(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>fs(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?gi(t.transactionIndex):null,status:t.status?sS[t.status]:null,type:t.type?_L[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const aS=L1("transactionReceipt",r8),oS="0x5792579257925792579257925792579257925792579257925792579257925792",cS=ue(0,{size:32});async function lS(t,e){const{account:n=t.account,chain:r=t.chain,experimental_fallback:i,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:o,version:c="2.0.0"}=e,l=n?Nt(n):null;let u=e.capabilities;t.dataSuffix&&!e.capabilities?.dataSuffix&&(typeof t.dataSuffix=="string"?u={...e.capabilities,dataSuffix:{value:t.dataSuffix,optional:!0}}:u={...e.capabilities,dataSuffix:{value:t.dataSuffix.value,...t.dataSuffix.required?{}:{optional:!0}}});const d=e.calls.map(h=>{const f=h,p=f.abi?mr({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?pr([p,f.dataSuffix]):p,to:f.to,value:f.value?ue(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:u,chainId:ue(r.id),from:l?.address,id:o,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(u&&Object.values(u).some(L=>!L.optional)){const L="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new jl(new ee(L,{details:L}))}if(a&&d.length>1){const C="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ul(new ee(C,{details:C}))}const p=[];for(const C of d){const L=Yh(t,{account:l,chain:r,data:C.data,to:C.to,value:C.value?_t(C.value):void 0});p.push(L),s>0&&await new Promise(w=>setTimeout(w,s))}const m=await Promise.allSettled(p);if(m.every(C=>C.status==="rejected"))throw m[0].reason;const y=m.map(C=>C.status==="fulfilled"?C.value:cS);return{id:pr([...y,ue(r.id,{size:32}),oS])}}throw Fh(h,{...e,account:l,chain:e.chain})}}async function uS(t,e){async function n(u){if(u.endsWith(oS.slice(2))){const h=mi($g(u,-64,-32)),f=$g(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>cS.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:gi(h),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:a="2.0.0",...o}=await n(e.id),[c,l]=(()=>{const u=o.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...o,atomic:r,chainId:i?gi(i):void 0,receipts:s?.map(u=>({...u,blockNumber:_t(u.blockNumber),gasUsed:_t(u.gasUsed),status:sS[u.status]}))??[],statusCode:l,status:c,version:a}}async function dS(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:c=!1}=e,l=Ln(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:h}=n8();let f;const p=qa(l,{resolve:d,reject:h},m=>{const y=hu(async()=>{const C=L=>{clearTimeout(f),y(),L(),p()};try{const L=await i0(async()=>{const w=await Ae(t,uS,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new lV(w);return w},{retryCount:s,delay:a});if(!i(L))return;C(()=>m.resolve(L))}catch(L){C(()=>m.reject(L))}},{interval:r,emitOnBegin:!0});return y});return f=o?setTimeout(()=>{p(),clearTimeout(f),h(new uV({id:n}))},o):void 0,await u}class uV extends ee{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Jg=256;let Pf=Jg,Of;function hS(t=11){if(!Of||Pf+t>Jg*2){Of="",Pf=0;for(let e=0;e<Jg;e++)Of+=(256+Math.random()*256|0).toString(16).substring(1)}return Of.substring(Pf,Pf+++t)}function fS(t){const{batch:e,chain:n,ccipRead:r,dataSuffix:i,key:s="base",name:a="Base Client",type:o="base"}=t,c=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),l=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=t.pollingInterval??u,h=t.cacheTime??d,f=t.account?Nt(t.account):void 0,{config:p,request:m,value:y}=t.transport({account:f,chain:n,pollingInterval:d}),C={...p,...y},L={account:f,batch:e,cacheTime:h,ccipRead:r,chain:n,dataSuffix:i,key:s,name:a,pollingInterval:d,request:m,transport:C,type:o,uid:hS(),...c?{experimental_blockTag:c}:{}};function w(b){return x=>{const _=x(b);for(const M in L)delete _[M];const I={...b,..._};return Object.assign(I,{extend:w(I)})}}return Object.assign(L,{extend:w(L)})}function i8(t){if(!(t instanceof ee))return!1;const e=t.walk(n=>n instanceof Dg);return e instanceof Dg?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function dV(t){const{abi:e,data:n}=t,r=Ko(n,0,4),i=e.find(s=>s.type==="function"&&r===Mh(hs(s)));if(!i)throw new rF(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Dh(i.inputs,Ko(n,4)):void 0}}const c6="/docs/contract/encodeErrorResult";function y7(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=v2({abi:e,args:r,name:n});if(!c)throw new Bb(n,{docsPath:c6});i=c}if(i.type!=="error")throw new Bb(void 0,{docsPath:c6});const s=hs(i),a=Mh(s);let o="0x";if(r&&r.length>0){if(!i.inputs)throw new eF(i.name,{docsPath:c6});o=tc(i.inputs,r)}return Wi([a,o])}const l6="/docs/contract/encodeFunctionResult";function hV(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const a=v2({abi:e,name:n});if(!a)throw new Rl(n,{docsPath:l6});i=a}if(i.type!=="function")throw new Rl(void 0,{docsPath:l6});if(!i.outputs)throw new UA(i.name,{docsPath:l6});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new BA(r)})();return tc(i.outputs,s)}const M1="x-batch-gateway:true";async function fV(t){const{data:e,ccipRequest:n}=t,{args:[r]}=dV({abi:Gg,data:e}),i=[],s=[];return await Promise.all(r.map(async(a,o)=>{try{s[o]=a.urls.includes(M1)?await fV({data:a.data,ccipRequest:n}):await n(a),i[o]=!1}catch(c){i[o]=!0,s[o]=pV(c)}})),hV({abi:Gg,functionName:"query",result:[i,s]})}function pV(t){return t.name==="HttpRequestError"&&t.status?y7({abi:Gg,errorName:"HttpError",args:[t.status,t.shortMessage]}):y7({abi:[sL],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function pS(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return xr(e)?e:null}function Xg(t){let e=new Uint8Array(32).fill(0);if(!t)return yn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=pS(n[r]),s=i?Da(i):jn(Vc(n[r]),"bytes");e=jn(pr([e,s]),"bytes")}return yn(e)}function mV(t){return`[${t.slice(2)}]`}function gV(t){const e=new Uint8Array(32).fill(0);return t?pS(t)||jn(Vc(t)):yn(e)}function s8(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Vc(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=Vc(i[s]);a.byteLength>255&&(a=Vc(mV(gV(i[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function yV(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return du({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;const d=i!=null?[Xg(s),BigInt(i)]:[Xg(s)];try{const h=mr({abi:p7,functionName:"addr",args:d}),f={address:l,abi:XL,functionName:"resolveWithGateways",args:[Ye(s8(s)),h,a??[M1]],blockNumber:n,blockTag:r},m=await Ae(t,gs,"readContract")(f);if(m[0]==="0x")return null;const y=nc({abi:p7,args:d,functionName:"addr",data:m[0]});return y==="0x"||mi(y)==="0x00"?null:y}catch(h){if(o)throw h;if(i8(h))return null;throw h}}class wV extends ee{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class xu extends ee{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class a8 extends ee{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class bV extends ee{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const vV=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,_V=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,CV=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,EV=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function xV(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function w7(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function mS({uri:t,gatewayUrls:e}){const n=CV.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=w7(e?.ipfs,"https://ipfs.io"),i=w7(e?.arweave,"https://arweave.net"),s=t.match(vV),{protocol:a,subpath:o,target:c,subtarget:l=""}=s?.groups||{},u=a==="ipns:/"||o==="ipns/",d=a==="ipfs:/"||o==="ipfs/"||_V.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e?.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(EV,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new a8({uri:t})}function gS(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new wV({data:t});return t.image||t.image_url||t.image_data}async function AV({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await o8({gatewayUrls:t,uri:gS(n)})}catch{throw new a8({uri:e})}}async function o8({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=mS({uri:e,gatewayUrls:t});if(r||await xV(n))return n;throw new a8({uri:e})}function LV(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,a]=n.split(":"),[o,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new xu({reason:"Only EIP-155 supported"});if(!a)throw new xu({reason:"Chain ID not found"});if(!c)throw new xu({reason:"Contract address not found"});if(!i)throw new xu({reason:"Token ID not found"});if(!o)throw new xu({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:i}}async function SV(t,{nft:e}){if(e.namespace==="erc721")return gs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return gs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new bV({namespace:e.namespace})}async function IV(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?TV(t,{gatewayUrls:e,record:n}):o8({uri:n,gatewayUrls:e})}async function TV(t,{gatewayUrls:e,record:n}){const r=LV(n),i=await SV(t,{nft:r}),{uri:s,isOnChain:a,isEncoded:o}=mS({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=o?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return o8({uri:gS(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),AV({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function yS(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return du({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>s.endsWith(d)))return null;try{const d={address:l,abi:XL,args:[Ye(s8(s)),mr({abi:f7,functionName:"text",args:[Xg(s),i]}),a??[M1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},f=await Ae(t,gs,"readContract")(d);if(f[0]==="0x")return null;const p=nc({abi:f7,functionName:"text",data:f[0]});return p===""?null:p}catch(d){if(o)throw d;if(i8(d))return null;throw d}}async function kV(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:a,universalResolverAddress:o}){const c=await Ae(t,yS,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:s,strict:a});if(!c)return null;try{return await IV(t,{record:c,gatewayUrls:r})}catch{return null}}async function PV(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return du({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:HW,args:[n,s,a??[M1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=Ae(t,gs,"readContract"),[h]=await d(u);return h||null}catch(u){if(o)throw u;if(i8(u))return null;throw u}}async function OV(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return du({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),o=s?.ensTlds;if(o&&!o.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${o?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Ae(t,gs,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ye(s8(i))],blockNumber:n,blockTag:r});return c}async function wS(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f,...p}=e,m=n?Nt(n):void 0;try{Qs(e);const C=(typeof r=="bigint"?ue(r):void 0)||i,L=t.chain?.formatters?.transactionRequest?.format,b=(L||Qa)({...lu(p,{format:L}),account:m,blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f},"createAccessList"),x=await t.request({method:"eth_createAccessList",params:[b,C]});return{accessList:x.accessList,gasUsed:BigInt(x.gasUsed)}}catch(y){throw nS(y,{...e,account:m,chain:t.chain})}}async function RV(t){const e=C1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function bS(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:a,toBlock:o}={}){const c=i??(r?[r]:void 0),l=C1(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>Nh({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ue(s):s,toBlock:typeof o=="bigint"?ue(o):o,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!a,toBlock:o,type:"event"}}async function vS(t){const e=C1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function $V(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){if(t.batch?.multicall&&t.chain?.contracts?.multicall3){const a=t.chain.contracts.multicall3.address,o=mr({abi:Bl,functionName:"getEthBalance",args:[e]}),{data:c}=await Ae(t,Zh,"call")({to:a,data:o,blockNumber:n,blockTag:r});return nc({abi:Bl,functionName:"getEthBalance",args:[e],data:c||"0x"})}const i=typeof n=="bigint"?ue(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function MV(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function NV(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?ue(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),gi(s)}async function s0(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?ue(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}async function DV(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=await s0(t,{address:e,...n!==void 0?{blockNumber:n}:{blockTag:r}});if(i&&Gt(i)===23&&i.startsWith("0xef0100"))return Nn(Ko(i,3,23))}class jV extends ee{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function UV(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,a,o,c,l,u,d]=await Ae(t,gs,"readContract")({abi:BV,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:o,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new jV({address:n}):a}}const BV=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function FV(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function zV(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?ue(n):void 0,a=await t.request({method:"eth_feeHistory",params:[ue(e),s||r,i]},{dedupe:!!s});return FV(a)}async function WV(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>fs(s));return e.abi?K4({abi:e.abi,logs:i,strict:n}):i}function VV(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Mt(i))throw new gn({address:i});if(r<0)throw new qh({chainId:r})}c8(t)}function HV(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new PL;for(const n of e){const r=Gt(n),i=gi(Ko(n,0,1));if(r!==32)throw new oW({hash:n,size:r});if(i!==kL)throw new cW({hash:n,version:i})}}c8(t)}function c8(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new qh({chainId:e});if(i&&!Mt(i))throw new gn({address:i});if(r&&r>S1)throw new Qc({maxFeePerGas:r});if(n&&r&&n>r)throw new Xd({maxFeePerGas:r,maxPriorityFeePerGas:n})}function qV(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new qh({chainId:e});if(s&&!Mt(s))throw new gn({address:s});if(n||i)throw new ee("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>S1)throw new Qc({maxFeePerGas:r})}function ZV(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Mt(s))throw new gn({address:s});if(typeof e<"u"&&e<=0)throw new qh({chainId:e});if(n||i)throw new ee("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>S1)throw new Qc({maxFeePerGas:r})}function N1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Tz({storageKey:i[s]});if(!Mt(r,{strict:!1}))throw new gn({address:r});e.push([r,i])}return e}function l8(t,e){const n=RL(t);return n==="eip1559"?YV(t,e):n==="eip2930"?JV(t,e):n==="eip4844"?KV(t,e):n==="eip7702"?GV(t,e):XV(t,e)}function GV(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:a,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;VV(t);const h=N1(u),f=QV(n);return Wi(["0x04",Ha([ue(r),s?ue(s):"0x",l?ue(l):"0x",c?ue(c):"0x",i?ue(i):"0x",a??"0x",o?ue(o):"0x",d??"0x",h,f,...Jh(t,e)])])}function KV(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;HV(t);let h=t.blobVersionedHashes,f=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof f>"u")){const w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(_=>yn(_)),b=t.kzg,x=W4({blobs:w,kzg:b});if(typeof h>"u"&&(h=SL({commitments:x})),typeof f>"u"){const _=V4({blobs:w,commitments:x,kzg:b});f=OL({blobs:w,commitments:x,proofs:_})}}const p=N1(u),m=[ue(n),i?ue(i):"0x",l?ue(l):"0x",c?ue(c):"0x",r?ue(r):"0x",s??"0x",a?ue(a):"0x",d??"0x",p,o?ue(o):"0x",h??[],...Jh(t,e)],y=[],C=[],L=[];if(f)for(let w=0;w<f.length;w++){const{blob:b,commitment:x,proof:_}=f[w];y.push(b),C.push(x),L.push(_)}return Wi(["0x03",Ha(f?[m,y,C,L]:m)])}function YV(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,data:u}=t;c8(t);const d=N1(l),h=[ue(n),i?ue(i):"0x",c?ue(c):"0x",o?ue(o):"0x",r?ue(r):"0x",s??"0x",a?ue(a):"0x",u??"0x",d,...Jh(t,e)];return Wi(["0x02",Ha(h)])}function JV(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:a,value:o,accessList:c,gasPrice:l}=t;qV(t);const u=N1(c),d=[ue(n),s?ue(s):"0x",l?ue(l):"0x",r?ue(r):"0x",a??"0x",o?ue(o):"0x",i??"0x",u,...Jh(t,e)];return Wi(["0x01",Ha(d)])}function XV(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:a,value:o,gasPrice:c}=t;ZV(t);let l=[s?ue(s):"0x",c?ue(c):"0x",r?ue(r):"0x",a??"0x",o?ue(o):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new Sz({v:e.v});return f})(),d=mi(e.r),h=mi(e.s);l=[...l,ue(u),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(l=[...l,ue(n),"0x","0x"]);return Ha(l)}function Jh(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=mi(n.r),a=mi(n.s);return[typeof i=="number"?i?ue(1):"0x":r===0n?"0x":r===1n?ue(1):r===27n?"0x":ue(1),s==="0x00"?"0x":s,a==="0x00"?"0x":a]}function QV(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,a=n.address;e.push([r?Ye(r):"0x",a,i?Ye(i):"0x",...Jh({},s)])}return e}async function eH({address:t,authorization:e,signature:n}){return zh(Nn(t),await x1({authorization:e,signature:n}))}const Rf=new cu(8192);function tH(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Rf.get(n))return Rf.get(n);const r=t().finally(()=>Rf.delete(n));return Rf.set(n,r),r}function nH(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:o=3,uid:c}={...e,...r},{method:l}=n;if(s?.exclude?.includes(l))throw new $c(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new $c(new Error("method not supported"),{method:l});const u=i?$l(`${c}.${Ln(n)}`):void 0;return tH(()=>i0(async()=>{try{return await t(n)}catch(d){const h=d;switch(h.code){case Rd.code:throw new Rd(h);case $d.code:throw new $d(h);case Md.code:throw new Md(h,{method:n.method});case Nd.code:throw new Nd(h);case Jc.code:throw new Jc(h);case Yo.code:throw new Yo(h);case Dd.code:throw new Dd(h);case jd.code:throw new jd(h);case Ud.code:throw new Ud(h);case $c.code:throw new $c(h,{method:n.method});case Dl.code:throw new Dl(h);case Bd.code:throw new Bd(h);case wl.code:throw new wl(h);case Fd.code:throw new Fd(h);case zd.code:throw new zd(h);case Wd.code:throw new Wd(h);case Vd.code:throw new Vd(h);case Hd.code:throw new Hd(h);case jl.code:throw new jl(h);case qd.code:throw new qd(h);case Zd.code:throw new Zd(h);case Gd.code:throw new Gd(h);case Kd.code:throw new Kd(h);case Yd.code:throw new Yd(h);case Ul.code:throw new Ul(h);case 5e3:throw new wl(h);case Jd.code:throw new Jd(h);default:throw d instanceof ee?d:new Nz(h)}}},{delay:({count:d,error:h})=>{if(h&&h instanceof fd){const f=h?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f,10)*1e3}return~~(1<<d)*a},retryCount:o,shouldRetry:({error:d})=>rH(d)}),{enabled:i,id:u})}}function rH(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Dl.code||t.code===Jc.code:t instanceof fd&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Xn(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,a={...r,...s};return Object.assign(a,{extend:n(a)})}}return Object.assign(e,{extend:n(e)})}function iH(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let a;try{const o=new AbortController;n>0&&(a=setTimeout(()=>{r&&o.abort()},n)),i(await t({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&s(e),s(o)}finally{clearTimeout(a)}})()})}function sH(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const b7=sH();function aH(t,e={}){const{url:n,headers:r}=oH(t);return{async request(i){const{body:s,fetchFn:a=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:c=e.onResponse,timeout:l=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:d,method:h,signal:f}=u;try{const p=await iH(async({signal:y})=>{const C={...u,body:Array.isArray(s)?Ln(s.map(x=>({jsonrpc:"2.0",id:x.id??b7.take(),...x}))):Ln({jsonrpc:"2.0",id:s.id??b7.take(),...s}),headers:{...r,"Content-Type":"application/json",...d},method:h||"POST",signal:f||(l>0?y:null)},L=new Request(n,C),w=await o?.(L,C)??{...C,url:n};return await a(w.url??n,w)},{errorInstance:new e7({body:s,url:n}),timeout:l,signal:!0});c&&await c(p);let m;if(p.headers.get("Content-Type")?.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(y){if(p.ok)throw y;m={error:m}}}if(!p.ok)throw new fd({body:s,details:Ln(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof fd||p instanceof e7?p:new fd({body:s,cause:p,url:n})}}}}function oH(t){try{const e=new URL(t),n=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...n}}catch{return{url:t}}}const cH=`Ethereum Signed Message:
`;function lH(t){const e=typeof t=="string"?$l(t):typeof t.raw=="string"?t.raw:yn(t.raw),n=$l(`${cH}${Gt(e)}`);return pr([n,e])}function u8(t,e){return jn(lH(t),e)}class uH extends ee{constructor({domain:e}){super(`Invalid domain "${Ln(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class dH extends ee{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class hH extends ee{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function fH(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},o=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Ln({domain:a,message:o,primaryType:r,types:i})}function _S(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(a,o)=>{for(const c of a){const{name:l,type:u}=c,d=o[l],h=u.match(nL);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,y,C]=h;ue(d,{signed:y==="int",size:Number.parseInt(C,10)/8})}if(u==="address"&&typeof d=="string"&&!Mt(d))throw new gn({address:d});const f=u.match(JF);if(f){const[m,y]=f;if(y&&Gt(d)!==Number.parseInt(y,10))throw new sF({expectedSize:Number.parseInt(y,10),givenSize:Gt(d)})}const p=i[u];p&&(pH(u),s(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new uH({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new dH({primaryType:r,types:i})}function CS({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function pH(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new hH({type:t})}function ES(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:CS({domain:e}),...t.types};_S({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(mH({domain:e,types:i})),r!=="EIP712Domain"&&s.push(xS({data:n,primaryType:r,types:i})),jn(pr(s))}function mH({domain:t,types:e}){return xS({data:t,primaryType:"EIP712Domain",types:e})}function xS({data:t,primaryType:e,types:n}){const r=AS({data:t,primaryType:e,types:n});return jn(r)}function AS({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[gH({primaryType:e,types:n})];for(const s of n[e]){const[a,o]=SS({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(a),i.push(o)}return tc(r,i)}function gH({primaryType:t,types:e}){const n=Ye(yH({primaryType:t,types:e}));return jn(n)}function yH({primaryType:t,types:e}){let n="";const r=LS({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return n}function LS({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])LS({primaryType:s.type,types:e},n);return n}function SS({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},jn(AS({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},jn(r)];if(n==="string")return[{type:"bytes32"},jn(Ye(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>SS({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},jn(tc(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}const kAe="0x6492649264926492649264926492649264926492649264926492649264926492",v7="0x0000000000000000000000000000000000000000000000000000000000000000";let wH=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const bH={checksum:new wH(8192)},u6=bH.checksum;let IS=class extends k4{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,SF(e);const r=v1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Nl(s)}update(e){return Ml(this),this.iHash.update(e),this}digestInto(e){Ml(this),Yc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const TS=(t,e,n)=>new IS(t,e).update(n).digest();TS.create=(t,e)=>new IS(t,e);function kS(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=JA(AW(t));return n==="Bytes"?r:ms(r)}const vH=/^0x[a-fA-F0-9]{40}$/;function D1(t,e={}){const{strict:n=!0}=e;if(!vH.test(t))throw new _7({address:t,cause:new _H});if(n){if(t.toLowerCase()===t)return;if(PS(t)!==t)throw new _7({address:t,cause:new CH})}}function PS(t){if(u6.has(t))return u6.get(t);D1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=kS(SW(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return u6.set(t,i),i}function Qg(t,e={}){const{strict:n=!0}=e??{};try{return D1(t,{strict:n}),!0}catch{return!1}}let _7=class extends it{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},_H=class extends it{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},CH=class extends it{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const EH=/^(.*)\[([0-9]*)\]$/,xH=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,OS=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,C7=2n**256n-1n;function vl(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=f8(e.type);if(s){const[a,o]=s;return LH(t,{...e,type:o},{checksumAddress:r,length:a,staticPosition:i})}if(e.type==="tuple")return kH(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return AH(t,{checksum:r});if(e.type==="bool")return SH(t);if(e.type.startsWith("bytes"))return IH(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return TH(t,e);if(e.type==="string")return PH(t,{staticPosition:i});throw new m8(e.type)}const E7=32,ey=32;function AH(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?PS(s):s)(ms(TW(r,-20))),32]}function LH(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Ua(t.readBytes(ey)),l=s+c,u=l+E7;t.setPosition(l);const d=Ua(t.readBytes(E7)),h=th(e);let f=0;const p=[];for(let m=0;m<d;++m){t.setPosition(u+(h?m*32:f));const[y,C]=vl(t,e,{checksumAddress:r,staticPosition:u});f+=C,p.push(y)}return t.setPosition(s+32),[p,32]}if(th(e)){const c=Ua(t.readBytes(ey)),l=s+c,u=[];for(let d=0;d<i;++d){t.setPosition(l+d*32);const[h]=vl(t,e,{checksumAddress:r,staticPosition:l});u.push(h)}return t.setPosition(s+32),[u,32]}let a=0;const o=[];for(let c=0;c<i;++c){const[l,u]=vl(t,e,{checksumAddress:r,staticPosition:s+a});a+=u,o.push(l)}return[o,a]}function SH(t){return[PW(t.readBytes(32),{size:32}),32]}function IH(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Ua(t.readBytes(32));t.setPosition(n+a);const o=Ua(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(o);return t.setPosition(n+32),[ms(c),32]}return[ms(t.readBytes(Number.parseInt(i,10),32)),32]}function TH(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?kW(i,{signed:n}):Ua(i,{signed:n}),32]}function kH(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),a=s?[]:{};let o=0;if(th(e)){const c=Ua(t.readBytes(ey)),l=i+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+o);const[h,f]=vl(t,d,{checksumAddress:r,staticPosition:l});o+=f,a[s?u:d?.name]=h}return t.setPosition(i+32),[a,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=vl(t,l,{checksumAddress:r,staticPosition:i});a[s?c:l?.name]=u,o+=d}return[a,o]}function PH(t,{staticPosition:e}){const n=Ua(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ua(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=OW(VL(s));return t.setPosition(e+32),[a,32]}function OH({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(d8({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function d8({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=f8(r.type);if(i){const[s,a]=i;return $H(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if(r.type==="tuple")return UH(n,{checksumAddress:t,parameter:r});if(r.type==="address")return RH(n,{checksum:t});if(r.type==="bool")return NH(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,a="256"]=OS.exec(r.type)??[];return DH(n,{signed:s,size:Number(a)})}if(r.type.startsWith("bytes"))return MH(n,{type:r.type});if(r.type==="string")return jH(n);throw new m8(r.type)}function h8(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=yi(o)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(n.push(Er(e+i,{size:32})),r.push(o),i+=yi(o)):n.push(o)}return ps(...n,...r)}function RH(t,e){const{checksum:n=!1}=e;return D1(t,{strict:n}),{dynamic:!1,encoded:e2(t.toLowerCase())}}function $H(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new GH(t);if(!s&&t.length!==r)throw new ZH({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1;const o=[];for(let c=0;c<t.length;c++){const l=d8({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(a=!0),o.push(l)}if(s||a){const c=h8(o);if(s){const l=Er(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ps(l,c):l}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ps(...o.map(({encoded:c})=>c))}}function MH(t,{type:e}){const[,n]=e.split("bytes"),r=yi(t);if(!n){let i=t;return r%32!==0&&(i=t2(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ps(e2(Er(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new $S({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:t2(t)}}function NH(t){if(typeof t!="boolean")throw new it(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:e2(HL(t))}}function DH(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new GL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Er(t,{size:32,signed:e})}}function jH(t){const e=e8(t),n=Math.ceil(yi(e)/32),r=[];for(let i=0;i<n;i++)r.push(t2(Ws(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:ps(t2(Er(yi(e),{size:32})),...r)}}function UH(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let a=0;a<r.components.length;a++){const o=r.components[a],c=Array.isArray(t)?a:o.name,l=d8({checksumAddress:n,parameter:o,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?h8(s):ps(...s.map(({encoded:a})=>a))}}function f8(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function th(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(th);const n=f8(t.type);return!!(n&&th({...t,type:n[1]}))}const BH={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new WH({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new zH({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new x7({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new x7({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function FH(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(BH);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class x7 extends it{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class zH extends it{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class WH extends it{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function VH(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?WL(e):e,a=FH(s);if(ll(s)===0&&t.length>0)throw new qH;if(ll(s)&&ll(s)<32)throw new HH({data:typeof e=="string"?e:ms(e),parameters:t,size:ll(s)});let o=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];a.setPosition(o);const[d,h]=vl(a,u,{checksumAddress:i,staticPosition:0});o+=h,r==="Array"?c.push(d):c[u.name??l]=d}return c}function p8(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new MS({expectedLength:t.length,givenLength:e.length});const i=OH({checksumAddress:r,parameters:t,values:e}),s=h8(i);return s.length===0?"0x":s}function ty(t,e){if(t.length!==e.length)throw new MS({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(ty.encode(i,s))}return ps(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return D1(c),e2(c.toLowerCase(),i?32:0)}if(n==="string")return e8(r);if(n==="bytes")return r;if(n==="bool")return e2(HL(r),i?32:1);const s=n.match(OS);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return Er(r,{size:i?32:d,signed:l==="int"})}const a=n.match(xH);if(a){const[c,l]=a;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new $S({expectedSize:Number.parseInt(l,10),value:r});return t2(r,i?32:0)}const o=n.match(EH);if(o&&Array.isArray(r)){const[c,l]=o,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":ps(...u)}throw new m8(n)}t.encode=e})(ty||(ty={}));function RS(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Ub(t):t}class HH extends it{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${rl(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class qH extends it{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class ZH extends it{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class $S extends it{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${yi(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class MS extends it{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class GH extends it{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class m8 extends it{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vr=BigInt(0),Lr=BigInt(1),Mc=BigInt(2),KH=BigInt(3),NS=BigInt(4),DS=BigInt(5),jS=BigInt(8);function Br(t,e){const n=t%e;return n>=Vr?n:e+n}function Ei(t,e,n){let r=t;for(;e-- >Vr;)r*=r,r%=n;return r}function ny(t,e){if(t===Vr)throw new Error("invert: expected non-zero number");if(e<=Vr)throw new Error("invert: expected positive modulus, got "+e);let n=Br(t,e),r=e,i=Vr,s=Lr;for(;n!==Vr;){const o=r/n,c=r%n,l=i-s*o;r=n,n=c,i=s,s=l}if(r!==Lr)throw new Error("invert: does not exist");return Br(i,e)}function US(t,e){const n=(t.ORDER+Lr)/NS,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function YH(t,e){const n=(t.ORDER-DS)/jS,r=t.mul(e,Mc),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Mc),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function JH(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Lr,n=0;for(;e%Mc===Vr;)e/=Mc,n++;let r=Mc;const i=g8(t);for(;A7(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return US;let s=i.pow(r,e);const a=(e+Lr)/Mc;return function(c,l){if(c.is0(l))return l;if(A7(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,a);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=Lr<<BigInt(u-p-1),C=c.pow(d,y);u=p,d=c.sqr(C),h=c.mul(h,d),f=c.mul(f,C)}return f}}function XH(t){return t%NS===KH?US:t%jS===DS?YH:JH(t)}const QH=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=QH.reduce((r,i)=>(r[i]="function",r),e);return T1(t,n)}function tq(t,e,n){if(n<Vr)throw new Error("invalid exponent, negatives unsupported");if(n===Vr)return t.ONE;if(n===Lr)return e;let r=t.ONE,i=e;for(;n>Vr;)n&Lr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Lr;return r}function BS(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function A7(t,e){const n=(t.ORDER-Lr)/Mc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function FS(t,e){e!==void 0&&Pd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function g8(t,e,n=!1,r={}){if(t<=Vr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=FS(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:I1(i),ZERO:Vr,ONE:Lr,create:c=>Br(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Vr<=c&&c<t},is0:c=>c===Vr,isOdd:c=>(c&Lr)===Lr,neg:c=>Br(-c,t),eql:(c,l)=>c===l,sqr:c=>Br(c*c,t),add:(c,l)=>Br(c+l,t),sub:(c,l)=>Br(c-l,t),mul:(c,l)=>Br(c*l,t),pow:(c,l)=>tq(o,c,l),div:(c,l)=>Br(c*ny(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ny(c,t),sqrt:r.sqrt||(c=>(a||(a=XH(t)),a(o,c))),toBytes:c=>n?jL(c,s):Vh(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?DL(c):Hc(c)},invertBatch:c=>BS(o,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(o)}function zS(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function WS(t){const e=zS(t);return e+Math.ceil(e/2)}function nq(t,e,n=!1){const r=t.length,i=zS(e),s=WS(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?DL(t):Hc(t),o=Br(a,e-Lr)+Lr;return n?jL(o,i):Vh(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L7=BigInt(0),ry=BigInt(1);function d6(t,e){const n=e.negate();return t?n:e}function VS(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function h6(t,e){VS(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=I1(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function S7(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=ry);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function rq(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function iq(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const f6=new WeakMap,HS=new WeakMap;function p6(t){return HS.get(t)||1}function sq(t,e){return{constTimeNegate:d6,hasPrecomputes(n){return p6(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>L7;)r&ry&&(i=i.add(s)),s=s.double(),r>>=ry;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=h6(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=h6(n,e);for(let c=0;c<o.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=S7(i,c,o);i=l,d?a=a.add(d6(f,r[p])):s=s.add(d6(h,r[u]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=h6(n,e);for(let o=0;o<a.windows&&i!==L7;o++){const{nextN:c,offset:l,isZero:u,isNeg:d}=S7(i,o,a);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=f6.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&f6.set(r,i(s))),s},wNAFCached(n,r,i){const s=p6(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=p6(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){VS(r,e),HS.set(n,r),f6.delete(n)}}}function aq(t,e,n,r){rq(n,t),iq(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=pW(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=I1(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function qS(t){return eq(t.Fp),T1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...FS(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I7(t){t.lowS!==void 0&&Qd("lowS",t.lowS),t.prehash!==void 0&&Qd("prehash",t.prehash)}function oq(t){const e=qS(t);T1(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let cq=class extends Error{constructor(e=""){super(e)}};const La={Err:cq,_tlv:{encode:(t,e)=>{const{Err:n}=La;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=kf(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?kf(i.length/2|128):"";return kf(t)+s+i+e},decode(t,e){const{Err:n}=La;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=La;if(t<Pa)throw new e("integer: negative integers are not allowed");let n=kf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=La;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Hc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=La,i=Oi("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=La,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function m6(t,e){return eh(Vh(t,e))}const Pa=BigInt(0),$n=BigInt(1);BigInt(2);const g6=BigInt(3),lq=BigInt(4);function uq(t){const e=oq(t),{Fp:n}=e,r=g8(e.n,e.nBitLength),i=e.toBytes||((w,b,x)=>{const _=b.toAffine();return r0(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(w=>{const b=w.subarray(1),x=n.fromBytes(b.subarray(0,n.BYTES)),_=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x,y:_}});function a(w){const{a:b,b:x}=e,_=n.sqr(w),I=n.mul(_,w);return n.add(n.add(I,n.mul(w,b)),x)}function o(w,b){const x=n.sqr(b),_=a(w);return n.eql(x,_)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,g6),lq),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Q4(w,$n,e.n)}function d(w){const{allowedPrivateKeyLengths:b,nByteLength:x,wrapPrivateKey:_,n:I}=e;if(b&&typeof w!="bigint"){if(Wh(w)&&(w=eh(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(x*2,"0")}let M;try{M=typeof w=="bigint"?w:Hc(Oi("private key",w,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof w)}return _&&(M=Br(M,I)),bl("private key",M,$n,I),M}function h(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const f=l7((w,b)=>{const{px:x,py:_,pz:I}=w;if(n.eql(I,n.ONE))return{x,y:_};const M=w.is0();b==null&&(b=M?n.ONE:n.inv(I));const N=n.mul(x,b),U=n.mul(_,b),B=n.mul(I,b);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:N,y:U}}),p=l7(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:x}=w.toAffine();if(!n.isValid(b)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!o(b,x))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,x,_){if(b==null||!n.isValid(b))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=b,this.py=x,this.pz=_,Object.freeze(this)}static fromAffine(b){const{x,y:_}=b||{};if(!b||!n.isValid(x)||!n.isValid(_))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const I=M=>n.eql(M,n.ZERO);return I(x)&&I(_)?m.ZERO:new m(x,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const x=BS(n,b.map(_=>_.pz));return b.map((_,I)=>_.toAffine(x[I])).map(m.fromAffine)}static fromHex(b){const x=m.fromAffine(s(Oi("pointHex",b)));return x.assertValidity(),x}static fromPrivateKey(b){return m.BASE.multiply(d(b))}static msm(b,x){return aq(m,r,b,x)}_setWindowSize(b){L.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:x,py:_,pz:I}=this,{px:M,py:N,pz:U}=b,B=n.eql(n.mul(x,U),n.mul(M,I)),P=n.eql(n.mul(_,U),n.mul(N,I));return B&&P}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:x}=e,_=n.mul(x,g6),{px:I,py:M,pz:N}=this;let U=n.ZERO,B=n.ZERO,P=n.ZERO,T=n.mul(I,I),j=n.mul(M,M),v=n.mul(N,N),E=n.mul(I,M);return E=n.add(E,E),P=n.mul(I,N),P=n.add(P,P),U=n.mul(b,P),B=n.mul(_,v),B=n.add(U,B),U=n.sub(j,B),B=n.add(j,B),B=n.mul(U,B),U=n.mul(E,U),P=n.mul(_,P),v=n.mul(b,v),E=n.sub(T,v),E=n.mul(b,E),E=n.add(E,P),P=n.add(T,T),T=n.add(P,T),T=n.add(T,v),T=n.mul(T,E),B=n.add(B,T),v=n.mul(M,N),v=n.add(v,v),T=n.mul(v,E),U=n.sub(U,T),P=n.mul(v,j),P=n.add(P,P),P=n.add(P,P),new m(U,B,P)}add(b){h(b);const{px:x,py:_,pz:I}=this,{px:M,py:N,pz:U}=b;let B=n.ZERO,P=n.ZERO,T=n.ZERO;const j=e.a,v=n.mul(e.b,g6);let E=n.mul(x,M),O=n.mul(_,N),k=n.mul(I,U),$=n.add(x,_),D=n.add(M,N);$=n.mul($,D),D=n.add(E,O),$=n.sub($,D),D=n.add(x,I);let W=n.add(M,U);return D=n.mul(D,W),W=n.add(E,k),D=n.sub(D,W),W=n.add(_,I),B=n.add(N,U),W=n.mul(W,B),B=n.add(O,k),W=n.sub(W,B),T=n.mul(j,D),B=n.mul(v,k),T=n.add(B,T),B=n.sub(O,T),T=n.add(O,T),P=n.mul(B,T),O=n.add(E,E),O=n.add(O,E),k=n.mul(j,k),D=n.mul(v,D),O=n.add(O,k),k=n.sub(E,k),k=n.mul(j,k),D=n.add(D,k),E=n.mul(O,D),P=n.add(P,E),E=n.mul(W,D),B=n.mul($,B),B=n.sub(B,E),E=n.mul($,O),T=n.mul(W,T),T=n.add(T,E),new m(B,P,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return L.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:x,n:_}=e;bl("scalar",b,Pa,_);const I=m.ZERO;if(b===Pa)return I;if(this.is0()||b===$n)return this;if(!x||L.hasPrecomputes(this))return L.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:M,k1:N,k2neg:U,k2:B}=x.splitScalar(b),P=I,T=I,j=this;for(;N>Pa||B>Pa;)N&$n&&(P=P.add(j)),B&$n&&(T=T.add(j)),j=j.double(),N>>=$n,B>>=$n;return M&&(P=P.negate()),U&&(T=T.negate()),T=new m(n.mul(T.px,x.beta),T.py,T.pz),P.add(T)}multiply(b){const{endo:x,n:_}=e;bl("scalar",b,$n,_);let I,M;if(x){const{k1neg:N,k1:U,k2neg:B,k2:P}=x.splitScalar(b);let{p:T,f:j}=this.wNAF(U),{p:v,f:E}=this.wNAF(P);T=L.constTimeNegate(N,T),v=L.constTimeNegate(B,v),v=new m(n.mul(v.px,x.beta),v.py,v.pz),I=T.add(v),M=j.add(E)}else{const{p:N,f:U}=this.wNAF(b);I=N,M=U}return m.normalizeZ([I,M])[0]}multiplyAndAddUnsafe(b,x,_){const I=m.BASE,M=(U,B)=>B===Pa||B===$n||!U.equals(I)?U.multiplyUnsafe(B):U.multiply(B),N=M(this,x).add(M(b,_));return N.is0()?void 0:N}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:x}=e;if(b===$n)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:x}=e;return b===$n?this:x?x(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return Qd("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return Qd("isCompressed",b),eh(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:C}=e,L=sq(m,y?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function dq(t){const e=qS(t);return T1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function hq(t){const e=dq(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,o=2*n.BYTES+1;function c(v){return Br(v,r)}function l(v){return ny(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=uq({...e,toBytes(v,E,O){const k=E.toAffine(),$=n.toBytes(k.x),D=r0;return Qd("isCompressed",O),O?D(Uint8Array.from([E.hasEvenY()?2:3]),$):D(Uint8Array.from([4]),$,n.toBytes(k.y))},fromBytes(v){const E=v.length,O=v[0],k=v.subarray(1);if(E===a&&(O===2||O===3)){const $=Hc(k);if(!Q4($,$n,n.ORDER))throw new Error("Point is not on curve");const D=h($);let W;try{W=n.sqrt(D)}catch(J){const Q=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+Q)}const q=(W&$n)===$n;return(O&1)===1!==q&&(W=n.neg(W)),{x:$,y:W}}else if(E===o&&O===4){const $=n.fromBytes(k.subarray(0,n.BYTES)),D=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:$,y:D}}else{const $=a,D=o;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+D+", got "+E)}}});function p(v){const E=r>>$n;return v>E}function m(v){return p(v)?c(-v):v}const y=(v,E,O)=>Hc(v.slice(E,O));class C{constructor(E,O,k){bl("r",E,$n,r),bl("s",O,$n,r),this.r=E,this.s=O,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(E){const O=i;return E=Oi("compactSignature",E,O*2),new C(y(E,0,O),y(E,O,2*O))}static fromDER(E){const{r:O,s:k}=La.toSig(Oi("DER",E));return new C(O,k)}assertValidity(){}addRecoveryBit(E){return new C(this.r,this.s,E)}recoverPublicKey(E){const{r:O,s:k,recovery:$}=this,D=I(Oi("msgHash",E));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const W=$===2||$===3?O+e.n:O;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=$&1?"03":"02",X=u.fromHex(q+m6(W,n.BYTES)),J=l(W),Q=c(-D*J),he=c(k*J),de=u.BASE.multiplyAndAddUnsafe(X,Q,he);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return n0(this.toDERHex())}toDERHex(){return La.hexFromSig(this)}toCompactRawBytes(){return n0(this.toCompactHex())}toCompactHex(){const E=i;return m6(this.r,E)+m6(this.s,E)}}const L={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=WS(e.n);return nq(e.randomBytes(v),e.n)},precompute(v=8,E=u.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}};function w(v,E=!0){return u.fromPrivateKey(v).toRawBytes(E)}function b(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const O=Oi("key",v).length,k=n.BYTES,$=k+1,D=2*k+1;if(!(e.allowedPrivateKeyLengths||i===$))return O===$||O===D}function x(v,E,O=!0){if(b(v)===!0)throw new Error("first arg must be private key");if(b(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(v)).toRawBytes(O)}const _=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const E=Hc(v),O=v.length*8-s;return O>0?E>>BigInt(O):E},I=e.bits2int_modN||function(v){return c(_(v))},M=I1(s);function N(v){return bl("num < 2^"+s,v,Pa,M),Vh(v,i)}function U(v,E,O=B){if(["recovered","canonical"].some(oe=>oe in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:$}=e;let{lowS:D,prehash:W,extraEntropy:q}=O;D==null&&(D=!0),v=Oi("msgHash",v),I7(O),W&&(v=Oi("prehashed msgHash",k(v)));const X=I(v),J=d(E),Q=[N(J),N(X)];if(q!=null&&q!==!1){const oe=q===!0?$(n.BYTES):q;Q.push(Oi("extraEntropy",oe))}const he=r0(...Q),de=X;function Ce(oe){const V=_(oe);if(!f(V))return;const je=l(V),Fe=u.BASE.multiply(V).toAffine(),fe=c(Fe.x);if(fe===Pa)return;const $e=c(je*c(de+fe*J));if($e===Pa)return;let ye=(Fe.x===fe?0:2)|Number(Fe.y&$n),ge=$e;return D&&p($e)&&(ge=m($e),ye^=1),new C(fe,ge,ye)}return{seed:he,k2sig:Ce}}const B={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function T(v,E,O=B){const{seed:k,k2sig:$}=U(v,E,O),D=e;return mW(D.hash.outputLen,D.nByteLength,D.hmac)(k,$)}u.BASE._setWindowSize(8);function j(v,E,O,k=P){const $=v;E=Oi("msgHash",E),O=Oi("publicKey",O);const{lowS:D,prehash:W,format:q}=k;if(I7(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const X=typeof $=="string"||Wh($),J=!X&&!q&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!X&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,he;try{if(J&&(Q=new C($.r,$.s)),X){try{q!=="compact"&&(Q=C.fromDER($))}catch(ye){if(!(ye instanceof La.Err))throw ye}!Q&&q!=="der"&&(Q=C.fromCompact($))}he=u.fromHex(O)}catch{return!1}if(!Q||D&&Q.hasHighS())return!1;W&&(E=e.hash(E));const{r:de,s:Ce}=Q,oe=I(E),V=l(Ce),je=c(oe*V),Fe=c(de*V),fe=u.BASE.multiplyAndAddUnsafe(he,je,Fe)?.toAffine();return fe?c(fe.x)===de:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:x,sign:T,verify:j,ProjectivePoint:u,Signature:C,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fq(t){return{hash:t,hmac:(e,...n)=>TS(t,e,RF(...n)),randomBytes:$F}}function pq(t,e){const n=r=>hq({...t,...fq(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZS=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),T7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mq=BigInt(0),gq=BigInt(1),iy=BigInt(2),k7=(t,e)=>(t+e/iy)/e;function yq(t){const e=ZS,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Ei(u,n,e)*u%e,h=Ei(d,n,e)*u%e,f=Ei(h,iy,e)*l%e,p=Ei(f,i,e)*f%e,m=Ei(p,s,e)*p%e,y=Ei(m,o,e)*m%e,C=Ei(y,c,e)*y%e,L=Ei(C,o,e)*m%e,w=Ei(L,n,e)*u%e,b=Ei(w,a,e)*p%e,x=Ei(b,r,e)*l%e,_=Ei(x,iy,e);if(!sy.eql(sy.sqr(_),t))throw new Error("Cannot find square root");return _}const sy=g8(ZS,void 0,void 0,{sqrt:yq}),j1=pq({a:mq,b:BigInt(7),Fp:sy,n:T7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=T7,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-gq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=k7(s*t,e),c=k7(-r*t,e);let l=Br(t-o*n-c*i,e),u=Br(-o*r-c*s,e);const d=l>a,h=u>a;if(d&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},AL),wq=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:j1},Symbol.toStringTag,{value:"Module"}));function GS(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new y6({signature:t});if(typeof t.s>"u")throw new y6({signature:t});if(n&&typeof t.yParity>"u")throw new y6({signature:t});if(t.r<0n||t.r>C7)throw new Aq({value:t.r});if(t.s<0n||t.s>C7)throw new Lq({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new w8({value:t.yParity})}function bq(t){return KS(ms(t))}function KS(t){if(t.length!==130&&t.length!==132)throw new xq({signature:t});const e=BigInt(Ws(t,0,32)),n=BigInt(Ws(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return y8(i)}catch{throw new w8({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function vq(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return _q(t)}function _q(t){const e=typeof t=="string"?KS(t):t instanceof Uint8Array?bq(t):typeof t.r=="string"?Eq(t):t.v?Cq(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return GS(e),e}function Cq(t){return{r:t.r,s:t.s,yParity:y8(t.v)}}function Eq(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=y8(n)),typeof r!="number")throw new w8({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function y8(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Sq({value:t})}let xq=class extends it{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${yi(BW(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class y6 extends it{constructor({signature:e}){super(`Signature \`${zL(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Aq extends it{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Lq extends it{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let w8=class extends it{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},Sq=class extends it{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function Iq(t,e={}){return typeof t.chainId=="string"?Tq(t):{...t,...e.signature}}function Tq(t){const{address:e,chainId:n,nonce:r}=t,i=vq(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const kq="0x8010801080108010801080108010801080108010801080108010801080108010",Pq=RS("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function YS(t){if(typeof t=="string"){if(Ws(t,-32)!==kq)throw new $q(t)}else GS(t.authorization)}function Oq(t){YS(t);const e=ZL(Ws(t,-64,-32)),n=Ws(t,-e-64,-64),r=Ws(t,0,-e-64),[i,s,a]=VH(Pq,n);return{authorization:Iq({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...a&&a!=="0x"?{data:a,to:s}:{}}}function Rq(t){try{return YS(t),!0}catch{return!1}}let $q=class extends it{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Mq(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Nq(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?gi(t.nonce):void 0,storageProof:t.storageProof?Mq(t.storageProof):void 0}}async function Dq(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",a=n!==void 0?ue(n):void 0,o=await t.request({method:"eth_getProof",params:[e,i,a||s]});return Nq(o)}async function jq(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?ue(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function b8(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:a,nonce:o}){const c=r||"latest",l=n!==void 0?ue(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ue(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,ue(s)]},{dedupe:!!l}):a&&typeof o=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,ue(o)]},{dedupe:!0})),!u)throw new lL({blockHash:e,blockNumber:n,blockTag:c,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||Bh)(u,"getTransaction")}async function Uq(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Ae(t,Gh,"getBlockNumber")({}),e?Ae(t,b8,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function Ap(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new uL({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||r8)(n,"getTransactionReceipt")}async function Bq(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:o,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},h=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return du({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let p=0,m=0;for(let L=0;L<l.length;L++){const{abi:w,address:b,args:x,functionName:_}=l[L];try{const I=mr({abi:w,args:x,functionName:_});m+=(I.length-2)/2,u>0&&m>u&&f[p].length>0&&(p++,m=(I.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:I,target:b}]}catch(I){const M=Xc(I,{abi:w,address:b,args:x,docsPath:"/docs/contract/multicall",functionName:_,sender:n});if(!i)throw M;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:b}]}}const y=await Promise.allSettled(f.map(L=>Ae(t,gs,"readContract")({...h===null?{code:t8}:{address:h},abi:Bl,account:n,args:[L],authorizationList:r,blockNumber:s,blockOverrides:a,blockTag:o,functionName:"aggregate3",stateOverride:c}))),C=[];for(let L=0;L<y.length;L++){const w=y[L];if(w.status==="rejected"){if(!i)throw w.reason;for(let x=0;x<f[L].length;x++)C.push({status:"failure",error:w.reason,result:void 0});continue}const b=w.value;for(let x=0;x<b.length;x++){const{returnData:_,success:I}=b[x],{callData:M}=f[L][x],{abi:N,address:U,functionName:B,args:P}=l[C.length];try{if(M==="0x")throw new Rh;if(!I)throw new E1({data:_});const T=nc({abi:N,args:P,data:_,functionName:B});C.push(i?{result:T,status:"success"}:T)}catch(T){const j=Xc(T,{abi:N,address:U,args:P,docsPath:"/docs/contract/multicall",functionName:B});if(!i)throw j;C.push({error:j,result:void 0,status:"failure"})}}}if(C.length!==l.length)throw new ee("multicall results mismatch");return C}async function ay(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:o}=e;try{const c=[];for(const h of i){const f=h.blockOverrides?YL(h.blockOverrides):void 0,p=h.calls.map(y=>{const C=y,L=C.account?Nt(C.account):void 0,w=C.abi?mr(C):C.data,b={...C,account:L,data:C.dataSuffix?pr([w||"0x",C.dataSuffix]):w,from:C.from??L?.address};return Qs(b),Qa(b)}),m=h.stateOverrides?j4(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?ue(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:a,validation:o},u]})).map((h,f)=>({...B4(h),calls:h.calls.map((p,m)=>{const{abi:y,args:C,functionName:L,to:w}=i[f].calls[m],b=p.error?.data??p.returnData,x=BigInt(p.gasUsed),_=p.logs?.map(U=>fs(U)),I=p.status==="0x1"?"success":"failure",M=y&&I==="success"&&b!=="0x"?nc({abi:y,data:b,functionName:L}):null,N=(()=>{if(I==="success")return;let U;if(b==="0x"?U=new Rh:b&&(U=new E1({data:b})),!!U)return Xc(U,{abi:y??[],address:w??"0x",args:C,functionName:L??"<unknown>"})})();return{data:b,gasUsed:x,logs:_,status:I,...I==="success"?{result:M}:{error:N}}})}))}catch(c){const l=c,u=A1(l,{});throw u instanceof Uh?l:u}}function oy(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!s)throw new it("Unable to normalize signature.");return i}function cy(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Qg(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>cy(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>cy(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function JS(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return JS(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Qg(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Qg(n[r],{strict:!1}):!1)return a}}function XS(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?jb(t):t;return{...r,...n?{hash:ul(r)}:{}}}function U1(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=FW(e,{strict:!1}),a=t.filter(l=>s?l.type==="function"||l.type==="error"?QS(l)===Ws(e,0,4):l.type==="event"?ul(l)===e:!1:"name"in l&&l.name===e);if(a.length===0)throw new a0({name:e});if(a.length===1)return{...a[0],...i?{hash:ul(a[0])}:{}};let o;for(const l of a){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:ul(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const f="inputs"in l&&l.inputs[h];return f?cy(d,f):!1})){if(o&&"inputs"in o&&o.inputs){const d=JS(l.inputs,o.inputs,r);if(d)throw new zq({abiItem:l,type:d[0]},{abiItem:o,type:d[1]})}o=l}}const c=(()=>{if(o)return o;const[l,...u]=a;return{...l,overloads:u}})();if(!c)throw new a0({name:e});return{...c,...i?{hash:ul(c)}:{}}}function QS(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return U1(n,r)}return t[0]})();return Ws(ul(e),0,4)}function Fq(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return U1(r,i)}return t[0]})(),n=typeof e=="string"?e:Xp(e);return oy(n)}function ul(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return U1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:kS(e8(Fq(e)))}class zq extends it{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${oy(Xp(e.abiItem))}\`, and`,`\`${n.type}\` in \`${oy(Xp(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class a0 extends it{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Wq(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[Hq(s),a]}return t})(),{bytecode:r,args:i}=n;return ps(r,e.inputs?.length&&i?.length?p8(e.inputs,i):"0x")}function Vq(t){return XS(t)}function Hq(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new a0({name:"constructor"});return e}function qq(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[P7(l,u,{args:d}),d]}const[o,c]=t;return[o,c]})(),{overloads:r}=e,i=r?P7([e,...r],e.name,{args:n}):e,s=Zq(i),a=n.length>0?p8(i.inputs,n):void 0;return a?ps(s,a):s}function M2(t,e={}){return XS(t,e)}function P7(t,e,n){const r=U1(t,e,n);if(r.type!=="function")throw new a0({name:e,type:"function"});return r}function Zq(t){return QS(t)}const Gq="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",xs="0x0000000000000000000000000000000000000000",Kq="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Yq(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:o,validation:c}=e,l=e.account?Nt(e.account):void 0;if(a&&!l)throw new ee("`account` is required when `traceAssetChanges` is true");const u=l?Wq(Vq("constructor(bytes, bytes)"),{bytecode:eS,args:[Kq,qq(M2("function getBalance(address)"),[l.address])]}):void 0,d=a?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:$}=await wS(t,{account:l.address,...k,data:k.abi?mr(k):k.data});return $.map(({address:D,storageKeys:W})=>W.length>0?D:null)})).then(k=>k.flat().filter(Boolean)):[],h=await ay(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((k,$)=>({abi:[M2("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:xs,nonce:$})),stateOverrides:[{address:xs,nonce:0}]}]:[],{calls:[...i,{}].map(k=>({...k,from:l?.address})),stateOverrides:s},...a?[{calls:[{data:u}]},{calls:d.map((k,$)=>({abi:[M2("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:xs,nonce:$})),stateOverrides:[{address:xs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[M2("function decimals() returns (uint256)")],functionName:"decimals",from:xs,nonce:$})),stateOverrides:[{address:xs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[M2("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:xs,nonce:$})),stateOverrides:[{address:xs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[M2("function symbol() returns (string)")],functionName:"symbol",from:xs,nonce:$})),stateOverrides:[{address:xs,nonce:0}]}]:[]],traceTransfers:o,validation:c}),f=a?h[2]:h[0],[p,m,,y,C,L,w,b]=a?h:[],{calls:x,..._}=f,I=x.slice(0,-1)??[],M=p?.calls??[],N=m?.calls??[],U=[...M,...N].map(k=>k.status==="success"?_t(k.data):null),B=y?.calls??[],P=C?.calls??[],T=[...B,...P].map(k=>k.status==="success"?_t(k.data):null),j=(L?.calls??[]).map(k=>k.status==="success"?k.result:null),v=(b?.calls??[]).map(k=>k.status==="success"?k.result:null),E=(w?.calls??[]).map(k=>k.status==="success"?k.result:null),O=[];for(const[k,$]of T.entries()){const D=U[k];if(typeof $!="bigint"||typeof D!="bigint")continue;const W=j[k-1],q=v[k-1],X=E[k-1],J=k===0?{address:Gq,decimals:18,symbol:"ETH"}:{address:d[k-1],decimals:X||W?Number(W??1):void 0,symbol:q??void 0};O.some(Q=>Q.token.address===J.address)||O.push({token:J,value:{pre:D,post:$,diff:$-D}})}return{assetChanges:O,block:_,results:I}}const eI="0x6492649264926492649264926492649264926492649264926492649264926492";function Jq(t){if(Ws(t,-32)!==eI)throw new eZ(t)}function Xq(t){const{data:e,signature:n,to:r}=t;return ps(p8(RS("address, bytes, bytes"),[r,e,n]),eI)}function Qq(t){try{return Jq(t),!0}catch{return!1}}class eZ extends it{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function tI({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new j1.Signature(_t(t),_t(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:Ar(a)}async function B1(t,e){const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??r?.contracts?.multicall3?.address}=e;if(r?.verifyHash)return await r.verifyHash(t,e);const o=(()=>{const c=e.signature;return xr(c)?c:typeof c=="object"&&"r"in c&&"s"in c?tI(c):yn(c)})();try{return Rq(o)?await tZ(t,{...e,multicallAddress:a,signature:o}):await nZ(t,{...e,verifierAddress:s,signature:o})}catch(c){try{if(zh(Nn(n),await mL({hash:i,signature:o})))return!0}catch{}if(c instanceof n2)return!1;throw c}}async function tZ(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:o,data:c,signature:l,to:u}=Oq(e.signature);if(await s0(t,{address:n,blockNumber:r,blockTag:i})===Wi(["0xef0100",o.address]))return await rZ(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const h={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:ue(o.r,{size:32}),s:ue(o.s,{size:32}),yParity:o.yParity};if(!await eH({address:n,authorization:h}))throw new n2;const p=await Ae(t,gs,"readContract")({...a?{address:a}:{code:t8},authorizationList:[h],abi:Bl,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:mr({abi:QL,functionName:"isValidSignature",args:[s,l]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new n2}async function nZ(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:a,verifierAddress:o,...c}=e,l=await(async()=>!r&&!i||Qq(a)?a:Xq({data:i,signature:a,to:r}))(),u=o?{to:o,data:mr({abi:m7,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:P1({abi:m7,args:[n,s,l],bytecode:GW}),...c},{data:d}=await Ae(t,Zh,"call")(u).catch(h=>{throw h instanceof hL?new n2:h});if(pF(d??"0x0"))return!0;throw new n2}async function rZ(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:a}=e;if((await Ae(t,gs,"readContract")({address:n,abi:QL,args:[s,a],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof fL?new n2:c})).startsWith("0x1626ba7e"))return!0;throw new n2}class n2 extends Error{}async function iZ(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...a}){const o=u8(n);return Ae(t,B1,"verifyHash")({address:e,factory:r,factoryData:i,hash:o,signature:s,...a})}async function sZ(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:a,primaryType:o,types:c,domain:l,...u}=e,d=ES({message:a,primaryType:o,types:c,domain:l});return Ae(t,B1,"verifyHash")({address:n,factory:r,factoryData:i,hash:d,signature:s,...u})}function nI(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const o=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const d=Ln(["watchBlockNumber",t.uid,e,n,a]);return qa(d,{onBlockNumber:r,onError:i},h=>hu(async()=>{try{const f=await Ae(t,Gh,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(f===c)return;if(f-c>1&&n)for(let p=c+1n;p<f;p++)h.onBlockNumber(p,c),c=p}(c===void 0||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){h.onError?.(f)}},{emitOnBegin:e,interval:a}))})():(()=>{const d=Ln(["watchBlockNumber",t.uid,e,n]);return qa(d,{onBlockNumber:r,onError:i},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(C){if(!f)return;const L=_t(C.result?.number);h.onBlockNumber(L,c),c=L},onError(C){h.onError?.(C)}});p=y,f||p()}catch(m){i?.(m)}})(),()=>p()})})()}async function rI(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:o=({count:x})=>~~(1<<x)*200,timeout:c=18e4}=e,l=Ln(["waitForTransactionReceipt",t.uid,i]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let d,h,f,p=!1,m,y;const{promise:C,resolve:L,reject:w}=n8(),b=c?setTimeout(()=>{y?.(),m?.(),w(new Pz({hash:i}))},c):void 0;return m=qa(l,{onReplaced:s,resolve:L,reject:w},async x=>{if(f=await Ae(t,Ap,"getTransactionReceipt")({hash:i}).catch(()=>{}),f&&r<=1){clearTimeout(b),x.resolve(f),m?.();return}y=Ae(t,nI,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(_){const I=N=>{clearTimeout(b),y?.(),N(),m?.()};let M=_;if(!p)try{if(f){if(r>1&&(!f.blockNumber||M-f.blockNumber+1n<r))return;I(()=>x.resolve(f));return}if(n&&!d&&(p=!0,await i0(async()=>{d=await Ae(t,b8,"getTransaction")({hash:i}),d.blockNumber&&(M=d.blockNumber)},{delay:o,retryCount:a}),p=!1),f=await Ae(t,Ap,"getTransactionReceipt")({hash:i}),r>1&&(!f.blockNumber||M-f.blockNumber+1n<r))return;I(()=>x.resolve(f))}catch(N){if(N instanceof lL||N instanceof uL){if(!d){p=!1;return}try{h=d,p=!0;const U=await i0(()=>Ae(t,as,"getBlock")({blockNumber:M,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:T})=>T instanceof vL});p=!1;const B=U.transactions.find(({from:T,nonce:j})=>T===h.from&&j===h.nonce);if(!B||(f=await Ae(t,Ap,"getTransactionReceipt")({hash:B.hash}),r>1&&(!f.blockNumber||M-f.blockNumber+1n<r)))return;let P="replaced";B.to===h.to&&B.value===h.value&&B.input===h.input?P="repriced":B.from===B.to&&B.value===0n&&(P="cancelled"),I(()=>{x.onReplaced?.({reason:P,replacedTransaction:h,transaction:B,transactionReceipt:f}),x.resolve(f)})}catch(U){I(()=>x.reject(U))}}else I(()=>x.reject(N))}}})}),C}function aZ(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:a,poll:o,pollingInterval:c=t.pollingInterval}){const l=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=a??!1;let d;return l?(()=>{const p=Ln(["watchBlocks",t.uid,e,n,r,u,c]);return qa(p,{onBlock:i,onError:s},m=>hu(async()=>{try{const y=await Ae(t,as,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let C=d?.number+1n;C<y.number;C++){const L=await Ae(t,as,"getBlock")({blockNumber:C,includeTransactions:u});m.onBlock(L,d),d=L}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&Ae(t,as,"getBlock")({blockTag:e,includeTransactions:u}).then(w=>{p&&m&&(i(w,void 0),m=!1)}).catch(s);const C=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:L}=await C.subscribe({params:["newHeads"],async onData(w){if(!p)return;const b=await Ae(t,as,"getBlock")({blockNumber:w.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(b,d),m=!1,d=b)},onError(w){s?.(w)}});y=L,p||y()}catch(C){s?.(C)}})(),()=>y()})()}function oZ(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:a,onError:o,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=d??!1;return h?(()=>{const y=Ln(["watchEvent",e,n,r,t.uid,i,u,a]);return qa(y,{onLogs:c,onError:o},C=>{let L;a!==void 0&&(L=a-1n);let w,b=!1;const x=hu(async()=>{if(!b){try{w=await Ae(t,bS,"createEventFilter")({address:e,args:n,event:i,events:s,strict:f,fromBlock:a})}catch{}b=!0;return}try{let _;if(w)_=await Ae(t,O1,"getFilterChanges")({filter:w});else{const I=await Ae(t,Gh,"getBlockNumber")({});L&&L!==I?_=await Ae(t,Y4,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:L+1n,toBlock:I}):_=[],L=I}if(_.length===0)return;if(r)C.onLogs(_);else for(const I of _)C.onLogs([I])}catch(_){w&&_ instanceof Yo&&(b=!1),C.onError?.(_)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await Ae(t,R1,"uninstallFilter")({filter:w}),x()}})})():(()=>{let y=!0,C=()=>y=!1;return(async()=>{try{const L=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),w=s??(i?[i]:void 0);let b=[];w&&(b=[w.flatMap(I=>Nh({abi:[I],eventName:I.name,args:n}))],i&&(b=b[0]));const{unsubscribe:x}=await L.subscribe({params:["logs",{address:e,topics:b}],onData(_){if(!y)return;const I=_.result;try{const{eventName:M,args:N}=t0({abi:w??[],data:I.data,topics:I.topics,strict:f}),U=fs(I,{args:N,eventName:M});c([U])}catch(M){let N,U;if(M instanceof e0||M instanceof I4){if(d)return;N=M.abiItem.name,U=M.abiItem.inputs?.some(P=>!("name"in P&&P.name))}const B=fs(I,{args:U?[]:{},eventName:N});c([B])}},onError(_){o?.(_)}});C=x,y||C()}catch(L){o?.(L)}})(),()=>C()})()}function cZ(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Ln(["watchPendingTransactions",t.uid,e,s]);return qa(l,{onTransactions:r,onError:n},u=>{let d;const h=hu(async()=>{try{if(!d)try{d=await Ae(t,vS,"createPendingTransactionFilter")({});return}catch(p){throw h(),p}const f=await Ae(t,O1,"getFilterChanges")({filter:d});if(f.length===0)return;if(e)u.onTransactions(f);else for(const p of f)u.onTransactions([p])}catch(f){u.onError?.(f)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await Ae(t,R1,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n?.(h)}});u=d,l||u()}catch(d){n?.(d)}})(),()=>u()})()}function lZ(t){const{scheme:e,statement:n,...r}=t.match(uZ)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:c,...l}=t.match(dZ)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const uZ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,dZ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function hZ(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:a=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!Mt(r.address,{strict:!1})||e&&!zh(r.address,e))return!1}catch{return!1}return!0}async function fZ(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:a,signature:o,time:c=new Date,...l}=e,u=lZ(i);if(!u.address||!hZ({address:n,domain:r,message:u,nonce:s,scheme:a,time:c}))return!1;const h=u8(i);return B1(t,{address:u.address,hash:h,signature:o,...l})}async function v8(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,r]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||r8)(i);if(a.status==="reverted"&&n)throw new dL({receipt:a});return a}function o0(t){return{call:e=>Zh(t,e),createAccessList:e=>wS(t,e),createBlockFilter:()=>RV(t),createContractEventFilter:e=>iL(t,e),createEventFilter:e=>bS(t,e),createPendingTransactionFilter:()=>vS(t),estimateContractGas:e=>uW(t,e),estimateGas:e=>G4(t,e),getBalance:e=>$V(t,e),getBlobBaseFee:()=>MV(t),getBlock:e=>as(t,e),getBlockNumber:e=>Gh(t,e),getBlockTransactionCount:e=>NV(t,e),getBytecode:e=>s0(t,e),getChainId:()=>ea(t),getCode:e=>s0(t,e),getContractEvents:e=>$L(t,e),getDelegation:e=>DV(t,e),getEip712Domain:e=>UV(t,e),getEnsAddress:e=>yV(t,e),getEnsAvatar:e=>kV(t,e),getEnsName:e=>PV(t,e),getEnsResolver:e=>OV(t,e),getEnsText:e=>yS(t,e),getFeeHistory:e=>zV(t,e),estimateFeesPerGas:e=>Jz(t,e),getFilterChanges:e=>O1(t,e),getFilterLogs:e=>WV(t,e),getGasPrice:()=>F4(t),getLogs:e=>Y4(t,e),getProof:e=>Dq(t,e),estimateMaxPriorityFeePerGas:e=>Yz(t,e),fillTransaction:e=>q4(t,e),getStorageAt:e=>jq(t,e),getTransaction:e=>b8(t,e),getTransactionConfirmations:e=>Uq(t,e),getTransactionCount:e=>z4(t,e),getTransactionReceipt:e=>Ap(t,e),multicall:e=>Bq(t,e),prepareTransactionRequest:e=>uu(t,e),readContract:e=>gs(t,e),sendRawTransaction:e=>$1(t,e),sendRawTransactionSync:e=>v8(t,e),simulate:e=>ay(t,e),simulateBlocks:e=>ay(t,e),simulateCalls:e=>Yq(t,e),simulateContract:e=>tV(t,e),verifyHash:e=>B1(t,e),verifyMessage:e=>iZ(t,e),verifySiweMessage:e=>fZ(t,e),verifyTypedData:e=>sZ(t,e),uninstallFilter:e=>R1(t,e),waitForTransactionReceipt:e=>rI(t,e),watchBlocks:e=>aZ(t,e),watchBlockNumber:e=>nI(t,e),watchContractEvent:e=>cV(t,e),watchEvent:e=>oZ(t,e),watchPendingTransactions:e=>cZ(t,e)}}function _8(t){const{key:e="public",name:n="Public Client"}=t;return fS({...t,key:e,name:n,type:"publicClient"}).extend(o0)}async function pZ(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ue(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function mZ(t,e){const{abi:n,args:r,bytecode:i,...s}=e,a=P1({abi:n,args:r,bytecode:i});return Yh(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function gZ(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>$h(n))}async function yZ(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Nt(n):void 0,s=r?[i?.address,[ue(r)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:s}),o={};for(const[c,l]of Object.entries(a)){o[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),o[Number(c)][u]=d}return typeof r=="number"?o[r]:o}async function wZ(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function iI(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new ta({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Nt(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Nt(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof o.chainId>"u"&&(o.chainId=t.chain?.id??await Ae(t,ea,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Ae(t,z4,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a?.address&&zh(a.address,s.address))&&(o.nonce+=1)),o}async function bZ(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Nn(n))}async function vZ(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function _Z(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await Ae(t,lS,"sendCalls")(e);return await Ae(t,dS,"waitForCallsStatus")({...e,id:i.id,timeout:r})}const w6=new cu(128);async function sI(t,e){const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:a,blobs:o,data:c,dataSuffix:l=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,pollingInterval:y,throwOnReceiptRevert:C,type:L,value:w,...b}=e,x=e.timeout??Math.max((i?.blockTime??0)*3,5e3);if(typeof n>"u")throw new ta({docsPath:"/docs/actions/wallet/sendTransactionSync"});const _=n?Nt(n):null;try{Qs(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await x1({authorization:a[0]}).catch(()=>{throw new ee("`to` is required. Could not infer from `authorizationList`.")})})();if(_?.type==="json-rpc"||_===null){let M;i!==null&&(M=await Ae(t,ea,"getChainId")({}),r&&Kh({currentChainId:M,chain:i}));const N=t.chain?.formatters?.transactionRequest?.format,B=(N||Qa)({...lu(b,{format:N}),accessList:s,account:_,authorizationList:a,blobs:o,chainId:M,data:c&&pr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,to:I,type:L,value:w},"sendTransaction"),P=w6.get(t.uid),T=P?"wallet_sendTransaction":"eth_sendTransaction",j=await(async()=>{try{return await t.request({method:T,params:[B]},{retryCount:0})}catch(E){if(P===!1)throw E;const O=E;if(O.name==="InvalidInputRpcError"||O.name==="InvalidParamsRpcError"||O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(k=>(w6.set(t.uid,!0),k)).catch(k=>{const $=k;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(w6.set(t.uid,!1),O):$});throw O}})(),v=await Ae(t,rI,"waitForTransactionReceipt")({checkReplacement:!1,hash:j,pollingInterval:y,timeout:x});if(C&&v.status==="reverted")throw new dL({receipt:v});return v}if(_?.type==="local"){const M=await Ae(t,uu,"prepareTransactionRequest")({account:_,accessList:s,authorizationList:a,blobs:o,chain:i,data:c&&pr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:_.nonceManager,parameters:[...Z4,"sidecars"],type:L,value:w,...b,to:I}),N=i?.serializers?.transaction,U=await _.signTransaction(M,{serializer:N});return await Ae(t,v8,"sendRawTransactionSync")({serializedTransaction:U,throwOnReceiptRevert:C,timeout:e.timeout})}throw _?.type==="smart"?new qc({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new qc({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(I){throw I instanceof qc?I:Fh(I,{...e,account:_,chain:e.chain||void 0})}}async function CZ(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function EZ(t,e){const{account:n=t.account}=e;if(!n)throw new ta({docsPath:"/docs/eip7702/signAuthorization"});const r=Nt(n);if(!r.signAuthorization)throw new qc({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await iI(t,e);return r.signAuthorization(i)}async function xZ(t,{account:e=t.account,message:n}){if(!e)throw new ta({docsPath:"/docs/actions/wallet/signMessage"});const r=Nt(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?$l(n):n.raw instanceof Uint8Array?Ye(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function aI(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new ta({docsPath:"/docs/actions/wallet/signTransaction"});const s=Nt(n);Qs({account:s,...e});const a=await Ae(t,ea,"getChainId")({});r!==null&&Kh({currentChainId:a,chain:r});const c=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Qa;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:ue(a),from:s.address}]},{retryCount:0})}async function oI(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new ta({docsPath:"/docs/actions/wallet/signTypedData"});const a=Nt(n),o={EIP712Domain:CS({domain:r}),...e.types};if(_S({domain:r,message:i,primaryType:s,types:o}),a.signTypedData)return a.signTypedData({domain:r,message:i,primaryType:s,types:o});const c=fH({domain:r,message:i,primaryType:s,types:o});return t.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}async function AZ(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ue(e)}]},{retryCount:0})}async function LZ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function SZ(t,e){return Fl.internal(t,sI,"sendTransactionSync",e)}function IZ(t){return{addChain:e=>pZ(t,e),deployContract:e=>mZ(t,e),fillTransaction:e=>q4(t,e),getAddresses:()=>gZ(t),getCallsStatus:e=>uS(t,e),getCapabilities:e=>yZ(t,e),getChainId:()=>ea(t),getPermissions:()=>wZ(t),prepareAuthorization:e=>iI(t,e),prepareTransactionRequest:e=>uu(t,e),requestAddresses:()=>bZ(t),requestPermissions:e=>vZ(t,e),sendCalls:e=>lS(t,e),sendCallsSync:e=>_Z(t,e),sendRawTransaction:e=>$1(t,e),sendRawTransactionSync:e=>v8(t,e),sendTransaction:e=>Yh(t,e),sendTransactionSync:e=>sI(t,e),showCallsStatus:e=>CZ(t,e),signAuthorization:e=>EZ(t,e),signMessage:e=>xZ(t,e),signTransaction:e=>aI(t,e),signTypedData:e=>oI(t,e),switchChain:e=>AZ(t,e),waitForCallsStatus:e=>dS(t,e),watchAsset:e=>LZ(t,e),writeContract:e=>Fl(t,e),writeContractSync:e=>SZ(t,e)}}function TZ(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return fS({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(IZ)}function kZ({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:a,type:o},c){const l=hS();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:a,type:o},request:nH(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}class PZ extends ee{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function F1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:h,retryCount:f,timeout:p})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},C=e.retryCount??f,L=p??e.timeout??1e4,w=t||h?.rpcUrls.default.http[0];if(!w)throw new PZ;const b=aH(w,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:L});return kZ({key:s,methods:a,name:o,async request({method:x,params:_}){const I={method:x,params:_},{schedule:M}=rS({id:w,wait:y,shouldSplitBatch(P){return P.length>m},fn:P=>b.request({body:P}),sort:(P,T)=>P.id-T.id}),N=async P=>n?M(P):[await b.request({body:P})],[{error:U,result:B}]=await N(I);if(d)return{error:U,result:B};if(U)throw new D4({body:I,error:U,url:w});return B},retryCount:C,retryDelay:u,timeout:L,type:"http"},{fetchOptions:i,url:w})}}const O7=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new _A(`Unsupported chainId ${t}`,4901);return _8({transport:F1(OZ(s,n,r.appId)),chain:s})},OZ=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new _A(`No RPC url found for ${i}`);return r};function RZ({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function $Z(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let MZ=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function NZ(t,e,n,r,i=!1,s,a){let o=i,c=async u=>{if(o){u===(i?0:1)?r():n.current?.reject(new xp("missing_or_invalid_mfa","MFA verification failed, retry."));let d=await new Promise((h,f)=>{e.current={resolve:h,reject:f},setTimeout(()=>{let p=new xp("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(p),f(p)},a)});return await t(d)}return await t()},l=null;for(let u=0;u<s;u++)try{l=await c(u),n.current?.resolve(void 0);break}catch(d){if(d.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),d;o=!0}if(l===null){let u=new xp("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(u),u}return l}var R7;let DZ=(R7=0,()=>"id-"+R7++),jZ=(t,e)=>typeof e=="bigint"?e.toString():e,io=async(t,{ms:e,msg:n})=>{let r,i=new Promise((s,a)=>{r=setTimeout(()=>{a(Error(n))},e??15e3)});try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},$7=new MZ,M7=class{invokeWithMfa(e,n){return io(NZ(r=>io(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return io(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return io(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return io(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return io(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return io(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return io(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=$7.dequeue(e.event,e.id);return e.error!==void 0?n(new xp(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await $Z(150)})}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,jZ)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,a)=>{let o=DZ();$7.enqueue(o,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:o,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var cI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function a(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,h,f,p){var m=n?n+l:l;if(!this._events[m])return!1;var y=this._events[m],C=arguments.length,L,w;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(w=1,L=new Array(C-1);w<C;w++)L[w-1]=arguments[w];y.fn.apply(y.context,L)}else{var b=y.length,x;for(w=0;w<b;w++)switch(y[w].once&&this.removeListener(l,y[w].fn,void 0,!0),C){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!L)for(x=1,L=new Array(C-1);x<C;x++)L[x-1]=arguments[x];y[w].fn.apply(y[w].context,L)}}return!0},o.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var m=0,y=[],C=p.length;m<C;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[f]=y.length===1?y[0]:y:a(this,f)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(cI);var UZ=cI.exports;const _2=w2(UZ);let b6={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const lI={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let N2=t=>t!==void 0?BigInt(t):void 0;function c0(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(l=>Array.isArray(l)?{address:l[0],storageKeys:l[1]}:l):r.accessList&&(e=Object.entries(r.accessList).map(l=>({address:l[0],storageKeys:l[1]})));let i=Number(r.chainId??1),s=xr(r.data)?r.data:r.data?Ye(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,o={chainId:i,data:s,nonce:a,value:N2(r.value),gas:N2(r.gas??r.gasLimit)},c=Number(n);if(c===0)return{...r,type:b6[c],...o,gasPrice:N2(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===1)return{...r,type:b6[c],...o,gasPrice:N2(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===2)return{...r,type:b6[c],...o,nonce:a,accessList:e,maxFeePerGas:N2(r.maxFeePerGas),maxPriorityFeePerGas:N2(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const l0=t=>/^0x[0-9a-fA-F]*$/.test(t),u0=t=>Buffer.from(t,"utf8"),nh=t=>`0x${t.toString("hex")}`;var BZ=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const FZ=w2(BZ);async function zZ(t,e){let n=FZ(e);if(n===void 0)throw new wt({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function is(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(q3,{params:{wallet_id:n}}),method:q3.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await zZ(e,i);return await t.fetchPrivyRoute(q3,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function WZ(t){return{from:t.from,to:t.to??void 0,nonce:fc(t.nonce),chain_id:fc(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?l0(e)?e:nh(u0(e)):nh(Buffer.from(Uint8Array.from(e)))}(t.data),value:fc(t.value),type:t.type,gas_limit:fc(t.gasLimit),gas_price:fc(t.gasPrice),max_fee_per_gas:fc(t.maxFeePerGas),max_priority_fee_per_gas:fc(t.maxPriorityFeePerGas)}}function fc(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return l0(t)?t:nh(u0(t))}function VZ(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function uI({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,o=await is(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(o.method!=="personal_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"eth_signTransaction":{let[a]=s.params,o=await is(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:WZ(a)}});if(o.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:o.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,o=await is(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:VZ(a)}});if(o.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:o.data.signature}}case"eth_sign":{let[,a]=s.params,o=await is(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:l0(a)?a:nh(u0(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"secp256k1_sign":{let[a]=s.params,o=await is(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:l0(a)?a:nh(u0(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,o=await is(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(o.method!=="signMessage")throw Error("Unable to sign message");return{data:o.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let HZ=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),v6=class extends _2{async request(e){if(HZ.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=O7(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=c0(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:lI[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=Ye(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=c0(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Mb(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Mb(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(ko(r)){let{data:i}=await uI({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=L4(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise(async(o,c)=>{a=setTimeout(()=>c(new wt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>o(!0)})}).finally(()=>clearTimeout(a))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new wt({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:o,chainId:c=a[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=c,this._chains=a,this._onNeedsRecovery=o,this._client=O7(c,a,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}};function ly(t){return"version"in t}function N7(t,e){let n=(ly(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let qZ=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new wt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=L4(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,a)=>{i=setTimeout(()=>a(new wt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!ko(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await uI({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new wt({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=N7(r,this._account.address),o=ly(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:c}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},n);return r.addSignature(a,Buffer.from(c,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new wt({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=N7(r,this._account.address),s=ly(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new wt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:o}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=o}},ZZ=class{setMessagePoster(e){this._proxy=new M7(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new wt({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await G3({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new wt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return ko(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new sB({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:o,skipCallbacks:c,idempotencyKey:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new wt({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await G3({context:{app:this._appApi,fetchPrivyRoute:(...u)=>this._privyInternal.fetch(...u),getCompiledPath:(...u)=>this._privyInternal.getPath(...u)},chainType:"ethereum",idempotencyKey:l})}else{let u;if(u=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(u==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let d=await this._privyInternal.getAccessTokenInternal();if(!d)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:d,recoveryMethod:u,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:o?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(c)}async createSolana(e){if(!this._proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await G3({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana",idempotencyKey:e?.idempotencyKey});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new wt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new wt({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new wt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return ko(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new v6({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o,onNeedsRecovery:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return ko(e)||(!c||i||s||a||o)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o}),new v6({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:c,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,o){if(!this._proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return ko(e)||(!o||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new qZ({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(ko(n))throw new wt({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});RZ({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:o}=await this._privyInternal.refreshSession();return{user:o,provider:n.chain_type!=="ethereum"?null:new v6({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let c=await this._privyInternal.getAccessTokenInternal();if(!c)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:c,entropyId:e,entropyIdVerifier:n}),e}catch(l){if(L4(l))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:c,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw l}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(y1),this._privyInternal=e,n&&(this._proxy=new M7(n,s),i.setProxy(this._proxy)),r){let o=vA(r);this._chains=o}this._mfa=i,this._mfaPromises=s,this._appApi=a}},GZ=class extends _2{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var dI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cA,function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(o,a),function(l,u){var d=a.retries,h=a.retryDelay,f=a.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))d=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")h=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(p,m){var y=function(L){var w=typeof Request<"u"&&l instanceof Request?l.clone():l;s(w,u).then(function(b){if(Array.isArray(f)&&f.indexOf(b.status)===-1)p(b);else if(typeof f=="function")try{return Promise.resolve(f(L,null,b)).then(function(x){x?C(L,null,b):p(b)}).catch(m)}catch(x){m(x)}else L<d?C(L,null,b):p(b)}).catch(function(b){if(typeof f=="function")try{Promise.resolve(f(L,b,null)).then(function(x){x?C(L,b,null):m(b)}).catch(function(x){m(x)})}catch(x){m(x)}else L<d?C(L,b,null):m(b)})};function C(L,w,b){var x=typeof h=="function"?h(L,w,b):h;setTimeout(function(){y(++L)},x)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(dI);var KZ=dI.exports;const hI=w2(KZ);let $f;const YZ=new Uint8Array(16);function JZ(){if(!$f&&($f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $f(YZ)}const Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function XZ(t,e=0){return Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]}const QZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D7={randomUUID:QZ};function uy(t,e,n){if(D7.randomUUID&&!t)return D7.randomUUID();t=t||{};const r=t.random||(t.rng||JZ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XZ(r)}var Me,j7=((Me={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Me.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Me.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Me.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Me.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Me.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",Me.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Me.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Me.INVALID_DATA="invalid_data",Me.INVALID_CREDENTIALS="invalid_credentials",Me.INVALID_CAPTCHA="invalid_captcha",Me.LINKED_TO_ANOTHER_USER="linked_to_another_user",Me.ALLOWLIST_REJECTED="allowlist_rejected",Me.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Me.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Me.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Me.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Me.TOO_MANY_REQUESTS="too_many_requests",Me.RESOURCE_CONFLICT="resource_conflict",Me.INVALID_ORIGIN="invalid_origin",Me.MISSING_ORIGIN="missing_origin",Me.INVALID_NATIVE_APP_ID="invalid_native_app_id",Me.TOKEN_ALREADY_USED="token_already_used",Me.ALREADY_LOGGED_OUT="already_logged_out",Me.NOT_SUPPORTED="not_supported",Me.USER_UNSUBSCRIBED="user_unsubscribed",Me.MAX_APPS_REACHED="max_apps_reached",Me.USER_LIMIT_REACHED="max_accounts_reached",Me.DEVICE_REVOKED="device_revoked",Me.WALLET_PASSWORD_EXISTS="wallet_password_exists",Me.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Me.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Me.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Me.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Me.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Me.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Me.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Me.CANNOT_SET_PASSWORD="cannot_set_password",Me.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Me.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Me.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Me.USER_DOES_NOT_EXIST="user_does_not_exist",Me.ALREADY_EXISTS="resource_already_exists",Me.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Me.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Me.FEATURE_NOT_ENABLED="feature_not_enabled",Me.INSUFFICIENT_FUNDS="insufficient_funds",Me.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Me.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",Me.INVALID_SOLANA_TRANSACTION="invalid_solana_transaction",Me.INVALID_POLICY_FORMAT="invalid_policy_format",Me.INVALID_AGGREGATION_FORMAT="invalid_aggregation_format",Me.POLICY_VIOLATION="policy_violation",Me.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Me.INVALID_REQUEST="invalid_request",Me.SIGNUP_DISABLED="signup_disabled",Me),ht;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ht||(ht={}));var U7;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(U7||(U7={}));const Se=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ao=t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},me=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Za extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),r}static assert(e){if(!(e instanceof Za))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Za.create=t=>new Za(t);const dy=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let eG=dy;function tG(){return eG}const nG=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function xe(t,e){const n=tG(),r=nG({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dy?void 0:dy].filter(i=>!!i)});t.common.issues.push(r)}class kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return He;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return kr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return He;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),Xu=t=>({status:"dirty",value:t}),Vi=t=>({status:"valid",value:t}),B7=t=>t.status==="aborted",F7=t=>t.status==="dirty",zl=t=>t.status==="valid",d0=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Re||(Re={}));class Ks{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z7=(t,e)=>{if(zl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Za(t.common.issues);return this._error=n,this._error}}};function Qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class ot{get description(){return this._def.description}_getType(e){return Ao(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ao(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:Ao(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(d0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ao(e)},i=this._parseSync({data:e,path:r.path,parent:r});return z7(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ao(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return zl(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>zl(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ao(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(d0(i)?i:Promise.resolve(i));return z7(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new o2({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ba.create(this,this._def)}nullable(){return c2.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vs.create(this)}promise(){return y0.create(this,this._def)}or(e){return f0.create([this,e],this._def)}and(e){return p0.create(this,e,this._def)}transform(e){return new o2({...Qe(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new w0({...Qe(this._def),innerType:this,defaultValue:n,typeName:qe.ZodDefault})}brand(){return new gI({typeName:qe.ZodBranded,type:this,...Qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new b0({...Qe(this._def),innerType:this,catchValue:n,typeName:qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return E8.create(this,e)}readonly(){return v0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rG=/^c[^\s-]{8,}$/i,iG=/^[0-9a-z]+$/,sG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oG=/^[a-z0-9_-]{21}$/i,cG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _6;const hG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wG=new RegExp(`^${fI}$`);function pI(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function bG(t){return new RegExp(`^${pI(t)}$`)}function vG(t){let e=`${fI}T${pI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function _G(t,e){return!!((e==="v4"||!e)&&hG.test(t)||(e==="v6"||!e)&&pG.test(t))}function CG(t,e){if(!cG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function EG(t,e){return!!((e==="v4"||!e)&&fG.test(t)||(e==="v6"||!e)&&mG.test(t))}class Fs extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const s=this._getOrReturnCtx(e);return xe(s,{code:me.invalid_type,expected:Se.string,received:s.parsedType}),He}const r=new kr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?xe(i,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&xe(i,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")uG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")_6||(_6=new RegExp(dG,"u")),_6.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")aG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")oG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")rG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")iG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")sG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:me.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:me.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:me.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?vG(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?wG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?bG(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:me.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?lG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:me.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?_G(e.data,s.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:me.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?CG(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:me.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?EG(e.data,s.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:me.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?gG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:me.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?yG.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:me.invalid_string,message:s.message}),r.dirty()):ht.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:me.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new Fs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Re.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Re.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Re.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fs.create=t=>new Fs({checks:[],typeName:qe.ZodString,coerce:t?.coerce??!1,...Qe(t)});function xG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class r2 extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const s=this._getOrReturnCtx(e);return xe(s,{code:me.invalid_type,expected:Se.number,received:s.parsedType}),He}let r;const i=new kr;for(const s of this._def.checks)s.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:me.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?xG(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:me.not_finite,message:s.message}),i.dirty()):ht.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new r2({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new r2({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}r2.create=t=>new r2({checks:[],typeName:qe.ZodNumber,coerce:t?.coerce||!1,...Qe(t)});class i2 extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const i=new kr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ht.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:me.invalid_type,expected:Se.bigint,received:n.parsedType}),He}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,i){return new i2({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new i2({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}i2.create=t=>new i2({checks:[],typeName:qe.ZodBigInt,coerce:t?.coerce??!1,...Qe(t)});class h0 extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.boolean,received:r.parsedType}),He}return Vi(e.data)}}h0.create=t=>new h0({typeName:qe.ZodBoolean,coerce:t?.coerce||!1,...Qe(t)});class Wl extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const s=this._getOrReturnCtx(e);return xe(s,{code:me.invalid_type,expected:Se.date,received:s.parsedType}),He}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return xe(s,{code:me.invalid_date}),He}const r=new kr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ht.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wl.create=t=>new Wl({checks:[],coerce:t?.coerce||!1,typeName:qe.ZodDate,...Qe(t)});class W7 extends ot{_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.symbol,received:r.parsedType}),He}return Vi(e.data)}}W7.create=t=>new W7({typeName:qe.ZodSymbol,...Qe(t)});class hy extends ot{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.undefined,received:r.parsedType}),He}return Vi(e.data)}}hy.create=t=>new hy({typeName:qe.ZodUndefined,...Qe(t)});class fy extends ot{_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.null,received:r.parsedType}),He}return Vi(e.data)}}fy.create=t=>new fy({typeName:qe.ZodNull,...Qe(t)});class py extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Vi(e.data)}}py.create=t=>new py({typeName:qe.ZodAny,...Qe(t)});class V7 extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vi(e.data)}}V7.create=t=>new V7({typeName:qe.ZodUnknown,...Qe(t)});class Jo extends ot{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:me.invalid_type,expected:Se.never,received:n.parsedType}),He}}Jo.create=t=>new Jo({typeName:qe.ZodNever,...Qe(t)});class H7 extends ot{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.void,received:r.parsedType}),He}return Vi(e.data)}}H7.create=t=>new H7({typeName:qe.ZodVoid,...Qe(t)});class Vs extends ot{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Se.array)return xe(n,{code:me.invalid_type,expected:Se.array,received:n.parsedType}),He;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(xe(n,{code:a?me.too_big:me.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Ks(n,a,n.path,o)))).then(a=>kr.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Ks(n,a,n.path,o)));return kr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Vs({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new Vs({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new Vs({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}Vs.create=(t,e)=>new Vs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...Qe(e)});function il(t){if(t instanceof dn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ba.create(il(r))}return new dn({...t._def,shape:()=>e})}else return t instanceof Vs?new Vs({...t._def,type:il(t.element)}):t instanceof Ba?Ba.create(il(t.unwrap())):t instanceof c2?c2.create(il(t.unwrap())):t instanceof s2?s2.create(t.items.map(e=>il(e))):t}class dn extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Se.object){const l=this._getOrReturnCtx(e);return xe(l,{code:me.invalid_type,expected:Se.object,received:l.parsedType}),He}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Jo&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ks(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Jo){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(xe(i,{code:me.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ks(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>kr.mergeObjectSync(r,l)):kr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new dn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(e){return new dn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dn({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new dn({...this._def,shape:()=>n})}deepPartial(){return il(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new dn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ba;)s=s._def.innerType;n[r]=s}return new dn({...this._def,shape:()=>n})}keyof(){return mI(ht.objectKeys(this.shape))}}dn.create=(t,e)=>new dn({shape:()=>t,unknownKeys:"strip",catchall:Jo.create(),typeName:qe.ZodObject,...Qe(e)});dn.strictCreate=(t,e)=>new dn({shape:()=>t,unknownKeys:"strict",catchall:Jo.create(),typeName:qe.ZodObject,...Qe(e)});dn.lazycreate=(t,e)=>new dn({shape:t,unknownKeys:"strip",catchall:Jo.create(),typeName:qe.ZodObject,...Qe(e)});class f0 extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Za(o.ctx.common.issues));return xe(n,{code:me.invalid_union,unionErrors:a}),He}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new Za(c));return xe(n,{code:me.invalid_union,unionErrors:o}),He}}get options(){return this._def.options}}f0.create=(t,e)=>new f0({options:t,typeName:qe.ZodUnion,...Qe(e)});const wa=t=>t instanceof gy?wa(t.schema):t instanceof o2?wa(t.innerType()):t instanceof g0?[t.value]:t instanceof a2?t.options:t instanceof yy?ht.objectValues(t.enum):t instanceof w0?wa(t._def.innerType):t instanceof hy?[void 0]:t instanceof fy?[null]:t instanceof Ba?[void 0,...wa(t.unwrap())]:t instanceof c2?[null,...wa(t.unwrap())]:t instanceof gI||t instanceof v0?wa(t.unwrap()):t instanceof b0?wa(t._def.innerType):[];class C8 extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.object)return xe(n,{code:me.invalid_type,expected:Se.object,received:n.parsedType}),He;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=wa(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new C8({typeName:qe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Qe(r)})}}function my(t,e){const n=Ao(t),r=Ao(e);if(t===e)return{valid:!0,data:t};if(n===Se.object&&r===Se.object){const i=ht.objectKeys(e),s=ht.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=my(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===Se.array&&r===Se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=my(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Se.date&&r===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class p0 extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(B7(s)||B7(a))return He;const o=my(s.value,a.value);return o.valid?((F7(s)||F7(a))&&n.dirty(),{status:n.value,value:o.data}):(xe(r,{code:me.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}p0.create=(t,e,n)=>new p0({left:t,right:e,typeName:qe.ZodIntersection,...Qe(n)});class s2 extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return xe(r,{code:me.invalid_type,expected:Se.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return xe(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Ks(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>kr.mergeArray(n,a)):kr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new s2({...this._def,rest:e})}}s2.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new s2({items:t,typeName:qe.ZodTuple,rest:null,...Qe(e)})};class m0 extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return xe(r,{code:me.invalid_type,expected:Se.object,received:r.parsedType}),He;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Ks(r,o,r.path,o)),value:a._parse(new Ks(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?kr.mergeObjectAsync(n,i):kr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ot?new m0({keyType:e,valueType:n,typeName:qe.ZodRecord,...Qe(r)}):new m0({keyType:Fs.create(),valueType:e,typeName:qe.ZodRecord,...Qe(n)})}}class q7 extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return xe(r,{code:me.invalid_type,expected:Se.map,received:r.parsedType}),He;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],l)=>({key:i._parse(new Ks(r,o,r.path,[l,"key"])),value:s._parse(new Ks(r,c,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return He;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return He;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}q7.create=(t,e,n)=>new q7({valueType:e,keyType:t,typeName:qe.ZodMap,...Qe(n)});class rh extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return xe(r,{code:me.invalid_type,expected:Se.set,received:r.parsedType}),He;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return He;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((c,l)=>s._parse(new Ks(r,c,r.path,l)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new rh({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new rh({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rh.create=(t,e)=>new rh({valueType:t,minSize:null,maxSize:null,typeName:qe.ZodSet,...Qe(e)});class gy extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gy.create=(t,e)=>new gy({getter:t,typeName:qe.ZodLazy,...Qe(e)});class g0 extends ot{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}g0.create=(t,e)=>new g0({value:t,typeName:qe.ZodLiteral,...Qe(e)});function mI(t,e){return new a2({values:t,typeName:qe.ZodEnum,...Qe(e)})}class a2 extends ot{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:ht.joinValues(r),received:n.parsedType,code:me.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:me.invalid_enum_value,options:r}),He}return Vi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return a2.create(e,{...this._def,...n})}exclude(e,n=this._def){return a2.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}a2.create=mI;class yy extends ot{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const i=ht.objectValues(n);return xe(r,{expected:ht.joinValues(i),received:r.parsedType,code:me.invalid_type}),He}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ht.objectValues(n);return xe(r,{received:r.data,code:me.invalid_enum_value,options:i}),He}return Vi(e.data)}get enum(){return this._def.values}}yy.create=(t,e)=>new yy({values:t,typeName:qe.ZodNativeEnum,...Qe(e)});class y0 extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.promise&&n.common.async===!1)return xe(n,{code:me.invalid_type,expected:Se.promise,received:n.parsedType}),He;const r=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return Vi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}y0.create=(t,e)=>new y0({type:t,typeName:qe.ZodPromise,...Qe(e)});class o2 extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{xe(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return He;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?He:c.status==="dirty"||n.value==="dirty"?Xu(c.value):c});{if(n.value==="aborted")return He;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?He:o.status==="dirty"||n.value==="dirty"?Xu(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?He:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?He:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zl(a))return He;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>zl(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):He);ht.assertNever(i)}}o2.create=(t,e,n)=>new o2({schema:t,typeName:qe.ZodEffects,effect:e,...Qe(n)});o2.createWithPreprocess=(t,e,n)=>new o2({schema:e,effect:{type:"preprocess",transform:t},typeName:qe.ZodEffects,...Qe(n)});class Ba extends ot{_parse(e){return this._getType(e)===Se.undefined?Vi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ba.create=(t,e)=>new Ba({innerType:t,typeName:qe.ZodOptional,...Qe(e)});class c2 extends ot{_parse(e){return this._getType(e)===Se.null?Vi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}c2.create=(t,e)=>new c2({innerType:t,typeName:qe.ZodNullable,...Qe(e)});class w0 extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}w0.create=(t,e)=>new w0({innerType:t,typeName:qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class b0 extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return d0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Za(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Za(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}b0.create=(t,e)=>new b0({innerType:t,typeName:qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class Z7 extends ot{_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:me.invalid_type,expected:Se.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}Z7.create=t=>new Z7({typeName:qe.ZodNaN,...Qe(t)});class gI extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class E8 extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?He:s.status==="dirty"?(n.dirty(),Xu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new E8({in:e,out:n,typeName:qe.ZodPipeline})}}class v0 extends ot{_parse(e){const n=this._def.innerType._parse(e),r=i=>(zl(i)&&(i.value=Object.freeze(i.value)),i);return d0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}v0.create=(t,e)=>new v0({innerType:t,typeName:qe.ZodReadonly,...Qe(e)});var qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(qe||(qe={}));const $t=Fs.create,Di=r2.create;i2.create;const yI=h0.create,AG=Wl.create,Vl=py.create;Jo.create;const z1=Vs.create,Bn=dn.create,wI=f0.create,LG=C8.create;p0.create;s2.create;const Zc=m0.create,SG=g0.create,na=a2.create;y0.create;Ba.create;c2.create;const IG={string:t=>Fs.create({...t,coerce:!0}),number:t=>r2.create({...t,coerce:!0}),boolean:t=>h0.create({...t,coerce:!0}),bigint:t=>i2.create({...t,coerce:!0}),date:t=>Wl.create({...t,coerce:!0})};/*! js-cookie v3.0.5 | MIT */function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var TG={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function wy(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Mf({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in a)a[c]&&(o+="; "+c,a[c]!==!0&&(o+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+o}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var c=s[o].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=t.read(l,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Mf({},s,{expires:-1}))},withAttributes:function(i){return wy(this.converter,Mf({},this.attributes,i))},withConverter:function(i){return wy(Mf({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var tn=wy(TG,{path:"/"});const G7=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let D2="privy:token",C6="privy-token",E6="privy:pat",Nf="privy:refresh_token",x6="privy-refresh-token",j2="privy:id-token",A6="privy-id-token",Df="privy-session",bI=class extends _2{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(D2);try{return typeof e=="string"?new tl(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(E6);try{return typeof e=="string"?new tl(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Nf);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(j2);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=tn.get(Df);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=tl.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await G7([this._storage.del(D2),this._storage.del(Nf),this._storage.del(j2),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),tn.remove(C6),tn.remove(x6),tn.remove(A6),tn.remove(Df),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(D2);if(await this._storage.put(D2,e),!this._isUsingServerCookies){let r=tl.parse(e)?.expiration;tn.set(C6,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(D2);await this._storage.del(D2),tn.remove(C6),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(E6,e):await this._storage.del(E6)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Nf,e),this._isUsingServerCookies||(tn.set(Df,"t",{sameSite:"Strict",secure:!0,expires:30}),tn.set(x6,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Nf),tn.remove(x6),tn.remove(Df),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await G7([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(j2);if(await this._storage.put(j2,e),!this._isUsingServerCookies){let r=tl.parse(e)?.expiration;tn.set(A6,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(j2);await this._storage.del(j2),tn.remove(A6),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Kc(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};bI.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var kG=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function PG(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const jf=()=>{};let so={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const OG=({level:t}={level:"ERROR"})=>({get level(){return t},error:so[t]>=so.ERROR?console.error:jf,warn:so[t]>=so.WARN?console.warn:jf,info:so[t]>=so.INFO?console.info:jf,debug:so[t]>=so.DEBUG?console.debug:jf});let L6="privy:caid",RG=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new wt({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${dU(e.path,n)}${PG(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),c=await a(o),l=await this._fetch(o,c),u=await l.json();if(l.status>299)throw new Z3({...u,status:l.status});return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:kG(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(xj,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(L6);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=uy()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(L6,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(L6)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(Ej,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new wt({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new Z3({code:j7.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage",status:401});try{this.logger.debug(`[privy:refresh] fetching: ${$b.path}`);let i=await this.fetch($b,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&(i.token&&(await this.session.storeCustomerAccessToken(i.token),this.logger.debug("[privy:refresh] token stored (CAT)")),i.privy_access_token&&(await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] token stored (PAT)")),i.identity_token&&(this.logger.debug("[privy:refresh] token stored (IDT)"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),n||this.callbacks?.setUser?.(i.user),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof Z3&&i.code===j7.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${uy()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.60.3",this._cache=new Map,this.logger=OG({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new bI({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=hI(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},$G=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(CU,{})}}constructor(e){this._privyInternal=e}};const vI=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",_I=t=>t?t.linked_accounts.filter(vI).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],K7=t=>_I(t).find(e=>e.wallet_index===0)??null,CI=t=>t?t.linked_accounts.filter(vI).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],MG=t=>CI(t).find(e=>e.wallet_index===0)??null,NG=(t,e)=>!(e==="off"||_I(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),DG=(t,e)=>!(e==="off"||CI(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),ys=async(t,e,n)=>{let r=NG(e.user,n?.ethereum?.createOnLogin??"off"),i=DG(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:K7(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:MG(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:K7(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let jG=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(Ij,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ys(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithToken(e){await this._privyInternal.fetch(Tj,{body:{token:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},UG=class{async sendCode(e,n){return this._privyInternal.fetch(Jj,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(Yj,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ys(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(Xj,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(eU,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(Qj,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},BG=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(kj,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch($j,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){let o=await this._privyInternal.fetch(Pj,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(o);let c=await ys(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(Oj,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(Rj,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},FG=class{async initializeAuth(){return await this._privyInternal.fetch(Mj,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(Nj,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ys(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},zG=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(Dj,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await ys(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Po="privy:state_code",Oo="privy:code_verifier";async function WG(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function VG(t){return crypto.getRandomValues(new Uint8Array(t))}function x8(){return Kc(VG(36))}function EI(){return x8()}async function xI({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await WG(t,n);return Kc(r)}}let HG=class{async generateURL(e,n){let r=x8(),i=EI(),s=await xI({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Oo,r),this._storage.put(Po,i)]),this._privyInternal.fetch(Fj,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){let[o,c]=await Promise.all([this._storage.get(Oo),this._storage.get(Po)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:c??"",returnedStateCode:n??""}),new wt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(Bj,{body:{authorization_code:e,code_type:i,state_code:c,code_verifier:o,mode:s}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await ys(this._embedded,l,a?.embedded);return await Promise.all([this._storage.del(Oo),this._storage.del(Po)]),this._privyInternal.callbacks?.setUser?.(u.user),u}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(Oo),this._storage.get(Po)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new wt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(zj,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let c=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Oo),this._storage.del(Po)]),{user:c.user,identity_token:c.identity_token}}async unlink(e,n){await this._privyInternal.fetch(Wj,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},qG=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Kj,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Zj,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Gj,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(Hj,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ys(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(qj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ys(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(Vj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},ZG=class{async sendCode(e,n){return this._privyInternal.fetch(nU,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(tU,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ys(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(rU,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(sU,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(iU,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},GG=class{async unlinkWallet(e){await this._privyInternal.fetch(yU,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(mU,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){let a=n||this._wallet,o=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let c=await this._privyInternal.fetch(pU,{body:{signature:e,message:o,chainId:a.chainId,walletClientType:a.walletClientType??null,connectorType:a.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let l=await ys(this._embedded,c,s?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(uA,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},KG=class{async unlink({address:e}){await this._privyInternal.fetch(_U,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(vU,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){let o=await this._privyInternal.fetch(bU,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let c=await ys(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(wU,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},YG=class{async link(e,n,r,i){await this._privyInternal.fetch(gU,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(uA,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},JG=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(hU,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new jG(this._privyInternal,n),this.phone=new ZG(this._privyInternal,n),this.email=new UG(this._privyInternal,n),this.oauth=new HG(this._privyInternal,n,r,i),this.guest=new zG(this._privyInternal,n),this.siwe=new GG(this._privyInternal,n),this.siws=new KG(this._privyInternal,n),this.smartWallet=new YG(this._privyInternal),this.passkey=new qG(this._privyInternal,n),this.farcaster=new BG(this._privyInternal,n),this.farcasterV2=new FG(this._privyInternal,n)}},XG=class{async initOnRampSession(e){return await this._privyInternal.fetch(Aj,{body:e})}async getStatus(e){return await this._privyInternal.fetch(Lj,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const QG={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let eK=new Set([au.id,Th.id,Ph.id,Oh.id,kh.id,E4.id,A4.id]),tK=new Set([au.id,Th.id,x4.id,Ph.id,Oh.id,kh.id]);function lLe(t,e){switch(e){case"native-currency":return eK.has(t);case"USDC":return tK.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function uLe(t,e){switch(t){case Th.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case kh.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case Ph.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case E4.id:return"CELO_CELO";case Oh.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case A4.id:return"MON_MON";case au.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let nK=class{async sign(e){return await this._privyInternal.fetch(EU,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=QG[n?"sandbox":"prod"],s=await hI(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new iB({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},rK=class{constructor(e){this.moonpay=new nK(e),this.coinbase=new XG(e)}},iK=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(jj,{body:e})}constructor(e){this._privyInternal=e}},sK=class{async sendCode(e){return await this._privyInternal.fetch(Uj,{body:e})}constructor(e){this._privyInternal=e}},aK=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new wt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new wt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new sK(e),this.passkey=new iK(e)}},oK=class{async init(e){return this._privyInternal.fetch(lU,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(uU,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},cK=class{async generateURL(e){let n=x8(),r=EI(),i=await xI({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Oo,n),this._storage.put(Po,r)]),this._privyInternal.fetch(oU,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Oo),this._storage.get(Po)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new wt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(cU,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Oo),this._storage.del(Po)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},lK=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(aU,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new cK(this._privyInternal,n,r),this.icloudAuth=new oK(this._privyInternal)}},uK=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new RG({...n,appClientId:e}),this.mfa=new aK(this._privyInternal),this.mfaPromises=new GZ,this.app=new LU(this._privyInternal),this.embeddedWallet=new ZZ(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new $G(this._privyInternal),this.auth=new JG(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new lK(this._privyInternal,n.storage,n.crypto),this.funding=new rK(this._privyInternal),this.delegated=new NU(this._privyInternal),this.crossApp=new fA(this._privyInternal,n.storage)}};function kn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var dK=0;function AI(t){return"__private_"+dK+++"_"+t}var Ut=AI("_wallet"),ri=AI("_account");let hK=class{get standardWallet(){return kn(this,Ut)[Ut]}get address(){return kn(this,ri)[ri].address}async disconnect(){if(!kn(this,Ut)[Ut].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await kn(this,Ut)[Ut].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!kn(this,Ut)[Ut].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await kn(this,Ut)[Ut].features["solana:signMessage"].signMessage(...e.map(r=>({...r,account:kn(this,ri)[ri]})));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!kn(this,Ut)[Ut].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await kn(this,Ut)[Ut].features["solana:signTransaction"].signTransaction(...e.map(r=>({...r,account:kn(this,ri)[ri]})));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!kn(this,Ut)[Ut].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await kn(this,Ut)[Ut].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(r=>({...r,account:kn(this,ri)[ri]})));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!kn(this,Ut)[Ut].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await kn(this,Ut)[Ut].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(n=>({...n,account:kn(this,ri)[ri]})))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Ut,{writable:!0,value:void 0}),Object.defineProperty(this,ri,{writable:!0,value:void 0}),kn(this,Ut)[Ut]=e,kn(this,ri)[ri]=n}};const LI=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&t.length===42&&e.length===42&&Nn(t)===Nn(e);function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}var fK=/^\s+/,pK=/\s+$/;function Le(t,e){if(t=t||"",e=e||{},t instanceof Le)return t;if(!(this instanceof Le))return new Le(t,e);var n=mK(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Le.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=SI(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Y7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Y7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return X7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return bK(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Zt(this._r,255)*100)+"%",g:Math.round(Zt(this._g,255)*100)+"%",b:Math.round(Zt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Zt(this._r,255)*100)+"%, "+Math.round(Zt(this._g,255)*100)+"%, "+Math.round(Zt(this._b,255)*100)+"%)":"rgba("+Math.round(Zt(this._r,255)*100)+"%, "+Math.round(Zt(this._g,255)*100)+"%, "+Math.round(Zt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:PK[X7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Q7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Le(e);r="#"+Q7(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Le(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(EK,arguments)},brighten:function(){return this._applyModification(xK,arguments)},darken:function(){return this._applyModification(AK,arguments)},desaturate:function(){return this._applyModification(vK,arguments)},saturate:function(){return this._applyModification(_K,arguments)},greyscale:function(){return this._applyModification(CK,arguments)},spin:function(){return this._applyModification(LK,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(TK,arguments)},complement:function(){return this._applyCombination(SK,arguments)},monochromatic:function(){return this._applyCombination(kK,arguments)},splitcomplement:function(){return this._applyCombination(IK,arguments)},triad:function(){return this._applyCombination(e9,[3])},tetrad:function(){return this._applyCombination(e9,[4])}};Le.fromRatio=function(t,e){if(_0(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Qu(t[r]));t=n}return Le(t,e)};function mK(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=MK(t)),_0(t)=="object"&&(la(t.r)&&la(t.g)&&la(t.b)?(e=gK(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):la(t.h)&&la(t.s)&&la(t.v)?(r=Qu(t.s),i=Qu(t.v),e=wK(t.h,r,i),a=!0,o="hsv"):la(t.h)&&la(t.s)&&la(t.l)&&(r=Qu(t.s),s=Qu(t.l),e=yK(t.h,r,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=SI(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function gK(t,e,n){return{r:Zt(t,255)*255,g:Zt(e,255)*255,b:Zt(n,255)*255}}function Y7(t,e,n){t=Zt(t,255),e=Zt(e,255),n=Zt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var c=r-i;switch(a=o>.5?c/(2-r-i):c/(r+i),r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,l:o}}function yK(t,e,n){var r,i,s;t=Zt(t,360),e=Zt(e,100),n=Zt(n,100);function a(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=a(c,o,t+1/3),i=a(c,o,t),s=a(c,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function J7(t,e,n){t=Zt(t,255),e=Zt(e,255),n=Zt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=r,c=r-i;if(a=r===0?0:c/r,r==i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,v:o}}function wK(t,e,n){t=Zt(t,360)*6,e=Zt(e,100),n=Zt(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),c=r%6,l=[n,a,s,s,o,n][c],u=[o,n,n,a,s,s][c],d=[s,s,o,n,n,a][c];return{r:l*255,g:u*255,b:d*255}}function X7(t,e,n,r){var i=[os(Math.round(t).toString(16)),os(Math.round(e).toString(16)),os(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function bK(t,e,n,r,i){var s=[os(Math.round(t).toString(16)),os(Math.round(e).toString(16)),os(Math.round(n).toString(16)),os(II(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Q7(t,e,n,r){var i=[os(II(r)),os(Math.round(t).toString(16)),os(Math.round(e).toString(16)),os(Math.round(n).toString(16))];return i.join("")}Le.equals=function(t,e){return!t||!e?!1:Le(t).toRgbString()==Le(e).toRgbString()};Le.random=function(){return Le.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function vK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s-=e/100,n.s=W1(n.s),Le(n)}function _K(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s+=e/100,n.s=W1(n.s),Le(n)}function CK(t){return Le(t).desaturate(100)}function EK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l+=e/100,n.l=W1(n.l),Le(n)}function xK(t,e){e=e===0?0:e||10;var n=Le(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Le(n)}function AK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l-=e/100,n.l=W1(n.l),Le(n)}function LK(t,e){var n=Le(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Le(n)}function SK(t){var e=Le(t).toHsl();return e.h=(e.h+180)%360,Le(e)}function e9(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Le(t).toHsl(),r=[Le(t)],i=360/e,s=1;s<e;s++)r.push(Le({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function IK(t){var e=Le(t).toHsl(),n=e.h;return[Le(t),Le({h:(n+72)%360,s:e.s,l:e.l}),Le({h:(n+216)%360,s:e.s,l:e.l})]}function TK(t,e,n){e=e||6,n=n||30;var r=Le(t).toHsl(),i=360/n,s=[Le(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Le(r));return s}function kK(t,e){e=e||6;for(var n=Le(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(Le({h:r,s:i,v:s})),s=(s+o)%1;return a}Le.mix=function(t,e,n){n=n===0?0:n||50;var r=Le(t).toRgb(),i=Le(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Le(a)};Le.readability=function(t,e){var n=Le(t),r=Le(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Le.isReadable=function(t,e,n){var r=Le.readability(t,e),i,s;switch(s=!1,i=NK(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Le.mostReadable=function(t,e,n){var r=null,i=0,s,a,o,c;n=n||{},a=n.includeFallbackColors,o=n.level,c=n.size;for(var l=0;l<e.length;l++)s=Le.readability(t,e[l]),s>i&&(i=s,r=Le(e[l]));return Le.isReadable(t,r,{level:o,size:c})||!a?r:(n.includeFallbackColors=!1,Le.mostReadable(t,["#fff","#000"],n))};var by=Le.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},PK=Le.hexNames=OK(by);function OK(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function SI(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Zt(t,e){RK(t)&&(t="100%");var n=$K(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function W1(t){return Math.min(1,Math.max(0,t))}function oi(t){return parseInt(t,16)}function RK(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function $K(t){return typeof t=="string"&&t.indexOf("%")!=-1}function os(t){return t.length==1?"0"+t:""+t}function Qu(t){return t<=1&&(t=t*100+"%"),t}function II(t){return Math.round(parseFloat(t)*255).toString(16)}function t9(t){return oi(t)/255}var Qi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function la(t){return!!Qi.CSS_UNIT.exec(t)}function MK(t){t=t.replace(fK,"").replace(pK,"").toLowerCase();var e=!1;if(by[t])t=by[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Qi.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Qi.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Qi.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Qi.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Qi.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Qi.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Qi.hex8.exec(t))?{r:oi(n[1]),g:oi(n[2]),b:oi(n[3]),a:t9(n[4]),format:e?"name":"hex8"}:(n=Qi.hex6.exec(t))?{r:oi(n[1]),g:oi(n[2]),b:oi(n[3]),format:e?"name":"hex"}:(n=Qi.hex4.exec(t))?{r:oi(n[1]+""+n[1]),g:oi(n[2]+""+n[2]),b:oi(n[3]+""+n[3]),a:t9(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Qi.hex3.exec(t))?{r:oi(n[1]+""+n[1]),g:oi(n[2]+""+n[2]),b:oi(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function NK(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const vy="https://auth.privy.io",DK=2e4,_Le=1400,CLe=2500,ELe=4e3,jK="3.15.0",ed="privy:token",n9="privy-token",S6="privy:refresh_token",UK="privy-refresh-token",Lp="privy:pat",r9="privy:id_token",i9="privy-id-token",I6="privy-session",_y="privy:caid",TI=t=>`privy:guest:${t}`,Uf=t=>`privy:cross-app:${t}`,C0="privy:state_code",Au="privy:code_verifier",E0="privy:headless_oauth",pd="privy:oauth_disable_signup",T6=t=>`privy:wallet:${t}`,kI="privy:connections",V1=12e4,xLe=1,s9="0x1",BK=3e4,ALe="https://api.moonpay.com/v1",LLe="https://api.moonpay.com/v1",SLe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",ILe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",FK="deprecated",Eo={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let zK=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),a9=t=>zK.has(t),o9=(t,e,n)=>n.indexOf(t)===e;const WK=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(a9).filter(o9):t?t.filter(a9).filter(o9):Eo.appearance.walletList;let VK=/paymaster\.biconomy\.io\/api/i,HK={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const qK=(t,e)=>t&&VK.test(t)?HK:e&&e.policy_id?{policyId:e.policy_id}:void 0;function Bf(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Le({...t.toHsl(),l:n})}function k6(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ZK(t,e){if(!t){let r=e?td:Sp;return{accent:Le(r.background.interactive),accentLight:Le(r.background.interactive),accentHover:Le(r.background["interactive-hover"]),accentDark:Le(r.background["interactive-clicked"]),accentDarkest:Le(r.background["interactive-disabled"])}}let n=Le(t);return{accent:n,accentLight:Bf(n,.15),accentHover:Bf(n,.3),accentDark:Bf(n,-.06),accentDarkest:Bf(n,-.6)}}function GK({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Le(t).getLuminance(),r=Le(t).toHslString());let i=n?"dark":"light",s=n?td:Sp,{accent:a,accentLight:o,accentHover:c,accentDark:l,accentDarkest:u}=ZK(e,n),d=function(p){let m=Le(Sp.text.default),y=Le(td.text.default),C=k6(p,m),L=k6(p,y),w=p.toHsl();return w.h>=220&&w.h<=300&&L>=3?td.text.default:C>L?Sp.text.default:td.text.default}(a),h=Le(d),f=k6(a,Le(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:o.toHslString(),accentHover:c.toHslString(),accentDark:l.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:h.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?a.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const td={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Sp={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function PI(t,e,n,r,i){let s,a,o,c,l,u,d,h,f,p,m,y,C,L,w,b,x,_,I=n?console.warn:()=>{},M=[];if(e?.loginMethods)for(let V of(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),c=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),d=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),y=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),p=e.loginMethods.includes("twitch"),L=e.loginMethods.includes("github"),C=e.loginMethods.includes("linkedin"),w=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),x=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey"),e.loginMethods))typeof V=="string"&&V.startsWith("privy:")&&M.push(V);else s=t.email_auth,a=t.sms_auth,c=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,u=t.twitter_oauth,d=t.discord_oauth,L=t.github_oauth,m=t.spotify_oauth,y=t.instagram_oauth,h=t.tiktok_oauth,f=t.line_oauth,p=t.twitch_oauth,C=t.linkedin_oauth,w=t.apple_oauth,b=t.farcaster_auth,x=t.telegram_auth,o=t.passkey_auth,_=t.custom_jwt_auth;t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let N=[s,a].filter(Boolean),U=[l,u,d,L,m,y,h,f,p,C,w,b,x].filter(Boolean),B=[c].filter(Boolean),P=e?.loginMethods?.includes("passkey")??!1,T=t.passkeys_for_signup_enabled??!1,j=[o&&(T||P)].filter(Boolean),v=[_].filter(Boolean);if(N.length+U.length+B.length+j.length+v.length+M.length===0)throw Error("You must enable at least one login method");let E=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;E&&B.length===0?(I("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),E=!1):E||U.length+N.length!==0||(I("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),E=!0);let O=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&I("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let k=WK({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if((k.includes("wallet_connect_qr")||k.includes("wallet_connect"))&&k.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let $=(({input:V})=>{if(!V||!V.primary[0])return;let je=[V.primary[0]],Fe=[];for(let fe of(V.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),V.primary.slice(1)))je.includes(fe)?console.warn(`Duplicated login method: ${fe}`):je.push(fe);for(let fe of V.overflow??[])je.includes(fe)||Fe.includes(fe)?console.warn(`Duplicated login method: ${fe}`):Fe.push(fe);return{primary:je,overflow:Fe}})({input:e?.loginMethodsAndOrder}),D=e?.intl?.defaultCountry??"US",{chains:W,defaultChain:q}=function({supportedChains:V,defaultChainFromConfig:je}){let Fe;if(V){if(V.length===0)throw Error("`supportedChains` must contain at least one chain");Fe=vA(V)}else Fe=[...y1];let fe=V?Fe[0]:au,$e=je??fe;if(!Fe.find(ye=>ye.id===$e.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:Fe,defaultChain:$e}}({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),X=!!e?.defaultChain,J=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,Q=J?"all-users":t.embedded_wallet_config.ethereum.create_on_login,he=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let de=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Ce=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,oe=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Eo.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:GK({backgroundTheme:e?.appearance?.theme??Eo.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:E?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:k,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:V,solanaWalletAuth:je})=>V&&je?"ethereum-and-solana":V?"ethereum-only":je?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:c,email:s,sms:a,passkey:o,google:l,twitter:u,discord:d,github:L,spotify:m,instagram:y,tiktok:h,line:f,twitch:p,linkedin:C,apple:w,farcaster:b,telegram:x},globalDisablePasskeys:e?.globalDisablePasskeys??!1,customOAuthProviders:(t.custom_oauth_providers??[]).filter(V=>V.enabled!==!1),crossAppProviders:M,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:$,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Eo.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:W,defaultChain:q,intl:{defaultCountry:D,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:X,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:O},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!J&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:J?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??Q},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??he},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:J?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:de,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Eo._render.standalone},fundingConfig:Ce,fundingMethodConfig:{...e?.fundingMethodConfig??Eo.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Eo.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??Eo.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:oe?.enabled?{enabled:oe.enabled,smartWalletVersion:oe.smart_wallet_version,smartWalletType:oe.smart_wallet_type,configuredNetworks:oe.configured_networks.map(V=>({chainId:V.chain_id,bundlerUrl:V.bundler_url,paymasterUrl:V.paymaster_url,paymasterContext:qK(V.paymaster_url,V.paymaster_context)}))}:{enabled:oe?.enabled??!1},connectorsDebugLogs:e?.connectorsDebugLogs??!1}}const OI={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let A8=R.createContext({appConfig:PI(OI,void 0,!1),isServerConfigLoaded:!1});const KK=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=R.useState(null),o=R.useMemo(()=>PI(s??OI,r,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,r,i]);return R.useEffect(()=>{if(!s)return;let c=function(d){if(!d)return{};let{appearance:h,supportedChains:f,defaultChain:p,externalWallets:m,...y}=d;return{...y,...f?{supportedChains:f.map(C=>C.id)}:void 0,...p?{defaultChain:p.id}:void 0,...m?{walletConnect:m.walletConnect?{enabled:m.walletConnect.enabled}:void 0,coinbaseWallet:m.coinbaseWallet,solana:{connectors:m.solana?.connectors?.get().map(C=>C.walletClientType)}}:void 0}}(r),l=function(d,h=0){let f=3735928559^h,p=1103547991^h;for(let m,y=0;y<d.length;y++)f=Math.imul(f^(m=d.charCodeAt(y)),2654435761),p=Math.imul(p^m,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),4294967296*(2097151&(p=Math.imul(p^p>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)}(JSON.stringify(c)).toString(),u=`privy:sent:${s.id}:${l}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:c}),localStorage.setItem(u,"t"))},[r,s]),R.useEffect(()=>{s||(async()=>{try{await e.initialize();let c=e.app.getConfig();c.custom_api_url&&n.updateApiUrl(c.custom_api_url),a(c)}catch(c){console.warn("Error generating app config: ",c)}})()},[]),g.jsx(A8.Provider,{value:{appConfig:o,isServerConfigLoaded:!!s},children:t})},wi=()=>{let{appConfig:t}=R.useContext(A8);return t},RI=()=>{let{isServerConfigLoaded:t}=R.useContext(A8);return t},YK=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,JK=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,XK=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function QK(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){eY(t);return}return e}function eY(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function nd(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!XK.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(YK.test(t)||JK.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,QK)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const tY=/#/g,nY=/&/g,rY=/\//g,iY=/=/g,L8=/\+/g,sY=/%5e/gi,aY=/%60/gi,oY=/%7c/gi,cY=/%20/gi;function lY(t){return encodeURI(""+t).replace(oY,"|")}function Cy(t){return lY(typeof t=="string"?t:JSON.stringify(t)).replace(L8,"%2B").replace(cY,"+").replace(tY,"%23").replace(nY,"%26").replace(aY,"`").replace(sY,"^").replace(rY,"%2F")}function P6(t){return Cy(t).replace(iY,"%3D")}function $I(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function uY(t){return $I(t.replace(L8," "))}function dY(t){return $I(t.replace(L8," "))}function hY(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=uY(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=dY(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function fY(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${P6(t)}=${Cy(n)}`).join("&"):`${P6(t)}=${Cy(e)}`:P6(t)}function pY(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>fY(e,t[e])).filter(Boolean).join("&")}const mY=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,gY=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,yY=/^([/\\]\s*){2,}[^/\\]/,wY=/^\.?\//;function MI(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?mY.test(t):gY.test(t)||(e.acceptRelative?yY.test(t):!1)}function bY(t="",e){return t.endsWith("/")}function vY(t="",e){return(bY(t)?t.slice(0,-1):t)||"/"}function _Y(t="",e){return t.endsWith("/")?t:t+"/"}function CY(t,e){if(xY(e)||MI(t))return t;const n=vY(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return LY(n,t)}function EY(t,e){const n=SY(t),r={...hY(n.search),...e};return n.search=pY(r),IY(n)}function xY(t){return!t||t==="/"}function AY(t){return t&&t!=="/"}function LY(t,...e){let n=t||"";for(const r of e.filter(i=>AY(i)))if(n){const i=r.replace(wY,"");n=_Y(n)+i}else n=r;return n}const NI=Symbol.for("ufo:protocolRelative");function SY(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,h=""]=n;return{protocol:d.toLowerCase(),pathname:h,href:d+h,auth:"",host:"",search:"",hash:""}}if(!MI(t,{acceptRelative:!0}))return c9(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=c9(o);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:c,search:l,hash:u,[NI]:!r}}function c9(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function IY(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[NI]?(t.protocol||"")+"//":"")+i+s+e+n+r}class DI extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function TY(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,o=new DI(a,t.error?{cause:t.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(o,c,{get(){return t[c]}});for(const[c,l]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,c,{get(){return t.response&&t.response[l]}});return o}const kY=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function l9(t="GET"){return kY.has(t.toUpperCase())}function PY(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const OY=new Set(["image/svg","application/xml","application/xhtml","application/html"]),RY=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function $Y(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return RY.test(e)?"json":e==="text/event-stream"?"stream":OY.has(e)||e.startsWith("text/")?"text":"blob"}function MY(t,e,n,r){const i=NY(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function NY(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function Ff(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const DY=new Set([408,409,425,429,500,502,503,504]),jY=new Set([101,204,205,304]);function jI(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(o){const c=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!c){let u;typeof o.options.retry=="number"?u=o.options.retry:u=l9(o.options.method)?0:1;const d=o.response&&o.response.status||500;if(u>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(d):DY.has(d))){const h=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return h>0&&await new Promise(f=>setTimeout(f,h)),s(o.request,{...o.options,retry:u-1})}}const l=TY(o);throw Error.captureStackTrace&&Error.captureStackTrace(l,s),l}const s=async function(c,l={}){const u={request:c,options:MY(c,l,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await Ff(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=CY(u.request,u.options.baseURL)),u.options.query&&(u.request=EY(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&l9(u.options.method))if(PY(u.options.body)){const f=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),f||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const f=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,f.abort(p)},u.options.timeout),u.options.signal=f.signal}try{u.response=await e(u.request,u.options)}catch(f){return u.error=f,u.options.onRequestError&&await Ff(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!jY.has(u.response.status)&&u.options.method!=="HEAD"){const f=(u.options.parseResponse?"json":u.options.responseType)||$Y(u.response.headers.get("content-type")||"");switch(f){case"json":{const p=await u.response.text(),m=u.options.parseResponse||nd;u.response._data=m(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[f]()}}return u.options.onResponse&&await Ff(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Ff(u,u.options.onResponseError),await i(u)):u.response},a=async function(c,l){return(await s(c,l))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={},c={})=>jI({...t,...c,defaults:{...t.defaults,...c.defaults,...o}}),a}const x0=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),UY=x0.fetch?(...t)=>x0.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),BY=x0.Headers,FY=x0.AbortController,zY=jI({fetch:UY,Headers:BY,AbortController:FY});var Ue;let rc=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},A0=class extends rc{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},Z=class extends rc{constructor(e,n,r){super(e,n,r),this.type="client_error"}},WY=class extends Z{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Vt=class extends rc{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const ut=t=>{if(t instanceof rc)return t;if(!(t instanceof DI))return qt(t);if(!t.response)return new A0("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new A0(e||"ApiError",t.response.status,n||r,t,i,t.data)},qt=t=>t instanceof rc?t:t instanceof Error?new Z(t.message,t):new Z(`Internal error: ${t}`);var ne=((Ue={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Ue.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ue.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ue.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Ue.INVALID_DATA="invalid_data",Ue.INVALID_CAPTCHA="invalid_captcha",Ue.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ue.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Ue.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Ue.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Ue.USER_EXITED_UPDATE_FLOW="exited_update_flow",Ue.ALLOWLIST_REJECTED="allowlist_rejected",Ue.OAUTH_USER_DENIED="oauth_user_denied",Ue.OAUTH_UNEXPECTED="oauth_unexpected",Ue.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ue.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ue.USER_EXITED_LINK_FLOW="exited_link_flow",Ue.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Ue.MUST_BE_AUTHENTICATED="must_be_authenticated",Ue.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ue.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ue.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ue.INVALID_CREDENTIALS="invalid_credentials",Ue.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Ue.UNKNOWN_MFA_ERROR="unknown_mfa_error",Ue.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Ue.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Ue.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Ue.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Ue.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Ue.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Ue.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Ue.TRANSACTION_FAILURE="transaction_failure",Ue.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Ue.NOT_SUPPORTED="not_supported",Ue.CAPTCHA_TIMEOUT="captcha_timeout",Ue.INVALID_MESSAGE="invalid_message",Ue.UNABLE_TO_SIGN="unable_to_sign",Ue.CAPTCHA_FAILURE="captcha_failure",Ue.CAPTCHA_DISABLED="captcha_disabled",Ue.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Ue.TOO_MANY_REQUESTS="too_many_requests",Ue.USER_LIMIT_REACHED="max_accounts_reached",Ue.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Ue.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Ue.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Ue.USER_DOES_NOT_EXIST="user_does_not_exist",Ue.INSUFFICIENT_BALANCE="insufficient_balance",Ue.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Ue.BUFFER_NOT_DEFINED="buffer_not_defined",Ue.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Ue.NO_SOLANA_ACCOUNTS="no_solana_accounts",Ue.UNKNOWN_FUNDING_ERROR="unknown_funding_error",Ue);let pc=class extends Z{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},MLe=class extends Z{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},DLe=class extends Z{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},ULe=class extends Z{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},u9=class extends Vt{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const Y=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},zLe=t=>()=>{throw Error(t.trim())},UI=()=>{},BI=R.createContext({setAuthenticated:Y,setUser:Y,setIsNewUser:Y,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Y,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Y,initializeWalletProxy:Y,getAuthMeta:Y,getAuthFlow:Y,closePrivyModal:Y,openPrivyModal:Y,connectWallet:Y,initLoginWithWallet:Y,loginWithWallet:Y,initLoginWithFarcaster:Y,loginWithFarcaster:Y,loginWithCode:Y,initLoginWithEmail:Y,initLoginWithSms:Y,initUpdateEmail:Y,initUpdatePhone:Y,resendEmailCode:Y,resendSmsCode:Y,initLoginWithHeadlessOAuth:Y,loginWithHeadlessOAuth:Y,crossAppAuthFlow:Y,initLoginWithOAuth:Y,loginWithOAuth:Y,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Y,initSignupWithPasskey:Y,signupWithPasskey:Y,initLoginWithPasskey:Y,loginWithPasskey:Y,initLinkWithPasskey:Y,linkWithPasskey:Y,refreshSessionAndUser:Y,walletProxy:null,createAnalyticsEvent:Y,acceptTerms:Y,getUsdTokenPrice:Y,getUsdPriceForSol:Y,getSplTokenMetadata:Y,recoverEmbeddedWallet:Y,updateWallets:Y,fundWallet:Y,openModal:Y,setReadyToTrue:Y,requestFarcasterSignerStatus:Y,initLoginWithTelegram:Y,loginWithTelegram:Y,generateSiweMessage:Y,generateSiweMessageForSmartWallet:Y,loginWithSiwe:Y,linkWithSiwe:Y,linkSmartWallet:Y,delegateWallet:Y,revokeDelegatedWallets:Y,connectCoinbaseSmartWallet:Y,connectBaseAccount:Y,initiateAccountTransfer:Y,emailOtpState:{status:"initial"},setEmailOtpState:Y,smsOtpState:{status:"initial"},setSmsOtpState:Y,siweState:{status:"initial"},setSiweState:Y,oAuthState:{status:"initial"},setOAuthState:Y,telegramAuthState:{status:"initial"},setTelegramAuthState:Y,isHeadlessOAuthLoading:!1,isHeadlessSigning:Y,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Y}),eo=()=>R.useContext(BI);function FI(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function Ke(t){return t?new Date(1e3*t):null}function Wn(t,e){return t.slice().sort((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0)).find(n=>n.type===e)}const Uo=t=>t?zI(t).find(e=>e.walletIndex===0)??null:null,zI=t=>t?WI(t,"ethereum"):[],WI=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),VY=t=>t?WI(t,"solana"):[],S8=t=>t?VY(t).find(e=>e.walletIndex===0)??null:null,Ey=t=>(t?.linkedAccounts??[]).filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"),HY=t=>(t?.linkedAccounts??[]).filter(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"),sl=(t,e)=>t?.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&LI(n.address,e))||null,O6=(t,e)=>t.find(n=>LI(n.address,e))||null,ih=t=>Uo(t)??S8(t);function Kn(t){if(!t)return null;let e=function(b){let x=[];for(let _ of b){let I=_.type;switch(_.type){case"wallet":let M={id:_.id,address:_.address,type:_.type,imported:_.imported,delegated:_.delegated,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at),chainType:_.chain_type,walletClientType:_.wallet_client_type,connectorType:_.connector_type,recoveryMethod:_.recovery_method,walletIndex:_.wallet_index,publicKey:_.public_key};x.push(M);break;case"smart_wallet":let N={address:_.address,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at),smartWalletType:_.smart_wallet_type,smartWalletVersion:_.smart_wallet_version};x.push(N);break;case"cross_app":let U={type:_.type,subject:_.subject,embeddedWallets:_.embedded_wallets,smartWallets:_.smart_wallets,providerApp:{id:_.provider_app_id},firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(U);break;case"email":let B={address:_.address,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(B);break;case"phone":let P={number:_.phoneNumber,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(P);break;case"google_oauth":let T={subject:_.subject,email:_.email,name:_.name,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(T);break;case"spotify_oauth":let j={subject:_.subject,email:_.email,name:_.name,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(j);break;case"instagram_oauth":let v={subject:_.subject,username:_.username,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(v);break;case"twitter_oauth":let E={subject:_.subject,username:_.username,name:_.name,type:_.type,profilePictureUrl:_.profile_picture_url,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(E);break;case"discord_oauth":let O={subject:_.subject,username:_.username,email:_.email,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(O);break;case"github_oauth":let k={subject:_.subject,username:_.username,name:_.name,email:_.email,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(k);break;case"tiktok_oauth":let $={subject:_.subject,username:_.username,name:_.name,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push($);break;case"line_oauth":let D={subject:_.subject,name:_.name,email:_.email,profilePictureUrl:_.profile_picture_url,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(D);break;case"twitch_oauth":let W={subject:_.subject,username:_.username,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(W);break;case"linkedin_oauth":let q={subject:_.subject,name:_.name,email:_.email,vanityName:_.vanity_name,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(q);break;case"apple_oauth":let X={subject:_.subject,email:_.email,type:_.type,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(X);break;case"custom_auth":x.push({type:_.type,customUserId:_.custom_user_id,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)});break;case"farcaster":let J={type:_.type,fid:_.fid,ownerAddress:_.owner_address,displayName:_.display_name,username:_.username,bio:_.bio,pfp:_.profile_picture_url,url:_.homepage_url,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at),signerPublicKey:_.signer_public_key};x.push(J);break;case"passkey":let Q={type:_.type,enrolledInMfa:_.enrolled_in_mfa,credentialId:_.credential_id,publicKey:_.public_key,authenticatorName:_.authenticator_name,createdWithDevice:_.created_with_device,createdWithOs:_.created_with_os,createdWithBrowser:_.created_with_browser,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(Q);break;case"telegram":let he={type:_.type,telegramUserId:_.telegram_user_id,firstName:_.first_name,lastName:_.last_name,username:_.username,photoUrl:_.photo_url,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(he);break;default:if(FI(_.type)){let de={type:_.type,subject:_.subject,name:_.name,username:_.username,email:_.email,profilePictureUrl:_.profile_picture_url,firstVerifiedAt:Ke(_.first_verified_at),latestVerifiedAt:Ke(_.latest_verified_at)};x.push(de);break}console.warn(`Unrecognized account type: ${I}. Please consider upgrading the Privy SDK.`)}}return x}(t.linked_accounts),n=Wn(e,"wallet"),r=Wn(e,"smart_wallet"),i=Wn(e,"email"),s=Wn(e,"phone"),a=Wn(e,"google_oauth"),o=Wn(e,"twitter_oauth"),c=Wn(e,"discord_oauth"),l=Wn(e,"github_oauth"),u=Wn(e,"spotify_oauth"),d=Wn(e,"instagram_oauth"),h=Wn(e,"tiktok_oauth"),f=Wn(e,"line_oauth"),p=Wn(e,"twitch_oauth"),m=Wn(e,"linkedin_oauth"),y=Wn(e,"apple_oauth"),C=Wn(e,"farcaster"),L=Wn(e,"telegram"),w=t.mfa_methods.map(({type:b,verified_at:x})=>({type:b,verifiedAt:Ke(x)}));return{id:t.id,createdAt:Ke(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:l&&{subject:l.subject,username:l.username,name:l.name,email:l.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:d&&{subject:d.subject,username:d.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},twitch:p&&{subject:p.subject,username:p.username},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:y&&{subject:y.subject,email:y.email},farcaster:C&&{fid:C.fid,ownerAddress:C.ownerAddress,displayName:C.displayName,username:C.username,bio:C.bio,pfp:C.pfp,url:C.url,signerPublicKey:C.signerPublicKey},telegram:L&&{telegramUserId:L.telegramUserId,firstName:L.firstName,lastName:L.lastName,username:L.username,photoUrl:L.photoUrl},delegatedWallets:[],mfaMethods:w.map(b=>b.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function qY({src:t,...e}){return g.jsx("img",{src:t,...e,style:{display:"none"}})}const VI=R.createContext({currentScreen:null,lastScreen:null,navigate:Y,navigateBack:Y,resetNavigation:Y,setModalData:Y,onUserCloseViaDialogOrKeybindRef:void 0}),ZY=t=>{let e=wi(),[n,r]=R.useState(t.initialScreen),i=R.useRef(null);R.useEffect(()=>{t.open||(i.current=null)},[t.open]),R.useEffect(()=>{i.current=null},[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,o=!0)=>{t.setInitialScreen(a),o&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return g.jsxs(VI.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&g.jsx(qY,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Hl=()=>R.useContext(VI),C2=R.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Y,login:Y,connectOrCreateWallet:Y,linkEmail:Y,linkPhone:Y,linkFarcaster:Y,linkWallet:Y,startCrossAppAuthFlow:Y,linkGoogle:Y,linkTwitter:Y,linkTwitch:Y,linkDiscord:Y,linkGithub:Y,linkSpotify:Y,linkInstagram:Y,linkTelegram:Y,linkTiktok:Y,linkLine:Y,linkLinkedIn:Y,linkApple:Y,linkPasskey:Y,updateEmail:Y,updatePhone:Y,logout:Y,getAccessToken:Y,unlinkEmail:Y,unlinkPhone:Y,unlinkWallet:Y,unlinkGoogle:Y,unlinkTwitter:Y,unlinkTwitch:Y,unlinkDiscord:Y,unlinkGithub:Y,unlinkSpotify:Y,unlinkInstagram:Y,unlinkTiktok:Y,unlinkLine:Y,unlinkLinkedIn:Y,unlinkApple:Y,unlinkCrossAppAccount:Y,unlinkFarcaster:Y,unlinkTelegram:Y,unlinkPasskey:Y,signMessage:Y,signTypedData:Y,enrollInMfa:Y,initEnrollmentWithSms:Y,initEnrollmentWithTotp:Y,initEnrollmentWithPasskey:Y,promptMfa:Y,init:Y,submitEnrollmentWithSms:Y,submitEnrollmentWithTotp:Y,submitEnrollmentWithPasskey:Y,unenroll:Y,submit:Y,cancel:Y,sendTransaction:Y,signTransaction:Y,setWalletPassword:Y,setWalletRecovery:Y,requestFarcasterSignerFromWarpcast:Y,getFarcasterSignerPublicKey:Y,signFarcasterMessage:Y,signMessageWithCrossAppWallet:Y,signTypedDataWithCrossAppWallet:Y,sendTransactionWithCrossAppWallet:Y,signTransactionWithCrossAppWallet:Y,isModalOpen:!1,mfaMethods:[]}),fu=()=>R.useContext(C2),li=t=>!!t.id&&t.recoveryMethod==="privy-v2",d9=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,o);return o},GY=t=>t?d9(t):d9,KY=t=>t;function YY(t,e=KY){const n=ke.useSyncExternalStore(t.subscribe,ke.useCallback(()=>e(t.getState()),[t,e]),ke.useCallback(()=>e(t.getInitialState()),[t,e]));return ke.useDebugValue(n),n}const h9=t=>{const e=GY(t),n=r=>YY(e,r);return Object.assign(n,e),n},ic=t=>t?h9(t):h9;var hr=function(){return hr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hr.apply(this,arguments)};function ql(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bt="-ms-",md="-moz-",bt="-webkit-",HI="comm",H1="rule",I8="decl",JY="@import",XY="@namespace",qI="@keyframes",QY="@layer",ZI=Math.abs,T8=String.fromCharCode,xy=Object.assign;function eJ(t,e){return En(t,0)^45?(((e<<2^En(t,0))<<2^En(t,1))<<2^En(t,2))<<2^En(t,3):0}function GI(t){return t.trim()}function _a(t,e){return(t=e.exec(t))?t[0]:t}function nt(t,e,n){return t.replace(e,n)}function Ip(t,e,n){return t.indexOf(e,n)}function En(t,e){return t.charCodeAt(e)|0}function l2(t,e,n){return t.slice(e,n)}function rs(t){return t.length}function KI(t){return t.length}function rd(t,e){return e.push(t),t}function tJ(t,e){return t.map(e).join("")}function f9(t,e){return t.filter(function(n){return!_a(n,e)})}var q1=1,Zl=1,YI=0,Bi=0,pn=0,pu="";function Z1(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:q1,column:Zl,length:a,return:"",siblings:o}}function xo(t,e){return xy(Z1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function U2(t){for(;t.root;)t=xo(t.root,{children:[t]});rd(t,t.siblings)}function nJ(){return pn}function rJ(){return pn=Bi>0?En(pu,--Bi):0,Zl--,pn===10&&(Zl=1,q1--),pn}function us(){return pn=Bi<YI?En(pu,Bi++):0,Zl++,pn===10&&(Zl=1,q1++),pn}function Bo(){return En(pu,Bi)}function Tp(){return Bi}function G1(t,e){return l2(pu,t,e)}function sh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iJ(t){return q1=Zl=1,YI=rs(pu=t),Bi=0,[]}function sJ(t){return pu="",t}function R6(t){return GI(G1(Bi-1,Ay(t===91?t+2:t===40?t+1:t)))}function aJ(t){for(;(pn=Bo())&&pn<33;)us();return sh(t)>2||sh(pn)>3?"":" "}function oJ(t,e){for(;--e&&us()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return G1(t,Tp()+(e<6&&Bo()==32&&us()==32))}function Ay(t){for(;us();)switch(pn){case t:return Bi;case 34:case 39:t!==34&&t!==39&&Ay(pn);break;case 40:t===41&&Ay(t);break;case 92:us();break}return Bi}function cJ(t,e){for(;us()&&t+pn!==57;)if(t+pn===84&&Bo()===47)break;return"/*"+G1(e,Bi-1)+"*"+T8(t===47?t:us())}function lJ(t){for(;!sh(Bo());)us();return G1(t,Bi)}function uJ(t){return sJ(kp("",null,null,null,[""],t=iJ(t),0,[0],t))}function kp(t,e,n,r,i,s,a,o,c){for(var l=0,u=0,d=a,h=0,f=0,p=0,m=1,y=1,C=1,L=0,w="",b=i,x=s,_=r,I=w;y;)switch(p=L,L=us()){case 40:if(p!=108&&En(I,d-1)==58){Ip(I+=nt(R6(L),"&","&\f"),"&\f",ZI(l?o[l-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:I+=R6(L);break;case 9:case 10:case 13:case 32:I+=aJ(p);break;case 92:I+=oJ(Tp()-1,7);continue;case 47:switch(Bo()){case 42:case 47:rd(dJ(cJ(us(),Tp()),e,n,c),c),(sh(p||1)==5||sh(Bo()||1)==5)&&rs(I)&&l2(I,-1,void 0)!==" "&&(I+=" ");break;default:I+="/"}break;case 123*m:o[l++]=rs(I)*C;case 125*m:case 59:case 0:switch(L){case 0:case 125:y=0;case 59+u:C==-1&&(I=nt(I,/\f/g,"")),f>0&&(rs(I)-d||m===0&&p===47)&&rd(f>32?m9(I+";",r,n,d-1,c):m9(nt(I," ","")+";",r,n,d-2,c),c);break;case 59:I+=";";default:if(rd(_=p9(I,e,n,l,u,i,o,w,b=[],x=[],d,s),s),L===123)if(u===0)kp(I,e,_,_,b,s,d,o,x);else{switch(h){case 99:if(En(I,3)===110)break;case 108:if(En(I,2)===97)break;default:u=0;case 100:case 109:case 115:}u?kp(t,_,_,r&&rd(p9(t,_,_,0,0,i,o,w,i,b=[],d,x),x),i,x,d,o,r?b:x):kp(I,_,_,_,[""],x,0,o,x)}}l=u=f=0,m=C=1,w=I="",d=a;break;case 58:d=1+rs(I),f=p;default:if(m<1){if(L==123)--m;else if(L==125&&m++==0&&rJ()==125)continue}switch(I+=T8(L),L*m){case 38:C=u>0?1:(I+="\f",-1);break;case 44:o[l++]=(rs(I)-1)*C,C=1;break;case 64:Bo()===45&&(I+=R6(us())),h=Bo(),u=d=rs(w=I+=lJ(Tp())),L++;break;case 45:p===45&&rs(I)==2&&(m=0)}}return s}function p9(t,e,n,r,i,s,a,o,c,l,u,d){for(var h=i-1,f=i===0?s:[""],p=KI(f),m=0,y=0,C=0;m<r;++m)for(var L=0,w=l2(t,h+1,h=ZI(y=a[m])),b=t;L<p;++L)(b=GI(y>0?f[L]+" "+w:nt(w,/&\f/g,f[L])))&&(c[C++]=b);return Z1(t,e,n,i===0?H1:o,c,l,u,d)}function dJ(t,e,n,r){return Z1(t,e,n,HI,T8(nJ()),l2(t,2,-2),0,r)}function m9(t,e,n,r,i){return Z1(t,e,n,I8,l2(t,0,r),l2(t,r+1,-1),r,i)}function JI(t,e,n){switch(eJ(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return bt+t+t;case 4855:return bt+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return md+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+md+t+Bt+t+t;case 5936:switch(En(t,e+11)){case 114:return bt+t+Bt+nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+Bt+nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+Bt+nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return bt+t+Bt+t+t;case 6165:return bt+t+Bt+"flex-"+t+t;case 5187:return bt+t+nt(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Bt+"flex-$1$2")+t;case 5443:return bt+t+Bt+"flex-item-"+nt(t,/flex-|-self/g,"")+(_a(t,/flex-|baseline/)?"":Bt+"grid-row-"+nt(t,/flex-|-self/g,""))+t;case 4675:return bt+t+Bt+"flex-line-pack"+nt(t,/align-content|flex-|-self/g,"")+t;case 5548:return bt+t+Bt+nt(t,"shrink","negative")+t;case 5292:return bt+t+Bt+nt(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+nt(t,"-grow","")+bt+t+Bt+nt(t,"grow","positive")+t;case 4554:return bt+nt(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return nt(nt(nt(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return nt(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return nt(nt(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Bt+"flex-pack:$3"),/space-between/,"justify")+bt+t+t;case 4200:if(!_a(t,/flex-|baseline/))return Bt+"grid-column-align"+l2(t,e)+t;break;case 2592:case 3360:return Bt+nt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,_a(r.props,/grid-\w+-end/)})?~Ip(t+(n=n[e].value),"span",0)?t:Bt+nt(t,"-start","")+t+Bt+"grid-row-span:"+(~Ip(n,"span",0)?_a(n,/\d+/):+_a(n,/\d+/)-+_a(t,/\d+/))+";":Bt+nt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return _a(r.props,/grid-\w+-start/)})?t:Bt+nt(nt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return nt(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rs(t)-1-e>6)switch(En(t,e+1)){case 109:if(En(t,e+4)!==45)break;case 102:return nt(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+md+(En(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ip(t,"stretch",0)?JI(nt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return nt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,o,c,l){return Bt+i+":"+s+l+(a?Bt+i+"-span:"+(o?c:+c-+s)+l:"")+t});case 4949:if(En(t,e+6)===121)return nt(t,":",":"+bt)+t;break;case 6444:switch(En(t,En(t,14)===45?18:11)){case 120:return nt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(En(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Bt+"$2box$3")+t;case 100:return nt(t,":",":"+Bt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(t,"scroll-","scroll-snap-")+t}return t}function L0(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function hJ(t,e,n,r){switch(t.type){case QY:if(t.children.length)break;case JY:case XY:case I8:return t.return=t.return||t.value;case HI:return"";case qI:return t.return=t.value+"{"+L0(t.children,r)+"}";case H1:if(!rs(t.value=t.props.join(",")))return""}return rs(n=L0(t.children,r))?t.return=t.value+"{"+n+"}":""}function fJ(t){var e=KI(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function pJ(t){return function(e){e.root||(e=e.return)&&t(e)}}function mJ(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case I8:t.return=JI(t.value,t.length,n);return;case qI:return L0([xo(t,{value:nt(t.value,"@","@"+bt)})],r);case H1:if(t.length)return tJ(n=t.props,function(i){switch(_a(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":U2(xo(t,{props:[nt(i,/:(read-\w+)/,":"+md+"$1")]})),U2(xo(t,{props:[i]})),xy(t,{props:f9(n,r)});break;case"::placeholder":U2(xo(t,{props:[nt(i,/:(plac\w+)/,":"+bt+"input-$1")]})),U2(xo(t,{props:[nt(i,/:(plac\w+)/,":"+md+"$1")]})),U2(xo(t,{props:[nt(i,/:(plac\w+)/,Bt+"input-$1")]})),U2(xo(t,{props:[i]})),xy(t,{props:f9(n,r)});break}return""})}}var gJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ui={},Gl=typeof process<"u"&&ui!==void 0&&(ui.REACT_APP_SC_ATTR||ui.SC_ATTR)||"data-styled",XI="active",QI="data-styled-version",K1="6.3.11",k8=`/*!sc*/
`,gd=typeof window<"u"&&typeof document<"u",yJ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ui!==void 0&&ui.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ui.REACT_APP_SC_DISABLE_SPEEDY!==""?ui.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ui.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ui!==void 0&&ui.SC_DISABLE_SPEEDY!==void 0&&ui.SC_DISABLE_SPEEDY!==""&&ui.SC_DISABLE_SPEEDY!=="false"&&ui.SC_DISABLE_SPEEDY),wJ={};function Xh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Pp=new Map,S0=new Map,Op=1,id=function(t){if(Pp.has(t))return Pp.get(t);for(;S0.has(Op);)Op++;var e=Op++;return Pp.set(t,e),S0.set(e,t),e},bJ=function(t,e){Op=e+1,Pp.set(t,e),S0.set(e,t)},P8=Object.freeze([]),Kl=Object.freeze({});function eT(t,e,n){return n===void 0&&(n=Kl),t.theme!==n.theme&&t.theme||e||n.theme}var tT=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),vJ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_J=/(^-|-$)/g;function g9(t){return t.replace(vJ,"-").replace(_J,"")}var CJ=/(a)(d)/gi,y9=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ly(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=y9(e%52)+n;return(y9(e%52)+n).replace(CJ,"$1-$2")}var $6,Ac=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},nT=function(t){return Ac(5381,t)};function O8(t){return Ly(nT(t)>>>0)}function EJ(t){return t.displayName||t.name||"Component"}function M6(t){return typeof t=="string"&&!0}var rT=typeof Symbol=="function"&&Symbol.for,iT=rT?Symbol.for("react.memo"):60115,xJ=rT?Symbol.for("react.forward_ref"):60112,AJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SJ=(($6={})[xJ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$6[iT]=sT,$6);function w9(t){return("type"in(e=t)&&e.type.$$typeof)===iT?sT:"$$typeof"in t?SJ[t.$$typeof]:AJ;var e}var IJ=Object.defineProperty,TJ=Object.getOwnPropertyNames,b9=Object.getOwnPropertySymbols,kJ=Object.getOwnPropertyDescriptor,PJ=Object.getPrototypeOf,v9=Object.prototype;function aT(t,e,n){if(typeof e!="string"){if(v9){var r=PJ(e);r&&r!==v9&&aT(t,r,n)}var i=TJ(e);b9&&(i=i.concat(b9(e)));for(var s=w9(t),a=w9(e),o=0;o<i.length;++o){var c=i[o];if(!(c in LJ||n&&n[c]||a&&c in a||s&&c in s)){var l=kJ(e,c);try{IJ(t,c,l)}catch{}}}}return t}function Yl(t){return typeof t=="function"}function R8(t){return typeof t=="object"&&"styledComponentId"in t}function Nc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function I0(t,e){return t.join("")}function ah(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Sy(t,e,n){if(n===void 0&&(n=!1),!n&&!ah(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Sy(t[r],e[r]);else if(ah(e))for(var r in e)t[r]=Sy(t[r],e[r]);return t}function $8(t,e){Object.defineProperty(t,"toString",{value:e})}var OJ=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e,this._cGroup=0,this._cIndex=0}return t.prototype.indexOfGroup=function(e){if(e===this._cGroup)return this._cIndex;var n=this._cIndex;if(e>this._cGroup)for(var r=this._cGroup;r<e;r++)n+=this.groupSizes[r];else for(r=this._cGroup-1;r>=e;r--)n-=this.groupSizes[r];return this._cGroup=e,this._cIndex=n,n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Xh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),c=0,l=(a=0,n.length);a<l;a++)this.tag.insertRule(o,n[a])&&(this.groupSizes[e]++,o++,c++);c>0&&this._cGroup>e&&(this._cIndex+=c)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r);n>0&&this._cGroup>e&&(this._cIndex-=n)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+=this.tag.getRule(a)+k8;return n},t}(),RJ="style[".concat(Gl,"][").concat(QI,'="').concat(K1,'"]'),$J=new RegExp("^".concat(Gl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_9=function(t){return typeof ShadowRoot<"u"&&t instanceof ShadowRoot||"host"in t&&t.nodeType===11},Iy=function(t){if(!t)return document;if(_9(t))return t;if("getRootNode"in t){var e=t.getRootNode();if(_9(e))return e}return document},MJ=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},NJ=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(k8),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var c=o.match($J);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(bJ(u,l),MJ(t,u,c[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(o)}}},N6=function(t){for(var e=Iy(t.options.target).querySelectorAll(RJ),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Gl)!==XI&&(NJ(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function DJ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var oT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(o){var c=Array.from(o.querySelectorAll("style[".concat(Gl,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Gl,XI),r.setAttribute(QI,K1);var a=DJ();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},jJ=function(){function t(e){this.element=oT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){var r;if(n.sheet)return n.sheet;for(var i=(r=n.getRootNode().styleSheets)!==null&&r!==void 0?r:document.styleSheets,s=0,a=i.length;s<a;s++){var o=i[s];if(o.ownerNode===n)return o}throw Xh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),UJ=function(){function t(e){this.element=oT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),BJ=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(e===this.length?this.rules.push(n):this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),C9=gd,FJ={isServer:!gd,useCSSOMInjection:!yJ},T0=function(){function t(e,n,r){e===void 0&&(e=Kl),n===void 0&&(n={});var i=this;this.options=hr(hr({},FJ),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&gd&&C9&&(C9=!1,N6(this)),$8(this,function(){return function(s){for(var a=s.getTag(),o=a.length,c="",l=function(d){var h=function(C){return S0.get(C)}(d);if(h===void 0)return"continue";var f=s.names.get(h);if(f===void 0||!f.size)return"continue";var p=a.getGroup(d);if(p.length===0)return"continue";var m=Gl+".g"+d+'[id="'+h+'"]',y="";f.forEach(function(C){C.length>0&&(y+=C+",")}),c+=p+m+'{content:"'+y+'"}'+k8},u=0;u<o;u++)l(u);return c}(i)})}return t.registerId=function(e){return id(e)},t.prototype.rehydrate=function(){!this.server&&gd&&N6(this)},t.prototype.reconstructWithOptions=function(e,n){n===void 0&&(n=!0);var r=new t(hr(hr({},this.options),e),this.gs,n&&this.names||void 0);return!this.server&&gd&&e.target!==this.options.target&&Iy(this.options.target)!==Iy(e.target)&&N6(r),r},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new BJ(i):r?new jJ(i):new UJ(i)}(this.options),new OJ(e)));var e},t.prototype.hasNameForId=function(e,n){var r,i;return(i=(r=this.names.get(e))===null||r===void 0?void 0:r.has(n))!==null&&i!==void 0&&i},t.prototype.registerName=function(e,n){id(e);var r=this.names.get(e);r?r.add(n):this.names.set(e,new Set([n]))},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(id(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(id(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),zJ=/&/g,Ca=47,Lc=42;function E9(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var a=t.charCodeAt(s);if(r!==0||i||a!==Ca||t.charCodeAt(s+1)!==Lc)if(i)a===Lc&&t.charCodeAt(s+1)===Ca&&(i=!1,s++);else if(a!==34&&a!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(a===123)n++;else if(a===125&&--n<0)return!0}}else r===0?r=a:r===a&&(r=0);else i=!0,s++}return n!==0||r!==0}function cT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=cT(n.children,e)),n})}function WJ(t){var e,n,r,i=Kl,s=i.options,a=s===void 0?Kl:s,o=i.plugins,c=o===void 0?P8:o,l=function(p,m,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):p},u=c.slice();u.push(function(p){p.type===H1&&p.value.includes("&")&&(r||(r=new RegExp("\\".concat(n,"\\b"),"g")),p.props[0]=p.props[0].replace(zJ,n).replace(r,l))}),a.prefix&&u.push(mJ),u.push(hJ);var d=[],h=fJ(u.concat(pJ(function(p){return d.push(p)}))),f=function(p,m,y,C){m===void 0&&(m=""),y===void 0&&(y=""),C===void 0&&(C="&"),e=C,n=m,r=void 0;var L=function(b){if(!E9(b))return b;for(var x=b.length,_="",I=0,M=0,N=0,U=!1,B=0;B<x;B++){var P=b.charCodeAt(B);if(N!==0||U||P!==Ca||b.charCodeAt(B+1)!==Lc)if(U)P===Lc&&b.charCodeAt(B+1)===Ca&&(U=!1,B++);else if(P!==34&&P!==39||B!==0&&b.charCodeAt(B-1)===92){if(N===0)if(P===123)M++;else if(P===125){if(--M<0){for(var T=B+1;T<x;){var j=b.charCodeAt(T);if(j===59||j===10)break;T++}T<x&&b.charCodeAt(T)===59&&T++,M=0,B=T-1,I=T;continue}M===0&&(_+=b.substring(I,B+1),I=B+1)}else P===59&&M===0&&(_+=b.substring(I,B+1),I=B+1)}else N===0?N=P:N===P&&(N=0);else U=!0,B++}if(I<x){var v=b.substring(I);E9(v)||(_+=v)}return _}(function(b){if(b.indexOf("//")===-1)return b;for(var x=b.length,_=[],I=0,M=0,N=0,U=0;M<x;){var B=b.charCodeAt(M);if(B!==34&&B!==39||M!==0&&b.charCodeAt(M-1)===92)if(N===0)if(B===Ca&&M+1<x&&b.charCodeAt(M+1)===Lc){for(M+=2;M+1<x&&(b.charCodeAt(M)!==Lc||b.charCodeAt(M+1)!==Ca);)M++;M+=2}else if(B===40&&M>=3&&(32|b.charCodeAt(M-1))==108&&(32|b.charCodeAt(M-2))==114&&(32|b.charCodeAt(M-3))==117)U=1,M++;else if(U>0)B===41?U--:B===40&&U++,M++;else if(B===Lc&&M+1<x&&b.charCodeAt(M+1)===Ca)M>I&&_.push(b.substring(I,M)),I=M+=2;else if(B===Ca&&M+1<x&&b.charCodeAt(M+1)===Ca){for(M>I&&_.push(b.substring(I,M));M<x&&b.charCodeAt(M)!==10;)M++;I=M}else M++;else M++;else N===0?N=B:N===B&&(N=0),M++}return I===0?b:(I<x&&_.push(b.substring(I)),_.join(""))}(p)),w=uJ(y||m?"".concat(y," ").concat(m," { ").concat(L," }"):L);return a.namespace&&(w=cT(w,a.namespace)),d=[],L0(w,h),d};return f.hash=c.length?c.reduce(function(p,m){return m.name||Xh(15),Ac(p,m.name)},5381).toString():"",f}var VJ=new T0,Ty=WJ(),lT=ke.createContext({shouldForwardProp:void 0,styleSheet:VJ,stylis:Ty});lT.Consumer;ke.createContext(void 0);function ky(){return ke.useContext(lT)}var uT=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Ty);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,$8(this,function(){throw Xh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Ty),this.name+e.hash},t}();function HJ(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in gJ||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var qJ=function(t){return t>="A"&&t<="Z"};function x9(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;qJ(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var dT=function(t){return t==null||t===!1||t===""},hT=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!dT(r)&&(Array.isArray(r)&&r.isCss||Yl(r)?e.push("".concat(x9(n),":"),r,";"):ah(r)?e.push.apply(e,ql(ql(["".concat(n," {")],hT(r),!1),["}"],!1)):e.push("".concat(x9(n),": ").concat(HJ(n,r),";")))}return e};function Zo(t,e,n,r,i){if(i===void 0&&(i=[]),typeof t=="string")return t&&i.push(t),i;if(dT(t))return i;if(R8(t))return i.push(".".concat(t.styledComponentId)),i;if(Yl(t)){if(!Yl(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return i.push(t),i;var s=t(e);return Zo(s,e,n,r,i)}var a;if(t instanceof uT)return n?(t.inject(n,r),i.push(t.getName(r))):i.push(t),i;if(ah(t)){for(var o=hT(t),c=0;c<o.length;c++)i.push(o[c]);return i}if(!Array.isArray(t))return i.push(t.toString()),i;for(c=0;c<t.length;c++)Zo(t[c],e,n,r,i);return i}function fT(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yl(n)&&!R8(n))return!1}return!0}var ZJ=nT(K1),GJ=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&fT(e),this.componentId=n,this.baseHash=Ac(ZJ,n),this.baseStyle=r,T0.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Nc(i,this.staticRulesId);else{var s=I0(Zo(this.rules,e,n,r)),a=Ly(Ac(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var o=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,o)}i=Nc(i,a),this.staticRulesId=a}else{for(var c=Ac(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var h=I0(Zo(d,e,n,r));c=Ac(Ac(c,String(u)),h),l+=h}}if(l){var f=Ly(c>>>0);if(!n.hasNameForId(this.componentId,f)){var p=r(l,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}i=Nc(i,f)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(id(this.componentId)):""}},t}(),M8=ke.createContext(void 0);M8.Consumer;var D6={};function KJ(t,e,n){var r=R8(t),i=t,s=!M6(t),a=e.attrs,o=a===void 0?P8:a,c=e.componentId,l=c===void 0?function(b,x){var _=typeof b!="string"?"sc":g9(b);D6[_]=(D6[_]||0)+1;var I="".concat(_,"-").concat(O8(K1+_+D6[_]));return x?"".concat(x,"-").concat(I):I}(e.displayName,e.parentComponentId):c,u=e.displayName,d=u===void 0?function(b){return M6(b)?"styled.".concat(b):"Styled(".concat(EJ(b),")")}(t):u,h=e.displayName&&e.componentId?"".concat(g9(e.displayName),"-").concat(e.componentId):e.componentId||l,f=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;p=function(b,x){return m(b,x)&&y(b,x)}}else p=m}var C=new GJ(n,h,r?i.componentStyle:void 0);function L(b,x){return function(_,I,M){var N=_.attrs,U=_.componentStyle,B=_.defaultProps,P=_.foldedComponentIds,T=_.styledComponentId,j=_.target,v=ke.useContext(M8),E=ky(),O=_.shouldForwardProp||E.shouldForwardProp,k=eT(I,v,B)||Kl,$=function(he,de,Ce){for(var oe,V=hr(hr({},de),{className:void 0,theme:Ce}),je=0;je<he.length;je+=1){var Fe=Yl(oe=he[je])?oe(V):oe;for(var fe in Fe)fe==="className"?V.className=Nc(V.className,Fe[fe]):fe==="style"?V.style=hr(hr({},V.style),Fe[fe]):V[fe]=Fe[fe]}return"className"in de&&typeof de.className=="string"&&(V.className=Nc(V.className,de.className)),V}(N,I,k),D=$.as||j,W={};for(var q in $)$[q]===void 0||q[0]==="$"||q==="as"||q==="theme"&&$.theme===k||(q==="forwardedAs"?W.as=$.forwardedAs:O&&!O(q,D)||(W[q]=$[q]));var X=function(he,de){var Ce=ky(),oe=he.generateAndInjectStyles(de,Ce.styleSheet,Ce.stylis);return oe}(U,$),J=X.className,Q=Nc(P,T);return J&&(Q+=" "+J),$.className&&(Q+=" "+$.className),W[M6(D)&&!tT.has(D)?"class":"className"]=Q,M&&(W.ref=M),R.createElement(D,W)}(w,b,x)}L.displayName=d;var w=ke.forwardRef(L);return w.attrs=f,w.componentStyle=C,w.displayName=d,w.shouldForwardProp=p,w.foldedComponentIds=r?Nc(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=h,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(x){for(var _=[],I=1;I<arguments.length;I++)_[I-1]=arguments[I];for(var M=0,N=_;M<N.length;M++)Sy(x,N[M],!0);return x}({},i.defaultProps,b):b}}),$8(w,function(){return".".concat(w.styledComponentId)}),s&&aT(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function A9(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var L9=function(t){return Object.assign(t,{isCss:!0})};function Qh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yl(t)||ah(t))return L9(Zo(A9(P8,ql([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Zo(r):L9(Zo(A9(r,e)))}function Py(t,e,n){if(n===void 0&&(n=Kl),!e)throw Xh(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,Qh.apply(void 0,ql([i],s,!1)))};return r.attrs=function(i){return Py(t,e,hr(hr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Py(t,e,hr(hr({},n),i))},r}var pT=function(t){return Py(KJ,t)},jt=pT;tT.forEach(function(t){jt[t]=pT(t)});var YJ=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=fT(e),T0.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(I0(Zo(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&T0.registerId(this.componentId+e);var s=this.componentId+e;this.isStatic?r.hasNameForId(s,s)||this.createStyles(e,n,r,i):(this.removeStyles(e,r),this.createStyles(e,n,r,i))},t}();function JJ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Qh.apply(void 0,ql([t],e,!1)),i="sc-global-".concat(O8(JSON.stringify(r))),s=new YJ(r,i),a=new WeakMap,o=function(l){var u=ky(),d=ke.useContext(M8),h=a.get(u.styleSheet);return h===void 0&&(h=u.styleSheet.allocateGSInstance(i),a.set(u.styleSheet,h)),(typeof window>"u"||!u.styleSheet.server)&&c(h,l,u.styleSheet,d,u.stylis),ke.useLayoutEffect(function(){return u.styleSheet.server||c(h,l,u.styleSheet,d,u.stylis),function(){var f;s.removeStyles(h,u.styleSheet),f=u.styleSheet.options.target,typeof document<"u"&&(f??document).querySelectorAll('style[data-styled-global="'.concat(i,'"]')).forEach(function(p){return p.remove()})}},[h,l,u.styleSheet,d,u.stylis]),null};function c(l,u,d,h,f){if(s.isStatic)s.renderStyles(l,wJ,d,f);else{var p=hr(hr({},u),{theme:eT(u,h,o.defaultProps)});s.renderStyles(l,p,d,f)}}return ke.memo(o)}function WLe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=I0(Qh.apply(void 0,ql([t],e,!1))),i=O8(r);return new uT(i,r)}var Ie={},Oy={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",o="function",c="undefined",l="object",u="string",d="major",h="model",f="name",p="type",m="vendor",y="version",C="architecture",L="console",w="mobile",b="tablet",x="smarttv",_="wearable",I="embedded",M=500,N="Amazon",U="Apple",B="ASUS",P="BlackBerry",T="Browser",j="Chrome",v="Edge",E="Firefox",O="Google",k="Honor",$="Huawei",D="Lenovo",W="LG",q="Microsoft",X="Motorola",J="Nvidia",Q="OnePlus",he="Opera",de="OPPO",Ce="Samsung",oe="Sharp",V="Sony",je="Xiaomi",Fe="Zebra",fe="Facebook",$e="Chromium OS",ye="Mac OS",ge=" Browser",vs=function(et,rt){var Te={};for(var ft in et)rt[ft]&&rt[ft].length%2===0?Te[ft]=rt[ft].concat(et[ft]):Te[ft]=et[ft];return Te},Pr=function(et){for(var rt={},Te=0;Te<et.length;Te++)rt[et[Te].toUpperCase()]=et[Te];return rt},ze=function(et,rt){return typeof et===u?Or(rt).indexOf(Or(et))!==-1:!1},Or=function(et){return et.toLowerCase()},ia=function(et){return typeof et===u?et.replace(/[^\d\.]/g,s).split(".")[0]:r},Rr=function(et,rt){if(typeof et===u)return et=et.replace(/^\s\s*/,s),typeof rt===c?et:et.substring(0,M)},Fn=function(et,rt){for(var Te=0,ft,zn,Sn,st,we,K;Te<rt.length&&!we;){var se=rt[Te],Pe=rt[Te+1];for(ft=zn=0;ft<se.length&&!we&&se[ft];)if(we=se[ft++].exec(et),we)for(Sn=0;Sn<Pe.length;Sn++)K=we[++zn],st=Pe[Sn],typeof st===l&&st.length>0?st.length===2?typeof st[1]==o?this[st[0]]=st[1].call(this,K):this[st[0]]=st[1]:st.length===3?typeof st[1]===o&&!(st[1].exec&&st[1].test)?this[st[0]]=K?st[1].call(this,K,st[2]):r:this[st[0]]=K?K.replace(st[1],st[2]):r:st.length===4&&(this[st[0]]=K?st[3].call(this,K.replace(st[1],st[2])):r):this[st]=K||r;Te+=2}},wr=function(et,rt){for(var Te in rt)if(typeof rt[Te]===l&&rt[Te].length>0){for(var ft=0;ft<rt[Te].length;ft++)if(ze(rt[Te][ft],et))return Te===a?r:Te}else if(ze(rt[Te],et))return Te===a?r:Te;return rt.hasOwnProperty("*")?rt["*"]:et},Zi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},sa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},At={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,he+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[f,he+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[f,he]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[f,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],y],[/\bfocus\/([\w\.]+)/i],[y,[f,E+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,he+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,he+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI"+ge]],[/fxios\/([\w\.-]+)/i],[y,[f,E]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+ge],y],[/samsungbrowser\/([\w\.]+)/i],[y,[f,Ce+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,fe],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,j+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,wr,Zi]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,E+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[C,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[C,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[C,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[C,/ower/,s,Or]],[/ sun4\w[;\)]/i],[[C,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[C,Or]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,Ce],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,Ce],[p,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,U],[p,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,U],[p,b]],[/(macintosh);/i],[h,[m,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,oe],[p,w]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[m,k],[p,b]],[/honor([-\w ]+)[;\)]/i],[h,[m,k],[p,w]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[m,$],[p,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,$],[p,w]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[m,je],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[m,je],[p,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,de],[p,w]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[m,wr,{OnePlus:["304","403","203"],"*":de}],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[p,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[p,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,X],[p,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,X],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,W],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,W],[p,w]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[m,D],[p,b]],[/(nokia) (t[12][01])/i],[m,h,[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[p,w],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[m,O],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,O],[p,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,V],[p,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,V],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,Q],[p,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,N],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,N],[p,w]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,P],[p,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,B],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,B],[p,w]],[/(nexus 9)/i],[h,[m,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[p,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[m,Or],h,[p,wr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[p,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[p,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[p,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[p,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[p,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[p,w]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[m,"Archos"],[p,b]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[m,"Archos"],[p,w]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,h,[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[p,w]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[p,b]],[/(surface duo)/i],[h,[m,q],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[p,w]],[/(u304aa)/i],[h,[m,"AT&T"],[p,w]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[p,w]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[p,b]],[/\b(k88) b/i],[h,[m,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[p,w]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[p,w]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[p,b]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[p,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[p,w]],[/\b(ph-1) /i],[h,[m,"Essential"],[p,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[p,b]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[m,J],[p,b]],[/(sprint) (\w+)/i],[m,h,[p,w]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,q],[p,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,Fe],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,Fe],[p,w]],[/smart-tv.+(samsung)/i],[m,[p,x]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,Ce],[p,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,W],[p,x]],[/(apple) ?tv/i],[m,[h,U+" TV"],[p,x]],[/crkey/i],[[h,j+"cast"],[m,O],[p,x]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,N],[p,x]],[/(shield \w+ tv)/i],[h,[m,J],[p,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,oe],[p,x]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,V],[p,x]],[/(mi(tv|box)-?\w+) bui/i],[h,[m,je],[p,x]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[p,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Rr],[h,Rr],[p,x]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[p,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[p,L]],[/droid.+; (shield)( bui|\))/i],[h,[m,J],[p,L]],[/(playstation \w+)/i],[h,[m,V],[p,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,q],[p,L]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[m,Ce],[p,_]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,h,[p,_]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[m,de],[p,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,U],[p,_]],[/(opwwe\d{3})/i],[h,[m,Q],[p,_]],[/(moto 360)/i],[h,[m,X],[p,_]],[/(smartwatch 3)/i],[h,[m,V],[p,_]],[/(g watch r)/i],[h,[m,W],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,Fe],[p,_]],[/droid.+; (glass) \d/i],[h,[m,O],[p,_]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[p,_]],[/; (quest( \d| pro)?)/i],[h,[m,fe],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,I]],[/(aeobc)\b/i],[h,[m,N],[p,I]],[/(homepod).+mac os/i],[h,[m,U],[p,I]],[/windows iot/i],[[p,I]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,w]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,v+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[y,wr,sa]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,wr,sa],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,ye],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,y],[/\(bb(10);/i],[y,[f,P]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,E+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,j+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,$e],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},wn=function(et,rt){if(typeof et===l&&(rt=et,et=r),!(this instanceof wn))return new wn(et,rt).getResult();var Te=typeof n!==c&&n.navigator?n.navigator:r,ft=et||(Te&&Te.userAgent?Te.userAgent:s),zn=Te&&Te.userAgentData?Te.userAgentData:r,Sn=rt?vs(At,rt):At,st=Te&&Te.userAgent==ft;return this.getBrowser=function(){var we={};return we[f]=r,we[y]=r,Fn.call(we,ft,Sn.browser),we[d]=ia(we[y]),st&&Te&&Te.brave&&typeof Te.brave.isBrave==o&&(we[f]="Brave"),we},this.getCPU=function(){var we={};return we[C]=r,Fn.call(we,ft,Sn.cpu),we},this.getDevice=function(){var we={};return we[m]=r,we[h]=r,we[p]=r,Fn.call(we,ft,Sn.device),st&&!we[p]&&zn&&zn.mobile&&(we[p]=w),st&&we[h]=="Macintosh"&&Te&&typeof Te.standalone!==c&&Te.maxTouchPoints&&Te.maxTouchPoints>2&&(we[h]="iPad",we[p]=b),we},this.getEngine=function(){var we={};return we[f]=r,we[y]=r,Fn.call(we,ft,Sn.engine),we},this.getOS=function(){var we={};return we[f]=r,we[y]=r,Fn.call(we,ft,Sn.os),st&&!we[f]&&zn&&zn.platform&&zn.platform!="Unknown"&&(we[f]=zn.platform.replace(/chrome os/i,$e).replace(/macos/i,ye)),we},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ft},this.setUA=function(we){return ft=typeof we===u&&we.length>M?Rr(we,M):we,this},this.setUA(ft),this};wn.VERSION=i,wn.BROWSER=Pr([f,y,d]),wn.CPU=Pr([C]),wn.DEVICE=Pr([h,m,p,L,w,x,b,_,I]),wn.ENGINE=wn.OS=Pr([f,y]),t.exports&&(e=t.exports=wn),e.UAParser=wn;var br=typeof n!==c&&(n.jQuery||n.Zepto);if(br&&!br.ua){var ni=new wn;br.ua=ni.getResult(),br.ua.get=function(){return ni.getUA()},br.ua.set=function(et){ni.setUA(et);var rt=ni.getResult();for(var Te in rt)br.ua[Te]=rt[Te]}}})(typeof window=="object"?window:cA)})(Oy,Oy.exports);var XJ=Oy.exports;Object.defineProperty(Ie,"__esModule",{value:!0});function QJ(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var fr=R,Dt=QJ(fr),mT=XJ,sc=new mT,yr=sc.getBrowser(),eX=sc.getCPU(),bi=sc.getDevice(),N8=sc.getEngine(),ac=sc.getOS(),ef=sc.getUA(),gT=function(e){return sc.setUA(e)},tf=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new mT(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},yT=Object.freeze({ClientUAInstance:sc,browser:yr,cpu:eX,device:bi,engine:N8,os:ac,ua:ef,setUa:gT,parseUserAgent:tf});function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(e){return typeof e}:yd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function nX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iX(t,e,n){return e&&rX(t.prototype,e),t}function sX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ry(){return Ry=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$y(t)}function My(t,e){return My=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},My(t,e)}function oX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hi(t,e){if(t==null)return{};var n=oX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rp(t)}function lX(t,e){return uX(t)||dX(t,e)||hX(t,e)||fX()}function uX(t){if(Array.isArray(t))return t}function dX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function hX(t,e){if(t){if(typeof t=="string")return I9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I9(t,e)}}function I9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dr={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Yr={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},mu={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},pX={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},mX=function(e){switch(e){case dr.Mobile:return{isMobile:!0};case dr.Tablet:return{isTablet:!0};case dr.SmartTv:return{isSmartTV:!0};case dr.Console:return{isConsole:!0};case dr.Wearable:return{isWearable:!0};case dr.Browser:return{isBrowser:!0};case dr.Embedded:return{isEmbedded:!0};default:return pX}},gX=function(e){return gT(e)},Ze=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},D8=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},j8=function(e){var n=D8();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},yX=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:Ze(n.major),browserFullVersion:Ze(n.version),browserName:Ze(n.name),engineName:Ze(r.name),engineVersion:Ze(r.version),osName:Ze(i.name),osVersion:Ze(i.version),userAgent:Ze(s)}},T9=function(e,n,r,i){return tX({},e,{vendor:Ze(n.vendor),model:Ze(n.model),os:Ze(r.name),osVersion:Ze(r.version),ua:Ze(i)})},wX=function(e,n,r,i){return{isSmartTV:e,engineName:Ze(n.name),engineVersion:Ze(n.version),osName:Ze(r.name),osVersion:Ze(r.version),userAgent:Ze(i)}},bX=function(e,n,r,i){return{isConsole:e,engineName:Ze(n.name),engineVersion:Ze(n.version),osName:Ze(r.name),osVersion:Ze(r.version),userAgent:Ze(i)}},vX=function(e,n,r,i){return{isWearable:e,engineName:Ze(n.name),engineVersion:Ze(n.version),osName:Ze(r.name),osVersion:Ze(r.version),userAgent:Ze(i)}},_X=function(e,n,r,i,s){return{isEmbedded:e,vendor:Ze(n.vendor),model:Ze(n.model),engineName:Ze(r.name),engineVersion:Ze(r.version),osName:Ze(i.name),osVersion:Ze(i.version),userAgent:Ze(s)}};function CX(t){var e=t?tf(t):yT,n=e.device,r=e.browser,i=e.engine,s=e.os,a=e.ua,o=mX(n.type),c=o.isBrowser,l=o.isMobile,u=o.isTablet,d=o.isSmartTV,h=o.isConsole,f=o.isWearable,p=o.isEmbedded;if(c)return yX(c,r,i,s,a);if(d)return wX(d,i,s,a);if(h)return bX(h,i,s,a);if(l||u)return T9(o,n,s,a);if(f)return vX(f,i,s,a);if(p)return _X(p,n,i,s,a)}var wT=function(e){var n=e.type;return n===dr.Mobile},bT=function(e){var n=e.type;return n===dr.Tablet},vT=function(e){var n=e.type;return n===dr.Mobile||n===dr.Tablet},_T=function(e){var n=e.type;return n===dr.SmartTv},k0=function(e){var n=e.type;return n===dr.Browser},CT=function(e){var n=e.type;return n===dr.Wearable},ET=function(e){var n=e.type;return n===dr.Console},xT=function(e){var n=e.type;return n===dr.Embedded},AT=function(e){var n=e.vendor;return Ze(n)},LT=function(e){var n=e.model;return Ze(n)},ST=function(e){var n=e.type;return Ze(n,"browser")},IT=function(e){var n=e.name;return n===mu.Android},TT=function(e){var n=e.name;return n===mu.Windows},kT=function(e){var n=e.name;return n===mu.MAC_OS},PT=function(e){var n=e.name;return n===mu.WindowsPhone},OT=function(e){var n=e.name;return n===mu.IOS},RT=function(e){var n=e.version;return Ze(n)},$T=function(e){var n=e.name;return Ze(n)},MT=function(e){var n=e.name;return n===Yr.Chrome},NT=function(e){var n=e.name;return n===Yr.Firefox},DT=function(e){var n=e.name;return n===Yr.Chromium},P0=function(e){var n=e.name;return n===Yr.Edge},jT=function(e){var n=e.name;return n===Yr.Yandex},UT=function(e){var n=e.name;return n===Yr.Safari||n===Yr.MobileSafari},BT=function(e){var n=e.name;return n===Yr.MobileSafari},FT=function(e){var n=e.name;return n===Yr.Opera},zT=function(e){var n=e.name;return n===Yr.InternetExplorer||n===Yr.Ie},WT=function(e){var n=e.name;return n===Yr.MIUI},VT=function(e){var n=e.name;return n===Yr.SamsungBrowser},HT=function(e){var n=e.version;return Ze(n)},qT=function(e){var n=e.major;return Ze(n)},ZT=function(e){var n=e.name;return Ze(n)},GT=function(e){var n=e.name;return Ze(n)},KT=function(e){var n=e.version;return Ze(n)},YT=function(){var e=D8(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},_l=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},JT=function(){var e=D8();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Bs=function(){return j8("iPad")},XT=function(){return j8("iPhone")},QT=function(){return j8("iPod")},ek=function(e){return Ze(e)};function tk(t){var e=t||yT,n=e.device,r=e.browser,i=e.os,s=e.engine,a=e.ua;return{isSmartTV:_T(n),isConsole:ET(n),isWearable:CT(n),isEmbedded:xT(n),isMobileSafari:BT(r)||Bs(),isChromium:DT(r),isMobile:vT(n)||Bs(),isMobileOnly:wT(n),isTablet:bT(n)||Bs(),isBrowser:k0(n),isDesktop:k0(n),isAndroid:IT(i),isWinPhone:PT(i),isIOS:OT(i)||Bs(),isChrome:MT(r),isFirefox:NT(r),isSafari:UT(r),isOpera:FT(r),isIE:zT(r),osVersion:RT(i),osName:$T(i),fullBrowserVersion:HT(r),browserVersion:qT(r),browserName:ZT(r),mobileVendor:AT(n),mobileModel:LT(n),engineName:GT(s),engineVersion:KT(s),getUA:ek(a),isEdge:P0(r)||_l(a),isYandex:jT(r),deviceType:ST(n),isIOS13:JT(),isIPad13:Bs(),isIPhone13:XT(),isIPod13:QT(),isElectron:YT(),isEdgeChromium:_l(a),isLegacyEdge:P0(r)&&!_l(a),isWindows:TT(i),isMacOs:kT(i),isMIUI:WT(r),isSamsungBrowser:VT(r)}}var nk=_T(bi),rk=ET(bi),ik=CT(bi),EX=xT(bi),xX=BT(yr)||Bs(),AX=DT(yr),Y1=vT(bi)||Bs(),sk=wT(bi),ak=bT(bi)||Bs(),ok=k0(bi),LX=k0(bi),ck=IT(ac),lk=PT(ac),uk=OT(ac)||Bs(),SX=MT(yr),IX=NT(yr),TX=UT(yr),kX=FT(yr),dk=zT(yr),PX=RT(ac),OX=$T(ac),RX=HT(yr),$X=qT(yr),MX=ZT(yr),NX=AT(bi),DX=LT(bi),jX=GT(N8),UX=KT(N8),BX=ek(ef),FX=P0(yr)||_l(ef),zX=jT(yr),WX=ST(bi),VX=JT(),HX=Bs(),qX=XT(),ZX=QT(),GX=YT(),KX=_l(ef),YX=P0(yr)&&!_l(ef),JX=TT(ac),XX=kT(ac),QX=WT(yr),eQ=VT(yr),tQ=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=tf(e),r=n.device,i=n.browser,s=n.os,a=n.engine,o=n.ua;return tk({device:r,browser:i,os:s,engine:a,ua:o})},nQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return ck?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},rQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return ok?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},iQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return dk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},sQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return uk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},aQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return Y1?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},oQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return ak?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},cQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return lk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},lQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=Hi(e,["renderWithFragment","children","viewClassName","style"]);return sk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},uQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return nk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},dQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return rk?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},hQ=function(e){var n=e.renderWithFragment,r=e.children,i=Hi(e,["renderWithFragment","children"]);return ik?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",i,r):null},fQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=Hi(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Dt.createElement(fr.Fragment,null,r):Dt.createElement("div",s,r):null};function pQ(t){return function(e){aX(n,e);function n(r){var i;return nX(this,n),i=cX(this,$y(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Rp(i)),i.onOrientationChange=i.onOrientationChange.bind(Rp(i)),i.onPageLoad=i.onPageLoad.bind(Rp(i)),i.state={isLandscape:!1,isPortrait:!1},i}return iX(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":yd(window))!==void 0&&Y1&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Dt.createElement(t,Ry({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Dt.Component)}function mQ(){var t=fr.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=lX(t,2),n=e[0],r=e[1],i=fr.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,a={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==a.orientation&&r(a)},[n.orientation]);return fr.useEffect(function(){return(typeof window>"u"?"undefined":yd(window))!==void 0&&Y1&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function hk(t){var e=t||window.navigator.userAgent;return tf(e)}function gQ(t){var e=t||window.navigator.userAgent,n=hk(e),r=tk(n);return[r,n]}Ie.AndroidView=nQ;Ie.BrowserTypes=Yr;Ie.BrowserView=rQ;Ie.ConsoleView=dQ;Ie.CustomView=fQ;Ie.IEView=iQ;Ie.IOSView=sQ;Ie.MobileOnlyView=lQ;Ie.MobileView=aQ;Ie.OsTypes=mu;Ie.SmartTVView=uQ;Ie.TabletView=oQ;Ie.WearableView=hQ;Ie.WinPhoneView=cQ;Ie.browserName=MX;Ie.browserVersion=$X;Ie.deviceDetect=CX;Ie.deviceType=WX;Ie.engineName=jX;Ie.engineVersion=UX;Ie.fullBrowserVersion=RX;Ie.getSelectorsByUserAgent=tQ;Ie.getUA=BX;var fk=Ie.isAndroid=ck;Ie.isBrowser=ok;Ie.isChrome=SX;Ie.isChromium=AX;Ie.isConsole=rk;Ie.isDesktop=LX;Ie.isEdge=FX;Ie.isEdgeChromium=KX;Ie.isElectron=GX;Ie.isEmbedded=EX;var k9=Ie.isFirefox=IX;Ie.isIE=dk;var yQ=Ie.isIOS=uk;Ie.isIOS13=VX;Ie.isIPad13=HX;Ie.isIPhone13=qX;Ie.isIPod13=ZX;Ie.isLegacyEdge=YX;Ie.isMIUI=QX;Ie.isMacOs=XX;var oh=Ie.isMobile=Y1;Ie.isMobileOnly=sk;Ie.isMobileSafari=xX;Ie.isOpera=kX;var wQ=Ie.isSafari=TX;Ie.isSamsungBrowser=eQ;Ie.isSmartTV=nk;Ie.isTablet=ak;Ie.isWearable=ik;Ie.isWinPhone=lk;Ie.isWindows=JX;Ie.isYandex=zX;Ie.mobileModel=DX;Ie.mobileVendor=NX;Ie.osName=OX;Ie.osVersion=PX;Ie.parseUserAgent=tf;Ie.setUserAgent=gX;Ie.useDeviceData=hk;Ie.useDeviceSelectors=gQ;Ie.useMobileOrientation=mQ;Ie.withOrientationChange=pQ;const O0=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Ro=(t,e)=>{if(e?.imported)return O0(e);let n=ih(t);if(!n)throw Error("Failed to find primary wallet");return O0(n)},pk=R.createContext(null);function mk(){let t=R.useContext(pk);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}let zf="[Privy:Connectors]";function Wf(t){if(!t||Object.keys(t).length===0)return"";let e=Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${n}=${String(r)}`);return e.length>0?` (${e.join(", ")})`:""}const le=new class{setEnabled(t){this._enabled=t,t&&this.info("Debug logging enabled")}get enabled(){return this._enabled}debug(t,e){this._enabled&&console.debug(`${zf} ${t}${Wf(e)}`)}info(t,e){this._enabled&&console.info(`${zf} ${t}${Wf(e)}`)}warn(t,e){this._enabled&&console.warn(`${zf} ${t}${Wf(e)}`)}error(t,e,n){if(!this._enabled)return;let r=e instanceof Error?e.message:e?String(e):void 0,i=r?{...n,error:r}:n;console.error(`${zf} ${t}${Wf(i)}`)}connectionStart(t,e,n){this.info("Connection attempt started",{wallet:t,method:e,...n})}connectionSuccess(t,e){this.info("Connection successful",{wallet:t,...e})}connectionFailed(t,e,n){this.error("Connection failed",e,{wallet:t,...n})}connectorInit(t,e,n){this.debug("Connector initialized",{connector:t,wallet:e,...n})}connectorCreated(t,e,n){this.debug("Connector created",{connector:t,wallet:e,...n})}providerEvent(t,e,n){this.debug(`Provider event: ${t}`,{wallet:e,...n})}rpcRequest(t,e,n){this.debug(`RPC request: ${t}`,{wallet:e,...n})}rpcResponse(t,e,n){this.debug(`RPC response: ${t}`,{wallet:e,...n})}constructor(){this._enabled=!1}};let bQ=class extends Vt{constructor(){super("Wallet timeout"),this.type="wallet_error",le.warn("Wallet request timed out")}};const oc=t=>{if(t instanceof Vt)return le.debug("Connector error (already formatted)",{error:t.message}),t;if(t?.code){let n=new Rs(t);return le.debug("Provider RPC error",{code:n.code,error:n.message}),n}let e=t instanceof Error?t.message:String(t);return le.debug("Unknown connector error",{error:e}),new Vt("Unknown connector error",t)};let vQ=class extends rc{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},Rs=class extends vQ{constructor(e){super(e.message,e.code,e.data);let n=Object.values(nl).find(r=>r.eipCode===e.code);this.details=n||nl.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=nl.E32002_CONNECTION_ALREADY_PENDING:this.details=nl.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=nl.E32002_WALLET_LOCKED))}};const ZLe={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...nl};let gk=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function Ny(){try{let t="privy:__session_storage__test",e=new gk;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Ne=typeof window<"u"&&window.localStorage?new gk:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let yk=class extends _2{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const $p=()=>{let t=Ne.get(kI);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let _Q=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function CQ(t){return t.toLowerCase().split(" ").join("_")}let EQ=class extends yk{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new hK({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:P9(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){le.debug("Initializing Solana connector",{wallet:this.walletClientType}),this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(le.debug("Attempting Solana auto-connect",{wallet:this.walletClientType}),await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch(()=>{}),await this.isConnected()&&(le.debug("Solana auto-connect successful",{wallet:this.walletClientType}),await this.syncAccounts())),this.initialized=!0,this.emit("initialized")}async connect(e){if(le.connectionStart(this.walletClientType,"solana_adapter",{showPrompt:e.showPrompt}),e.showPrompt)try{await this.promptConnection()}catch(r){throw this._wallet.accounts.length===0?(le.warn("Solana wallet connected but has no accounts",{wallet:this.walletClientType}),new u9):(le.connectionFailed(this.walletClientType,r,{method:"solana_adapter"}),r)}if(!await this.isConnected())throw le.warn("Solana wallet not connected after prompt",{wallet:this.walletClientType}),new u9;await this.syncAccounts();let n=await this.getConnectedWallet();return n&&le.connectionSuccess(this.walletClientType),n}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!_Q.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||$p().some(({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask"))}constructor(e,n){super(CQ(P9(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{le.debug("Disconnecting Solana wallet",{wallet:this.walletClientType}),await this.wallet.features["standard:disconnect"]?.disconnect().catch(r=>{le.error("Error disconnecting Solana wallet",r,{wallet:this.walletClientType})}),await this.syncAccounts()},this.promptConnection=async()=>{le.debug("Prompting Solana connection",{wallet:this.walletClientType});try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw le.connectionFailed(this.walletClientType,r,{method:"solana_adapter"}),oc(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function P9(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const JLe=({style:t,...e})=>{let n=wi();return g.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),g.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:g.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_1765_9946",children:g.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},xQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function J1(t){return["ethereum","solana"].includes(t.chainType)}function wk(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const U8=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),O9={[au.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[bA.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[x4.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[yA.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Oh.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[wA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Ph.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[gA.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[kh.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[mA.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Th.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[pA.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",[rB.id]:"0xb88339CB7199b77E23DB6E890353E22632Ba630f",[A4.id]:"0x754704Bc059F8C67012fEd69BC8A327a5aafb603"},R9=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:o})=>{let c,l;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let u=U8(e.fundingConfig.options);if(u.length<1)throw Error("Wallet funding is not enabled");c=i||(n?.chain?n.chain.id:wk(e.fundingConfig.defaultRecommendedCurrency.chain));let d=e.chains.find(y=>y.id===c);if(!d)throw new Z(`Funding chain ${c} is not in PrivyProvider chains list`);let h=n?.amount??e.fundingConfig.defaultRecommendedAmount,f=!1;function p(){if(!c)return;let y=O9[c];u.find(C=>C.method==="wallets")&&!y&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),l=y,f=!0}n&&"asset"in n?n.asset==="USDC"?p():typeof n.asset!="string"&&"erc20"in n.asset&&(f=((y,C)=>y===O9[C.id])(l=n.asset.erc20,d)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&p();let m=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:h,chain:d,erc20Address:l,erc20ContractInfo:f?{symbol:"USDC",decimals:6}:void 0,isUSDC:f,methodScreen:r,supportedOptions:u,comingFromSendTransactionScreen:s,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:o??(()=>{})}};function XLe({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let a=U8(n.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");let o=e?.amount??n.fundingConfig.defaultRecommendedAmount,c=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:a,amount:o,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}function AQ(){let{user:t,getAccessToken:e}=fu(),{walletProxy:n,openModal:r,client:i}=eo(),{setModalData:s}=Hl(),a=wi();return R.useMemo(()=>({exportWallet:o=>new Promise(async(c,l)=>{if(!t)return void l(Error("User must be authenticated before exporting their Privy wallet"));o&&"target"in o&&o&&(o=void 0);let u=o?.address?sl(t,o.address):Uo(t);if(!u)return void l(new Z("User must have an embedded wallet."));let d=u.address,{entropyId:h,entropyIdVerifier:f}=Ro(t,u),p=li(u);if(!d)return void l(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Mt(d))return void l(Error("Must provide a valid Ethereum address."));let m={recoveryMethod:u.recoveryMethod,connectingWalletAddress:u.address,isUnifiedWallet:p,entropyId:h,entropyIdVerifier:f,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:l,shouldForceMFA:!0};await e()&&n?J1(u)?(s({keyExport:{appId:a.id,appClientId:a.appClientId,origin:i.apiUrl,address:u.address,entropyId:h,entropyIdVerifier:f,hdWalletIndex:u.walletIndex,chainType:u.chainType,walletId:u.id,isUnifiedWallet:p,imported:u.imported,onSuccess:c,onFailure:l,showBackButton:o?.showBackButton},connectWallet:m}),r("EmbeddedWalletConnectingScreen")):l(Error(`Export is not supported for ${u.chainType} wallets`)):l(Error("Must have valid access token."))})}),[t,e,n,r,i,s,a])}const LQ={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},bk=R.createContext(void 0);let vk=()=>R.useContext(bk);function nf(t,e){if(!e)return;let n=vk().current[t];return R.useEffect(()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter(s=>s!==i)}},[e])}function ie(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function X1(){let t=vk();return(e,n,...r)=>ie(t,e,n,...r)}const R0=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new Vt(`Unsupported chainId ${t}`,4901);return _8({transport:F1(_k(s,n,r.appId)),chain:s})},_k=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new Vt(`No RPC url found for ${i}`);return r},ch=ic(()=>({listings:[],loading:!1})),j6=ch.setState,SQ=t=>ch.getState().listings.find(({slug:e})=>$0(e)===$0(t)),U6=t=>{let e;try{e=new URL(t).hostname}catch{return}return ch.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},Ck=(t=!0)=>{let e=wi(),n=ch(s=>s.listings),r=ch(s=>s.loading),i=!!n.length;return R.useEffect(()=>{t&&!i&&(j6({listings:[],loading:!0}),(async s=>{let a=new URL("v3/wallets","https://explorer-api.walletconnect.com");a.searchParams.append("projectId",s);let o=await fetch(a);return o.ok?Object.values((await o.json()).listings).sort(({slug:c},{slug:l})=>c==="rainbow"&&l==="metamask"?1:c==="metamask"||c==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await o.text().catch(()=>"No response.")}`),[])})(e.walletConnectCloudProjectId).then(s=>j6({listings:s,loading:!1})).catch(s=>{console.error(s),j6({listings:[],loading:!1})}))},[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},QLe=t=>{let{listings:e}=Ck();return e.find(({slug:n})=>$0(n)===$0(t))};function $0(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function Dy(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some(e=>t?.includes(e))}const Ek=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,xk=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Ek(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!xk(n))return!1}return!0},eSe=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},tSe=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},nSe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),rSe=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},IQ=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},iSe=(t,e=3,n=4)=>IQ(t,e,n,"solana"),M0=t=>new Promise(e=>setTimeout(e,t));function $9(t,{interval:e=100,timeout:n=5e3}={}){return new Promise((r,i)=>{let s,a=0,o=()=>{a>=n?i("Max attempts reached without result"):(s=t(),a+=e,s==null?setTimeout(o,e):r(s))};o()})}const jy=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{let a=!1,o=0;for(;!a&&o<r;){if(e.abortSignal?.aborted)return;t().then(c=>{a=!0,i(c)},(...c)=>{a=!0,s(...c)}),o+=1,await M0(n)}a||s(Error("Exceeded max attempts before resolving function"))})},TQ=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Uy=t=>typeof t=="string"?t:"0x"+t.toString(16);async function kQ({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise(o=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let l=t.getProviders();console.debug("Detected injected providers:",l.map(d=>d.info));let u=[];for(let d of l)e.includes("coinbase_wallet")&&d.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&d.info.rdns==="app.phantom"||u.push({type:d.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:d});if(r!=="solana-only")for(let d of function(){let h=window,f=h.ethereum;if(!f)return[];let p=[];if(f.providers?.length)for(let m of f.providers)m&&p.push(m);return p.push(h.ethereum),p}()){let h=Ek(d);if(!l.some(f=>f.info.name===h)){if(xk(d,!0)&&!u.find(f=>f.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:d});continue}if(h==="Phantom"&&!u.find(f=>f.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:d});continue}if(h==="Coinbase Wallet"&&!u.find(f=>f.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly")){u.push({type:"coinbase_wallet",legacyInjectedProvider:d});continue}u.find(f=>f.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:d})}}o(u)}a.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},i))})}function wd(t){return`eip155:${String(Number(t))}`}const PQ=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new Vt(`Unsupported chainId ${t}`,4901);return _k(s,n,r)},sSe=(t,e)=>{let n=Number(t),r=e.find(i=>i.id===n);if(!r)throw new Vt(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Mp=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}};function aSe(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function Lo(t){return t.type==="ethereum"}function Ak(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&Lo(r)&&Lo(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const B8=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||V1;function Lu(t){return t.chainType==="ethereum"}let E2=class extends yk{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(a=>Nn(a.address)===Nn(e));return{type:"ethereum",address:Nn(e),chainId:n,meta:r,imported:i,switchChain:async a=>{let o,c;if(!s)throw new Vt("Wallet is not currently connected.");let l=this.wallets.find(h=>Nn(h.address)===Nn(e))?.chainId;if(!l)throw new Vt("Unable to determine current chainId.");if(typeof a=="number"?(o=`0x${a.toString(16)}`,c=a):(o=a,c=Number(a)),l===wd(o))return;let u=this.chains.find(h=>h.id===c);if(!u)throw new Vt(`Unsupported chainId: ${a}`);let d=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})};try{return await d()}catch(h){if(((f,p)=>{switch(p){case"coinbase_wallet":case"base_account":return f.message.includes("addEthereumChain");case"rabby_wallet":return f.message.includes("Unrecognized chain ID");default:return f.code===4902||f.message?.includes("4902")}})(h,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await M0(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[u.rpcUrls.default?.http[0]??""],blockExplorerUrls:[u.blockExplorers?.default.url??""]}]}),d();throw this.walletClientType==="rainbow"&&h.message?.includes("wallet_switchEthereumChain")?new Vt(`Rainbow does not support the chainId ${n}`):h}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Vt("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new Vt("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n;le.debug("Syncing accounts",{wallet:this.walletClientType});let r=e;try{if(r===void 0){le.rpcRequest("eth_accounts",this.walletClientType);let c=await jy(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});le.rpcResponse("eth_accounts",this.walletClientType),Array.isArray(c)&&(r=c)}}catch{le.warn("Wallet did not respond to eth_accounts, using prefetched accounts",{wallet:this.walletClientType})}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return void le.debug("No accounts found",{wallet:this.walletClientType});let i=r[0];if(!Mt(i))return;let s=Nn(i),a=[];if(this.walletClientType==="privy"){let c=Ne.get(T6(s));this.chains.find(l=>l.id===Number(c))||(Ne.del(T6(s)),c=null),n=c||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{le.warn("Unable to switch embedded wallet chain on initialization",{wallet:this.walletClientType,chainId:n})}}else try{le.rpcRequest("eth_chainId",this.walletClientType);let c=await jy(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(le.rpcResponse("eth_chainId",this.walletClientType),typeof c=="string")n=c;else{if(typeof c!="number")throw Error("Invalid chainId returned from provider");n=`0x${c.toString(16)}`}}catch{le.warn("Failed to get chainId from provider, using default",{wallet:this.walletClientType,defaultChainId:s9}),n=s9}let o=wd(n);if(!a.find(c=>Nn(c.address)===s)){let c={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(Nn(i),o,c,this.connectorType==="embedded_imported"))}Ak(a,this.wallets)||(le.debug("Wallets updated",{wallet:this.walletClientType,address:s,chainId:o}),this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Nn(r)===Nn(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Ye(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{le.providerEvent("accountsChanged",this.walletClientType,{accountsCount:s.length}),s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{le.providerEvent("chainChanged",this.walletClientType,{chainId:s}),this.wallets.forEach(a=>{a.chainId=wd(s),this.walletClientType==="privy"&&Ne.put(T6(a.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{le.providerEvent("disconnect",this.walletClientType),this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{le.providerEvent("connect",this.walletClientType),this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await M0(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=B8(i,e),this.connected=!1,this.initialized=!1}},x2=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Vt(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw oc(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new bQ,i=this.rpcTimeoutDuration)=>new Promise((s,a)=>setTimeout(()=>{a(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{this.walletProvider?.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||V1,this._subscriptions=[]}};const OQ=t=>{let[e,n]=R.useState("auto");return R.useEffect(()=>{let r=new ResizeObserver(i=>{n(i[0]?.contentRect.height??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e},lSe=jt.div`
  text-align: left;
  flex-grow: 1;
`,uSe=jt.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex-grow: 1;
`,RQ=jt.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* for Internet Explorer, Edge */
  -ms-overflow-style: none;

  /* for Firefox */
  scrollbar-width: none;

  /* for Chrome, Safari, and Opera */
  &::-webkit-scrollbar {
    display: none;
  }
`,dSe=jt(RQ)`
  ${t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0}

  background-repeat: no-repeat;
  background-size:
    100% 32px,
    100% 16px;
  background-attachment: local, scroll;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 3px;
`;let Lk=Qh`
  && {
    width: 100%;
    font-size: 16px;
    line-height: 24px;
    min-height: 56px;

    /* Tablet and Up */
    @media (min-width: 440px) {
      font-size: 14px;
    }

    display: flex;
    gap: 12px;
    align-items: center;
    color: var(--privy-color-foreground);

    padding: 10px 12px;
    border: 1px solid var(--privy-color-foreground-4) !important;
    border-radius: var(--privy-border-radius-md);
    transition: background-color 200ms ease;

    cursor: pointer;

    &:hover {
      background-color: var(--privy-color-background-2);
    }

    &:disabled {
      cursor: pointer;
      background-color: var(--privy-color-background-2);
    }
  }
`;const hSe=jt.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,fSe=jt.button.attrs({className:"login-method-button"})`
  ${Lk}
`;jt.a`
  ${Lk}
`;const pSe=jt.div`
  width: 32px;
  height: 32px;
  border-radius: ${t=>t.$fullSize?"0":"4px"};
  background: ${t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: ${t=>t.$fullSize?"32px":"18px"};
    height: ${t=>t.$fullSize?"32px":"18px"};
    color: ${t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"};
  }
`,Sk=jt.div`
  width: 100%;
  height: 100%;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  ${t=>t.$if?"display: none;":""}
`,mSe=jt.div`
  width: 100%;
  height: 100%;
  padding: ${t=>t.$withPadding?"64px 0px":"0px"};
`,gSe=jt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 32px;
  gap: 12px;
  & h3 {
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }
  & p {
    max-width: 300px;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
`,ySe=({success:t,fail:e})=>g.jsxs($Q,{children:[g.jsx(M9,{children:g.jsx(MQ,{className:t?"success":e?"fail":""})}),g.jsx(M9,{children:g.jsx(Q1,{className:t?"success":e?"fail":""})})]});let M9=jt.span`
  && {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
`,$Q=jt.span`
  position: relative;
  width: 82px;
  height: 82px;
  display: inline-block;
`;const Q1=jt.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${t=>t.color??"var(--privy-color-icon-subtle)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-icon-success);
    border-bottom-color: var(--privy-color-icon-success);
  }

  &&&.fail {
    border-color: var(--privy-color-icon-error);
    border-bottom-color: var(--privy-color-icon-error);
  }
`,MQ=jt(Q1)`
  && {
    border-bottom-color: ${t=>t.color??"var(--privy-color-border-default)"};
    border-color: ${t=>t.color??"var(--privy-color-border-default)"};
    animation: none;
    opacity: 0.5;
  }
`,wSe=t=>g.jsx(NQ,{color:t.color||"var(--privy-color-foreground-3)"});let NQ=jt(Q1)`
  && {
    height: 1rem;
    width: 1rem;
    margin: 2px 0;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`;const DQ=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],Ik=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:k9?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Su({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:k9?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Su({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=Su({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Su({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${Su({client:this.client,isSolana:t,connectOnly:e})}`}}});function jQ({connectorType:t,walletClientType:e}){for(let n of DQ)if(t===n||e===n)return Ik[n]}function Su({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let UQ=class extends EQ{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new x2(void 0,V1),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function BQ(t){return t.chainType==="solana"}function FQ(t){return t.type==="solana"}let Tk=R.createContext({});const zQ=({children:t})=>{let e=wi(),[n,r]=R.useState({});return nf("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Ne.put(N9(e.id),i.type),i.type==="wallet"?(Ne.put(B6(e.id),i.walletClientType),Ne.put(F6(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Ne.del(B6(e.id)),Ne.del(F6(e.id)),r({accountType:i.type})))}}),R.useEffect(()=>{if(!e.id)return;let i=Ne.get(N9(e.id)),s=Ne.get(B6(e.id)),a=Ne.get(F6(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})},[e.id]),g.jsx(Tk.Provider,{value:n,children:t})};let N9=t=>`privy:${t}:recent-login-method`,B6=t=>`privy:${t}:recent-login-wallet-client`,F6=t=>`privy:${t}:recent-login-chain-type`;const vSe=()=>R.useContext(Tk);let WQ=class extends E2{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new x2(void 0,V1),this.id=e,this.name=n,this.icon=r}};const VQ=({...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[g.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),g.jsx("g",{transform:"translate(4, 4)",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[g.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),g.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),g.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),g.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),g.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),g.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),g.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),g.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),g.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),g.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),g.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),g.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),g.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function HQ(t){let{login:e}=R.useContext(C2);return nf("login",t),{login:e}}function CSe(t){let{logout:e}=R.useContext(C2);return nf("logout",t),{logout:e}}const qQ=ic(()=>({isModalOpen:!1,resolvers:null}));ic(()=>({}));const ESe=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Ne.put(ZQ(n),r),qQ.setState({wallet:r})},ZQ=t=>`privy:${t}:active-wallet-connection`;class Ys{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Ys("CBWSDK").clear(),new Ys("walletlink").clear()}}const en={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},By={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},kk="Unspecified error message.",GQ="Unspecified server error.";function F8(t,e=kk){if(t&&Number.isInteger(t)){const n=t.toString();if(Fy(By,n))return By[n].message;if(Pk(t))return GQ}return e}function KQ(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(By[e]||Pk(t))}function YQ(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Fy(t,"code")&&KQ(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,Fy(r,"data")&&(n.data=r.data)):(n.message=F8(n.code),n.data={originalError:D9(t)})}else n.code=en.rpc.internal,n.message=j9(t,"message")?t.message:kk,n.data={originalError:D9(t)};return e&&(n.stack=j9(t,"stack")?t.stack:void 0),n}function Pk(t){return t>=-32099&&t<=-32e3}function D9(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Fy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j9(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const dt={rpc:{parse:t=>xi(en.rpc.parse,t),invalidRequest:t=>xi(en.rpc.invalidRequest,t),invalidParams:t=>xi(en.rpc.invalidParams,t),methodNotFound:t=>xi(en.rpc.methodNotFound,t),internal:t=>xi(en.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return xi(e,t)},invalidInput:t=>xi(en.rpc.invalidInput,t),resourceNotFound:t=>xi(en.rpc.resourceNotFound,t),resourceUnavailable:t=>xi(en.rpc.resourceUnavailable,t),transactionRejected:t=>xi(en.rpc.transactionRejected,t),methodNotSupported:t=>xi(en.rpc.methodNotSupported,t),limitExceeded:t=>xi(en.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>B2(en.provider.userRejectedRequest,t),unauthorized:t=>B2(en.provider.unauthorized,t),unsupportedMethod:t=>B2(en.provider.unsupportedMethod,t),disconnected:t=>B2(en.provider.disconnected,t),chainDisconnected:t=>B2(en.provider.chainDisconnected,t),unsupportedChain:t=>B2(en.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new $k(e,n,r)}}};function xi(t,e){const[n,r]=Ok(e);return new Rk(t,n||F8(t),r)}function B2(t,e){const[n,r]=Ok(e);return new $k(t,n||F8(t),r)}function Ok(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class Rk extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class $k extends Rk{constructor(e,n,r){if(!JQ(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function JQ(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function z8(){return t=>t}const lh=z8(),XQ=z8(),QQ=z8();function Sa(t){return Math.floor(t)}const Mk=/^[0-9]*$/,Nk=/^[a-f0-9]*$/;function Sc(t){return W8(crypto.getRandomValues(new Uint8Array(t)))}function W8(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Np(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function bd(t,e=!1){const n=t.toString("hex");return lh(e?`0x${n}`:n)}function z6(t){return bd(zy(t),!0)}function As(t){return QQ(t.toString(10))}function Fo(t){return lh(`0x${BigInt(t).toString(16)}`)}function Dk(t){return t.startsWith("0x")||t.startsWith("0X")}function V8(t){return Dk(t)?t.slice(2):t}function jk(t){return Dk(t)?`0x${t.slice(2)}`:`0x${t}`}function e3(t){if(typeof t!="string")return!1;const e=V8(t).toLowerCase();return Nk.test(e)}function eee(t,e=!1){if(typeof t=="string"){const n=V8(t).toLowerCase();if(Nk.test(n))return lh(e?`0x${n}`:n)}throw dt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function H8(t,e=!1){let n=eee(t,!1);return n.length%2===1&&(n=lh(`0${n}`)),e?lh(`0x${n}`):n}function ao(t){if(typeof t=="string"){const e=V8(t).toLowerCase();if(e3(e)&&e.length===40)return XQ(jk(e))}throw dt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function zy(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(e3(t)){const e=H8(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw dt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function vd(t){if(typeof t=="number"&&Number.isInteger(t))return Sa(t);if(typeof t=="string"){if(Mk.test(t))return Sa(Number(t));if(e3(t))return Sa(Number(BigInt(H8(t,!0))))}throw dt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Iu(t){if(t!==null&&(typeof t=="bigint"||nee(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(vd(t));if(typeof t=="string"){if(Mk.test(t))return BigInt(t);if(e3(t))return BigInt(H8(t,!0))}throw dt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function tee(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw dt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function nee(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function ree(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function iee(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function see(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function aee(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Uk(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Bk(t,e){const n=Uk(t),r=await crypto.subtle.exportKey(n,e);return W8(new Uint8Array(r))}async function Fk(t,e){const n=Uk(t),r=Np(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function oee(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return see(e,n)}async function cee(t,e){return JSON.parse(await aee(e,t))}const W6={storageKey:"ownPrivateKey",keyType:"private"},V6={storageKey:"ownPublicKey",keyType:"public"},H6={storageKey:"peerPublicKey",keyType:"public"};class lee{constructor(){this.storage=new Ys("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(H6,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(V6.storageKey),this.storage.removeItem(W6.storageKey),this.storage.removeItem(H6.storageKey)}async generateKeyPair(){const e=await ree();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(W6,e.privateKey),await this.storeKey(V6,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(W6)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(V6)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(H6)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await iee(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?Fk(e.keyType,n):null}async storeKey(e,n){const r=await Bk(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const rf="4.3.2",zk="@coinbase/wallet-sdk";async function q8(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":rf,"X-Cbw-Sdk-Platform":zk}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function uee(){return globalThis.coinbaseWalletExtension}function dee(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function hee({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const c=uee();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,a,e),c}const o=dee();if(o?.isCoinbaseBrowser)return(r=o.setAppInfo)===null||r===void 0||r.call(o,i,s,a,e),o}function fee(t){if(!t||typeof t!="object"||Array.isArray(t))throw dt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw dt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw dt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw dt.provider.unsupportedMethod()}}const U9="accounts",B9="activeChain",F9="availableChains",z9="walletCapabilities";class pee{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new lee,this.storage=new Ys("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(U9))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(B9)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),o=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in o.content)throw o.content.failure;const c=await Fk("public",o.sender);await this.keyManager.setPeerPublicKey(c);const u=(await this.decryptResponseMessage(o)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const d=u.value;this.accounts=d,this.storage.storeObject(U9,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw dt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Fo(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Fo(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(z9);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw dt.rpc.internal("No RPC URL set for chain");return q8(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw dt.rpc.invalidParams();const i=vd(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw dt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await oee({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Bk("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw dt.provider.unauthorized("Invalid session");const a=await cee(i.encrypted,s),o=(n=a.data)===null||n===void 0?void 0:n.chains;if(o){const l=Object.entries(o).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(F9,l),this.updateChain(this.chain.id,l)}const c=(r=a.data)===null||r===void 0?void 0:r.capabilities;return c&&this.storage.storeObject(z9,c),a}updateChain(e,n){var r;const i=n??this.storage.loadObject(F9),s=i?.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(B9,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Fo(s.id))),!0):!1}}var Ot={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.output=Dn.exists=Dn.hash=Dn.bytes=Dn.bool=Dn.number=Dn.isBytes=void 0;function N0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}Dn.number=N0;function Wk(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}Dn.bool=Wk;function Vk(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}Dn.isBytes=Vk;function Z8(t,...e){if(!Vk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}Dn.bytes=Z8;function Hk(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");N0(t.outputLen),N0(t.blockLen)}Dn.hash=Hk;function qk(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Dn.exists=qk;function Zk(t,e){Z8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Dn.output=Zk;const mee={number:N0,bool:Wk,bytes:Z8,hash:Hk,exists:qk,output:Zk};Dn.default=mee;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.add5L=Ve.add5H=Ve.add4H=Ve.add4L=Ve.add3H=Ve.add3L=Ve.add=Ve.rotlBL=Ve.rotlBH=Ve.rotlSL=Ve.rotlSH=Ve.rotr32L=Ve.rotr32H=Ve.rotrBL=Ve.rotrBH=Ve.rotrSL=Ve.rotrSH=Ve.shrSL=Ve.shrSH=Ve.toBig=Ve.split=Ve.fromBig=void 0;const Vf=BigInt(2**32-1),Wy=BigInt(32);function G8(t,e=!1){return e?{h:Number(t&Vf),l:Number(t>>Wy&Vf)}:{h:Number(t>>Wy&Vf)|0,l:Number(t&Vf)|0}}Ve.fromBig=G8;function Gk(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=G8(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}Ve.split=Gk;const Kk=(t,e)=>BigInt(t>>>0)<<Wy|BigInt(e>>>0);Ve.toBig=Kk;const Yk=(t,e,n)=>t>>>n;Ve.shrSH=Yk;const Jk=(t,e,n)=>t<<32-n|e>>>n;Ve.shrSL=Jk;const Xk=(t,e,n)=>t>>>n|e<<32-n;Ve.rotrSH=Xk;const Qk=(t,e,n)=>t<<32-n|e>>>n;Ve.rotrSL=Qk;const eP=(t,e,n)=>t<<64-n|e>>>n-32;Ve.rotrBH=eP;const tP=(t,e,n)=>t>>>n-32|e<<64-n;Ve.rotrBL=tP;const nP=(t,e)=>e;Ve.rotr32H=nP;const rP=(t,e)=>t;Ve.rotr32L=rP;const iP=(t,e,n)=>t<<n|e>>>32-n;Ve.rotlSH=iP;const sP=(t,e,n)=>e<<n|t>>>32-n;Ve.rotlSL=sP;const aP=(t,e,n)=>e<<n-32|t>>>64-n;Ve.rotlBH=aP;const oP=(t,e,n)=>t<<n-32|e>>>64-n;Ve.rotlBL=oP;function cP(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}Ve.add=cP;const lP=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Ve.add3L=lP;const uP=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Ve.add3H=uP;const dP=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Ve.add4L=dP;const hP=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Ve.add4H=hP;const fP=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Ve.add5L=fP;const pP=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0;Ve.add5H=pP;const gee={fromBig:G8,split:Gk,toBig:Kk,shrSH:Yk,shrSL:Jk,rotrSH:Xk,rotrSL:Qk,rotrBH:eP,rotrBL:tP,rotr32H:nP,rotr32L:rP,rotlSH:iP,rotlSL:sP,rotlBH:aP,rotlBL:oP,add:cP,add3L:lP,add3H:uP,add4L:dP,add4H:hP,add5H:pP,add5L:fP};Ve.default=gee;var mP={},t3={};Object.defineProperty(t3,"__esModule",{value:!0});t3.crypto=void 0;t3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=t3,n=Dn;function r(P){return P instanceof Uint8Array||P!=null&&typeof P=="object"&&P.constructor.name==="Uint8Array"}t.isBytes=r;const i=P=>new Uint8Array(P.buffer,P.byteOffset,P.byteLength);t.u8=i;const s=P=>new Uint32Array(P.buffer,P.byteOffset,Math.floor(P.byteLength/4));t.u32=s;const a=P=>new DataView(P.buffer,P.byteOffset,P.byteLength);t.createView=a;const o=(P,T)=>P<<32-T|P>>>T;t.rotr=o;const c=(P,T)=>P<<T|P>>>32-T>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const l=P=>P<<24&4278190080|P<<8&16711680|P>>>8&65280|P>>>24&255;t.byteSwap=l,t.byteSwapIfBE=t.isLE?P=>P:P=>(0,t.byteSwap)(P);function u(P){for(let T=0;T<P.length;T++)P[T]=(0,t.byteSwap)(P[T])}t.byteSwap32=u;const d=Array.from({length:256},(P,T)=>T.toString(16).padStart(2,"0"));function h(P){(0,n.bytes)(P);let T="";for(let j=0;j<P.length;j++)T+=d[P[j]];return T}t.bytesToHex=h;const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(P){if(P>=f._0&&P<=f._9)return P-f._0;if(P>=f._A&&P<=f._F)return P-(f._A-10);if(P>=f._a&&P<=f._f)return P-(f._a-10)}function m(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);const T=P.length,j=T/2;if(T%2)throw new Error("padded hex string expected, got unpadded hex of length "+T);const v=new Uint8Array(j);for(let E=0,O=0;E<j;E++,O+=2){const k=p(P.charCodeAt(O)),$=p(P.charCodeAt(O+1));if(k===void 0||$===void 0){const D=P[O]+P[O+1];throw new Error('hex string expected, got non-hex character "'+D+'" at index '+O)}v[E]=k*16+$}return v}t.hexToBytes=m;const y=async()=>{};t.nextTick=y;async function C(P,T,j){let v=Date.now();for(let E=0;E<P;E++){j(E);const O=Date.now()-v;O>=0&&O<T||(await(0,t.nextTick)(),v+=O)}}t.asyncLoop=C;function L(P){if(typeof P!="string")throw new Error(`utf8ToBytes expected string, got ${typeof P}`);return new Uint8Array(new TextEncoder().encode(P))}t.utf8ToBytes=L;function w(P){return typeof P=="string"&&(P=L(P)),(0,n.bytes)(P),P}t.toBytes=w;function b(...P){let T=0;for(let v=0;v<P.length;v++){const E=P[v];(0,n.bytes)(E),T+=E.length}const j=new Uint8Array(T);for(let v=0,E=0;v<P.length;v++){const O=P[v];j.set(O,E),E+=O.length}return j}t.concatBytes=b;class x{clone(){return this._cloneInto()}}t.Hash=x;const _={}.toString;function I(P,T){if(T!==void 0&&_.call(T)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(P,T)}t.checkOpts=I;function M(P){const T=v=>P().update(w(v)).digest(),j=P();return T.outputLen=j.outputLen,T.blockLen=j.blockLen,T.create=()=>P(),T}t.wrapConstructor=M;function N(P){const T=(v,E)=>P(E).update(w(v)).digest(),j=P({});return T.outputLen=j.outputLen,T.blockLen=j.blockLen,T.create=v=>P(v),T}t.wrapConstructorWithOpts=N;function U(P){const T=(v,E)=>P(E).update(w(v)).digest(),j=P({});return T.outputLen=j.outputLen,T.blockLen=j.blockLen,T.create=v=>P(v),T}t.wrapXOFConstructorWithOpts=U;function B(P=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(P));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=B})(mP);Object.defineProperty(Ot,"__esModule",{value:!0});Ot.shake256=Ot.shake128=Ot.keccak_512=Ot.keccak_384=Ot.keccak_256=Ot.keccak_224=Ot.sha3_512=Ot.sha3_384=Ot.sha3_256=Ot.sha3_224=Ot.Keccak=Ot.keccakP=void 0;const F2=Dn,uh=Ve,Ea=mP,gP=[],yP=[],wP=[],yee=BigInt(0),Tu=BigInt(1),wee=BigInt(2),bee=BigInt(7),vee=BigInt(256),_ee=BigInt(113);for(let t=0,e=Tu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],gP.push(2*(5*r+n)),yP.push((t+1)*(t+2)/2%64);let i=yee;for(let s=0;s<7;s++)e=(e<<Tu^(e>>bee)*_ee)%vee,e&wee&&(i^=Tu<<(Tu<<BigInt(s))-Tu);wP.push(i)}const[Cee,Eee]=(0,uh.split)(wP,!0),W9=(t,e,n)=>n>32?(0,uh.rotlBH)(t,e,n):(0,uh.rotlSH)(t,e,n),V9=(t,e,n)=>n>32?(0,uh.rotlBL)(t,e,n):(0,uh.rotlSL)(t,e,n);function bP(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=W9(l,u,1)^n[o],h=V9(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=yP[a],c=W9(i,s,o),l=V9(i,s,o),u=gP[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Cee[r],t[1]^=Eee[r]}n.fill(0)}Ot.keccakP=bP;let K8=class vP extends Ea.Hash{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,F2.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ea.u32)(this.state)}keccak(){Ea.isLE||(0,Ea.byteSwap32)(this.state32),bP(this.state32,this.rounds),Ea.isLE||(0,Ea.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,F2.exists)(this);const{blockLen:n,state:r}=this;e=(0,Ea.toBytes)(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,F2.exists)(this,!1),(0,F2.bytes)(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,F2.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,F2.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new vP(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};Ot.Keccak=K8;const cc=(t,e,n)=>(0,Ea.wrapConstructor)(()=>new K8(e,t,n));Ot.sha3_224=cc(6,144,224/8);Ot.sha3_256=cc(6,136,256/8);Ot.sha3_384=cc(6,104,384/8);Ot.sha3_512=cc(6,72,512/8);Ot.keccak_224=cc(1,144,224/8);Ot.keccak_256=cc(1,136,256/8);Ot.keccak_384=cc(1,104,384/8);Ot.keccak_512=cc(1,72,512/8);const _P=(t,e,n)=>(0,Ea.wrapXOFConstructorWithOpts)((r={})=>new K8(e,t,r.dkLen===void 0?n:r.dkLen,!0));Ot.shake128=_P(31,168,128/8);Ot.shake256=_P(31,136,256/8);const{keccak_256:xee}=Ot;function CP(t){return Buffer.allocUnsafe(t).fill(0)}function Aee(t){return t.toString(2).length}function EP(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function Lee(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function xP(t,e,n){const r=CP(e);return t=n3(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function See(t,e){return xP(t,e,!0)}function n3(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")AP(t)?t=Buffer.from(kee(LP(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=EP(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Iee(t){return t=n3(t),"0x"+t.toString("hex")}function Tee(t,e){if(t=n3(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(xee(new Uint8Array(t)))}function kee(t){return t.length%2?"0"+t:t}function AP(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function LP(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var SP={zeros:CP,setLength:xP,setLengthRight:See,isHexString:AP,stripHexPrefix:LP,toBuffer:n3,bufferToHex:Iee,keccak:Tee,bitLengthFromBigInt:Aee,bufferBEFromBigInt:EP,twosFromBigInt:Lee};const Cr=SP;function IP(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Cl(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function H9(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function TP(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function Ic(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function Ns(t,e){var n,r,i,s;if(t==="address")return Ns("uint160",Ic(e));if(t==="bool")return Ns("uint8",e?1:0);if(t==="string")return Ns("bytes",new Buffer(e,"utf8"));if(Oee(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=TP(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Ns(t,e[s]));if(n==="dynamic"){var a=Ns("uint256",e.length);i.unshift(a)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Ns("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Cr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Cl(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Cr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Cl(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Ic(e);const o=Cr.bitLengthFromBigInt(r);if(o>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+o);if(r<0)throw new Error("Supplied uint is negative");return Cr.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=Cl(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Ic(e);const o=Cr.bitLengthFromBigInt(r);if(o>n)throw new Error("Supplied int exceeds width: "+n+" vs "+o);const c=Cr.twosFromBigInt(r,256);return Cr.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(n=H9(t),r=Ic(e),r<0)throw new Error("Supplied ufixed is negative");return Ns("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=H9(t),Ns("int256",Ic(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function Pee(t){return t==="string"||t==="bytes"||TP(t)==="dynamic"}function Oee(t){return t.lastIndexOf("]")===t.length-1}function Ree(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var a=IP(t[s]),o=e[s],c=Ns(a,o);Pee(a)?(n.push(Ns("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function kP(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var a=IP(t[s]),o=e[s];if(a==="bytes")i.push(o);else if(a==="string")i.push(new Buffer(o,"utf8"));else if(a==="bool")i.push(new Buffer(o?"01":"00","hex"));else if(a==="address")i.push(Cr.setLength(o,20));else if(a.startsWith("bytes")){if(n=Cl(a),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Cr.setLengthRight(o,n))}else if(a.startsWith("uint")){if(n=Cl(a),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Ic(o);const c=Cr.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(Cr.bufferBEFromBigInt(r,n/8))}else if(a.startsWith("int")){if(n=Cl(a),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Ic(o);const c=Cr.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const l=Cr.twosFromBigInt(r,n);i.push(Cr.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(i)}function $ee(t,e){return Cr.keccak(kP(t,e))}var Mee={rawEncode:Ree,solidityPack:kP,soliditySHA3:$ee};const es=SP,_d=Mee,PP={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},q6={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const a=(o,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":es.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${o} of type ${c}`);if(c==="bytes")return["bytes32",es.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",es.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),d=l.map(h=>a(o,u,h));return["bytes32",es.keccak(_d.rawEncode(d.map(([h])=>h),d.map(([,h])=>h)))]}return[c,l]};for(const o of n[t]){const[c,l]=a(o.name,o.type,e[o.name]);i.push(c),s.push(l)}}else for(const a of n[t]){let o=e[a.name];if(o!==void 0)if(a.type==="bytes")i.push("bytes32"),o=es.keccak(o),s.push(o);else if(a.type==="string")i.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=es.keccak(o),s.push(o);else if(n[a.type]!==void 0)i.push("bytes32"),o=es.keccak(this.encodeData(a.type,o,n,r)),s.push(o);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),s.push(o)}}return _d.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:a,type:o})=>o+" "+a).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return es.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return es.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in PP.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),es.keccak(Buffer.concat(r))}};var Nee={TYPED_MESSAGE_SCHEMA:PP,TypedDataUtils:q6,hashForSignTypedDataLegacy:function(t){return Dee(t.data)},hashForSignTypedData_v3:function(t){return q6.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return q6.hash(t.data)}};function Dee(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?es.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return _d.soliditySHA3(["bytes32","bytes32"],[_d.soliditySHA3(new Array(t.length).fill("string"),i),_d.soliditySHA3(r,n)])}const Hf=w2(Nee),jee="walletUsername",Vy="Addresses",Uee="AppVersion";function Yn(t){return t.errorMessage!==void 0}class Bee{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Np(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),o=16,c=a.slice(a.byteLength-o),l=a.slice(0,a.byteLength-o),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...r,...u,...d]);return W8(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Np(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=Np(e),o=a.slice(0,12),c=a.slice(12,28),l=a.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(d,s,u),f=new TextDecoder;r(f.decode(h))}catch(h){i(h)}})()})}}class Fee{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var $a;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})($a||($a={}));class zee{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,$a.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,$a.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,$a.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var a,o;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,$a.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const q9=1e4,Wee=6e4;class Vee{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Sa(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",o=>s.JsonRpcUrl&&this.handleChainUpdated(o,s.JsonRpcUrl)]]).forEach((o,c)=>{const l=s[c];l!==void 0&&o(l)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const o=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(o)},this.handleMetadataUpdated=async(s,a)=>{var o;const c=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(jee,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Uee,s)},this.handleChainUpdated=async(s,a)=>{var o;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.chainUpdated(c,l)},this.session=e,this.cipher=new Bee(e.secret),this.listener=r;const i=new zee(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case $a.DISCONNECTED:if(!this.destroyed){const o=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{o()})};o()}break;case $a.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},q9),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case $a.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const o=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=o||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new Fee(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Sa(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Sa(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>q9*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Wee}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Sa(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Sa(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Sa(this.nextReqId++),sessionId:this.session.id}),!0)}}class Hee{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=jk(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function qee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Y8(t,...e){if(!qee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Z9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Zee(t,e){Y8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ls=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Gee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kee(t){Y8(t);let e="";for(let n=0;n<t.length;n++)e+=Gee[t[n]];return e}function Yee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function OP(t){return typeof t=="string"&&(t=Yee(t)),Y8(t),t}let Jee=class{clone(){return this._cloneInto()}};function Xee(t){const e=r=>t().update(OP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Qee(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}const ete=(t,e,n)=>t&e^~t&n,tte=(t,e,n)=>t&e^t&n^e&n;let nte=class extends Jee{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Z6(this.buffer)}update(e){Z9(this);const{view:n,buffer:r,blockLen:i}=this;e=OP(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=Z6(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Z9(this),Zee(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;Qee(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=Z6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const rte=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),co=new Uint32Array(64);let ite=class extends nte{constructor(){super(64,32,8,!1),this.A=oo[0]|0,this.B=oo[1]|0,this.C=oo[2]|0,this.D=oo[3]|0,this.E=oo[4]|0,this.F=oo[5]|0,this.G=oo[6]|0,this.H=oo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)co[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=co[d-15],f=co[d-2],p=Ls(h,7)^Ls(h,18)^h>>>3,m=Ls(f,17)^Ls(f,19)^f>>>10;co[d]=m+co[d-7]+p+co[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ls(o,6)^Ls(o,11)^Ls(o,25),f=u+h+ete(o,c,l)+rte[d]+co[d]|0,m=(Ls(r,2)^Ls(r,13)^Ls(r,22))+tte(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){co.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const ste=Xee(()=>new ite),G9="session:id",K9="session:secret",Y9="session:linked";class El{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=Kee(ste(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Sc(16),r=Sc(32);return new El(e,n,r).save()}static load(e){const n=e.getItem(G9),r=e.getItem(Y9),i=e.getItem(K9);return n&&i?new El(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(G9,this.id),this.storage.setItem(K9,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Y9,this._linked?"1":"0")}}function ate(){try{return window.frameElement!==null}catch{return!1}}function ote(){try{return ate()&&window.top?window.top.location:window.location}catch{return window.location}}function cte(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function RP(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const lte='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function $P(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(lte)),document.documentElement.appendChild(t)}function MP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=MP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Cd(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=MP(t))&&(r&&(r+=" "),r+=e);return r}var r3,Ht,NP,Tc,J9,DP,Hy,J8,qy,Zy,dh={},jP=[],ute=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X8=Array.isArray;function zo(t,e){for(var n in e)t[n]=e[n];return t}function UP(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Et(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?r3.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Dp(t,a,r,i,null)}function Dp(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++NP,__i:-1,__u:0};return i==null&&Ht.vnode!=null&&Ht.vnode(s),s}function i3(t){return t.children}function jp(t,e){this.props=t,this.context=e}function Jl(t,e){if(e==null)return t.__?Jl(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Jl(t):null}function BP(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return BP(t)}}function X9(t){(!t.__d&&(t.__d=!0)&&Tc.push(t)&&!D0.__r++||J9!==Ht.debounceRendering)&&((J9=Ht.debounceRendering)||DP)(D0)}function D0(){var t,e,n,r,i,s,a,o;for(Tc.sort(Hy);t=Tc.shift();)t.__d&&(e=Tc.length,r=void 0,s=(i=(n=t).__v).__e,a=[],o=[],n.__P&&((r=zo({},i)).__v=i.__v+1,Ht.vnode&&Ht.vnode(r),Q8(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??Jl(i),!!(32&i.__u),o),r.__v=i.__v,r.__.__k[r.__i]=r,WP(a,r,o),r.__e!=s&&BP(r)),Tc.length>e&&Tc.sort(Hy));D0.__r=0}function FP(t,e,n,r,i,s,a,o,c,l,u){var d,h,f,p,m,y=r&&r.__k||jP,C=e.length;for(n.__d=c,dte(n,e,y),c=n.__d,d=0;d<C;d++)(f=n.__k[d])!=null&&(h=f.__i===-1?dh:y[f.__i]||dh,f.__i=d,Q8(t,f,h,i,s,a,o,c,l,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&ew(h.ref,null,f),u.push(f.ref,f.__c||p,f)),m==null&&p!=null&&(m=p),65536&f.__u||h.__k===f.__k?c=zP(f,c,t):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:p&&(c=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function dte(t,e,n){var r,i,s,a,o,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+d,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Dp(null,i,null,null,null):X8(i)?Dp(i3,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Dp(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(o=i.__i=hte(i,n,a,u))!==-1&&(u--,(s=n[o])&&(s.__u|=131072)),s==null||s.__v===null?(o==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):o!==a&&(o==a-1?d--:o==a+1?d++:(o>a?d--:d++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Jl(s)),VP(s,s))}function zP(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=zP(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Jl(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function hte(t,e,n,r){var i=t.key,s=t.type,a=n-1,o=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;a>=0||o<e.length;){if(a>=0){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a--}if(o<e.length){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o++}}return-1}function Q9(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ute.test(e)?n:n+"px"}function qf(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Q9(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Q9(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=J8,t.addEventListener(e,s?Zy:qy,s)):t.removeEventListener(e,s?Zy:qy,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ev(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=J8++;else if(e.t<n.u)return;return n(Ht.event?Ht.event(e):e)}}}function Q8(t,e,n,r,i,s,a,o,c,l){var u,d,h,f,p,m,y,C,L,w,b,x,_,I,M,N,U=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[o=e.__e=n.__e]),(u=Ht.__b)&&u(e);e:if(typeof U=="function")try{if(C=e.props,L="prototype"in U&&U.prototype.render,w=(u=U.contextType)&&r[u.__c],b=u?w?w.props.value:u.__:r,n.__c?y=(d=e.__c=n.__c).__=d.__E:(L?e.__c=d=new U(C,b):(e.__c=d=new jp(C,b),d.constructor=U,d.render=pte),w&&w.sub(d),d.props=C,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),L&&d.__s==null&&(d.__s=d.state),L&&U.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=zo({},d.__s)),zo(d.__s,U.getDerivedStateFromProps(C,d.__s))),f=d.props,p=d.state,d.__v=e,h)L&&U.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),L&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(L&&U.getDerivedStateFromProps==null&&C!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(C,b),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(C,d.__s,b)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=C,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(B){B&&(B.__=e)}),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(C,d.__s,b),L&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,p,m)})}if(d.context=b,d.props=C,d.__P=t,d.__e=!1,_=Ht.__r,I=0,L){for(d.state=d.__s,d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[]}else do d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++I<25);d.state=d.__s,d.getChildContext!=null&&(r=zo(zo({},r),d.getChildContext())),L&&!h&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,p)),FP(t,X8(N=u!=null&&u.type===i3&&u.key==null?u.props.children:u)?N:[N],e,n,r,i,s,a,o,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),y&&(d.__E=d.__=null)}catch(B){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;o&&o.nodeType===8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else e.__e=n.__e,e.__k=n.__k;Ht.__e(B,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=fte(n.__e,e,n,r,i,s,a,c,l);(u=Ht.diffed)&&u(e)}function WP(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)ew(n[r],n[++r],n[++r]);Ht.__c&&Ht.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Ht.__e(s,i.__v)}})}function fte(t,e,n,r,i,s,a,o,c){var l,u,d,h,f,p,m,y=n.props,C=e.props,L=e.type;if(L==="svg"?i="http://www.w3.org/2000/svg":L==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((f=s[l])&&"setAttribute"in f==!!L&&(L?f.localName===L:f.nodeType===3)){t=f,s[l]=null;break}}if(t==null){if(L===null)return document.createTextNode(C);t=document.createElementNS(i,L,C.is&&C),o&&(Ht.__m&&Ht.__m(e,s),o=!1),s=null}if(L===null)y===C||o&&t.data===C||(t.data=C);else{if(s=s&&r3.call(t.childNodes),y=n.props||dh,!o&&s!=null)for(y={},l=0;l<t.attributes.length;l++)y[(f=t.attributes[l]).name]=f.value;for(l in y)if(f=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in C)){if(l=="value"&&"defaultValue"in C||l=="checked"&&"defaultChecked"in C)continue;qf(t,l,null,f,i)}}for(l in C)f=C[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?p=f:l=="checked"?m=f:o&&typeof f!="function"||y[l]===f||qf(t,l,f,y[l],i);if(u)o||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),FP(t,X8(h)?h:[h],e,n,r,L==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&Jl(n,0),o,c),s!=null)for(l=s.length;l--;)UP(s[l]);o||(l="value",L==="progress"&&p==null?t.removeAttribute("value"):p!==void 0&&(p!==t[l]||L==="progress"&&!p||L==="option"&&p!==y[l])&&qf(t,l,p,y[l],i),l="checked",m!==void 0&&m!==t[l]&&qf(t,l,m,y[l],i))}return t}function ew(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ht.__e(i,n)}}function VP(t,e,n){var r,i;if(Ht.unmount&&Ht.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ew(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Ht.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&VP(r[i],e,n||typeof t.type!="function");n||UP(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function pte(t,e,n){return this.constructor(t,n)}function Gy(t,e,n){var r,i,s,a;Ht.__&&Ht.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],Q8(e,t=e.__k=Et(i3,null,[t]),i||dh,dh,e.namespaceURI,i?null:e.firstChild?r3.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),WP(s,t,a)}r3=jP.slice,Ht={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},NP=0,jp.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zo({},this.state),typeof t=="function"&&(t=t(zo({},n),this.props)),t&&zo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),X9(this))},jp.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),X9(this))},jp.prototype.render=i3,Tc=[],DP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hy=function(t,e){return t.__v.__b-e.__v.__b},D0.__r=0,J8=0,qy=ev(!1),Zy=ev(!0);var hh,rn,G6,tv,Ky=0,HP=[],hn=Ht,nv=hn.__b,rv=hn.__r,iv=hn.diffed,sv=hn.__c,av=hn.unmount,ov=hn.__;function tw(t,e){hn.__h&&hn.__h(rn,t,Ky||e),Ky=0;var n=rn.__H||(rn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function cv(t){return Ky=1,mte(ZP,t)}function mte(t,e,n){var r=tw(hh++,2);if(r.t=t,!r.__c&&(r.__=[ZP(void 0,e),function(o){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,o);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=rn,!rn.u)){var i=function(o,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,o,c,l);var d=!1;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),!(!d&&r.__c.props===o)&&(!s||s.call(this,o,c,l))};rn.u=!0;var s=rn.shouldComponentUpdate,a=rn.componentWillUpdate;rn.componentWillUpdate=function(o,c,l){if(this.__e){var u=s;s=void 0,i(o,c,l),s=u}a&&a.call(this,o,c,l)},rn.shouldComponentUpdate=i}return r.__N||r.__}function gte(t,e){var n=tw(hh++,3);!hn.__s&&qP(n.__H,e)&&(n.__=t,n.i=e,rn.__H.__h.push(n))}function SSe(t,e){var n=tw(hh++,7);return qP(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function yte(){for(var t;t=HP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Up),t.__H.__h.forEach(Yy),t.__H.__h=[]}catch(e){t.__H.__h=[],hn.__e(e,t.__v)}}hn.__b=function(t){rn=null,nv&&nv(t)},hn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ov&&ov(t,e)},hn.__r=function(t){rv&&rv(t),hh=0;var e=(rn=t.__c).__H;e&&(G6===rn?(e.__h=[],rn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Up),e.__h.forEach(Yy),e.__h=[],hh=0)),G6=rn},hn.diffed=function(t){iv&&iv(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(HP.push(e)!==1&&tv===hn.requestAnimationFrame||((tv=hn.requestAnimationFrame)||wte)(yte)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),G6=rn=null},hn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Up),n.__h=n.__h.filter(function(r){return!r.__||Yy(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],hn.__e(r,n.__v)}}),sv&&sv(t,e)},hn.unmount=function(t){av&&av(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Up(r)}catch(i){e=i}}),n.__H=void 0,e&&hn.__e(e,n.__v))};var lv=typeof requestAnimationFrame=="function";function wte(t){var e,n=function(){clearTimeout(r),lv&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);lv&&(e=requestAnimationFrame(n))}function Up(t){var e=rn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),rn=e}function Yy(t){var e=rn;t.__c=t.__(),rn=e}function qP(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function ZP(t,e){return typeof e=="function"?e(t):e}const bte=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",vte="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",_te="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class GP{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=RP()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&Gy(Et("div",null,Et(KP,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>Et(Cte,Object.assign({},n,{key:e}))))),this.root)}}const KP=t=>Et("div",{class:Cd("-cbwsdk-snackbar-container")},Et("style",null,bte),Et("div",{class:"-cbwsdk-snackbar"},t.children)),Cte=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=cv(!0),[s,a]=cv(t??!1);gte(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const o=()=>{a(!s)};return Et("div",{class:Cd("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Et("div",{class:"-cbwsdk-snackbar-instance-header",onClick:o},Et("img",{src:vte,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Et("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Et("div",{class:"-gear-container"},!s&&Et("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Et("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Et("img",{src:_te,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&Et("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,l)=>Et("div",{class:Cd("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},Et("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Et("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),Et("span",{class:Cd("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},YP="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class Ete{constructor(){this.attached=!1,this.snackbar=new GP}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,$P()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:YP,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const xte=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Ate{constructor(){this.root=null,this.darkMode=RP()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),$P()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(Gy(null,this.root),e&&Gy(Et(Lte,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Lte=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return Et(KP,{darkMode:n},Et("div",{class:"-cbwsdk-redirect-dialog"},Et("style",null,xte),Et("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),Et("div",{class:Cd("-cbwsdk-redirect-dialog-box",s)},Et("p",null,t),Et("button",{onClick:r},e))))},Ste="https://keys.coinbase.com/connect",Ite="https://rpc.wallet.coinbase.com",uv="https://www.walletlink.org",Tte="https://go.cb-w.com/walletlink";class dv{constructor(){this.attached=!1,this.redirectDialog=new Ate}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Tte);n.searchParams.append("redirect_url",ote().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Ia{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=cte(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(Vy);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Ia.accountRequestCallbackIds.size>0&&(Array.from(Ia.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),Ia.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Hee,this.ui=r,this.ui.attach()}subscribe(){const e=El.load(this.storage)||El.create(this.storage),{linkAPIUrl:n}=this,r=new Vee({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new dv:new Ete;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=El.load(this.storage);e?.id===this._session.id&&Ys.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:As(e.weiValue),data:bd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?As(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?As(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?As(e.gasPriceInWei):null,gasLimit:e.gasLimit?As(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:As(e.weiValue),data:bd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?As(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?As(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?As(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?As(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:bd(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Sc(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,o=>{if(n?.(),Yn(o))return a(new Error(o.errorMessage));s(o)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof dv)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Ia.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Ia.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Sc(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,o=>{if(Yn(o))return a(new Error(o.errorMessage));s(o)}),Ia.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const o={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let c=null;const l=Sc(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),Yn(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,o)})}addEthereumChain(e,n,r,i,s,a){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let c=null;const l=Sc(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),Yn(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,o)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Sc(8),a=o=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,o),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((o,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i?.(),Yn(l)&&l.errorCode)return c(dt.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Yn(l))return c(new Error(l.errorMessage));o(l)}),this.publishWeb3RequestEvent(s,r)})}}Ia.accountRequestCallbackIds=new Set;const hv="DefaultChainId",fv="DefaultJsonRpcUrl";class JP{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Ys("walletlink",uv),this.callback=e.callback||null;const n=this._storage.getItem(Vy);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>ao(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(fv))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(fv,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(hv,n.toString(10)),vd(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Fo(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw dt.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw dt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw dt.rpc.invalidParams("Options are required");if(!n?.options.address)throw dt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=n.options,l=await this.initializeRelay().watchAsset(n.type,i,s,o,a,r?.toString());return Yn(l)?!1:!!l.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw dt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw dt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw dt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=i,h=await a.addEthereumChain(s.toString(),o,u,c,l,d);if(Yn(h))return!1;if(((r=h.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(o[0],s),null;throw dt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Yn(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>ao(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(Vy,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Fo(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw dt.rpc.internal("No RPC URL set for chain");return q8(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=ao(e);if(!this._addresses.map(i=>ao(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?ao(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?ao(e.to):null,i=e.value!=null?Iu(e.value):BigInt(0),s=e.data?zy(e.data):Buffer.alloc(0),a=e.nonce!=null?vd(e.nonce):null,o=e.gasPrice!=null?Iu(e.gasPrice):null,c=e.maxFeePerGas!=null?Iu(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?Iu(e.maxPriorityFeePerGas):null,u=e.gas!=null?Iu(e.gas):null,d=e.chainId?vd(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw dt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:z6(r[0]),signature:z6(r[1]),addPrefix:n==="personal_ecRecover"}});if(Yn(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(hv))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Fo(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Yn(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Fo(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw dt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:ao(n),message:z6(r),addPrefix:!0,typedDataJson:null}});if(Yn(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Yn(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=zy(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Yn(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Yn(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw dt.rpc.invalidParams();const i=l=>{const u={eth_signTypedData_v1:Hf.hashForSignTypedDataLegacy,eth_signTypedData_v3:Hf.hashForSignTypedData_v3,eth_signTypedData_v4:Hf.hashForSignTypedData_v4,eth_signTypedData:Hf.hashForSignTypedData_v4};return bd(u[n]({data:tee(l)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:ao(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(Yn(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new Ia({linkAPIUrl:uv,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const XP="SignerType",QP=new Ys("CBWSDK","SignerConfigurator");function kte(){return QP.getItem(XP)}function Pte(t){QP.setItem(XP,t)}async function Ote(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;$te(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function Rte(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new pee({metadata:n,callback:i,communicator:r});case"walletlink":return new JP({metadata:n,callback:i})}}async function $te(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new JP({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Mte=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Nte=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Mte)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Dte,getCrossOriginOpenerPolicy:jte}=Nte(),pv=420,mv=540,Ute={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:YP,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Bte="Popup was blocked. Try again.";let Zf=null;function Fte(t){const e=(window.innerWidth-pv)/2+window.screenX,n=(window.innerHeight-mv)/2+window.screenY;Wte(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${pv}, height=${mv}, left=${e}, top=${n}`);return a?.focus(),a||null}let i=r();if(!i){const s=Vte();return new Promise((a,o)=>{s.presentItem({autoExpand:!0,message:Bte,menuItems:[Object.assign(Object.assign({},Ute),{onClick:()=>{i=r(),i?a(i):o(dt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function zte(t){t&&!t.closed&&t.close()}function Wte(t){const e={sdkName:zk,sdkVersion:rf,origin:window.location.origin,coop:jte()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function Vte(){if(!Zf){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Zf=new GP,Zf.attach(t)}return Zf}class Hte{constructor({url:e=Ste,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const o=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:a})}),this.disconnect=()=>{zte(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(dt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await Fte(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:rf,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw dt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function qte(t){const e=YQ(Zte(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",rf),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Zte(t){var e;if(typeof t=="string")return{message:t,code:en.rpc.internal};if(Yn(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?en.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class Gte extends _2{}var Kte=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Yte extends Gte{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=Kte(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new Hte({url:i,metadata:n,preference:s});const a=kte();a&&(this.signer=this.initSigner(a))}async request(e){try{if(fee(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,Pte(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return q8(e,Ite);case"net_version":return 1;case"eth_chainId":return Fo(1);default:throw dt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===en.provider.unauthorized&&this.disconnect(),Promise.reject(qte(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Ys.clearAll(),this.emit("disconnect",dt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Ote({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Rte({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Jte(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function Xte(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=hee(n))!==null&&e!==void 0?e:new Yte(n)}const Qte={options:"all"};function gv(t){var e;new Ys("CBWSDK").setItem("VERSION",rf),Dte();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Qte,(e=t.preference)!==null&&e!==void 0?e:{})};Jte(r.preference);let i=null;return{getProvider:()=>(i||(i=Xte(r)),i)}}function ene(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function tne(){const t=new Set;let e=[];const n=()=>ene(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const nne=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},eO=t=>window.open(t?.location,void 0,nne({w:440,h:680})),tO="/api/v1/sessions",nO="/api/v1/sessions/logout",rne="/api/v1/siwe/init",ine="/api/v1/siwe/authenticate",sne="/api/v1/siwe/link",ane="/api/v1/siwe/link_smart_wallet",one="/api/v1/siwe/unlink",cne="/api/v1/siwe/transfer",lne="/api/v1/siws/init",une="/api/v1/siws/authenticate",dne="/api/v1/siws/link",hne="/api/v1/siws/unlink",fne="/api/v1/siws/transfer",pne="/api/v1/farcaster/init",mne="/api/v1/farcaster/authenticate",gne="/api/v1/farcaster/link",yne="/api/v1/farcaster/status",wne="/api/v1/farcaster/unlink",bne="/api/v1/farcaster/transfer",vne="/api/v1/passwordless/init",_ne="/api/v1/passwordless/authenticate",Cne="/api/v1/passwordless/link",Ene="/api/v1/passwordless/unlink",xne="/api/v1/passwordless/update",Ane="/api/v1/passwordless/transfer",Lne="/api/v1/passwordless_sms/init",Sne="/api/v1/passwordless_sms/link",Ine="/api/v1/passwordless_sms/unlink",Tne="/api/v1/passwordless_sms/authenticate",kne="/api/v1/passwordless_sms/update",Pne="/api/v1/passwordless_sms/transfer",rO="/api/v1/oauth/init",iO="/api/v1/oauth/authenticate",sO="/api/v1/oauth/link",One="/api/v1/oauth/unlink",Rne="/api/v1/oauth/transfer",ISe="/api/v1/recovery/oauth/init",TSe="/api/v1/recovery/oauth/init_icloud",kSe="/api/v1/recovery/oauth/authenticate",$ne="/api/v1/passkeys/link/init",Mne="/api/v1/passkeys/authenticate/init",Nne="/api/v1/passkeys/register/init",Dne="/api/v1/passkeys/link",jne="/api/v1/passkeys/authenticate",Une="/api/v1/passkeys/register",Bne="/api/v1/telegram/authenticate",Fne="/api/v1/telegram/link",zne="/api/v1/telegram/unlink",Wne="/api/v1/telegram/transfer",Vne="/api/v1/mfa/passwordless_sms/init",Hne="/api/v1/mfa/passkeys/init",qne="/api/v1/users/me/accept_terms",aO="/api/v1/analytics_events",Zne="/api/v1/custom_jwt_account/authenticate",Gne="/api/v1/custom_jwt_account/link",Kne="/api/v1/guest/authenticate",Yne="/api/v1/plugins/moonpay_on_ramp/sign",Jne="/api/v1/funding/coinbase_on_ramp/init",Xne="/api/v1/funding/coinbase_on_ramp/status",Qne="/api/v1/wallets/revoke",ere="/api/v1/users/me",tre="/api/v1/scan/transaction";function oO(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function nre(t,e){let n=oO(e);if(oh&&fk&&n.universalLink)return j0(n.universalLink,t);if(n.deepLink)return lO(n.deepLink,t);if(n.universalLink)return j0(n.universalLink,t);throw new Z(`Unsupported wallet ${e.id}`)}function yv(t,e){let n=oO(e);if(n.universalLink)return j0(n.universalLink,t)}let nw="WALLETCONNECT_DEEPLINK_CHOICE";function rre(){try{localStorage.removeItem(nw)}catch{}}function ire({href:t,name:e}){try{localStorage.setItem(nw,JSON.stringify({href:t,name:e}))}catch{}}function sre(){try{localStorage.removeItem(nw)}catch{}}function cO(t){return t.startsWith("http://")||t.startsWith("https://")}function lO(t,e){if(cO(t))return j0(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function j0(t,e){if(!cO(t))return lO(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function uO(t,e){window.open(t,e,"noreferrer noopener")}const are=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`,ore=Symbol("solana-funding-plugin"),cre=Symbol("solana-ledger-plugin"),rw=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e))??[],dO=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:o,walletIndex:c,chainType:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})=>{if(c===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ig(i,{request:{chain_type:l},headers:f?{"privy-idempotency-key":f}:void 0});else if(l==="ethereum"){let y=S8(t);y&&await a({address:y.address}),await n.create({accessToken:e,solanaAddress:y?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}else{if(l!=="solana")throw Error("Invalid input to create wallet");{let y=Uo(t);y&&await a({address:y.address}),await n.createSolana({accessToken:e,ethereumAddress:y?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ig(i,{request:{chain_type:l}});else{let{entropyId:y,entropyIdVerifier:C}=Ro(t);await a(),await n.addWallet({accessToken:e,entropyId:y,entropyIdVerifier:C,chainType:l,hdWalletIndex:c})}let p=await r(),m=rw(p,{chainType:l,walletIndex:c})[0];return o(p),{user:p,account:m}},lre=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null);let wv=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:o,walletIndex:c,setModalData:l,openModal:u,chainType:d,setUser:h,idempotencyKey:f})=>{if(c<0)throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let p=ih(o);if(c>0&&!p)throw r("createWallet","onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await bv({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});let m=rw(o,{chainType:d,walletIndex:c})[0];if(m)return{user:o,account:m};if(c===0&&!i)return bv({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});if(!i)throw r("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return dO({appConfig:e,walletIndex:c,chainType:d,user:o,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:h,idempotencyKey:f})},bv=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:a,account:o})=>{t("createWallet","onSuccess",{wallet:o}),i({user:a,account:o})},onFailure:a=>{t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")});const ure=()=>{let t=wi(),e=X1(),{setModalData:n}=Hl(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:o,privy:c,client:l}=eo();return{create:async({chainType:u,options:d,latestUser:h,idempotencyKey:f})=>{let p=h;if(p||(p=await o()),!p)throw e("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:m,getAccessToken:y,initializeWalletProxy:C,user:L,privy:w,emitPrivyEvent:b,recoverEmbeddedWallet:x,setModalData:_,openModal:I,setUser:M,options:N,timeoutDuration:U,refreshSessionAndUser:B,chainType:P,idempotencyKey:T})=>{let[j,v]=await Promise.all([C(U),y()]);if(!v||!L)throw b("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!j&&m.customAuth?.enabled)throw b("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(N&&"walletIndex"in N&&typeof N.walletIndex=="number"){if(m.embeddedWallets.mode==="user-controlled-server-wallets-only")throw b("createWallet","onError",ne.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return wv({accessToken:v,appConfig:m,privy:w,emitPrivyEvent:b,openModal:I,proxy:j,refreshSessionAndUser:B,recoverEmbeddedWallet:x,setModalData:_,user:L,walletIndex:N.walletIndex,chainType:P,setUser:M})}let E=N&&"createAdditional"in N&&N.createAdditional,O=rw(L,{chainType:P});if(O[0]&&!E)throw b("createWallet","onError",ne.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return wv({accessToken:v,appConfig:m,privy:w,emitPrivyEvent:b,openModal:I,proxy:j,recoverEmbeddedWallet:x,setModalData:_,user:L,walletIndex:(lre(O)?.walletIndex??-1)+1,chainType:P,refreshSessionAndUser:B,setUser:M,idempotencyKey:T})})({appConfig:t,privy:c,getAccessToken:()=>l.getAccessToken(),refreshSessionAndUser:o,initializeWalletProxy:r,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:d,timeoutDuration:BK,chainType:u,idempotencyKey:f})}}};function hO(t){let{create:e}=ure();return nf("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const dre=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:o,additionalSigners:c})=>{if(!i)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new Z("User must be authenticated before linking an account.");let l=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(c&&l==="on-device")throw new Z("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[u,d]=await Promise.all([e(),n(15e3)]);if(!d||!u)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new Z("User must be authenticated before linking an account.");let{address:h}=await d.importWallet({privateKey:a,accessToken:u,chainType:o,mode:l,additionalSigners:c}),f=await r(),p=Ey(f),m=p?.find(y=>y.address===h);if(!m)throw t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:m}),m},hre=()=>{let{user:t}=fu(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=eo(),i=X1(),s=wi();return{importWallet:R.useCallback(({privateKey:a,additionalSigners:o})=>dre({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:o}),[t,e,n,r,i,s])}},fO=()=>{let{importWallet:t}=hre(),{exportWallet:e}=AQ(),{createWallet:n}=hO();return{...R.useContext(C2),importWallet:t,createWallet:n,exportWallet:e}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fre(t,...e){if(!iw(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pO(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function fh(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function sf(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function U0(t){if(!Array.isArray(t))throw new Error("array expected")}function B0(t,e){if(!pO(!0,e))throw new Error(`${t}: array of strings expected`)}function mO(t,e){if(!pO(!1,e))throw new Error(`${t}: array of numbers expected`)}function sw(...t){const e=s=>s,n=(s,a)=>o=>s(a(o)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function aw(t){const e=typeof t=="string"?t.split(""):t,n=e.length;B0("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(U0(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(U0(i),i.map(s=>{fh("alphabet.decode",s);const a=r.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function ow(t=""){return fh("join",t),{encode:e=>(B0("join.decode",e),e.join(t)),decode:e=>(fh("join.decode",e),e.split(t))}}function gO(t,e="="){return sf(t),fh("padding",e),{encode(n){for(B0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){B0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function vv(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(U0(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,o=>{if(sf(o),o<0||o>=e)throw new Error(`invalid integer: ${o}`);return o}),a=s.length;for(;;){let o=0,c=!0;for(let l=r;l<a;l++){const u=s[l],d=e*o,h=d+u;if(!Number.isSafeInteger(h)||d/e!==o||h-u!==d)throw new Error("convertRadix: carry overflow");const f=h/n;o=h%n;const p=Math.floor(f);if(s[l]=p,!Number.isSafeInteger(p)||p*n+o!==h)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=l;else continue}if(i.push(o),c)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}const yO=(t,e)=>e===0?t:yO(e,t%e),F0=(t,e)=>t+(e-yO(t,e)),K6=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function _v(t,e,n,r){if(U0(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(F0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${F0(e,n)}`);let i=0,s=0;const a=K6[e],o=K6[n]-1,c=[];for(const l of t){if(sf(l),l>=a)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&o)>>>0);const u=K6[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&o,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function pre(t){sf(t);const e=2**8;return{encode:n=>{if(!iw(n))throw new Error("radix.encode input should be Uint8Array");return vv(Array.from(n),e,t)},decode:n=>(mO("radix.decode",n),Uint8Array.from(vv(n,t,e)))}}function wO(t,e=!1){if(sf(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(F0(8,t)>32||F0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!iw(n))throw new Error("radix2.encode input should be Uint8Array");return _v(Array.from(n),8,t,!e)},decode:n=>(mO("radix2.decode",n),Uint8Array.from(_v(n,t,8,e)))}}const mre=sw(wO(5),aw("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),gO(5),ow("")),gre=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",yre=(t,e)=>{fh("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},Y6=gre?{encode(t){return fre(t),t.toBase64()},decode(t){return yre(t)}}:sw(wO(6),aw("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gO(6),ow("")),wre=t=>sw(pre(58),aw(t),ow("")),bre=wre("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var vre=Object.defineProperty,_re=(t,e,n)=>e in t?vre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J6=(t,e,n)=>(_re(t,typeof e!="symbol"?e+"":e,n),n);let Cre=class{constructor(){J6(this,"current",this.detect()),J6(this,"handoffState","pending"),J6(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Hs=new Cre;function af(t){var e;return Hs.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function z0(t){var e,n;return Hs.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function cw(t){var e,n;return(n=(e=z0(t))==null?void 0:e.activeElement)!=null?n:null}function Ere(t){return cw(t)===t}function s3(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function bs(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return s3(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=bs();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function a3(){let[t]=R.useState(bs);return R.useEffect(()=>()=>t.dispose(),[t]),t}let Gr=(t,e)=>{Hs.isServer?R.useEffect(t,e):R.useLayoutEffect(t,e)};function A2(t){let e=R.useRef(t);return Gr(()=>{e.current=t},[t]),e}let Tt=function(t){let e=A2(t);return ke.useCallback((...n)=>e.current(...n),[e])};function of(t){return R.useMemo(()=>t,Object.values(t))}let xre=R.createContext(void 0);function Are(){return R.useContext(xre)}function Jy(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ga(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ga),r}var W0=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(W0||{}),Wo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Wo||{});function qi(){let t=Sre();return R.useCallback(e=>Lre({mergeRefs:t,...e}),[t])}function Lre({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??Ire;let c=bO(e,t);if(s)return Gf(c,n,r,a,o);let l=i??0;if(l&2){let{static:u=!1,...d}=c;if(u)return Gf(d,n,r,a,o)}if(l&1){let{unmount:u=!0,...d}=c;return Ga(u?0:1,{0(){return null},1(){return Gf({...d,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return Gf(c,n,r,a,o)}function Gf(t,e={},n,r,i){let{as:s=n,children:a,refName:o="ref",...c}=X6(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let h=!1,f=[];for(let[p,m]of Object.entries(e))typeof m=="boolean"&&(h=!0),m===!0&&f.push(p.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){d["data-headlessui-state"]=f.join(" ");for(let p of f)d[`data-${p}`]=""}}if(Ed(s)&&(Object.keys(Cc(c)).length>0||Object.keys(Cc(d)).length>0))if(!R.isValidElement(u)||Array.isArray(u)&&u.length>1||kre(u)){if(Object.keys(Cc(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Cc(c)).concat(Object.keys(Cc(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,f=h?.className,p=typeof f=="function"?(...C)=>Jy(f(...C),c.className):Jy(f,c.className),m=p?{className:p}:{},y=bO(u.props,Cc(X6(c,["ref"])));for(let C in d)C in y&&delete d[C];return R.cloneElement(u,Object.assign({},y,d,l,{ref:i(Tre(u),l.ref)},m))}return R.createElement(s,Object.assign({},X6(c,["ref"]),!Ed(s)&&l,!Ed(s)&&d),u)}function Sre(){let t=R.useRef([]),e=R.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Ire(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function bO(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let o of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function OSe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a?.(...i)}});return e}function ei(t){var e;return Object.assign(R.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Cc(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function X6(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Tre(t){return ke.version.split(".")[0]>="19"?t.props.ref:t.ref}function Ed(t){return t===R.Fragment||t===Symbol.for("react.fragment")}function kre(t){return Ed(t.type)}let Pre="span";var V0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(V0||{});function Ore(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return qi()({ourProps:s,theirProps:i,slot:{},defaultTag:Pre,name:"Hidden"})}let Xy=ei(Ore);function Rre(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Fa(t){return Rre(t)&&"tagName"in t}function Js(t){return Fa(t)&&"accessKey"in t}function Ma(t){return Fa(t)&&"tabIndex"in t}function $re(t){return Fa(t)&&"style"in t}function Mre(t){return Js(t)&&t.nodeName==="IFRAME"}function Nre(t){return Js(t)&&t.nodeName==="INPUT"}function RSe(t){return Js(t)&&t.nodeName==="LABEL"}function $Se(t){return Js(t)&&t.nodeName==="FIELDSET"}function MSe(t){return Js(t)&&t.nodeName==="LEGEND"}function NSe(t){return Fa(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let vO=Symbol();function Dre(t,e=!0){return Object.assign(t,{[vO]:e})}function ra(...t){let e=R.useRef(t);R.useEffect(()=>{e.current=t},[t]);let n=Tt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[vO])?void 0:n}let lw=R.createContext(null);lw.displayName="DescriptionContext";function _O(){let t=R.useContext(lw);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,_O),e}return t}function jre(){let[t,e]=R.useState([]);return[t.length>0?t.join(" "):void 0,R.useMemo(()=>function(n){let r=Tt(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),c=o.indexOf(s);return c!==-1&&o.splice(c,1),o}))),i=R.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ke.createElement(lw.Provider,{value:i},n.children)},[e])]}let Ure="p";function Bre(t,e){let n=R.useId(),r=Are(),{id:i=`headlessui-description-${n}`,...s}=t,a=_O(),o=ra(e);Gr(()=>a.register(i),[i,a.register]);let c=of({...a.slot,disabled:r||!1}),l={ref:o,...a.props,id:i};return qi()({ourProps:l,theirProps:s,slot:c,defaultTag:Ure,name:a.name||"Description"})}let Fre=ei(Bre),zre=Object.assign(Fre,{});var CO=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(CO||{});let Wre=R.createContext(()=>{});function Vre({value:t,children:e}){return ke.createElement(Wre.Provider,{value:t},e)}let EO=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Hre=Object.defineProperty,qre=(t,e,n)=>e in t?Hre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zre=(t,e,n)=>(qre(t,e+"",n),n),xO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ai=(t,e,n)=>(xO(t,e,"read from private field"),n?n.call(t):e.get(t)),Q6=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Cv=(t,e,n,r)=>(xO(t,e,"write to private field"),e.set(t,n),n),$s,sd,ad;let Gre=class{constructor(e){Q6(this,$s,{}),Q6(this,sd,new EO(()=>new Set)),Q6(this,ad,new Set),Zre(this,"disposables",bs()),Cv(this,$s,e),Hs.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ai(this,$s)}subscribe(e,n){if(Hs.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ai(this,$s))};return Ai(this,ad).add(r),this.disposables.add(()=>{Ai(this,ad).delete(r)})}on(e,n){return Hs.isServer?()=>{}:(Ai(this,sd).get(e).add(n),this.disposables.add(()=>{Ai(this,sd).get(e).delete(n)}))}send(e){let n=this.reduce(Ai(this,$s),e);if(n!==Ai(this,$s)){Cv(this,$s,n);for(let r of Ai(this,ad)){let i=r.selector(Ai(this,$s));AO(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ai(this,sd).get(e.type))r(Ai(this,$s),e)}}};$s=new WeakMap,sd=new WeakMap,ad=new WeakMap;function AO(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:em(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:em(t.entries(),e.entries()):Ev(t)&&Ev(e)?em(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function em(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ev(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function USe(t){let[e,n]=t(),r=bs();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Kre=Object.defineProperty,Yre=(t,e,n)=>e in t?Kre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xv=(t,e,n)=>(Yre(t,typeof e!="symbol"?e+"":e,n),n),Jre=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Jre||{});let Xre={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},Qre=class LO extends Gre{constructor(){super(...arguments),xv(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),xv(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new LO({stack:[]})}reduce(e,n){return Ga(n.type,Xre,e,n)}};const SO=new EO(()=>Qre.new());var IO={exports:{}},TO={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=R;function eie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tie=typeof Object.is=="function"?Object.is:eie,nie=cf.useSyncExternalStore,rie=cf.useRef,iie=cf.useEffect,sie=cf.useMemo,aie=cf.useDebugValue;TO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=rie(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=sie(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,tie(u,f))return p;var m=r(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var o=nie(t,s[0],s[1]);return iie(function(){a.hasValue=!0,a.value=o},[o]),aie(o),o};IO.exports=TO;var oie=IO.exports;function kO(t,e,n=AO){return oie.useSyncExternalStoreWithSelector(Tt(r=>t.subscribe(cie,r)),Tt(()=>t.state),Tt(()=>t.state),Tt(e),n)}function cie(t){return t}function lf(t,e){let n=R.useId(),r=SO.get(e),[i,s]=kO(r,R.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Gr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Qy=new Map,xd=new Map;function Av(t){var e;let n=(e=xd.get(t))!=null?e:0;return xd.set(t,n+1),n!==0?()=>Lv(t):(Qy.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Lv(t))}function Lv(t){var e;let n=(e=xd.get(t))!=null?e:1;if(n===1?xd.delete(t):xd.set(t,n-1),n!==1)return;let r=Qy.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Qy.delete(t))}function lie(t,{allowed:e,disallowed:n}={}){let r=lf(t,"inert-others");Gr(()=>{var i,s;if(!r)return;let a=bs();for(let c of(i=n?.())!=null?i:[])c&&a.add(Av(c));let o=(s=e?.())!=null?s:[];for(let c of o){if(!c)continue;let l=af(c);if(!l)continue;let u=c.parentElement;for(;u&&u!==l.body;){for(let d of u.children)o.some(h=>d.contains(h))||a.add(Av(d));u=u.parentElement}}return a.dispose},[r,e,n])}function uie(t,e,n){let r=A2(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});R.useEffect(()=>{if(!t)return;let i=e===null?null:Js(e)?e:e.current;if(!i)return;let s=bs();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let H0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),die=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Oa=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Oa||{}),e5=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(e5||{}),hie=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(hie||{});function PO(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(H0)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function fie(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(die)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var OO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(OO||{});function RO(t,e=0){var n;return t===((n=af(t))==null?void 0:n.body)?!1:Ga(e,{0(){return t.matches(H0)},1(){let r=t;for(;r!==null;){if(r.matches(H0))return!0;r=r.parentElement}return!1}})}function BSe(t){bs().nextFrame(()=>{let e=cw(t);e&&Ma(e)&&!RO(e,0)&&qs(t)})}var pie=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(pie||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qs(t){t?.focus({preventScroll:!0})}let mie=["textarea","input"].join(",");function gie(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,mie))!=null?n:!1}function yie(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function FSe(t,e,n=t===null?document.body:z0(t)){return xl(PO(n),e,{relativeTo:t})}function xl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?z0(t[0]):document:z0(t),a=Array.isArray(t)?n?yie(t):t:e&64?fie(t):PO(t);i.length>0&&a.length>1&&(a=a.filter(f=>!i.some(p=>p!=null&&"current"in p?p?.current===f:p===f))),r=r??s?.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},u=0,d=a.length,h;do{if(u>=d||u+d<=0)return 0;let f=c+u;if(e&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=a[f],h?.focus(l),u+=o}while(h!==cw(h));return e&6&&gie(h)&&h.select(),2}function $O(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wie(){return/Android/gi.test(window.navigator.userAgent)}function Sv(){return $O()||wie()}function Kf(t,e,n,r){let i=A2(n);R.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function MO(t,e,n,r){let i=A2(n);R.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Iv=30;function bie(t,e,n){let r=A2(n),i=R.useCallback(function(o,c){if(o.defaultPrevented)return;let l=c(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of u)if(d!==null&&(d.contains(l)||o.composed&&o.composedPath().includes(d)))return;return!RO(l,OO.Loose)&&l.tabIndex!==-1&&o.preventDefault(),r.current(o,l)},[r,e]),s=R.useRef(null);Kf(t,"pointerdown",o=>{var c,l;Sv()||(s.current=((l=(c=o.composedPath)==null?void 0:c.call(o))==null?void 0:l[0])||o.target)},!0),Kf(t,"pointerup",o=>{if(Sv()||!s.current)return;let c=s.current;return s.current=null,i(o,()=>c)},!0);let a=R.useRef({x:0,y:0});Kf(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),Kf(t,"touchend",o=>{let c={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=Iv||Math.abs(c.y-a.current.y)>=Iv))return i(o,()=>Ma(o.target)?o.target:null)},!0),MO(t,"blur",o=>i(o,()=>Mre(window.document.activeElement)?window.document.activeElement:null),!0)}function uw(...t){return R.useMemo(()=>af(...t),[...t])}function NO(t,e,n,r){let i=A2(n);R.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function vie(t){return R.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function _ie(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(o=>o()))}}}function Cie(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Eie(){return $O()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=bs();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(Ma(o.target))try{let c=o.target.closest("a");if(!c)return;let{hash:l}=new URL(c.href),u=t.querySelector(l);Ma(u)&&!r(u)&&(a=u)}catch{}},!0),e.group(o=>{e.addEventListener(t,"touchstart",c=>{if(o.dispose(),Ma(c.target)&&$re(c.target))if(r(c.target)){let l=c.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;o.style(l,"overscrollBehavior","contain")}else o.style(c.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",o=>{if(Ma(o.target)){if(Nre(o.target))return;if(r(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function xie(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Tv(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Dc=_ie(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:bs(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=Tv(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=Tv(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[Eie(),Cie(),xie()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Dc.subscribe(()=>{let t=Dc.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Dc.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Dc.dispatch("TEARDOWN",n)}});function Aie(t,e,n=()=>({containers:[]})){let r=vie(Dc),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Gr(()=>{if(!(!e||!t))return Dc.dispatch("PUSH",e,n),()=>Dc.dispatch("POP",e,n)},[t,e]),s}function Lie(t,e,n=()=>[document.body]){let r=lf(t,"scroll-lock");Aie(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Sie(t=0){let[e,n]=R.useState(t),r=R.useCallback(c=>n(c),[]),i=R.useCallback(c=>n(l=>l|c),[]),s=R.useCallback(c=>(e&c)===c,[e]),a=R.useCallback(c=>n(l=>l&~c),[]),o=R.useCallback(c=>n(l=>l^c),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var Iie={},kv,Pv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kv=process==null?void 0:Iie)==null?void 0:kv.NODE_ENV)==="test"&&typeof((Pv=Element?.prototype)==null?void 0:Pv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Tie=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Tie||{});function kie(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Pie(t,e,n,r){let[i,s]=R.useState(n),{hasFlag:a,addFlag:o,removeFlag:c}=Sie(t&&i?3:0),l=R.useRef(!1),u=R.useRef(!1),d=a3();return Gr(()=>{var h;if(t){if(n&&s(!0),!e){n&&o(3);return}return(h=r?.start)==null||h.call(r,n),Oie(e,{inFlight:l,prepare(){u.current?u.current=!1:u.current=l.current,l.current=!0,!u.current&&(n?(o(3),c(4)):(o(4),c(2)))},run(){u.current?n?(c(3),o(4)):(c(4),o(3)):n?c(1):o(1)},done(){var f;u.current&&Mie(e)||(l.current=!1,c(7),n||s(!1),(f=r?.end)==null||f.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Oie(t,{prepare:e,run:n,done:r,inFlight:i}){let s=bs();return $ie(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Rie(t,r))})}),s.dispose}function Rie(t,e){var n,r;let i=bs();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(o=>o instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function $ie(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Mie(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function dw(t,e){let n=R.useRef([]),r=Tt(t);R.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let o=r(e,i);return n.current=e,o}},[r,...e])}let o3=R.createContext(null);o3.displayName="OpenClosedContext";var cs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(cs||{});function c3(){return R.useContext(o3)}function Nie({value:t,children:e}){return ke.createElement(o3.Provider,{value:t},e)}function Die({children:t}){return ke.createElement(o3.Provider,{value:null},t)}function jie(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let $o=[];jie(()=>{function t(e){if(!Ma(e.target)||e.target===document.body||$o[0]===e.target)return;let n=e.target;n=n.closest(H0),$o.unshift(n??e.target),$o=$o.filter(r=>r!=null&&r.isConnected),$o.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function DO(t){let e=Tt(t),n=R.useRef(!1);R.useEffect(()=>(n.current=!1,()=>{n.current=!0,s3(()=>{n.current&&e()})}),[e])}let jO=R.createContext(!1);function Uie(){return R.useContext(jO)}function Ov(t){return ke.createElement(jO.Provider,{value:t.force},t.children)}function Bie(t){let e=Uie(),n=R.useContext(BO),[r,i]=R.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Hs.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return R.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),R.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let UO=R.Fragment,Fie=ei(function(t,e){let{ownerDocument:n=null,...r}=t,i=R.useRef(null),s=ra(Dre(h=>{i.current=h}),e),a=uw(i.current),o=n??a,c=Bie(o),l=R.useContext(t5),u=a3(),d=qi();return DO(()=>{var h;c&&c.childNodes.length<=0&&((h=c.parentElement)==null||h.removeChild(c))}),c?Cj.createPortal(ke.createElement("div",{"data-headlessui-portal":"",ref:h=>{u.dispose(),l&&h&&u.add(l.register(h))}},d({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:UO,name:"Portal"})),c):null});function zie(t,e){let n=ra(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=qi();return r?ke.createElement(Fie,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:UO,name:"Portal"})}let Wie=R.Fragment,BO=R.createContext(null);function Vie(t,e){let{target:n,...r}=t,i={ref:ra(e)},s=qi();return ke.createElement(BO.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Wie,name:"Popover.Group"}))}let t5=R.createContext(null);function Hie(){let t=R.useContext(t5),e=R.useRef([]),n=Tt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Tt(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=R.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,R.useMemo(()=>function({children:s}){return ke.createElement(t5.Provider,{value:i},s)},[i])]}let qie=ei(zie),FO=ei(Vie),Zie=Object.assign(qie,{Group:FO});function Gie(t,e=typeof document<"u"?document.defaultView:null,n){let r=lf(t,"escape");NO(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===CO.Escape&&n(i))})}function Kie(){var t;let[e]=R.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=R.useState((t=e?.matches)!=null?t:!1);return Gr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Yie({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Tt(()=>{var i,s;let a=af(n),o=[];for(let c of t)c!==null&&(Fa(c)?o.push(c):"current"in c&&Fa(c.current)&&o.push(c.current));if(e!=null&&e.current)for(let c of e.current)o.push(c);for(let c of(i=a?.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Fa(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n?.getRootNode())==null?void 0:s.host))||o.some(l=>c.contains(l))||o.push(c));return o});return{resolveContainers:r,contains:Tt(i=>r().some(s=>s.contains(i)))}}let zO=R.createContext(null);function Rv({children:t,node:e}){let[n,r]=R.useState(null),i=WO(e??n);return ke.createElement(zO.Provider,{value:i},t,i===null&&ke.createElement(Xy,{features:V0.Hidden,ref:s=>{var a,o;if(s){for(let c of(o=(a=af(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(c!==document.body&&c!==document.head&&Fa(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function WO(t=null){var e;return(e=R.useContext(zO))!=null?e:t}function Jie(){let t=typeof document>"u";return"useSyncExternalStore"in Rb?(e=>e.useSyncExternalStore)(Rb)(()=>()=>{},()=>!1,()=>!t):!1}function l3(){let t=Jie(),[e,n]=R.useState(Hs.isHandoffComplete);return e&&Hs.isHandoffComplete===!1&&n(!1),R.useEffect(()=>{e!==!0&&n(!0)},[e]),R.useEffect(()=>Hs.handoff(),[]),t?!1:e}function hw(){let t=R.useRef(!1);return Gr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var od=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(od||{});function Xie(){let t=R.useRef(0);return MO(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function VO(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Fa(n.current)&&e.add(n.current);return e}let Qie="div";var kc=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(kc||{});function ese(t,e){let n=R.useRef(null),r=ra(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:o=15,...c}=t;l3()||(o=0);let l=uw(n.current);ise(o,{ownerDocument:l});let u=sse(o,{ownerDocument:l,container:n,initialFocus:i,initialFocusFallback:s});ase(o,{ownerDocument:l,container:n,containers:a,previousActiveElement:u});let d=Xie(),h=Tt(L=>{if(!Js(n.current))return;let w=n.current;(b=>b())(()=>{Ga(d.current,{[od.Forwards]:()=>{xl(w,Oa.First,{skipElements:[L.relatedTarget,s]})},[od.Backwards]:()=>{xl(w,Oa.Last,{skipElements:[L.relatedTarget,s]})}})})}),f=lf(!!(o&2),"focus-trap#tab-lock"),p=a3(),m=R.useRef(!1),y={ref:r,onKeyDown(L){L.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(L){if(!(o&4))return;let w=VO(a);Js(n.current)&&w.add(n.current);let b=L.relatedTarget;Ma(b)&&b.dataset.headlessuiFocusGuard!=="true"&&(HO(w,b)||(m.current?xl(n.current,Ga(d.current,{[od.Forwards]:()=>Oa.Next,[od.Backwards]:()=>Oa.Previous})|Oa.WrapAround,{relativeTo:L.target}):Ma(L.target)&&qs(L.target)))}},C=qi();return ke.createElement(ke.Fragment,null,f&&ke.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:V0.Focusable}),C({ourProps:y,theirProps:c,defaultTag:Qie,name:"FocusTrap"}),f&&ke.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:V0.Focusable}))}let tse=ei(ese),nse=Object.assign(tse,{features:kc});function rse(t=!0){let e=R.useRef($o.slice());return dw(([n],[r])=>{r===!0&&n===!1&&s3(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=$o.slice())},[t,$o,e]),Tt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ise(t,{ownerDocument:e}){let n=!!(t&8),r=rse(n);dw(()=>{n||Ere(e?.body)&&qs(r())},[n]),DO(()=>{n&&qs(r())})}function sse(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=R.useRef(null),a=lf(!!(t&1),"focus-trap#initial-focus"),o=hw();return dw(()=>{if(t===0)return;if(!a){i!=null&&i.current&&qs(i.current);return}let c=n.current;c&&s3(()=>{if(!o.current)return;let l=e?.activeElement;if(r!=null&&r.current){if(r?.current===l){s.current=l;return}}else if(c.contains(l)){s.current=l;return}if(r!=null&&r.current)qs(r.current);else{if(t&16){if(xl(c,Oa.First|Oa.AutoFocus)!==e5.Error)return}else if(xl(c,Oa.First)!==e5.Error)return;if(i!=null&&i.current&&(qs(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function ase(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=hw(),a=!!(t&4);NO(e?.defaultView,"focus",o=>{if(!a||!s.current)return;let c=VO(r);Js(n.current)&&c.add(n.current);let l=i.current;if(!l)return;let u=o.target;Js(u)?HO(c,u)?(i.current=u,qs(u)):(o.preventDefault(),o.stopPropagation(),qs(l)):qs(i.current)},!0)}function HO(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function qO(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Ed((e=t.as)!=null?e:GO)||ke.Children.count(t.children)===1}let u3=R.createContext(null);u3.displayName="TransitionContext";var ose=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ose||{});function cse(){let t=R.useContext(u3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function lse(){let t=R.useContext(d3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let d3=R.createContext(null);d3.displayName="NestingContext";function h3(t){return"children"in t?h3(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ZO(t,e){let n=A2(t),r=R.useRef([]),i=hw(),s=a3(),a=Tt((f,p=Wo.Hidden)=>{let m=r.current.findIndex(({el:y})=>y===f);m!==-1&&(Ga(p,{[Wo.Unmount](){r.current.splice(m,1)},[Wo.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var y;!h3(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),o=Tt(f=>{let p=r.current.find(({el:m})=>m===f);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:f,state:"visible"}),()=>a(f,Wo.Unmount)}),c=R.useRef([]),l=R.useRef(Promise.resolve()),u=R.useRef({enter:[],leave:[]}),d=Tt((f,p,m)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([y])=>y!==f)),e?.chains.current[p].push([f,new Promise(y=>{c.current.push(y)})]),e?.chains.current[p].push([f,new Promise(y=>{Promise.all(u.current[p].map(([C,L])=>L)).then(()=>y())})]),p==="enter"?l.current=l.current.then(()=>e?.wait.current).then(()=>m(p)):m(p)}),h=Tt((f,p,m)=>{Promise.all(u.current[p].splice(0).map(([y,C])=>C)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>m(p))});return R.useMemo(()=>({children:r,register:o,unregister:a,onStart:d,onStop:h,wait:l,chains:u}),[o,a,r,d,h,u,l])}let GO=R.Fragment,KO=W0.RenderStrategy;function use(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:o,afterLeave:c,enter:l,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:p,leaveTo:m,...y}=t,[C,L]=R.useState(null),w=R.useRef(null),b=qO(t),x=ra(...b?[w,e,L]:e===null?[]:[e]),_=(n=y.unmount)==null||n?Wo.Unmount:Wo.Hidden,{show:I,appear:M,initial:N}=cse(),[U,B]=R.useState(I?"visible":"hidden"),P=lse(),{register:T,unregister:j}=P;Gr(()=>T(w),[T,w]),Gr(()=>{if(_===Wo.Hidden&&w.current){if(I&&U!=="visible"){B("visible");return}return Ga(U,{hidden:()=>j(w),visible:()=>T(w)})}},[U,w,T,j,I,_]);let v=l3();Gr(()=>{if(b&&v&&U==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,U,v,b]);let E=N&&!M,O=M&&I&&N,k=R.useRef(!1),$=ZO(()=>{k.current||(B("hidden"),j(w))},P),D=Tt(de=>{k.current=!0;let Ce=de?"enter":"leave";$.onStart(w,Ce,oe=>{oe==="enter"?s?.():oe==="leave"&&o?.()})}),W=Tt(de=>{let Ce=de?"enter":"leave";k.current=!1,$.onStop(w,Ce,oe=>{oe==="enter"?a?.():oe==="leave"&&c?.()}),Ce==="leave"&&!h3($)&&(B("hidden"),j(w))});R.useEffect(()=>{b&&i||(D(I),W(I))},[I,b,i]);let q=!(!i||!b||!v||E),[,X]=Pie(q,C,I,{start:D,end:W}),J=Cc({ref:x,className:((r=Jy(y.className,O&&l,O&&u,X.enter&&l,X.enter&&X.closed&&u,X.enter&&!X.closed&&d,X.leave&&f,X.leave&&!X.closed&&p,X.leave&&X.closed&&m,!X.transition&&I&&h))==null?void 0:r.trim())||void 0,...kie(X)}),Q=0;U==="visible"&&(Q|=cs.Open),U==="hidden"&&(Q|=cs.Closed),I&&U==="hidden"&&(Q|=cs.Opening),!I&&U==="visible"&&(Q|=cs.Closing);let he=qi();return ke.createElement(d3.Provider,{value:$},ke.createElement(Nie,{value:Q},he({ourProps:J,theirProps:y,defaultTag:GO,features:KO,visible:U==="visible",name:"Transition.Child"})))}function dse(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=R.useRef(null),o=qO(t),c=ra(...o?[a,e]:e===null?[]:[e]);l3();let l=c3();if(n===void 0&&l!==null&&(n=(l&cs.Open)===cs.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=R.useState(n?"visible":"hidden"),h=ZO(()=>{n||d("hidden")}),[f,p]=R.useState(!0),m=R.useRef([n]);Gr(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),p(!1))},[m,n]);let y=R.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);Gr(()=>{n?d("visible"):!h3(h)&&a.current!==null&&d("hidden")},[n,h]);let C={unmount:i},L=Tt(()=>{var x;f&&p(!1),(x=t.beforeEnter)==null||x.call(t)}),w=Tt(()=>{var x;f&&p(!1),(x=t.beforeLeave)==null||x.call(t)}),b=qi();return ke.createElement(d3.Provider,{value:h},ke.createElement(u3.Provider,{value:y},b({ourProps:{...C,as:R.Fragment,children:ke.createElement(YO,{ref:c,...C,...s,beforeEnter:L,beforeLeave:w})},theirProps:{},defaultTag:R.Fragment,features:KO,visible:u==="visible",name:"Transition"})))}function hse(t,e){let n=R.useContext(u3)!==null,r=c3()!==null;return ke.createElement(ke.Fragment,null,!n&&r?ke.createElement(n5,{ref:e,...t}):ke.createElement(YO,{ref:e,...t}))}let n5=ei(dse),YO=ei(use),ph=ei(hse),JO=Object.assign(n5,{Child:ph,Root:n5});var fse=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fse||{}),pse=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(pse||{});let mse={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},fw=R.createContext(null);fw.displayName="DialogContext";function f3(t){let e=R.useContext(fw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,f3),n}return e}function gse(t,e){return Ga(e.type,mse,t,e)}let $v=ei(function(t,e){let n=R.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:o="dialog",autoFocus:c=!0,__demoMode:l=!1,unmount:u=!1,...d}=t,h=R.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=c3();i===void 0&&f!==null&&(i=(f&cs.Open)===cs.Open);let p=R.useRef(null),m=ra(p,e),y=uw(p.current),C=i?0:1,[L,w]=R.useReducer(gse,{titleId:null,descriptionId:null,panelRef:R.createRef()}),b=Tt(()=>s(!1)),x=Tt(X=>w({type:0,id:X})),_=l3()?C===0:!1,[I,M]=Hie(),N={get current(){var X;return(X=L.panelRef.current)!=null?X:p.current}},U=WO(),{resolveContainers:B}=Yie({mainTreeNode:U,portals:I,defaultContainers:[N]}),P=f!==null?(f&cs.Closing)===cs.Closing:!1;lie(l||P?!1:_,{allowed:Tt(()=>{var X,J;return[(J=(X=p.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Tt(()=>{var X;return[(X=U?.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})});let T=SO.get(null);Gr(()=>{if(_)return T.actions.push(r),()=>T.actions.pop(r)},[T,r,_]);let j=kO(T,R.useCallback(X=>T.selectors.isTop(X,r),[T,r]));bie(j,B,X=>{X.preventDefault(),b()}),Gie(j,y?.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),b()}),Lie(l||P?!1:_,y,B),uie(_,p,b);let[v,E]=jre(),O=R.useMemo(()=>[{dialogState:C,close:b,setTitleId:x,unmount:u},L],[C,b,x,u,L]),k=of({open:C===0}),$={ref:m,id:r,role:o,tabIndex:-1,"aria-modal":l?void 0:C===0?!0:void 0,"aria-labelledby":L.titleId,"aria-describedby":v,unmount:u},D=!Kie(),W=kc.None;_&&!l&&(W|=kc.RestoreFocus,W|=kc.TabLock,c&&(W|=kc.AutoFocus),D&&(W|=kc.InitialFocus));let q=qi();return ke.createElement(Die,null,ke.createElement(Ov,{force:!0},ke.createElement(Zie,null,ke.createElement(fw.Provider,{value:O},ke.createElement(FO,{target:p},ke.createElement(Ov,{force:!1},ke.createElement(E,{slot:k},ke.createElement(M,null,ke.createElement(nse,{initialFocus:a,initialFocusFallback:p,containers:B,features:W},ke.createElement(Vre,{value:b},q({ourProps:$,theirProps:d,slot:k,defaultTag:yse,features:wse,visible:C===0,name:"Dialog"})))))))))))}),yse="div",wse=W0.RenderStrategy|W0.Static;function bse(t,e){let{transition:n=!1,open:r,...i}=t,s=c3(),a=t.hasOwnProperty("open")||s!==null,o=t.hasOwnProperty("onClose");if(!a&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?ke.createElement(Rv,null,ke.createElement(JO,{show:r,transition:n,unmount:i.unmount},ke.createElement($v,{ref:e,...i}))):ke.createElement(Rv,null,ke.createElement($v,{ref:e,open:r,...i}))}let vse="div";function _se(t,e){let n=R.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:o},c]=f3("Dialog.Panel"),l=ra(e,c.panelRef),u=of({open:a===0}),d=Tt(y=>{y.stopPropagation()}),h={ref:l,id:r,onClick:d},f=i?ph:R.Fragment,p=i?{unmount:o}:{},m=qi();return ke.createElement(f,{...p},m({ourProps:h,theirProps:s,slot:u,defaultTag:vse,name:"Dialog.Panel"}))}let Cse="div";function Ese(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=f3("Dialog.Backdrop"),a=of({open:i===0}),o={ref:e,"aria-hidden":!0},c=n?ph:R.Fragment,l=n?{unmount:s}:{},u=qi();return ke.createElement(c,{...l},u({ourProps:o,theirProps:r,slot:a,defaultTag:Cse,name:"Dialog.Backdrop"}))}let xse="h2";function Ase(t,e){let n=R.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=f3("Dialog.Title"),o=ra(e);R.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=of({open:s===0}),l={ref:o,id:r};return qi()({ourProps:l,theirProps:i,slot:c,defaultTag:xse,name:"Dialog.Title"})}let Lse=ei(bse),XO=ei(_se);ei(Ese);let Sse=ei(Ase),Ise=Object.assign(Lse,{Panel:XO,Title:Sse,Description:zre});var pw={exports:{}},Al=typeof Reflect=="object"?Reflect:null,Mv=Al&&typeof Al.apply=="function"?Al.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Bp;Al&&typeof Al.ownKeys=="function"?Bp=Al.ownKeys:Object.getOwnPropertySymbols?Bp=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Bp=function(e){return Object.getOwnPropertyNames(e)};function Tse(t){console&&console.warn&&console.warn(t)}var QO=Number.isNaN||function(e){return e!==e};function xt(){xt.init.call(this)}pw.exports=xt;pw.exports.once=Rse;xt.EventEmitter=xt;xt.prototype._events=void 0;xt.prototype._eventsCount=0;xt.prototype._maxListeners=void 0;var Nv=10;function p3(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Nv},set:function(t){if(typeof t!="number"||t<0||QO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Nv=t}});xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||QO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function eR(t){return t._maxListeners===void 0?xt.defaultMaxListeners:t._maxListeners}xt.prototype.getMaxListeners=function(){return eR(this)};xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Mv(c,this,n);else for(var l=c.length,u=sR(c,l),r=0;r<l;++r)Mv(u[r],this,n);return!0};function tR(t,e,n,r){var i,s,a;if(p3(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=eR(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,Tse(o)}return t}xt.prototype.addListener=function(e,n){return tR(this,e,n,!1)};xt.prototype.on=xt.prototype.addListener;xt.prototype.prependListener=function(e,n){return tR(this,e,n,!0)};function kse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nR(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=kse.bind(r);return i.listener=n,r.wrapFn=i,i}xt.prototype.once=function(e,n){return p3(n),this.on(e,nR(this,e,n)),this};xt.prototype.prependOnceListener=function(e,n){return p3(n),this.prependListener(e,nR(this,e,n)),this};xt.prototype.removeListener=function(e,n){var r,i,s,a,o;if(p3(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){o=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():Pse(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||n)}return this};xt.prototype.off=xt.prototype.removeListener;xt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function rR(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Ose(i):sR(i,i.length)}xt.prototype.listeners=function(e){return rR(this,e,!0)};xt.prototype.rawListeners=function(e){return rR(this,e,!1)};xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):iR.call(t,e)};xt.prototype.listenerCount=iR;function iR(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}xt.prototype.eventNames=function(){return this._eventsCount>0?Bp(this._events):[]};function sR(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Pse(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Ose(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Rse(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}aR(t,e,s,{once:!0}),e!=="error"&&$se(t,i,{once:!0})})}function $se(t,e,n){typeof t.on=="function"&&aR(t,"error",e,n)}function aR(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var vi=pw.exports;const mw=w2(vi);var Dv=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Mse=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Nse=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Dse=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),jse=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Use=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Bse=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Fse=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jv=3,zse=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Bse]],Uv=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Wse(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Use:typeof navigator<"u"?Hse(navigator.userAgent):Zse()}function Vse(t){return t!==""&&zse.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Hse(t){var e=Vse(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new jse;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<jv&&(i=Dv(Dv([],i,!0),Gse(jv-i.length),!0)):i=[];var s=i.join("."),a=qse(t),o=Fse.exec(t);return o&&o[1]?new Dse(n,s,a,o[1]):new Mse(n,s,a)}function qse(t){for(var e=0,n=Uv.length;e<n;e++){var r=Uv[e],i=r[0],s=r[1],a=s.exec(t);if(a)return i}return null}function Zse(){var t=typeof process<"u"&&process.version;return t?new Nse(process.version.slice(1)):null}function Gse(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var ve={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r5=function(t,e){return r5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},r5(t,e)};function Kse(t,e){r5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i5=function(){return i5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i5.apply(this,arguments)};function Yse(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jse(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Xse(t,e){return function(n,r){e(n,r,t)}}function Qse(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function eae(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function tae(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function nae(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function rae(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function s5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oR(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function iae(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oR(arguments[e]));return t}function sae(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function mh(t){return this instanceof mh?(this.v=t,this):new mh(t)}function aae(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||o(h,f)})})}function o(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof mh?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function d(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function oae(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:mh(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function cae(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s5=="function"?s5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}function lae(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function uae(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function dae(t){return t&&t.__esModule?t:{default:t}}function hae(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function fae(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const pae=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return i5},__asyncDelegator:oae,__asyncGenerator:aae,__asyncValues:cae,__await:mh,__awaiter:eae,__classPrivateFieldGet:hae,__classPrivateFieldSet:fae,__createBinding:nae,__decorate:Jse,__exportStar:rae,__extends:Kse,__generator:tae,__importDefault:dae,__importStar:uae,__makeTemplateObject:lae,__metadata:Qse,__param:Xse,__read:oR,__rest:Yse,__spread:iae,__spreadArrays:sae,__values:s5},Symbol.toStringTag,{value:"Module"})),m3=lA(pae);var tm={},ku={},Bv;function mae(){if(Bv)return ku;Bv=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return ku.delay=t,ku}var mc={},nm={},gc={},Fv;function gae(){return Fv||(Fv=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.ONE_THOUSAND=gc.ONE_HUNDRED=void 0,gc.ONE_HUNDRED=100,gc.ONE_THOUSAND=1e3),gc}var rm={},zv;function yae(){return zv||(zv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(rm)),rm}var Wv;function cR(){return Wv||(Wv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(gae(),t),e.__exportStar(yae(),t)}(nm)),nm}var Vv;function wae(){if(Vv)return mc;Vv=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.fromMiliseconds=mc.toMiliseconds=void 0;const t=cR();function e(r){return r*t.ONE_THOUSAND}mc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return mc.fromMiliseconds=n,mc}var Hv;function bae(){return Hv||(Hv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(mae(),t),e.__exportStar(wae(),t)}(tm)),tm}var z2={},qv;function vae(){if(qv)return z2;qv=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return z2.Watch=t,z2.default=t,z2}var im={},Pu={},Zv;function _ae(){if(Zv)return Pu;Zv=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.IWatch=void 0;class t{}return Pu.IWatch=t,Pu}var Gv;function Cae(){return Gv||(Gv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),m3.__exportStar(_ae(),t)}(im)),im}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=m3;e.__exportStar(bae(),t),e.__exportStar(vae(),t),e.__exportStar(Cae(),t),e.__exportStar(cR(),t)})(ve);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getLocalStorage=Rt.getLocalStorageOrThrow=Rt.getCrypto=Rt.getCryptoOrThrow=lR=Rt.getLocation=Rt.getLocationOrThrow=gw=Rt.getNavigator=Rt.getNavigatorOrThrow=u2=Rt.getDocument=Rt.getDocumentOrThrow=Rt.getFromWindowOrThrow=Rt.getFromWindow=void 0;function L2(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Rt.getFromWindow=L2;function gu(t){const e=L2(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Rt.getFromWindowOrThrow=gu;function Eae(){return gu("document")}Rt.getDocumentOrThrow=Eae;function xae(){return L2("document")}var u2=Rt.getDocument=xae;function Aae(){return gu("navigator")}Rt.getNavigatorOrThrow=Aae;function Lae(){return L2("navigator")}var gw=Rt.getNavigator=Lae;function Sae(){return gu("location")}Rt.getLocationOrThrow=Sae;function Iae(){return L2("location")}var lR=Rt.getLocation=Iae;function Tae(){return gu("crypto")}Rt.getCryptoOrThrow=Tae;function kae(){return L2("crypto")}Rt.getCrypto=kae;function Pae(){return gu("localStorage")}Rt.getLocalStorageOrThrow=Pae;function Oae(){return L2("localStorage")}Rt.getLocalStorage=Oae;var yw={};Object.defineProperty(yw,"__esModule",{value:!0});var uR=yw.getWindowMetadata=void 0;const Kv=Rt;function Rae(){let t,e;try{t=Kv.getDocumentOrThrow(),e=Kv.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(y.indexOf("/")===0)C+=y;else{const L=e.pathname.split("/");L.pop();const w=L.join("/");C+=w+"/"+y}h.push(C)}else if(y.indexOf("//")===0){const C=e.protocol+y;h.push(C)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(m.length&&m){const y=p.getAttribute("content");if(y)return y}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const a=i(),o=s(),c=e.origin,l=n();return{description:o,url:c,icons:l,name:a}}uR=yw.getWindowMetadata=Rae;const $ae="0.1.1";function Mae(){return $ae}class Kt extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Kt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Kt&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${i??""}`,o=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Mae()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return dR(this,e)}}function dR(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?dR(t.cause,e):e?null:t}const W2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function d2(t,...e){if(!Nae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Dae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");gh(t.outputLen),gh(t.blockLen)}function Xl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hR(t,e){d2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function jae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ql(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function sm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ss(t,e){return t<<32-e|t>>>e}const Uae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Fae(t){for(let e=0;e<t.length;e++)t[e]=Bae(t[e]);return t}const Yv=Uae?t=>t:Fae;function zae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function g3(t){return typeof t=="string"&&(t=zae(t)),d2(t),t}function Wae(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];d2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class ww{}function fR(t){const e=r=>t().update(g3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Vae(t=32){if(W2&&typeof W2.getRandomValues=="function")return W2.getRandomValues(new Uint8Array(t));if(W2&&typeof W2.randomBytes=="function")return Uint8Array.from(W2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Hae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function qae(t,e,n){return t&e^~t&n}function Zae(t,e,n){return t&e^t&n^e&n}class Gae extends ww{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=sm(this.buffer)}update(e){Xl(this),e=g3(e),d2(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=sm(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xl(this),hR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Ql(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;Hae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=sm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const lo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yf=BigInt(2**32-1),Jv=BigInt(32);function Kae(t,e=!1){return e?{h:Number(t&Yf),l:Number(t>>Jv&Yf)}:{h:Number(t>>Jv&Yf)|0,l:Number(t&Yf)|0}}function Yae(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=Kae(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const Jae=(t,e,n)=>t<<n|e>>>32-n,Xae=(t,e,n)=>e<<n|t>>>32-n,Qae=(t,e,n)=>e<<n-32|t>>>64-n,eoe=(t,e,n)=>t<<n-32|e>>>64-n,toe=BigInt(0),Ou=BigInt(1),noe=BigInt(2),roe=BigInt(7),ioe=BigInt(256),soe=BigInt(113),pR=[],mR=[],gR=[];for(let t=0,e=Ou,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],pR.push(2*(5*r+n)),mR.push((t+1)*(t+2)/2%64);let i=toe;for(let s=0;s<7;s++)e=(e<<Ou^(e>>roe)*soe)%ioe,e&noe&&(i^=Ou<<(Ou<<BigInt(s))-Ou);gR.push(i)}const yR=Yae(gR,!0),aoe=yR[0],ooe=yR[1],Xv=(t,e,n)=>n>32?Qae(t,e,n):Jae(t,e,n),Qv=(t,e,n)=>n>32?eoe(t,e,n):Xae(t,e,n);function coe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=Xv(l,u,1)^n[o],h=Qv(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=mR[a],c=Xv(i,s,o),l=Qv(i,s,o),u=pR[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=aoe[r],t[1]^=ooe[r]}Ql(n)}class bw extends ww{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,gh(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jae(this.state)}clone(){return this._cloneInto()}keccak(){Yv(this.state32),coe(this.state32,this.rounds),Yv(this.state32),this.posOut=0,this.pos=0}update(e){Xl(this),e=g3(e),d2(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Xl(this,!1),d2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ql(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new bw(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const loe=(t,e,n)=>fR(()=>new bw(e,t,n)),uoe=loe(1,136,256/8),doe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uo=new Uint32Array(64);class hoe extends Gae{constructor(e=32){super(64,e,8,!1),this.A=lo[0]|0,this.B=lo[1]|0,this.C=lo[2]|0,this.D=lo[3]|0,this.E=lo[4]|0,this.F=lo[5]|0,this.G=lo[6]|0,this.H=lo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)uo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=uo[d-15],f=uo[d-2],p=Ss(h,7)^Ss(h,18)^h>>>3,m=Ss(f,17)^Ss(f,19)^f>>>10;uo[d]=m+uo[d-7]+p+uo[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ss(o,6)^Ss(o,11)^Ss(o,25),f=u+h+qae(o,c,l)+doe[d]+uo[d]|0,m=(Ss(r,2)^Ss(r,13)^Ss(r,22))+Zae(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Ql(uo)}destroy(){this.set(0,0,0,0,0,0,0,0),Ql(this.buffer)}}const foe=fR(()=>new hoe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vw=BigInt(0),a5=BigInt(1);function uf(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _w(t){if(!uf(t))throw new Error("Uint8Array expected")}function yh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Jf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function wR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vw:BigInt("0x"+t)}const bR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",poe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wh(t){if(_w(t),bR)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=poe[t[n]];return e}const ua={_0:48,_9:57,A:65,F:70,a:97,f:102};function e_(t){if(t>=ua._0&&t<=ua._9)return t-ua._0;if(t>=ua.A&&t<=ua.F)return t-(ua.A-10);if(t>=ua.a&&t<=ua.f)return t-(ua.a-10)}function q0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(bR)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=e_(t.charCodeAt(s)),o=e_(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function Gc(t){return wR(wh(t))}function vR(t){return _w(t),wR(wh(Uint8Array.from(t).reverse()))}function df(t,e){return q0(t.toString(16).padStart(e*2,"0"))}function _R(t,e){return df(t,e).reverse()}function Ri(t,e,n){let r;if(typeof e=="string")try{r=q0(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(uf(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Z0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_w(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const am=t=>typeof t=="bigint"&&vw<=t;function Cw(t,e,n){return am(t)&&am(e)&&am(n)&&e<=t&&t<n}function Ll(t,e,n,r){if(!Cw(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function moe(t){let e;for(e=0;t>vw;t>>=a5,e+=1);return e}const y3=t=>(a5<<BigInt(t))-a5,om=t=>new Uint8Array(t),t_=t=>Uint8Array.from(t);function goe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=om(t),i=om(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...d)=>n(i,r,...d),c=(d=om(0))=>{i=o(t_([0]),d),r=o(),d.length!==0&&(i=o(t_([1]),d),r=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=o();const f=r.slice();h.push(f),d+=r.length}return Z0(...h)};return(d,h)=>{a(),c(d);let f;for(;!(f=h(l()));)c();return a(),f}}const yoe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||uf(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function w3(t,e,n={}){const r=(i,s,a)=>{const o=yoe[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function n_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function woe(t,e){if(a_(t)>e)throw new Uoe({givenSize:a_(t),maxSize:e})}const da={zero:48,nine:57,A:65,F:70,a:97,f:102};function r_(t){if(t>=da.zero&&t<=da.nine)return t-da.zero;if(t>=da.A&&t<=da.F)return t-(da.A-10);if(t>=da.a&&t<=da.f)return t-(da.a-10)}function boe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Boe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function CR(t,e){if(Xo(t)>e)throw new Toe({givenSize:Xo(t),maxSize:e})}function voe(t,e){if(typeof e=="number"&&e>0&&e>Xo(t)-1)throw new AR({offset:e,position:"start",size:Xo(t)})}function _oe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Xo(t)!==n-e)throw new AR({offset:n,position:"end",size:Xo(t)})}function ER(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new koe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Coe="#__bigint";function Ew(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Coe:i,n)}const Eoe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xoe(t,e={}){const{strict:n=!1}=e;if(!t)throw new i_(t);if(typeof t!="string")throw new i_(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new s_(t);if(!t.startsWith("0x"))throw new s_(t)}function Aoe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function xw(t){return t instanceof Uint8Array?G0(t):Array.isArray(t)?G0(new Uint8Array(t)):t}function G0(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Eoe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(CR(r,e.size),xR(r,e.size)):r}function cm(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new Ioe({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Loe(c,r):c}function Loe(t,e){return ER(t,{dir:"left",size:e})}function xR(t,e){return ER(t,{dir:"right",size:e})}function xa(t,e,n,r={}){const{strict:i}=r;voe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&_oe(s,e,n),s}function Xo(t){return Math.ceil((t.length-2)/2)}function Soe(t,e={}){const{strict:n=!1}=e;try{return xoe(t,{strict:n}),!0}catch{return!1}}class Ioe extends Kt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class i_ extends Kt{constructor(e){super(`Value \`${typeof e=="object"?Ew(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class s_ extends Kt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Toe=class extends Kt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class AR extends Kt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let koe=class extends Kt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Poe=new TextEncoder;function Ooe(t){if(!(t instanceof Uint8Array)){if(!t)throw new Xf(t);if(typeof t!="object")throw new Xf(t);if(!("BYTES_PER_ELEMENT"in t))throw new Xf(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Xf(t)}}function Roe(t){return t instanceof Uint8Array?t:typeof t=="string"?Moe(t):$oe(t)}function $oe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Moe(t,e={}){const{size:n}=e;let r=t;n&&(CR(t,n),r=xR(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=r_(i.charCodeAt(c++)),u=r_(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Kt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);a[o]=l*16+u}return a}function Noe(t,e={}){const{size:n}=e,r=Poe.encode(t);return typeof n=="number"?(woe(r,n),Doe(r,n)):r}function Doe(t,e){return boe(t,{dir:"right",size:e})}function a_(t){return t.length}function joe(t){try{return Ooe(t),!0}catch{return!1}}class Xf extends Kt{constructor(e){super(`Value \`${typeof e=="object"?Ew(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Uoe extends Kt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Boe extends Kt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function LR(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=uoe(Roe(t));return n==="Bytes"?r:G0(r)}class Foe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const zoe={checksum:new Foe(8192)},lm=zoe.checksum;function SR(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new o_({prefix:r,cause:new Goe});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new o_({prefix:r,cause:new Zoe});return}throw new qoe({publicKey:t})}function Woe(t){const e=(()=>{if(Soe(t))return IR(t);if(joe(t))return Voe(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return SR(e),e}function Voe(t){return IR(G0(t))}function IR(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Koe({publicKey:t});if(t.length===130){const r=BigInt(xa(t,0,32)),i=BigInt(xa(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(xa(t,0,1)),i=BigInt(xa(t,1,33)),s=BigInt(xa(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(xa(t,0,1)),n=BigInt(xa(t,1,33));return{prefix:e,x:n}}function Hoe(t,e={}){SR(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return Aoe(s?cm(n,{size:1}):"0x",cm(r,{size:32}),typeof i=="bigint"?cm(i,{size:32}):"0x")}class qoe extends Kt{constructor({publicKey:e}){super(`Value \`${Ew(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class o_ extends Kt{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Zoe extends Kt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Goe extends Kt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Koe=class extends Kt{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Xo(xw(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Yoe=/^0x[a-fA-F0-9]{40}$/;function TR(t,e={}){const{strict:n=!0}=e;if(!Yoe.test(t))throw new c_({address:t,cause:new Qoe});if(n){if(t.toLowerCase()===t)return;if(kR(t)!==t)throw new c_({address:t,cause:new ece})}}function kR(t){if(lm.has(t))return lm.get(t);TR(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=LR(Noe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return lm.set(t,i),i}function Joe(t,e={}){const{checksum:n=!1}=e;return TR(t),n?kR(t):t}function Xoe(t,e={}){const n=LR(`0x${Hoe(t).slice(4)}`).substring(26);return Joe(`0x${n}`,e)}class c_ extends Kt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Qoe extends Kt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ece extends Kt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class PR extends ww{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Dae(e);const r=g3(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Ql(s)}update(e){return Xl(this),this.iHash.update(e),this}digestInto(e){Xl(this),d2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const OR=(t,e,n)=>new PR(t,e).update(n).digest();OR.create=(t,e)=>new PR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hr=BigInt(0),Sr=BigInt(1),jc=BigInt(2),tce=BigInt(3),RR=BigInt(4),$R=BigInt(5),MR=BigInt(8);function Fr(t,e){const n=t%e;return n>=Hr?n:e+n}function Li(t,e,n){let r=t;for(;e-- >Hr;)r*=r,r%=n;return r}function o5(t,e){if(t===Hr)throw new Error("invert: expected non-zero number");if(e<=Hr)throw new Error("invert: expected positive modulus, got "+e);let n=Fr(t,e),r=e,i=Hr,s=Sr;for(;n!==Hr;){const o=r/n,c=r%n,l=i-s*o;r=n,n=c,i=s,s=l}if(r!==Sr)throw new Error("invert: does not exist");return Fr(i,e)}function NR(t,e){const n=(t.ORDER+Sr)/RR,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function nce(t,e){const n=(t.ORDER-$R)/MR,r=t.mul(e,jc),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,jc),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function rce(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Sr,n=0;for(;e%jc===Hr;)e/=jc,n++;let r=jc;const i=Aw(t);for(;l_(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return NR;let s=i.pow(r,e);const a=(e+Sr)/jc;return function(c,l){if(c.is0(l))return l;if(l_(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,a);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=Sr<<BigInt(u-p-1),C=c.pow(d,y);u=p,d=c.sqr(C),h=c.mul(h,d),f=c.mul(f,C)}return f}}function ice(t){return t%RR===tce?NR:t%MR===$R?nce:rce(t)}const sce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ace(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=sce.reduce((r,i)=>(r[i]="function",r),e);return w3(t,n)}function oce(t,e,n){if(n<Hr)throw new Error("invalid exponent, negatives unsupported");if(n===Hr)return t.ONE;if(n===Sr)return e;let r=t.ONE,i=e;for(;n>Hr;)n&Sr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Sr;return r}function DR(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function l_(t,e){const n=(t.ORDER-Sr)/jc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function jR(t,e){e!==void 0&&gh(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Aw(t,e,n=!1,r={}){if(t<=Hr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=jR(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:y3(i),ZERO:Hr,ONE:Sr,create:c=>Fr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Hr<=c&&c<t},is0:c=>c===Hr,isOdd:c=>(c&Sr)===Sr,neg:c=>Fr(-c,t),eql:(c,l)=>c===l,sqr:c=>Fr(c*c,t),add:(c,l)=>Fr(c+l,t),sub:(c,l)=>Fr(c-l,t),mul:(c,l)=>Fr(c*l,t),pow:(c,l)=>oce(o,c,l),div:(c,l)=>Fr(c*o5(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>o5(c,t),sqrt:r.sqrt||(c=>(a||(a=ice(t)),a(o,c))),toBytes:c=>n?_R(c,s):df(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?vR(c):Gc(c)},invertBatch:c=>DR(o,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(o)}function UR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function BR(t){const e=UR(t);return e+Math.ceil(e/2)}function cce(t,e,n=!1){const r=t.length,i=UR(e),s=BR(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?vR(t):Gc(t),o=Fr(a,e-Sr)+Sr;return n?_R(o,i):df(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u_=BigInt(0),c5=BigInt(1);function um(t,e){const n=e.negate();return t?n:e}function FR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function dm(t,e){FR(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=y3(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function d_(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=c5);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function lce(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function uce(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const hm=new WeakMap,zR=new WeakMap;function fm(t){return zR.get(t)||1}function dce(t,e){return{constTimeNegate:um,hasPrecomputes(n){return fm(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>u_;)r&c5&&(i=i.add(s)),s=s.double(),r>>=c5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=dm(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=dm(n,e);for(let c=0;c<o.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=d_(i,c,o);i=l,d?a=a.add(um(f,r[p])):s=s.add(um(h,r[u]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=dm(n,e);for(let o=0;o<a.windows&&i!==u_;o++){const{nextN:c,offset:l,isZero:u,isNeg:d}=d_(i,o,a);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=hm.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&hm.set(r,i(s))),s},wNAFCached(n,r,i){const s=fm(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=fm(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){FR(r,e),zR.set(n,r),hm.delete(n)}}}function hce(t,e,n,r){lce(n,t),uce(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=moe(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=y3(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function WR(t){return ace(t.Fp),w3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h_(t){t.lowS!==void 0&&yh("lowS",t.lowS),t.prehash!==void 0&&yh("prehash",t.prehash)}function fce(t){const e=WR(t);w3(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class pce extends Error{constructor(e=""){super(e)}}const Ta={Err:pce,_tlv:{encode:(t,e)=>{const{Err:n}=Ta;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Jf(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Jf(i.length/2|128):"";return Jf(t)+s+i+e},decode(t,e){const{Err:n}=Ta;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Ta;if(t<Ra)throw new e("integer: negative integers are not allowed");let n=Jf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ta;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Gc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ta,i=Ri("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ta,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function pm(t,e){return wh(df(t,e))}const Ra=BigInt(0),Mn=BigInt(1);BigInt(2);const mm=BigInt(3),mce=BigInt(4);function gce(t){const e=fce(t),{Fp:n}=e,r=Aw(e.n,e.nBitLength),i=e.toBytes||((w,b,x)=>{const _=b.toAffine();return Z0(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(w=>{const b=w.subarray(1),x=n.fromBytes(b.subarray(0,n.BYTES)),_=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x,y:_}});function a(w){const{a:b,b:x}=e,_=n.sqr(w),I=n.mul(_,w);return n.add(n.add(I,n.mul(w,b)),x)}function o(w,b){const x=n.sqr(b),_=a(w);return n.eql(x,_)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,mm),mce),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Cw(w,Mn,e.n)}function d(w){const{allowedPrivateKeyLengths:b,nByteLength:x,wrapPrivateKey:_,n:I}=e;if(b&&typeof w!="bigint"){if(uf(w)&&(w=wh(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(x*2,"0")}let M;try{M=typeof w=="bigint"?w:Gc(Ri("private key",w,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof w)}return _&&(M=Fr(M,I)),Ll("private key",M,Mn,I),M}function h(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const f=n_((w,b)=>{const{px:x,py:_,pz:I}=w;if(n.eql(I,n.ONE))return{x,y:_};const M=w.is0();b==null&&(b=M?n.ONE:n.inv(I));const N=n.mul(x,b),U=n.mul(_,b),B=n.mul(I,b);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:N,y:U}}),p=n_(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:x}=w.toAffine();if(!n.isValid(b)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!o(b,x))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,x,_){if(b==null||!n.isValid(b))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=b,this.py=x,this.pz=_,Object.freeze(this)}static fromAffine(b){const{x,y:_}=b||{};if(!b||!n.isValid(x)||!n.isValid(_))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const I=M=>n.eql(M,n.ZERO);return I(x)&&I(_)?m.ZERO:new m(x,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const x=DR(n,b.map(_=>_.pz));return b.map((_,I)=>_.toAffine(x[I])).map(m.fromAffine)}static fromHex(b){const x=m.fromAffine(s(Ri("pointHex",b)));return x.assertValidity(),x}static fromPrivateKey(b){return m.BASE.multiply(d(b))}static msm(b,x){return hce(m,r,b,x)}_setWindowSize(b){L.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:x,py:_,pz:I}=this,{px:M,py:N,pz:U}=b,B=n.eql(n.mul(x,U),n.mul(M,I)),P=n.eql(n.mul(_,U),n.mul(N,I));return B&&P}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:x}=e,_=n.mul(x,mm),{px:I,py:M,pz:N}=this;let U=n.ZERO,B=n.ZERO,P=n.ZERO,T=n.mul(I,I),j=n.mul(M,M),v=n.mul(N,N),E=n.mul(I,M);return E=n.add(E,E),P=n.mul(I,N),P=n.add(P,P),U=n.mul(b,P),B=n.mul(_,v),B=n.add(U,B),U=n.sub(j,B),B=n.add(j,B),B=n.mul(U,B),U=n.mul(E,U),P=n.mul(_,P),v=n.mul(b,v),E=n.sub(T,v),E=n.mul(b,E),E=n.add(E,P),P=n.add(T,T),T=n.add(P,T),T=n.add(T,v),T=n.mul(T,E),B=n.add(B,T),v=n.mul(M,N),v=n.add(v,v),T=n.mul(v,E),U=n.sub(U,T),P=n.mul(v,j),P=n.add(P,P),P=n.add(P,P),new m(U,B,P)}add(b){h(b);const{px:x,py:_,pz:I}=this,{px:M,py:N,pz:U}=b;let B=n.ZERO,P=n.ZERO,T=n.ZERO;const j=e.a,v=n.mul(e.b,mm);let E=n.mul(x,M),O=n.mul(_,N),k=n.mul(I,U),$=n.add(x,_),D=n.add(M,N);$=n.mul($,D),D=n.add(E,O),$=n.sub($,D),D=n.add(x,I);let W=n.add(M,U);return D=n.mul(D,W),W=n.add(E,k),D=n.sub(D,W),W=n.add(_,I),B=n.add(N,U),W=n.mul(W,B),B=n.add(O,k),W=n.sub(W,B),T=n.mul(j,D),B=n.mul(v,k),T=n.add(B,T),B=n.sub(O,T),T=n.add(O,T),P=n.mul(B,T),O=n.add(E,E),O=n.add(O,E),k=n.mul(j,k),D=n.mul(v,D),O=n.add(O,k),k=n.sub(E,k),k=n.mul(j,k),D=n.add(D,k),E=n.mul(O,D),P=n.add(P,E),E=n.mul(W,D),B=n.mul($,B),B=n.sub(B,E),E=n.mul($,O),T=n.mul(W,T),T=n.add(T,E),new m(B,P,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return L.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:x,n:_}=e;Ll("scalar",b,Ra,_);const I=m.ZERO;if(b===Ra)return I;if(this.is0()||b===Mn)return this;if(!x||L.hasPrecomputes(this))return L.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:M,k1:N,k2neg:U,k2:B}=x.splitScalar(b),P=I,T=I,j=this;for(;N>Ra||B>Ra;)N&Mn&&(P=P.add(j)),B&Mn&&(T=T.add(j)),j=j.double(),N>>=Mn,B>>=Mn;return M&&(P=P.negate()),U&&(T=T.negate()),T=new m(n.mul(T.px,x.beta),T.py,T.pz),P.add(T)}multiply(b){const{endo:x,n:_}=e;Ll("scalar",b,Mn,_);let I,M;if(x){const{k1neg:N,k1:U,k2neg:B,k2:P}=x.splitScalar(b);let{p:T,f:j}=this.wNAF(U),{p:v,f:E}=this.wNAF(P);T=L.constTimeNegate(N,T),v=L.constTimeNegate(B,v),v=new m(n.mul(v.px,x.beta),v.py,v.pz),I=T.add(v),M=j.add(E)}else{const{p:N,f:U}=this.wNAF(b);I=N,M=U}return m.normalizeZ([I,M])[0]}multiplyAndAddUnsafe(b,x,_){const I=m.BASE,M=(U,B)=>B===Ra||B===Mn||!U.equals(I)?U.multiplyUnsafe(B):U.multiply(B),N=M(this,x).add(M(b,_));return N.is0()?void 0:N}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:x}=e;if(b===Mn)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:x}=e;return b===Mn?this:x?x(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return yh("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return yh("isCompressed",b),wh(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:C}=e,L=dce(m,y?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function yce(t){const e=WR(t);return w3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function wce(t){const e=yce(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,o=2*n.BYTES+1;function c(v){return Fr(v,r)}function l(v){return o5(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=gce({...e,toBytes(v,E,O){const k=E.toAffine(),$=n.toBytes(k.x),D=Z0;return yh("isCompressed",O),O?D(Uint8Array.from([E.hasEvenY()?2:3]),$):D(Uint8Array.from([4]),$,n.toBytes(k.y))},fromBytes(v){const E=v.length,O=v[0],k=v.subarray(1);if(E===a&&(O===2||O===3)){const $=Gc(k);if(!Cw($,Mn,n.ORDER))throw new Error("Point is not on curve");const D=h($);let W;try{W=n.sqrt(D)}catch(J){const Q=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+Q)}const q=(W&Mn)===Mn;return(O&1)===1!==q&&(W=n.neg(W)),{x:$,y:W}}else if(E===o&&O===4){const $=n.fromBytes(k.subarray(0,n.BYTES)),D=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:$,y:D}}else{const $=a,D=o;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+D+", got "+E)}}});function p(v){const E=r>>Mn;return v>E}function m(v){return p(v)?c(-v):v}const y=(v,E,O)=>Gc(v.slice(E,O));class C{constructor(E,O,k){Ll("r",E,Mn,r),Ll("s",O,Mn,r),this.r=E,this.s=O,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(E){const O=i;return E=Ri("compactSignature",E,O*2),new C(y(E,0,O),y(E,O,2*O))}static fromDER(E){const{r:O,s:k}=Ta.toSig(Ri("DER",E));return new C(O,k)}assertValidity(){}addRecoveryBit(E){return new C(this.r,this.s,E)}recoverPublicKey(E){const{r:O,s:k,recovery:$}=this,D=I(Ri("msgHash",E));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const W=$===2||$===3?O+e.n:O;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=$&1?"03":"02",X=u.fromHex(q+pm(W,n.BYTES)),J=l(W),Q=c(-D*J),he=c(k*J),de=u.BASE.multiplyAndAddUnsafe(X,Q,he);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return q0(this.toDERHex())}toDERHex(){return Ta.hexFromSig(this)}toCompactRawBytes(){return q0(this.toCompactHex())}toCompactHex(){const E=i;return pm(this.r,E)+pm(this.s,E)}}const L={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=BR(e.n);return cce(e.randomBytes(v),e.n)},precompute(v=8,E=u.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}};function w(v,E=!0){return u.fromPrivateKey(v).toRawBytes(E)}function b(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const O=Ri("key",v).length,k=n.BYTES,$=k+1,D=2*k+1;if(!(e.allowedPrivateKeyLengths||i===$))return O===$||O===D}function x(v,E,O=!0){if(b(v)===!0)throw new Error("first arg must be private key");if(b(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(v)).toRawBytes(O)}const _=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const E=Gc(v),O=v.length*8-s;return O>0?E>>BigInt(O):E},I=e.bits2int_modN||function(v){return c(_(v))},M=y3(s);function N(v){return Ll("num < 2^"+s,v,Ra,M),df(v,i)}function U(v,E,O=B){if(["recovered","canonical"].some(oe=>oe in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:$}=e;let{lowS:D,prehash:W,extraEntropy:q}=O;D==null&&(D=!0),v=Ri("msgHash",v),h_(O),W&&(v=Ri("prehashed msgHash",k(v)));const X=I(v),J=d(E),Q=[N(J),N(X)];if(q!=null&&q!==!1){const oe=q===!0?$(n.BYTES):q;Q.push(Ri("extraEntropy",oe))}const he=Z0(...Q),de=X;function Ce(oe){const V=_(oe);if(!f(V))return;const je=l(V),Fe=u.BASE.multiply(V).toAffine(),fe=c(Fe.x);if(fe===Ra)return;const $e=c(je*c(de+fe*J));if($e===Ra)return;let ye=(Fe.x===fe?0:2)|Number(Fe.y&Mn),ge=$e;return D&&p($e)&&(ge=m($e),ye^=1),new C(fe,ge,ye)}return{seed:he,k2sig:Ce}}const B={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function T(v,E,O=B){const{seed:k,k2sig:$}=U(v,E,O),D=e;return goe(D.hash.outputLen,D.nByteLength,D.hmac)(k,$)}u.BASE._setWindowSize(8);function j(v,E,O,k=P){const $=v;E=Ri("msgHash",E),O=Ri("publicKey",O);const{lowS:D,prehash:W,format:q}=k;if(h_(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const X=typeof $=="string"||uf($),J=!X&&!q&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!X&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,he;try{if(J&&(Q=new C($.r,$.s)),X){try{q!=="compact"&&(Q=C.fromDER($))}catch(ye){if(!(ye instanceof Ta.Err))throw ye}!Q&&q!=="der"&&(Q=C.fromCompact($))}he=u.fromHex(O)}catch{return!1}if(!Q||D&&Q.hasHighS())return!1;W&&(E=e.hash(E));const{r:de,s:Ce}=Q,oe=I(E),V=l(Ce),je=c(oe*V),Fe=c(de*V),fe=u.BASE.multiplyAndAddUnsafe(he,je,Fe)?.toAffine();return fe?c(fe.x)===de:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:x,sign:T,verify:j,ProjectivePoint:u,Signature:C,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bce(t){return{hash:t,hmac:(e,...n)=>OR(t,e,Wae(...n)),randomBytes:Vae}}function vce(t,e){const n=r=>wce({...t,...bce(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_ce=BigInt(0),Cce=BigInt(1),l5=BigInt(2),p_=(t,e)=>(t+e/l5)/e;function Ece(t){const e=VR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Li(u,n,e)*u%e,h=Li(d,n,e)*u%e,f=Li(h,l5,e)*l%e,p=Li(f,i,e)*f%e,m=Li(p,s,e)*p%e,y=Li(m,o,e)*m%e,C=Li(y,c,e)*y%e,L=Li(C,o,e)*m%e,w=Li(L,n,e)*u%e,b=Li(w,a,e)*p%e,x=Li(b,r,e)*l%e,_=Li(x,l5,e);if(!u5.eql(u5.sqr(_),t))throw new Error("Cannot find square root");return _}const u5=Aw(VR,void 0,void 0,{sqrt:Ece}),xce=vce({a:_ce,b:BigInt(7),Fp:u5,n:f_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=f_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Cce*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=p_(s*t,e),c=p_(-r*t,e);let l=Fr(t-o*n-c*i,e),u=Fr(-o*r-c*s,e);const d=l>a,h=u>a;if(d&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},foe);function Ace(t){if(t.length!==130&&t.length!==132)throw new Sce({signature:t});const e=BigInt(xa(t,0,32)),n=BigInt(xa(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Lce(i)}catch{throw new Ice({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Lce(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Tce({value:t})}class Sce extends Kt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Xo(xw(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ice extends Kt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Tce extends Kt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function kce(t){return Xoe(Pce(t))}function Pce(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,o=new xce.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(xw(e).substring(2));return Woe(o)}function Oce(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*s+1>>>0,m=new Uint8Array(p);for(;h!==f;){let L=l[h],w=0;for(let b=p-1;(L!==0||w<d)&&b!==-1;b--,w++)L+=256*m[b]>>>0,m[b]=L%n>>>0,L=L/n>>>0;if(L!==0)throw new Error("Non-zero carry");d=w,h++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let C=r.repeat(u);for(;y<p;++y)C+=t.charAt(m[y]);return C}function o(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*i+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const L=l.charCodeAt(u);if(L>255)return;let w=e[L];if(w===255)return;let b=0;for(let x=f-1;(w!==0||b<h)&&x!==-1;x--,b++)w+=n*p[x]>>>0,p[x]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");h=b,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const y=new Uint8Array(d+(f-m));let C=d;for(;m!==f;)y[C++]=p[m++];return y}function c(l){const u=o(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:o,decode:c}}var Rce="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const hf=Oce(Rce);function $ce(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Mce(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let a=t.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<r){const o=t.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}const Nce=new TextEncoder,Dce=50;function jce(t,e,n){Nce.encodeInto(t,e.subarray(n))}function Uce(t,e,n){t.length>Dce?jce(t,e,n):Mce(t,e,n)}const Bce=4096;function HR(t,e,n){let r=e;const i=r+n,s=[];let a="";for(;r<i;){const o=t[r++];if(!(o&128))s.push(o);else if((o&224)===192){const c=t[r++]&63;s.push((o&31)<<6|c)}else if((o&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((o&31)<<12|c<<6|l)}else if((o&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(o&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(o);s.length>=Bce&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const Fce=new TextDecoder,zce=200;function Wce(t,e,n){const r=t.subarray(e,e+n);return Fce.decode(r)}function Vce(t,e,n){return n>zce?Wce(t,e,n):HR(t,e,n)}class Qf{constructor(e,n){this.type=e,this.data=n}}class di extends Error{constructor(e){super(e);const n=Object.create(di.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:di.name})}}const Ru=4294967295;function Hce(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function qR(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function ZR(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function qce(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Zce=-1,Gce=4294967296-1,Kce=17179869184-1;function Yce({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Kce)if(e===0&&t<=Gce){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),qR(r,4,t),n}}function Jce(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Xce(t){if(t instanceof Date){const e=Jce(t);return Yce(e)}else return null}function Qce(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=ZR(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new di(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function e2e(t){const e=Qce(t);return new Date(e.sec*1e3+e.nsec/1e6)}const t2e={type:Zce,encode:Xce,decode:e2e};class K0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t2e)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=-1-r;return new Qf(a,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=r;return new Qf(a,s)}}}return e instanceof Qf?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Qf(n,e)}}K0.defaultCodec=new K0;function n2e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function d5(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n2e(t)?new Uint8Array(t):Uint8Array.from(t)}const r2e=100,i2e=2048;let s2e=class GR{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??K0.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??r2e,this.initialBufferSize=e?.initialBufferSize??i2e,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new GR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=$ce(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Uce(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=d5(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Hce(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),qR(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function a2e(t,e){return new s2e(e).encodeSharedRef(t)}function gm(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const o2e=16,c2e=16;class l2e{constructor(e=o2e,n=c2e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const a=s.bytes;for(let o=0;o<r;o++)if(a[o]!==e[n+o])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=HR(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,s),s}}const h5="array",Ad="map_key",KR="map_value",u2e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new di("The type of key must be string or number but "+typeof t)};class d2e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=h5,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Ad,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===h5){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Ad||e.type===KR){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const $u=-1,Lw=new DataView(new ArrayBuffer(0)),h2e=new Uint8Array(Lw.buffer);try{Lw.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const m_=new RangeError("Insufficient data"),f2e=new l2e;let p2e=class YR{constructor(e){this.totalPos=0,this.pos=0,this.view=Lw,this.bytes=h2e,this.headByte=$u,this.stack=new d2e,this.entered=!1,this.extensionCodec=e?.extensionCodec??K0.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Ru,this.maxBinLength=e?.maxBinLength??Ru,this.maxArrayLength=e?.maxArrayLength??Ru,this.maxMapLength=e?.maxMapLength??Ru,this.maxExtLength=e?.maxExtLength??Ru,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:f2e,this.mapKeyConverter=e?.mapKeyConverter??u2e}clone(){return new YR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=$u,this.stack.reset()}setBuffer(e){const n=d5(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===$u&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=d5(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${gm(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new di(`Unrecognized type byte: ${gm(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===h5)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Ad){if(n==="__proto__")throw new di("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=KR;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Ad;continue e}}return n}}readHeadByte(){return this.headByte===$u&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=$u}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new di(`Unrecognized array type byte: ${gm(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new di(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new di(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new di(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw m_;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=Vce(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Ad:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new di(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw m_;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new di(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=qce(this.view,this.pos);return this.pos+=8,e}readI64(){const e=ZR(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function m2e(t,e){return new p2e(e).decode(t)}const g2e=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),y2e=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function h2(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return y2e(t)}catch{return t}}function Ka(t){return typeof t=="string"?t:g2e(t)||""}function w2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function JR(t,...e){if(!w2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function g_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function b2e(t,e){JR(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const V2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ym=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function v2e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function XR(t){return typeof t=="string"&&(t=v2e(t)),JR(t),t}let _2e=class{clone(){return this._cloneInto()}};function C2e(t){const e=r=>t().update(XR(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function QR(t=32){if(V2&&typeof V2.getRandomValues=="function")return V2.getRandomValues(new Uint8Array(t));if(V2&&typeof V2.randomBytes=="function")return V2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function E2e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}let x2e=class extends _2e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ym(this.buffer)}update(e){g_(this);const{view:n,buffer:r,blockLen:i}=this;e=XR(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=ym(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){g_(this),b2e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;E2e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=ym(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const ep=BigInt(2**32-1),f5=BigInt(32);function e$(t,e=!1){return e?{h:Number(t&ep),l:Number(t>>f5&ep)}:{h:Number(t>>f5&ep)|0,l:Number(t&ep)|0}}function A2e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=e$(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const L2e=(t,e)=>BigInt(t>>>0)<<f5|BigInt(e>>>0),S2e=(t,e,n)=>t>>>n,I2e=(t,e,n)=>t<<32-n|e>>>n,T2e=(t,e,n)=>t>>>n|e<<32-n,k2e=(t,e,n)=>t<<32-n|e>>>n,P2e=(t,e,n)=>t<<64-n|e>>>n-32,O2e=(t,e,n)=>t>>>n-32|e<<64-n,R2e=(t,e)=>e,$2e=(t,e)=>t,M2e=(t,e,n)=>t<<n|e>>>32-n,N2e=(t,e,n)=>e<<n|t>>>32-n,D2e=(t,e,n)=>e<<n-32|t>>>64-n,j2e=(t,e,n)=>t<<n-32|e>>>64-n;function U2e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const B2e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),F2e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,z2e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),W2e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,V2e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),H2e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,tt={fromBig:e$,split:A2e,toBig:L2e,shrSH:S2e,shrSL:I2e,rotrSH:T2e,rotrSL:k2e,rotrBH:P2e,rotrBL:O2e,rotr32H:R2e,rotr32L:$2e,rotlSH:M2e,rotlSL:N2e,rotlBH:D2e,rotlBL:j2e,add:U2e,add3L:B2e,add3H:F2e,add4L:z2e,add4H:W2e,add5H:H2e,add5L:V2e},[q2e,Z2e]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ho=new Uint32Array(80),fo=new Uint32Array(80);let G2e=class extends x2e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)ho[w]=e.getUint32(n),fo[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=ho[w-15]|0,x=fo[w-15]|0,_=tt.rotrSH(b,x,1)^tt.rotrSH(b,x,8)^tt.shrSH(b,x,7),I=tt.rotrSL(b,x,1)^tt.rotrSL(b,x,8)^tt.shrSL(b,x,7),M=ho[w-2]|0,N=fo[w-2]|0,U=tt.rotrSH(M,N,19)^tt.rotrBH(M,N,61)^tt.shrSH(M,N,6),B=tt.rotrSL(M,N,19)^tt.rotrBL(M,N,61)^tt.shrSL(M,N,6),P=tt.add4L(I,B,fo[w-7],fo[w-16]),T=tt.add4H(P,_,U,ho[w-7],ho[w-16]);ho[w]=T|0,fo[w]=P|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:C,Hl:L}=this;for(let w=0;w<80;w++){const b=tt.rotrSH(d,h,14)^tt.rotrSH(d,h,18)^tt.rotrBH(d,h,41),x=tt.rotrSL(d,h,14)^tt.rotrSL(d,h,18)^tt.rotrBL(d,h,41),_=d&f^~d&m,I=h&p^~h&y,M=tt.add5L(L,x,I,Z2e[w],fo[w]),N=tt.add5H(M,C,b,_,q2e[w],ho[w]),U=M|0,B=tt.rotrSH(r,i,28)^tt.rotrBH(r,i,34)^tt.rotrBH(r,i,39),P=tt.rotrSL(r,i,28)^tt.rotrBL(r,i,34)^tt.rotrBL(r,i,39),T=r&s^r&o^s&o,j=i&a^i&c^a&c;C=m|0,L=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=tt.add(l|0,u|0,N|0,U|0),l=o|0,u=c|0,o=s|0,c=a|0,s=r|0,a=i|0;const v=tt.add3L(U,P,j);r=tt.add3H(v,N,B,T),i=v|0}({h:r,l:i}=tt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=tt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=tt.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=tt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=tt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=tt.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=tt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:C,l:L}=tt.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(r,i,s,a,o,c,l,u,d,h,f,p,m,y,C,L)}roundClean(){ho.fill(0),fo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const K2e=C2e(()=>new G2e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sw=BigInt(0),t$=BigInt(1),Y2e=BigInt(2);function Iw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tw(t){if(!Iw(t))throw new Error("Uint8Array expected")}function wm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const J2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kw(t){Tw(t);let e="";for(let n=0;n<t.length;n++)e+=J2e[t[n]];return e}function n$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Sw:BigInt("0x"+t)}const ha={_0:48,_9:57,A:65,F:70,a:97,f:102};function y_(t){if(t>=ha._0&&t<=ha._9)return t-ha._0;if(t>=ha.A&&t<=ha.F)return t-(ha.A-10);if(t>=ha.a&&t<=ha.f)return t-(ha.a-10)}function r$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=y_(t.charCodeAt(s)),o=y_(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function X2e(t){return n$(kw(t))}function Fp(t){return Tw(t),n$(kw(Uint8Array.from(t).reverse()))}function i$(t,e){return r$(t.toString(16).padStart(e*2,"0"))}function p5(t,e){return i$(t,e).reverse()}function fa(t,e,n){let r;if(typeof e=="string")try{r=r$(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Iw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function w_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Tw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const bm=t=>typeof t=="bigint"&&Sw<=t;function Q2e(t,e,n){return bm(t)&&bm(e)&&bm(n)&&e<=t&&t<n}function Mu(t,e,n,r){if(!Q2e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function ele(t){let e;for(e=0;t>Sw;t>>=t$,e+=1);return e}const tle=t=>(Y2e<<BigInt(t-1))-t$,nle={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Iw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pw(t,e,n={}){const r=(i,s,a)=>{const o=nle[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function b_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Un=BigInt(0),sn=BigInt(1),Pc=BigInt(2),rle=BigInt(3),m5=BigInt(4),v_=BigInt(5),__=BigInt(8);function xn(t,e){const n=t%e;return n>=Un?n:e+n}function ile(t,e,n){if(e<Un)throw new Error("invalid exponent, negatives unsupported");if(n<=Un)throw new Error("invalid modulus");if(n===sn)return Un;let r=sn;for(;e>Un;)e&sn&&(r=r*t%n),t=t*t%n,e>>=sn;return r}function Is(t,e,n){let r=t;for(;e-- >Un;)r*=r,r%=n;return r}function C_(t,e){if(t===Un)throw new Error("invert: expected non-zero number");if(e<=Un)throw new Error("invert: expected positive modulus, got "+e);let n=xn(t,e),r=e,i=Un,s=sn;for(;n!==Un;){const a=r/n,o=r%n,c=i-s*a;r=n,n=o,i=s,s=c}if(r!==sn)throw new Error("invert: does not exist");return xn(i,e)}function sle(t){const e=(t-sn)/Pc;let n,r,i;for(n=t-sn,r=0;n%Pc===Un;n/=Pc,r++);for(i=Pc;i<t&&ile(i,e,t)!==t-sn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+sn)/m5;return function(o,c){const l=o.pow(c,a);if(!o.eql(o.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+sn)/Pc;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,l=a.pow(a.mul(a.ONE,i),n),u=a.pow(o,s),d=a.pow(o,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<c&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const f=a.pow(l,sn<<BigInt(c-h-1));l=a.sqr(f),u=a.mul(u,f),d=a.mul(d,l),c=h}return u}}function ale(t){if(t%m5===rle){const e=(t+sn)/m5;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%__===v_){const e=(t-v_)/__;return function(n,r){const i=n.mul(r,Pc),s=n.pow(i,e),a=n.mul(r,s),o=n.mul(n.mul(a,Pc),s),c=n.mul(a,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return sle(t)}const ole=(t,e)=>(xn(t,e)&sn)===sn,cle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lle(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cle.reduce((r,i)=>(r[i]="function",r),e);return Pw(t,n)}function ule(t,e,n){if(n<Un)throw new Error("invalid exponent, negatives unsupported");if(n===Un)return t.ONE;if(n===sn)return e;let r=t.ONE,i=e;for(;n>Un;)n&sn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=sn;return r}function dle(t,e){const n=new Array(e.length),r=e.reduce((s,a,o)=>t.is0(a)?s:(n[o]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,o)=>t.is0(a)?s:(n[o]=t.mul(s,n[o]),t.mul(s,a)),i),n}function s$(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function a$(t,e,n=!1,r={}){if(t<=Un)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=s$(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:tle(i),ZERO:Un,ONE:sn,create:c=>xn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Un<=c&&c<t},is0:c=>c===Un,isOdd:c=>(c&sn)===sn,neg:c=>xn(-c,t),eql:(c,l)=>c===l,sqr:c=>xn(c*c,t),add:(c,l)=>xn(c+l,t),sub:(c,l)=>xn(c-l,t),mul:(c,l)=>xn(c*l,t),pow:(c,l)=>ule(o,c,l),div:(c,l)=>xn(c*C_(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>C_(c,t),sqrt:r.sqrt||(c=>(a||(a=ale(t)),a(o,c))),invertBatch:c=>dle(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?p5(c,s):i$(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Fp(c):X2e(c)}});return Object.freeze(o)}const E_=BigInt(0),tp=BigInt(1);function vm(t,e){const n=e.negate();return t?n:e}function o$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _m(t,e){o$(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function hle(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function fle(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Cm=new WeakMap,c$=new WeakMap;function Em(t){return c$.get(t)||1}function ple(t,e){return{constTimeNegate:vm,hasPrecomputes(n){return Em(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>E_;)r&tp&&(i=i.add(s)),s=s.double(),r>>=tp;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=_m(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){const{windows:s,windowSize:a}=_m(n,e);let o=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*a;let p=Number(i&l);i>>=d,p>a&&(p-=u,i+=tp);const m=f,y=f+Math.abs(p)-1,C=h%2!==0,L=p<0;p===0?c=c.add(vm(C,r[m])):o=o.add(vm(L,r[y]))}return{p:o,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:a,windowSize:o}=_m(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<a;d++){const h=d*o;if(i===E_)break;let f=Number(i&c);if(i>>=u,f>o&&(f-=l,i+=tp),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=Cm.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Cm.set(r,i(s))),s},wNAFCached(n,r,i){const s=Em(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Em(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){o$(r,e),c$.set(n,r),Cm.delete(n)}}}function mle(t,e,n,r){if(hle(n,t),fle(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=ele(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,c=new Array(o+1).fill(i),l=Math.floor((e.BITS-1)/a)*a;let u=i;for(let d=l;d>=0;d-=a){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(o));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<a;f++)u=u.double()}return u}function gle(t){return lle(t.Fp),Pw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s$(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ki=BigInt(0),Nr=BigInt(1),np=BigInt(2),yle=BigInt(8),wle={zip215:!0};function ble(t){const e=gle(t);return Pw(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function vle(t){const e=ble(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:o,h:c}=e,l=np<<BigInt(o*8)-Nr,u=n.create,d=a$(e.n,e.nBitLength),h=e.uvRatio||((v,E)=>{try{return{isValid:!0,value:n.sqrt(v*n.inv(E))}}catch{return{isValid:!1,value:Ki}}}),f=e.adjustScalarBytes||(v=>v),p=e.domain||((v,E,O)=>{if(wm("phflag",O),E.length||O)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,E){Mu("coordinate "+v,E,Ki,l)}function y(v){if(!(v instanceof w))throw new Error("ExtendedPoint expected")}const C=b_((v,E)=>{const{ex:O,ey:k,ez:$}=v,D=v.is0();E==null&&(E=D?yle:n.inv($));const W=u(O*E),q=u(k*E),X=u($*E);if(D)return{x:Ki,y:Nr};if(X!==Nr)throw new Error("invZ was invalid");return{x:W,y:q}}),L=b_(v=>{const{a:E,d:O}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:k,ey:$,ez:D,et:W}=v,q=u(k*k),X=u($*$),J=u(D*D),Q=u(J*J),he=u(q*E),de=u(J*u(he+X)),Ce=u(Q+u(O*u(q*X)));if(de!==Ce)throw new Error("bad point: equation left != right (1)");const oe=u(k*$),V=u(D*W);if(oe!==V)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(E,O,k,$){this.ex=E,this.ey=O,this.ez=k,this.et=$,m("x",E),m("y",O),m("z",k),m("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof w)throw new Error("extended point not allowed");const{x:O,y:k}=E||{};return m("x",O),m("y",k),new w(O,k,Nr,u(O*k))}static normalizeZ(E){const O=n.invertBatch(E.map(k=>k.ez));return E.map((k,$)=>k.toAffine(O[$])).map(w.fromAffine)}static msm(E,O){return mle(w,d,E,O)}_setWindowSize(E){_.setWindowSize(this,E)}assertValidity(){L(this)}equals(E){y(E);const{ex:O,ey:k,ez:$}=this,{ex:D,ey:W,ez:q}=E,X=u(O*q),J=u(D*$),Q=u(k*q),he=u(W*$);return X===J&&Q===he}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:O,ey:k,ez:$}=this,D=u(O*O),W=u(k*k),q=u(np*u($*$)),X=u(E*D),J=O+k,Q=u(u(J*J)-D-W),he=X+W,de=he-q,Ce=X-W,oe=u(Q*de),V=u(he*Ce),je=u(Q*Ce),Fe=u(de*he);return new w(oe,V,Fe,je)}add(E){y(E);const{a:O,d:k}=e,{ex:$,ey:D,ez:W,et:q}=this,{ex:X,ey:J,ez:Q,et:he}=E;if(O===BigInt(-1)){const ze=u((D-$)*(J+X)),Or=u((D+$)*(J-X)),ia=u(Or-ze);if(ia===Ki)return this.double();const Rr=u(W*np*he),Fn=u(q*np*Q),wr=Fn+Rr,Zi=Or+ze,sa=Fn-Rr,At=u(wr*ia),wn=u(Zi*sa),br=u(wr*sa),ni=u(ia*Zi);return new w(At,wn,ni,br)}const de=u($*X),Ce=u(D*J),oe=u(q*k*he),V=u(W*Q),je=u(($+D)*(X+J)-de-Ce),Fe=V-oe,fe=V+oe,$e=u(Ce-O*de),ye=u(je*Fe),ge=u(fe*$e),vs=u(je*$e),Pr=u(Fe*fe);return new w(ye,ge,Pr,vs)}subtract(E){return this.add(E.negate())}wNAF(E){return _.wNAFCached(this,E,w.normalizeZ)}multiply(E){const O=E;Mu("scalar",O,Nr,r);const{p:k,f:$}=this.wNAF(O);return w.normalizeZ([k,$])[0]}multiplyUnsafe(E,O=w.ZERO){const k=E;return Mu("scalar",k,Ki,r),k===Ki?x:this.is0()||k===Nr?this:_.wNAFCachedUnsafe(this,k,w.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(E){return C(this,E)}clearCofactor(){const{h:E}=e;return E===Nr?this:this.multiplyUnsafe(E)}static fromHex(E,O=!1){const{d:k,a:$}=e,D=n.BYTES;E=fa("pointHex",E,D),wm("zip215",O);const W=E.slice(),q=E[D-1];W[D-1]=q&-129;const X=Fp(W),J=O?l:n.ORDER;Mu("pointHex.y",X,Ki,J);const Q=u(X*X),he=u(Q-Nr),de=u(k*Q-$);let{isValid:Ce,value:oe}=h(he,de);if(!Ce)throw new Error("Point.fromHex: invalid y coordinate");const V=(oe&Nr)===Nr,je=(q&128)!==0;if(!O&&oe===Ki&&je)throw new Error("Point.fromHex: x=0 and x_0=1");return je!==V&&(oe=u(-oe)),w.fromAffine({x:oe,y:X})}static fromPrivateKey(E){return N(E).point}toRawBytes(){const{x:E,y:O}=this.toAffine(),k=p5(O,n.BYTES);return k[k.length-1]|=E&Nr?128:0,k}toHex(){return kw(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Nr,u(e.Gx*e.Gy)),w.ZERO=new w(Ki,Nr,Nr,Ki);const{BASE:b,ZERO:x}=w,_=ple(w,o*8);function I(v){return xn(v,r)}function M(v){return I(Fp(v))}function N(v){const E=n.BYTES;v=fa("private key",v,E);const O=fa("hashed private key",s(v),2*E),k=f(O.slice(0,E)),$=O.slice(E,2*E),D=M(k),W=b.multiply(D),q=W.toRawBytes();return{head:k,prefix:$,scalar:D,point:W,pointBytes:q}}function U(v){return N(v).pointBytes}function B(v=new Uint8Array,...E){const O=w_(...E);return M(s(p(O,fa("context",v),!!i)))}function P(v,E,O={}){v=fa("message",v),i&&(v=i(v));const{prefix:k,scalar:$,pointBytes:D}=N(E),W=B(O.context,k,v),q=b.multiply(W).toRawBytes(),X=B(O.context,q,D,v),J=I(W+X*$);Mu("signature.s",J,Ki,r);const Q=w_(q,p5(J,n.BYTES));return fa("result",Q,n.BYTES*2)}const T=wle;function j(v,E,O,k=T){const{context:$,zip215:D}=k,W=n.BYTES;v=fa("signature",v,2*W),E=fa("message",E),O=fa("publicKey",O,W),D!==void 0&&wm("zip215",D),i&&(E=i(E));const q=Fp(v.slice(W,2*W));let X,J,Q;try{X=w.fromHex(O,D),J=w.fromHex(v.slice(0,W),D),Q=b.multiplyUnsafe(q)}catch{return!1}if(!D&&X.isSmallOrder())return!1;const he=B($,J.toRawBytes(),X.toRawBytes(),E);return J.add(X.multiplyUnsafe(he)).subtract(Q).clearCofactor().equals(w.ZERO)}return b._setWindowSize(8),{CURVE:e,getPublicKey:U,sign:P,verify:j,ExtendedPoint:w,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>a(n.BYTES),precompute(v=8,E=w.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const Ow=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),x_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _le=BigInt(1),A_=BigInt(2);BigInt(3);const Cle=BigInt(5),Ele=BigInt(8);function xle(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ow,a=t*t%s*t%s,o=Is(a,A_,s)*a%s,c=Is(o,_le,s)*t%s,l=Is(c,Cle,s)*c%s,u=Is(l,e,s)*l%s,d=Is(u,n,s)*u%s,h=Is(d,r,s)*d%s,f=Is(h,i,s)*h%s,p=Is(f,i,s)*h%s,m=Is(p,e,s)*l%s;return{pow_p_5_8:Is(m,A_,s)*t%s,b2:a}}function Ale(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Lle(t,e){const n=Ow,r=xn(e*e*e,n),i=xn(r*r*e,n),s=xle(t*i).pow_p_5_8;let a=xn(t*r*s,n);const o=xn(e*a*a,n),c=a,l=xn(a*x_,n),u=o===t,d=o===xn(-t,n),h=o===xn(-t*x_,n);return u&&(a=c),(d||h)&&(a=l),ole(a,n)&&(a=xn(-a,n)),{isValid:u||d,value:a}}const Sle=a$(Ow,void 0,!0),Ile={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sle,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ele,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:K2e,randomBytes:QR,adjustScalarBytes:Ale,uvRatio:Lle},l$=vle(Ile),Tle="EdDSA",kle="JWT",Y0=".",b3="base64url",u$="utf8",d$="utf8",Ple=":",Ole="did",Rle="key",L_="base58btc",$le="z",Mle="K36",Nle=32;function Rw(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function h$(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Rw(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function f$(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=h$(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Rw(n)}function Dle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var x=p[C],_=0,I=w-1;(x!==0||_<y)&&I!==-1;I--,_++)x+=256*b[I]>>>0,b[I]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var N=c.repeat(m);M<w;++M)N+=t.charAt(b[M]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var x=0,_=L-1;(b!==0||x<C)&&_!==-1;_--,x++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=x,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),N=y;I!==L;)M[N++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var jle=Dle,Ule=jle;const p$=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Ble=t=>new TextEncoder().encode(t),Fle=t=>new TextDecoder().decode(t);let zle=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Wle=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return m$(this,e)}},Vle=class{constructor(e){this.decoders=e}or(e){return m$(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const m$=(t,e)=>new Vle({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Hle=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new zle(e,n,r),this.decoder=new Wle(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const v3=({name:t,prefix:e,encode:n,decode:r})=>new Hle(t,e,n,r),ff=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Ule(n,e);return v3({prefix:t,name:e,encode:r,decode:s=>p$(i(s))})},qle=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Zle=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Qn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>v3({prefix:e,name:t,encode(i){return Zle(i,r,n)},decode(i){return qle(i,r,n,t)}}),Gle=v3({prefix:"\0",name:"identity",encode:t=>Fle(t),decode:t=>Ble(t)});var Kle=Object.freeze({__proto__:null,identity:Gle});const Yle=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Jle=Object.freeze({__proto__:null,base2:Yle});const Xle=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Qle=Object.freeze({__proto__:null,base8:Xle});const eue=ff({prefix:"9",name:"base10",alphabet:"0123456789"});var tue=Object.freeze({__proto__:null,base10:eue});const nue=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rue=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var iue=Object.freeze({__proto__:null,base16:nue,base16upper:rue});const sue=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),aue=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oue=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cue=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lue=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uue=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),due=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hue=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fue=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var pue=Object.freeze({__proto__:null,base32:sue,base32upper:aue,base32pad:oue,base32padupper:cue,base32hex:lue,base32hexupper:uue,base32hexpad:due,base32hexpadupper:hue,base32z:fue});const mue=ff({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gue=ff({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yue=Object.freeze({__proto__:null,base36:mue,base36upper:gue});const wue=ff({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bue=ff({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vue=Object.freeze({__proto__:null,base58btc:wue,base58flickr:bue});const _ue=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cue=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Eue=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xue=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Aue=Object.freeze({__proto__:null,base64:_ue,base64pad:Cue,base64url:Eue,base64urlpad:xue});const g$=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Lue=g$.reduce((t,e,n)=>(t[n]=e,t),[]),Sue=g$.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Iue(t){return t.reduce((e,n)=>(e+=Lue[n],e),"")}function Tue(t){const e=[];for(const n of t){const r=Sue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const kue=v3({prefix:"🚀",name:"base256emoji",encode:Iue,decode:Tue});var Pue=Object.freeze({__proto__:null,base256emoji:kue}),Oue=y$,S_=128,Rue=-128,$ue=Math.pow(2,31);function y$(t,e,n){e=e||[],n=n||0;for(var r=n;t>=$ue;)e[n++]=t&255|S_,t/=128;for(;t&Rue;)e[n++]=t&255|S_,t>>>=7;return e[n]=t|0,y$.bytes=n-r+1,e}var Mue=g5,Nue=128,I_=127;function g5(t,r){var n=0,r=r||0,i=0,s=r,a,o=t.length;do{if(s>=o)throw g5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&I_)<<i:(a&I_)*Math.pow(2,i),i+=7}while(a>=Nue);return g5.bytes=s-r,n}var Due=Math.pow(2,7),jue=Math.pow(2,14),Uue=Math.pow(2,21),Bue=Math.pow(2,28),Fue=Math.pow(2,35),zue=Math.pow(2,42),Wue=Math.pow(2,49),Vue=Math.pow(2,56),Hue=Math.pow(2,63),que=function(t){return t<Due?1:t<jue?2:t<Uue?3:t<Bue?4:t<Fue?5:t<zue?6:t<Wue?7:t<Vue?8:t<Hue?9:10},Zue={encode:Oue,decode:Mue,encodingLength:que},w$=Zue;const T_=(t,e,n=0)=>(w$.encode(t,e,n),e),k_=t=>w$.encodingLength(t),y5=(t,e)=>{const n=e.byteLength,r=k_(t),i=r+k_(n),s=new Uint8Array(i+n);return T_(t,s,0),T_(n,s,r),s.set(e,i),new Gue(t,n,e,s)};let Gue=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const b$=({name:t,code:e,encode:n})=>new Kue(t,e,n);let Kue=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?y5(this.code,n):n.then(r=>y5(this.code,r))}else throw Error("Unknown type, must be binary type")}};const v$=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Yue=b$({name:"sha2-256",code:18,encode:v$("SHA-256")}),Jue=b$({name:"sha2-512",code:19,encode:v$("SHA-512")});var Xue=Object.freeze({__proto__:null,sha256:Yue,sha512:Jue});const _$=0,Que="identity",C$=p$,ede=t=>y5(_$,C$(t)),tde={code:_$,name:Que,encode:C$,digest:ede};var nde=Object.freeze({__proto__:null,identity:tde});new TextEncoder,new TextDecoder;const P_={...Kle,...Jle,...Qle,...tue,...iue,...pue,...yue,...vue,...Aue,...Pue};({...Xue,...nde});function E$(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const O_=E$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),xm=E$("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=h$(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),x$={utf8:O_,"utf-8":O_,hex:P_.base16,latin1:xm,ascii:xm,binary:xm,...P_};function _3(t,e="utf8"){const n=x$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function yu(t,e="utf8"){const n=x$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Rw(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function R_(t){return h2(_3(yu(t,b3),u$))}function J0(t){return _3(yu(Ka(t),u$),b3)}function A$(t){const e=yu(Mle,L_),n=$le+_3(f$([e,t]),L_);return[Ole,Rle,n].join(Ple)}function rde(t){return _3(t,b3)}function ide(t){return yu(t,b3)}function sde(t){return yu([J0(t.header),J0(t.payload)].join(Y0),d$)}function ade(t){return[J0(t.header),J0(t.payload),rde(t.signature)].join(Y0)}function w5(t){const e=t.split(Y0),n=R_(e[0]),r=R_(e[1]),i=ide(e[2]),s=yu(e.slice(0,2).join(Y0),d$);return{header:n,payload:r,signature:i,data:s}}function $_(t=QR(Nle)){const e=l$.getPublicKey(t);return{secretKey:f$([t,e]),publicKey:e}}async function ode(t,e,n,r,i=ve.fromMiliseconds(Date.now())){const s={alg:Tle,typ:kle},a=A$(r.publicKey),o=i+n,c={iss:a,sub:t,aud:e,iat:i,exp:o},l=sde({header:s,payload:c}),u=l$.sign(l,r.secretKey.slice(0,32));return ade({header:s,payload:c,signature:u})}function $w(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function L$(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$w(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ld(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=L$(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return $w(n)}function cde(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var x=p[C],_=0,I=w-1;(x!==0||_<y)&&I!==-1;I--,_++)x+=256*b[I]>>>0,b[I]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var N=c.repeat(m);M<w;++M)N+=t.charAt(b[M]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var x=0,_=L-1;(b!==0||x<C)&&_!==-1;_--,x++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=x,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),N=y;I!==L;)M[N++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var lde=cde,ude=lde;const dde=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},hde=t=>new TextEncoder().encode(t),fde=t=>new TextDecoder().decode(t);class pde{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class mde{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return S$(this,e)}}class gde{constructor(e){this.decoders=e}or(e){return S$(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const S$=(t,e)=>new gde({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class yde{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new pde(e,n,r),this.decoder=new mde(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const C3=({name:t,prefix:e,encode:n,decode:r})=>new yde(t,e,n,r),pf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=ude(n,e);return C3({prefix:t,name:e,encode:r,decode:s=>dde(i(s))})},wde=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},bde=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},er=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>C3({prefix:e,name:t,encode(i){return bde(i,r,n)},decode(i){return wde(i,r,n,t)}}),vde=C3({prefix:"\0",name:"identity",encode:t=>fde(t),decode:t=>hde(t)}),_de=Object.freeze(Object.defineProperty({__proto__:null,identity:vde},Symbol.toStringTag,{value:"Module"})),Cde=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Ede=Object.freeze(Object.defineProperty({__proto__:null,base2:Cde},Symbol.toStringTag,{value:"Module"})),xde=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ade=Object.freeze(Object.defineProperty({__proto__:null,base8:xde},Symbol.toStringTag,{value:"Module"})),Lde=pf({prefix:"9",name:"base10",alphabet:"0123456789"}),Sde=Object.freeze(Object.defineProperty({__proto__:null,base10:Lde},Symbol.toStringTag,{value:"Module"})),Ide=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tde=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),kde=Object.freeze(Object.defineProperty({__proto__:null,base16:Ide,base16upper:Tde},Symbol.toStringTag,{value:"Module"})),Pde=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ode=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Rde=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$de=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mde=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nde=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Dde=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jde=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ude=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Bde=Object.freeze(Object.defineProperty({__proto__:null,base32:Pde,base32hex:Mde,base32hexpad:Dde,base32hexpadupper:jde,base32hexupper:Nde,base32pad:Rde,base32padupper:$de,base32upper:Ode,base32z:Ude},Symbol.toStringTag,{value:"Module"})),Fde=pf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),zde=pf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Wde=Object.freeze(Object.defineProperty({__proto__:null,base36:Fde,base36upper:zde},Symbol.toStringTag,{value:"Module"})),Vde=pf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hde=pf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qde=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Vde,base58flickr:Hde},Symbol.toStringTag,{value:"Module"})),Zde=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Gde=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Kde=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Yde=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Jde=Object.freeze(Object.defineProperty({__proto__:null,base64:Zde,base64pad:Gde,base64url:Kde,base64urlpad:Yde},Symbol.toStringTag,{value:"Module"})),I$=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Xde=I$.reduce((t,e,n)=>(t[n]=e,t),[]),Qde=I$.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function ehe(t){return t.reduce((e,n)=>(e+=Xde[n],e),"")}function the(t){const e=[];for(const n of t){const r=Qde[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const nhe=C3({prefix:"🚀",name:"base256emoji",encode:ehe,decode:the}),rhe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:nhe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const M_={..._de,...Ede,...Ade,...Sde,...kde,...Bde,...Wde,...qde,...Jde,...rhe};function T$(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const N_=T$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Am=T$("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=L$(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),k$={utf8:N_,"utf-8":N_,hex:M_.base16,latin1:Am,ascii:Am,binary:Am,...M_};function ji(t,e="utf8"){const n=k$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$w(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Kr(t,e="utf8"){const n=k$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const ihe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},she="Input must be an string, Buffer or Uint8Array";function ahe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(she);return e}function ohe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function rp(t){return(4294967296+t).toString(16).substring(1)}function che(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=rp(e[i]).toUpperCase(),r+=" ",r+=rp(e[i+1]).toUpperCase();else if(n===64)r+=rp(e[i+1]).toUpperCase(),r+=rp(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function lhe(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let a=0;a<e;a++)i[a]=a%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let a=0;a<n;a++){const o=t(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var P$={normalizeInput:ahe,toHex:ohe,debugPrint:che,testSpeed:lhe};const zp=P$;function ip(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function D_(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function O$(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function po(t,e,n,r,i,s){const a=cd[i],o=cd[i+1],c=cd[s],l=cd[s+1];ip(Je,t,e),D_(Je,t,a,o);let u=Je[r]^Je[t],d=Je[r+1]^Je[t+1];Je[r]=d,Je[r+1]=u,ip(Je,n,r),u=Je[e]^Je[n],d=Je[e+1]^Je[n+1],Je[e]=u>>>24^d<<8,Je[e+1]=d>>>24^u<<8,ip(Je,t,e),D_(Je,t,c,l),u=Je[r]^Je[t],d=Je[r+1]^Je[t+1],Je[r]=u>>>16^d<<16,Je[r+1]=d>>>16^u<<16,ip(Je,n,r),u=Je[e]^Je[n],d=Je[e+1]^Je[n+1],Je[e]=d>>>31^u<<1,Je[e+1]=u>>>31^d<<1}const R$=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),uhe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],nr=new Uint8Array(uhe.map(function(t){return t*2})),Je=new Uint32Array(32),cd=new Uint32Array(32);function $$(t,e){let n=0;for(n=0;n<16;n++)Je[n]=t.h[n],Je[n+16]=R$[n];for(Je[24]=Je[24]^t.t,Je[25]=Je[25]^t.t/4294967296,e&&(Je[28]=~Je[28],Je[29]=~Je[29]),n=0;n<32;n++)cd[n]=O$(t.b,4*n);for(n=0;n<12;n++)po(0,8,16,24,nr[n*16+0],nr[n*16+1]),po(2,10,18,26,nr[n*16+2],nr[n*16+3]),po(4,12,20,28,nr[n*16+4],nr[n*16+5]),po(6,14,22,30,nr[n*16+6],nr[n*16+7]),po(0,10,20,30,nr[n*16+8],nr[n*16+9]),po(2,12,22,24,nr[n*16+10],nr[n*16+11]),po(4,14,16,26,nr[n*16+12],nr[n*16+13]),po(6,8,18,28,nr[n*16+14],nr[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Je[n]^Je[n+16]}const mo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function M$(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};mo.fill(0),mo[0]=t,e&&(mo[1]=e.length),mo[2]=1,mo[3]=1,n&&mo.set(n,32),r&&mo.set(r,48);for(let s=0;s<16;s++)i.h[s]=R$[s]^O$(mo,s*4);return e&&(Mw(i,e),i.c=128),i}function Mw(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,$$(t,!1),t.c=0),t.b[t.c++]=e[n]}function N$(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;$$(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function D$(t,e,n,r,i){n=n||64,t=zp.normalizeInput(t),r&&(r=zp.normalizeInput(r)),i&&(i=zp.normalizeInput(i));const s=M$(n,e,r,i);return Mw(s,t),N$(s)}function dhe(t,e,n,r,i){const s=D$(t,e,n,r,i);return zp.toHex(s)}var hhe={blake2b:D$,blake2bHex:dhe,blake2bInit:M$,blake2bUpdate:Mw,blake2bFinal:N$};const j$=P$;function fhe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function go(t,e,n,r,i,s){yt[t]=yt[t]+yt[e]+i,yt[r]=sp(yt[r]^yt[t],16),yt[n]=yt[n]+yt[r],yt[e]=sp(yt[e]^yt[n],12),yt[t]=yt[t]+yt[e]+s,yt[r]=sp(yt[r]^yt[t],8),yt[n]=yt[n]+yt[r],yt[e]=sp(yt[e]^yt[n],7)}function sp(t,e){return t>>>e^t<<32-e}const U$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),yt=new Uint32Array(16),Vn=new Uint32Array(16);function B$(t,e){let n=0;for(n=0;n<8;n++)yt[n]=t.h[n],yt[n+8]=U$[n];for(yt[12]^=t.t,yt[13]^=t.t/4294967296,e&&(yt[14]=~yt[14]),n=0;n<16;n++)Vn[n]=fhe(t.b,4*n);for(n=0;n<10;n++)go(0,4,8,12,Vn[rr[n*16+0]],Vn[rr[n*16+1]]),go(1,5,9,13,Vn[rr[n*16+2]],Vn[rr[n*16+3]]),go(2,6,10,14,Vn[rr[n*16+4]],Vn[rr[n*16+5]]),go(3,7,11,15,Vn[rr[n*16+6]],Vn[rr[n*16+7]]),go(0,5,10,15,Vn[rr[n*16+8]],Vn[rr[n*16+9]]),go(1,6,11,12,Vn[rr[n*16+10]],Vn[rr[n*16+11]]),go(2,7,8,13,Vn[rr[n*16+12]],Vn[rr[n*16+13]]),go(3,4,9,14,Vn[rr[n*16+14]],Vn[rr[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=yt[n]^yt[n+8]}function F$(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(U$),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(Nw(r,e),r.c=64),r}function Nw(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,B$(t,!1),t.c=0),t.b[t.c++]=e[n]}function z$(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;B$(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function W$(t,e,n){n=n||32,t=j$.normalizeInput(t);const r=F$(n,e);return Nw(r,t),z$(r)}function phe(t,e,n){const r=W$(t,e,n);return j$.toHex(r)}var mhe={blake2s:W$,blake2sHex:phe,blake2sInit:F$,blake2sUpdate:Nw,blake2sFinal:z$};const Nu=hhe,Du=mhe;var ghe={blake2b:Nu.blake2b,blake2bHex:Nu.blake2bHex,blake2bInit:Nu.blake2bInit,blake2bUpdate:Nu.blake2bUpdate,blake2bFinal:Nu.blake2bFinal,blake2s:Du.blake2s,blake2sHex:Du.blake2sHex,blake2sInit:Du.blake2sInit,blake2sUpdate:Du.blake2sUpdate,blake2sFinal:Du.blake2sFinal},E3={exports:{}};function yhe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var whe=bhe;function bhe(t,e,n){var r=n&&n.stringify||yhe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=r(t);for(var o=1;o<s;o++)a[o]=r(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const j_=whe;E3.exports=Ya;const bh=$he().console||{},vhe={mapHttpRequest:ap,mapHttpResponse:ap,wrapRequestSerializer:Lm,wrapResponseSerializer:Lm,wrapErrorSerializer:Lm,req:ap,res:ap,err:B_,errWithCause:B_};function Vo(t,e){return t==="silent"?1/0:e.levels.values[t]}const Dw=Symbol("pino.logFuncs"),b5=Symbol("pino.hierarchy"),_he={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function U_(t,e){const n={logger:e,parent:t[b5]};e[b5]=n}function Che(t,e,n){const r={};e.forEach(i=>{r[i]=n[i]?n[i]:bh[i]||bh[_he[i]||"log"]||Sl}),t[Dw]=r}function Ehe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ya(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||bh;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Ehe(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(m){n[m]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const c=t.level||"info",l=Object.create(n);l.log||(l.log=Sl),Che(l,o,n),U_({},l),Object.defineProperty(l,"levelVal",{get:d}),Object.defineProperty(l,"level",{get:h,set:f});const u={transmit:e,serialize:i,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:o,timestamp:Phe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Sl};l.levels=xhe(t),l.level=c,l.isLevelEnabled=function(m){return this.levels.values[m]?this.levels.values[m]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Sl,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=function(...m){return p.call(this,u,...m)},e&&(l._logEvent=v5());function d(){return Vo(this.level,this)}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,yc(this,u,l,"error"),yc(this,u,l,"fatal"),yc(this,u,l,"warn"),yc(this,u,l,"info"),yc(this,u,l,"debug"),yc(this,u,l,"trace"),a.forEach(y=>{yc(this,u,l,y)})}function p(m,y,C){if(!y)throw new Error("missing bindings for child Pino");C=C||{},i&&y.serializers&&(C.serializers=y.serializers);const L=C.serializers;if(i&&L){var w=Object.assign({},r,L),b=t.browser.serialize===!0?Object.keys(w):i;delete y.serializers,jw([y],b,w,this._stdErrSerialize)}function x(I){this._childLevel=(I._childLevel|0)+1,this.bindings=y,w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=v5([].concat(I._logEvent.bindings,y)))}x.prototype=this;const _=new x(this);return U_(this,_),_.child=function(...I){return p.call(this,m,...I)},_.level=C.level||this.level,m.onChild(_),_}return l}function xhe(t){const e=t.customLevels||{},n=Object.assign({},Ya.levels.values,e),r=Object.assign({},Ya.levels.labels,Ahe(e));return{values:n,labels:r}}function Ahe(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}Ya.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ya.stdSerializers=vhe;Ya.stdTimeFunctions=Object.assign({},{nullTime:V$,epochTime:H$,unixTime:Ohe,isoTime:Rhe});function Lhe(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[b5];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function yc(t,e,n,r){if(Object.defineProperty(t,r,{value:Vo(t.level,n)>Vo(r,n)?Sl:n[Dw][r],writable:!0,enumerable:!0,configurable:!0}),t[r]===Sl){if(!e.transmit)return;const s=e.transmit.level||t.level,a=Vo(s,n);if(Vo(r,n)<a)return}t[r]=Ihe(t,e,n,r);const i=Lhe(t);i.length!==0&&(t[r]=She(i,t[r]))}function She(t,e){return function(){return e.apply(this,[...t,...arguments])}}function Ihe(t,e,n,r){return function(i){return function(){const a=e.timestamp(),o=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===bh?bh:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];var u=!1;if(e.serialize&&(jw(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters?i.call(c,...The(this,r,o,a,e)):i.apply(c,o),e.transmit){const d=e.transmit.level||t._level,h=Vo(d,n),f=Vo(r,n);if(f<h)return;khe(this,{ts:a,methodLevel:r,methodValue:f,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Vo(t._level,n)},o,u)}}}(t[Dw][r])}function The(t,e,n,r,i){const{level:s,log:a=d=>d}=i.formatters||{},o=n.slice();let c=o[0];const l={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),s){const d=s(e,t.levels.values[e]);Object.assign(l,d)}else l.level=t.levels.values[e];if(i.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());return[a(l),...o]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());c=o.length?j_(o.shift(),o):void 0}else typeof c=="string"&&(c=j_(o.shift(),o));return c!==void 0&&(l[i.messageKey]=c),[a(l)]}}function jw(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Ya.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(const s in t[i])e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function khe(t,e,n,r=!1){const i=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,c=e.val,l=t._logEvent.bindings;r||jw(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,i(a,t._logEvent,c),t._logEvent=v5(l)}function v5(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function B_(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Phe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?V$:H$}function ap(){return{}}function Lm(t){return t}function Sl(){}function V$(){return!1}function H$(){return Date.now()}function Ohe(){return Math.round(Date.now()/1e3)}function Rhe(){return new Date(Date.now()).toISOString()}function $he(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}E3.exports.default=Ya;E3.exports.pino=Ya;var al=E3.exports;const q$=w2(al),Mhe={level:"info"},x3="custom_context",Uw=1e3*1024;var Nhe=Object.defineProperty,Dhe=(t,e,n)=>e in t?Nhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mo=(t,e,n)=>Dhe(t,typeof e!="symbol"?e+"":e,n);let jhe=class{constructor(e){Mo(this,"nodeValue"),Mo(this,"sizeInBytes"),Mo(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},F_=class{constructor(e){Mo(this,"lengthInNodes"),Mo(this,"sizeInBytes"),Mo(this,"head"),Mo(this,"tail"),Mo(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new jhe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var Uhe=Object.defineProperty,Bhe=(t,e,n)=>e in t?Uhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,op=(t,e,n)=>Bhe(t,typeof e!="symbol"?e+"":e,n);let Z$=class{constructor(e,n=Uw){op(this,"logs"),op(this,"level"),op(this,"levelValue"),op(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=al.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new F_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===al.levels.values.error?console.error(e):n===al.levels.values.warn?console.warn(e):n===al.levels.values.debug?console.debug(e):n===al.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ka({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new F_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Ka({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var Fhe=Object.defineProperty,zhe=(t,e,n)=>e in t?Fhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Whe=(t,e,n)=>zhe(t,e+"",n);let Vhe=class{constructor(e,n=Uw){Whe(this,"baseChunkLogger"),this.baseChunkLogger=new Z$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var Hhe=Object.defineProperty,qhe=(t,e,n)=>e in t?Hhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zhe=(t,e,n)=>qhe(t,e+"",n);let Ghe=class{constructor(e,n=Uw){Zhe(this,"baseChunkLogger"),this.baseChunkLogger=new Z$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Khe=Object.defineProperty,Yhe=Object.defineProperties,Jhe=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,Xhe=Object.prototype.hasOwnProperty,Qhe=Object.prototype.propertyIsEnumerable,W_=(t,e,n)=>e in t?Khe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X0=(t,e)=>{for(var n in e||(e={}))Xhe.call(e,n)&&W_(t,n,e[n]);if(z_)for(var n of z_(e))Qhe.call(e,n)&&W_(t,n,e[n]);return t},Q0=(t,e)=>Yhe(t,Jhe(e));function efe(t){return Q0(X0({},t),{level:t?.level||Mhe.level})}function tfe(t,e,n=x3){return t[n]=e,t}function ti(t,e=x3){return t[e]||""}function nfe(t,e,n=x3){const r=ti(t,n);return r.trim()?`${r}/${e}`:e}function _i(t,e,n=x3){const r=nfe(t,e,n),i=t.child({context:r});return tfe(i,r,n)}function rfe(t){var e,n;const r=new Vhe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:q$(Q0(X0({},t.opts),{level:"trace",browser:Q0(X0({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function ife(t){var e;const n=new Ghe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:q$(Q0(X0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function G$(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?rfe(t):ife(t)}var sfe={};const afe=":";function za(t){const[e,n]=t.split(afe);return{namespace:e,reference:n}}function V_(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function K$(t,e){return t.includes(":")?[t]:e.chains||[]}var ofe=Object.defineProperty,cfe=Object.defineProperties,lfe=Object.getOwnPropertyDescriptors,H_=Object.getOwnPropertySymbols,ufe=Object.prototype.hasOwnProperty,dfe=Object.prototype.propertyIsEnumerable,_5=(t,e,n)=>e in t?ofe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q_=(t,e)=>{for(var n in e||(e={}))ufe.call(e,n)&&_5(t,n,e[n]);if(H_)for(var n of H_(e))dfe.call(e,n)&&_5(t,n,e[n]);return t},hfe=(t,e)=>cfe(t,lfe(e)),Z_=(t,e,n)=>_5(t,typeof e!="symbol"?e+"":e,n);const ffe="ReactNative",pi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},pfe="js";function e1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function lc(){return!u2()&&!!gw()&&navigator.product===ffe}function mfe(){return lc()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function gfe(){return lc()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function wu(){return!e1()&&!!gw()&&!!u2()}function mf(){return lc()?pi.reactNative:e1()?pi.node:wu()?pi.browser:pi.unknown}function G_(){var t;try{return lc()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function yfe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function wfe(t){var e,n;const r=Y$();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),hfe(q_(q_({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Y$(){return uR()||{name:"",description:"",url:"",icons:[""]}}function bfe(){if(mf()===pi.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=Wse();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function vfe(){var t;const e=mf();return e===pi.browser?[e,((t=lR())==null?void 0:t.host)||"unknown"].join(":"):e}function J$(t,e,n){const r=bfe(),i=vfe();return[[t,e].join("-"),[pfe,n].join("-"),r,i].join("/")}function _fe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:c}){const l=n.split("?"),u=J$(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:a,packageName:c||void 0,bundleId:o||void 0},h=yfe(l[1]||"",d);return l[0]+"?"+h}function Uc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function C5(t){return Object.fromEntries(t.entries())}function E5(t){return new Map(Object.entries(t))}function Ec(t=ve.FIVE_MINUTES,e){const n=ve.toMiliseconds(t||ve.FIVE_MINUTES);let r,i,s,a;return{resolve:o=>{s&&r&&(clearTimeout(s),r(o),a=Promise.resolve(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,c)=>{if(a)return o(a);s=setTimeout(()=>{const l=new Error(e);a=Promise.reject(l),c(l)},n),r=o,i=c})}}function zs(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function X$(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Cfe(t){return X$("topic",t)}function Efe(t){return X$("id",t)}function Q$(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ln(t,e){return ve.fromMiliseconds(Date.now()+ve.toMiliseconds(t))}function Us(t){return Date.now()>=ve.toMiliseconds(t)}function vt(t,e){return`${t}${e?`:${e}`:""}`}function Zs(t=[],e=[]){return[...new Set([...t,...e])]}async function xfe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const a=Afe(s,t,e),o=mf();if(o===pi.browser){if(!((r=u2())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Lfe(a)}else o===pi.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(a)}catch(i){console.error(i)}}function Afe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${kfe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Lfe(t){let e="_self";Tfe()?e="_top":(Ife()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Sfe(t,e){let n="";try{if(wu()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function K_(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Y_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Bw(){return typeof process<"u"&&sfe.IS_VITEST==="true"}function Ife(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Tfe(){try{return window.self!==window.top}catch{return!1}}function kfe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function eM(t){return Buffer.from(t,"base64").toString("utf-8")}function Pfe(t){return new Promise(e=>setTimeout(e,t))}let Ofe=class{constructor({limit:e}){Z_(this,"limit"),Z_(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const cp=BigInt(2**32-1),J_=BigInt(32);function tM(t,e=!1){return e?{h:Number(t&cp),l:Number(t>>J_&cp)}:{h:Number(t>>J_&cp)|0,l:Number(t&cp)|0}}function nM(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=tM(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const X_=(t,e,n)=>t>>>n,Q_=(t,e,n)=>t<<32-n|e>>>n,So=(t,e,n)=>t>>>n|e<<32-n,Io=(t,e,n)=>t<<32-n|e>>>n,ld=(t,e,n)=>t<<64-n|e>>>n-32,ud=(t,e,n)=>t>>>n-32|e<<64-n,Rfe=(t,e)=>e,$fe=(t,e)=>t,Mfe=(t,e,n)=>t<<n|e>>>32-n,Nfe=(t,e,n)=>e<<n|t>>>32-n,Dfe=(t,e,n)=>e<<n-32|t>>>64-n,jfe=(t,e,n)=>t<<n-32|e>>>64-n;function ns(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Fw=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),zw=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ufe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Bfe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ffe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),zfe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,H2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function A3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ja(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ws(t,...e){if(!A3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function L3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ja(t.outputLen),Ja(t.blockLen)}function Qo(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ww(t,e){ws(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Fi(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Sm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ts(t,e){return t<<32-e|t>>>e}const rM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function iM(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ba=rM?t=>t:t=>iM(t);function Wfe(t){for(let e=0;e<t.length;e++)t[e]=iM(t[e]);return t}const To=rM?t=>t:Wfe,sM=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Vfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Il(t){if(ws(t),sM)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Vfe[t[n]];return e}const pa={_0:48,_9:57,A:65,F:70,a:97,f:102};function eC(t){if(t>=pa._0&&t<=pa._9)return t-pa._0;if(t>=pa.A&&t<=pa.F)return t-(pa.A-10);if(t>=pa.a&&t<=pa.f)return t-(pa.a-10)}function t1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(sM)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=eC(t.charCodeAt(s)),o=eC(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function aM(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ds(t){return typeof t=="string"&&(t=aM(t)),ws(t),t}function No(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ws(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class S3{}function gf(t){const e=r=>t().update(ds(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Hfe(t){const e=(r,i)=>t(i).update(ds(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function S2(t=32){if(H2&&typeof H2.getRandomValues=="function")return H2.getRandomValues(new Uint8Array(t));if(H2&&typeof H2.randomBytes=="function")return Uint8Array.from(H2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qfe=BigInt(0),ju=BigInt(1),Zfe=BigInt(2),Gfe=BigInt(7),Kfe=BigInt(256),Yfe=BigInt(113),oM=[],cM=[],lM=[];for(let t=0,e=ju,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],oM.push(2*(5*r+n)),cM.push((t+1)*(t+2)/2%64);let i=qfe;for(let s=0;s<7;s++)e=(e<<ju^(e>>Gfe)*Yfe)%Kfe,e&Zfe&&(i^=ju<<(ju<<BigInt(s))-ju);lM.push(i)}const uM=nM(lM,!0),Jfe=uM[0],Xfe=uM[1],tC=(t,e,n)=>n>32?Dfe(t,e,n):Mfe(t,e,n),nC=(t,e,n)=>n>32?jfe(t,e,n):Nfe(t,e,n);function Qfe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=tC(l,u,1)^n[o],h=nC(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=cM[a],c=tC(i,s,o),l=nC(i,s,o),u=oM[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Jfe[r],t[1]^=Xfe[r]}Fi(n)}let epe=class dM extends S3{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Ja(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=vh(this.state)}clone(){return this._cloneInto()}keccak(){To(this.state32),Qfe(this.state32,this.rounds),To(this.state32),this.posOut=0,this.pos=0}update(e){Qo(this),e=ds(e),ws(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Qo(this,!1),ws(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ja(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ww(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fi(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new dM(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const tpe=(t,e,n)=>gf(()=>new epe(e,t,n)),npe=tpe(1,136,256/8);function rpe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function ipe(t,e,n){return t&e^~t&n}function spe(t,e,n){return t&e^t&n^e&n}let hM=class extends S3{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Sm(this.buffer)}update(e){Qo(this),e=ds(e),ws(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=Sm(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qo(this),Ww(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Fi(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;rpe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=Sm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const yo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ir=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),sr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ape=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wo=new Uint32Array(64);class ope extends hM{constructor(e=32){super(64,e,8,!1),this.A=yo[0]|0,this.B=yo[1]|0,this.C=yo[2]|0,this.D=yo[3]|0,this.E=yo[4]|0,this.F=yo[5]|0,this.G=yo[6]|0,this.H=yo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)wo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=wo[d-15],f=wo[d-2],p=Ts(h,7)^Ts(h,18)^h>>>3,m=Ts(f,17)^Ts(f,19)^f>>>10;wo[d]=m+wo[d-7]+p+wo[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ts(o,6)^Ts(o,11)^Ts(o,25),f=u+h+ipe(o,c,l)+ape[d]+wo[d]|0,p=(Ts(r,2)^Ts(r,13)^Ts(r,22))+spe(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Fi(wo)}destroy(){this.set(0,0,0,0,0,0,0,0),Fi(this.buffer)}}const fM=nM(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),cpe=fM[0],lpe=fM[1],bo=new Uint32Array(80),vo=new Uint32Array(80);let Vw=class extends hM{constructor(e=64){super(128,e,16,!1),this.Ah=sr[0]|0,this.Al=sr[1]|0,this.Bh=sr[2]|0,this.Bl=sr[3]|0,this.Ch=sr[4]|0,this.Cl=sr[5]|0,this.Dh=sr[6]|0,this.Dl=sr[7]|0,this.Eh=sr[8]|0,this.El=sr[9]|0,this.Fh=sr[10]|0,this.Fl=sr[11]|0,this.Gh=sr[12]|0,this.Gl=sr[13]|0,this.Hh=sr[14]|0,this.Hl=sr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)bo[w]=e.getUint32(n),vo[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=bo[w-15]|0,x=vo[w-15]|0,_=So(b,x,1)^So(b,x,8)^X_(b,x,7),I=Io(b,x,1)^Io(b,x,8)^Q_(b,x,7),M=bo[w-2]|0,N=vo[w-2]|0,U=So(M,N,19)^ld(M,N,61)^X_(M,N,6),B=Io(M,N,19)^ud(M,N,61)^Q_(M,N,6),P=Ufe(I,B,vo[w-7],vo[w-16]),T=Bfe(P,_,U,bo[w-7],bo[w-16]);bo[w]=T|0,vo[w]=P|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:C,Hl:L}=this;for(let w=0;w<80;w++){const b=So(d,h,14)^So(d,h,18)^ld(d,h,41),x=Io(d,h,14)^Io(d,h,18)^ud(d,h,41),_=d&f^~d&m,I=h&p^~h&y,M=Ffe(L,x,I,lpe[w],vo[w]),N=zfe(M,C,b,_,cpe[w],bo[w]),U=M|0,B=So(r,i,28)^ld(r,i,34)^ld(r,i,39),P=Io(r,i,28)^ud(r,i,34)^ud(r,i,39),T=r&s^r&o^s&o,j=i&a^i&c^a&c;C=m|0,L=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=ns(l|0,u|0,N|0,U|0),l=o|0,u=c|0,o=s|0,c=a|0,s=r|0,a=i|0;const v=Fw(U,P,j);r=zw(v,N,B,T),i=v|0}({h:r,l:i}=ns(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=ns(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=ns(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=ns(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=ns(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=ns(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=ns(this.Gh|0,this.Gl|0,m|0,y|0),{h:C,l:L}=ns(this.Hh|0,this.Hl|0,C|0,L|0),this.set(r,i,s,a,o,c,l,u,d,h,f,p,m,y,C,L)}roundClean(){Fi(bo,vo)}destroy(){Fi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class upe extends Vw{constructor(){super(48),this.Ah=ir[0]|0,this.Al=ir[1]|0,this.Bh=ir[2]|0,this.Bl=ir[3]|0,this.Ch=ir[4]|0,this.Cl=ir[5]|0,this.Dh=ir[6]|0,this.Dl=ir[7]|0,this.Eh=ir[8]|0,this.El=ir[9]|0,this.Fh=ir[10]|0,this.Fl=ir[11]|0,this.Gh=ir[12]|0,this.Gl=ir[13]|0,this.Hh=ir[14]|0,this.Hl=ir[15]|0}}const ar=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class dpe extends Vw{constructor(){super(32),this.Ah=ar[0]|0,this.Al=ar[1]|0,this.Bh=ar[2]|0,this.Bl=ar[3]|0,this.Ch=ar[4]|0,this.Cl=ar[5]|0,this.Dh=ar[6]|0,this.Dl=ar[7]|0,this.Eh=ar[8]|0,this.El=ar[9]|0,this.Fh=ar[10]|0,this.Fl=ar[11]|0,this.Gh=ar[12]|0,this.Gl=ar[13]|0,this.Hh=ar[14]|0,this.Hl=ar[15]|0}}const I3=gf(()=>new ope),hpe=gf(()=>new Vw),fpe=gf(()=>new upe),ppe=gf(()=>new dpe),mpe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),vn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function _o(t,e,n,r,i,s){const a=i[s],o=i[s+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],h=Ee[2*n],f=Ee[2*n+1],p=Ee[2*r],m=Ee[2*r+1],y=Fw(c,u,a);l=zw(y,l,d,o),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Rfe(m,p),Dl:$fe(m)},{h:f,l:h}=ns(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:So(d,u,24),Bl:Io(d,u,24)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=h,Ee[2*n+1]=f,Ee[2*r]=p,Ee[2*r+1]=m}function Co(t,e,n,r,i,s){const a=i[s],o=i[s+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],h=Ee[2*n],f=Ee[2*n+1],p=Ee[2*r],m=Ee[2*r+1],y=Fw(c,u,a);l=zw(y,l,d,o),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:So(m,p,16),Dl:Io(m,p,16)},{h:f,l:h}=ns(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:ld(d,u,63),Bl:ud(d,u,63)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=h,Ee[2*n+1]=f,Ee[2*r]=p,Ee[2*r+1]=m}function gpe(t,e={},n,r,i){if(Ja(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:o}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(o!==void 0&&o.length!==i)throw new Error("personalization must be undefined or "+i)}class ype extends S3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ja(e),Ja(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=vh(this.buffer)}update(e){Qo(this),e=ds(e),ws(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,o=e.buffer;for(let c=0;c<s;){this.pos===n&&(To(i),this.compress(i,0,!1),To(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=a+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(o,u,Math.floor((s-c)/4));To(d);for(let h=0;c+n<s;h+=i.length,c+=n)this.length+=n,this.compress(d,h,!1);To(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Qo(this),Ww(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Fi(this.buffer.subarray(n)),To(r),this.compress(r,0,!0),To(r);const i=vh(e);this.get().forEach((s,a)=>i[a]=ba(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}}class wpe extends ype{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=vn[0]|0,this.v0h=vn[1]|0,this.v1l=vn[2]|0,this.v1h=vn[3]|0,this.v2l=vn[4]|0,this.v2h=vn[5]|0,this.v3l=vn[6]|0,this.v3h=vn[7]|0,this.v4l=vn[8]|0,this.v4h=vn[9]|0,this.v5l=vn[10]|0,this.v5h=vn[11]|0,this.v6l=vn[12]|0,this.v6h=vn[13]|0,this.v7l=vn[14]|0,this.v7h=vn[15]|0,gpe(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=ds(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=ds(s);const o=vh(s);this.v4l^=ba(o[0]),this.v4h^=ba(o[1]),this.v5l^=ba(o[2]),this.v5h^=ba(o[3])}if(i!==void 0){i=ds(i);const o=vh(i);this.v6l^=ba(o[0]),this.v6h^=ba(o[1]),this.v7l^=ba(o[2]),this.v7h^=ba(o[3])}if(r!==void 0){const o=new Uint8Array(this.blockLen);o.set(r),this.update(o)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:o,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=o|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>Ee[l]=c),Ee.set(vn,16);let{h:i,l:s}=tM(BigInt(this.length));Ee[24]=vn[8]^s,Ee[25]=vn[9]^i,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let a=0;const o=mpe;for(let c=0;c<12;c++)_o(0,4,8,12,e,n+2*o[a++]),Co(0,4,8,12,e,n+2*o[a++]),_o(1,5,9,13,e,n+2*o[a++]),Co(1,5,9,13,e,n+2*o[a++]),_o(2,6,10,14,e,n+2*o[a++]),Co(2,6,10,14,e,n+2*o[a++]),_o(3,7,11,15,e,n+2*o[a++]),Co(3,7,11,15,e,n+2*o[a++]),_o(0,5,10,15,e,n+2*o[a++]),Co(0,5,10,15,e,n+2*o[a++]),_o(1,6,11,12,e,n+2*o[a++]),Co(1,6,11,12,e,n+2*o[a++]),_o(2,7,8,13,e,n+2*o[a++]),Co(2,7,8,13,e,n+2*o[a++]),_o(3,4,9,14,e,n+2*o[a++]),Co(3,4,9,14,e,n+2*o[a++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],Fi(Ee)}destroy(){this.destroyed=!0,Fi(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bpe=Hfe(t=>new wpe(t)),vpe="https://rpc.walletconnect.org/v1";function pM(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(npe(n)).toString("hex")}async function _pe(t,e,n,r,i,s){switch(n.t){case"eip191":return await Cpe(t,e,n.s);case"eip1271":return await Epe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Cpe(t,e,n){const r=Ace(n);return kce({payload:pM(e),signature:r}).toLowerCase()===t.toLowerCase()}async function Epe(t,e,n,r,i,s){const a=za(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:pM(e)).substring(2),h=o+d+c+u+l,f=await fetch(`${s||vpe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:xpe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function xpe(){return Date.now()+Math.floor(Math.random()*1e3)}function Ape(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return hf.encode(s)}function Lpe(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=bpe(r,{dkLen:32});return hf.encode(i)}function rC(t){const e=new Uint8Array(I3(Spe(t)));return hf.encode(e)}function Spe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function iC(t){const e=Buffer.from(t,"base64"),n=m2e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=a2e(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=ppe(s);return mre.encode(a).replace(/=+$/,"")}function Im(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Ipe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Im(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Im(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Im(r.length)),i.push(r);const s=Buffer.concat(i),a=I3(s);return Buffer.from(a).toString("hex").toUpperCase()}function Tpe(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var kpe=Object.defineProperty,Ppe=Object.defineProperties,Ope=Object.getOwnPropertyDescriptors,sC=Object.getOwnPropertySymbols,Rpe=Object.prototype.hasOwnProperty,$pe=Object.prototype.propertyIsEnumerable,aC=(t,e,n)=>e in t?kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mpe=(t,e)=>{for(var n in e||(e={}))Rpe.call(e,n)&&aC(t,n,e[n]);if(sC)for(var n of sC(e))$pe.call(e,n)&&aC(t,n,e[n]);return t},Npe=(t,e)=>Ppe(t,Ope(e));const Dpe="did:pkh:",Hw=t=>t?.split(":"),jpe=t=>{const e=t&&Hw(t);if(e)return t.includes(Dpe)?e[3]:e[1]},x5=t=>{const e=t&&Hw(t);if(e)return e[2]+":"+e[3]},n1=t=>{const e=t&&Hw(t);if(e)return e.pop()};async function oC(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=mM(i,i.iss),a=n1(i.iss);return await _pe(a,s,r,x5(i.iss),n)}const mM=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=n1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${jpe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=Wp(t.resources);if(p){const m=_h(p);i=Zpe(i,m)}return[n,r,"",i,"",s,a,o,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function Upe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Bpe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function f2(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function Fpe(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:zpe(e,n,r)}}}function zpe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function gM(t){return f2(t),`urn:recap:${Upe(t).replace(/=/g,"")}`}function _h(t){const e=Bpe(t.replace("urn:recap:",""));return f2(e),e}function Wpe(t,e,n){const r=Fpe(t,e,n);return gM(r)}function Vpe(t){return t&&t.includes("urn:recap:")}function Hpe(t,e){const n=_h(t),r=_h(e),i=qpe(n,r);return gM(i)}function qpe(t,e){f2(t),f2(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,l;r.att[i]=Npe(Mpe({},r.att[i]),{[o]:((c=t.att[i])==null?void 0:c[o])||((l=e.att[i])==null?void 0:l[o])})})}),r}function Zpe(t="",e){f2(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(o=>{const c=Object.keys(e.att[o]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${o}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function cC(t){var e;const n=_h(t);f2(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function lC(t){const e=_h(t);f2(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Wp(t){if(!t)return;const e=t?.[t.length-1];return Vpe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function yM(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function A5(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Tm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zr(t,...e){if(!yM(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gpe(t,e){zr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Go(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Kpe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Ype=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Jpe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function L5(t){if(typeof t=="string")t=Jpe(t);else if(yM(t))t=S5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Xpe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Qpe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const e0e=(t,e)=>{function n(r,...i){if(zr(r),!Ype)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?zr(l):zr(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&zr(i[1]);const a=e(r,...i),o=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");zr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,zr(l),o(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(zr(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(n,t),n};function dC(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!n0e(e))throw new Error("invalid output, must be aligned");return e}function hC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,o,r)}function t0e(t,e,n){A5(n);const r=new Uint8Array(16),i=Kpe(r);return hC(i,0,BigInt(e),n),hC(i,8,BigInt(t),n),r}function n0e(t){return t.byteOffset%4===0}function S5(t){return Uint8Array.from(t)}const wM=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),r0e=wM("expand 16-byte k"),i0e=wM("expand 32-byte k"),s0e=Go(r0e),a0e=Go(i0e);function mt(t,e){return t<<e|t>>>32-e}function I5(t){return t.byteOffset%4===0}const lp=64,o0e=16,bM=2**32-1,fC=new Uint32Array;function c0e(t,e,n,r,i,s,a,o){const c=i.length,l=new Uint8Array(lp),u=Go(l),d=I5(i)&&I5(s),h=d?Go(i):fC,f=d?Go(s):fC;for(let p=0;p<c;a++){if(t(e,n,r,u,a,o),a>=bM)throw new Error("arx: counter overflow");const m=Math.min(lp,c-p);if(d&&m===lp){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let C=0,L;C<o0e;C++)L=y+C,f[L]=h[L]^u[C];p+=lp;continue}for(let y=0,C;y<m;y++)C=p+y,s[C]=i[C]^l[y];p+=m}}function l0e(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=Xpe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Tm(i),Tm(a),A5(s),A5(n),(o,c,l,u,d=0)=>{zr(o),zr(c),zr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),zr(u),Tm(d),d<0||d>=bM)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=o.length,m,y;if(p===32)f.push(m=S5(o)),y=a0e;else if(p===16&&n)m=new Uint8Array(32),m.set(o),m.set(o,16),y=s0e,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);I5(c)||f.push(c=S5(c));const C=Go(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,C,Go(c.subarray(0,16)),C),c=c.subarray(16)}const L=16-i;if(L!==c.length)throw new Error(`arx: nonce must be ${L} or 16 bytes`);if(L!==12){const b=new Uint8Array(12);b.set(c,s?0:12-c.length),c=b,f.push(c)}const w=Go(c);return c0e(t,y,C,w,l,u,d,a),eu(...f),u}}const Hn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class u0e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=L5(e),zr(e,32);const n=Hn(e,0),r=Hn(e,2),i=Hn(e,4),s=Hn(e,6),a=Hn(e,8),o=Hn(e,10),c=Hn(e,12),l=Hn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Hn(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,o=a[0],c=a[1],l=a[2],u=a[3],d=a[4],h=a[5],f=a[6],p=a[7],m=a[8],y=a[9],C=Hn(e,n+0),L=Hn(e,n+2),w=Hn(e,n+4),b=Hn(e,n+6),x=Hn(e,n+8),_=Hn(e,n+10),I=Hn(e,n+12),M=Hn(e,n+14);let N=s[0]+(C&8191),U=s[1]+((C>>>13|L<<3)&8191),B=s[2]+((L>>>10|w<<6)&8191),P=s[3]+((w>>>7|b<<9)&8191),T=s[4]+((b>>>4|x<<12)&8191),j=s[5]+(x>>>1&8191),v=s[6]+((x>>>14|_<<2)&8191),E=s[7]+((_>>>11|I<<5)&8191),O=s[8]+((I>>>8|M<<8)&8191),k=s[9]+(M>>>5|i),$=0,D=$+N*o+U*(5*y)+B*(5*m)+P*(5*p)+T*(5*f);$=D>>>13,D&=8191,D+=j*(5*h)+v*(5*d)+E*(5*u)+O*(5*l)+k*(5*c),$+=D>>>13,D&=8191;let W=$+N*c+U*o+B*(5*y)+P*(5*m)+T*(5*p);$=W>>>13,W&=8191,W+=j*(5*f)+v*(5*h)+E*(5*d)+O*(5*u)+k*(5*l),$+=W>>>13,W&=8191;let q=$+N*l+U*c+B*o+P*(5*y)+T*(5*m);$=q>>>13,q&=8191,q+=j*(5*p)+v*(5*f)+E*(5*h)+O*(5*d)+k*(5*u),$+=q>>>13,q&=8191;let X=$+N*u+U*l+B*c+P*o+T*(5*y);$=X>>>13,X&=8191,X+=j*(5*m)+v*(5*p)+E*(5*f)+O*(5*h)+k*(5*d),$+=X>>>13,X&=8191;let J=$+N*d+U*u+B*l+P*c+T*o;$=J>>>13,J&=8191,J+=j*(5*y)+v*(5*m)+E*(5*p)+O*(5*f)+k*(5*h),$+=J>>>13,J&=8191;let Q=$+N*h+U*d+B*u+P*l+T*c;$=Q>>>13,Q&=8191,Q+=j*o+v*(5*y)+E*(5*m)+O*(5*p)+k*(5*f),$+=Q>>>13,Q&=8191;let he=$+N*f+U*h+B*d+P*u+T*l;$=he>>>13,he&=8191,he+=j*c+v*o+E*(5*y)+O*(5*m)+k*(5*p),$+=he>>>13,he&=8191;let de=$+N*p+U*f+B*h+P*d+T*u;$=de>>>13,de&=8191,de+=j*l+v*c+E*o+O*(5*y)+k*(5*m),$+=de>>>13,de&=8191;let Ce=$+N*m+U*p+B*f+P*h+T*d;$=Ce>>>13,Ce&=8191,Ce+=j*u+v*l+E*c+O*o+k*(5*y),$+=Ce>>>13,Ce&=8191;let oe=$+N*y+U*m+B*p+P*f+T*h;$=oe>>>13,oe&=8191,oe+=j*d+v*u+E*l+O*c+k*o,$+=oe>>>13,oe&=8191,$=($<<2)+$|0,$=$+D|0,D=$&8191,$=$>>>13,W+=$,s[0]=D,s[1]=W,s[2]=q,s[3]=X,s[4]=J,s[5]=Q,s[6]=he,s[7]=de,s[8]=Ce,s[9]=oe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=e[o]+i,i=r[o]>>>13,r[o]&=8191;r[9]-=8192;let s=(i^1)-1;for(let o=0;o<10;o++)r[o]&=s;s=~s;for(let o=0;o<10;o++)e[o]=e[o]&s|r[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+n[o]|0)+(a>>>16)|0,e[o]=a&65535;eu(r)}update(e){uC(this),e=L5(e),zr(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){eu(this.h,this.r,this.buffer,this.pad)}digestInto(e){uC(this),Gpe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function d0e(t){const e=(r,i)=>t(i).update(L5(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const h0e=d0e(t=>new u0e(t));function f0e(t,e,n,r,i,s=20){let a=t[0],o=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],y=e[6],C=e[7],L=i,w=n[0],b=n[1],x=n[2],_=a,I=o,M=c,N=l,U=u,B=d,P=h,T=f,j=p,v=m,E=y,O=C,k=L,$=w,D=b,W=x;for(let X=0;X<s;X+=2)_=_+U|0,k=mt(k^_,16),j=j+k|0,U=mt(U^j,12),_=_+U|0,k=mt(k^_,8),j=j+k|0,U=mt(U^j,7),I=I+B|0,$=mt($^I,16),v=v+$|0,B=mt(B^v,12),I=I+B|0,$=mt($^I,8),v=v+$|0,B=mt(B^v,7),M=M+P|0,D=mt(D^M,16),E=E+D|0,P=mt(P^E,12),M=M+P|0,D=mt(D^M,8),E=E+D|0,P=mt(P^E,7),N=N+T|0,W=mt(W^N,16),O=O+W|0,T=mt(T^O,12),N=N+T|0,W=mt(W^N,8),O=O+W|0,T=mt(T^O,7),_=_+B|0,W=mt(W^_,16),E=E+W|0,B=mt(B^E,12),_=_+B|0,W=mt(W^_,8),E=E+W|0,B=mt(B^E,7),I=I+P|0,k=mt(k^I,16),O=O+k|0,P=mt(P^O,12),I=I+P|0,k=mt(k^I,8),O=O+k|0,P=mt(P^O,7),M=M+T|0,$=mt($^M,16),j=j+$|0,T=mt(T^j,12),M=M+T|0,$=mt($^M,8),j=j+$|0,T=mt(T^j,7),N=N+U|0,D=mt(D^N,16),v=v+D|0,U=mt(U^v,12),N=N+U|0,D=mt(D^N,8),v=v+D|0,U=mt(U^v,7);let q=0;r[q++]=a+_|0,r[q++]=o+I|0,r[q++]=c+M|0,r[q++]=l+N|0,r[q++]=u+U|0,r[q++]=d+B|0,r[q++]=h+P|0,r[q++]=f+T|0,r[q++]=p+j|0,r[q++]=m+v|0,r[q++]=y+E|0,r[q++]=C+O|0,r[q++]=L+k|0,r[q++]=w+$|0,r[q++]=b+D|0,r[q++]=x+W|0}const p0e=l0e(f0e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),m0e=new Uint8Array(16),pC=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(m0e.subarray(n))},g0e=new Uint8Array(32);function mC(t,e,n,r,i){const s=t(e,n,g0e),a=h0e.create(s);i&&pC(a,i),pC(a,r);const o=t0e(r.length,i?i.length:0,!0);a.update(o);const c=a.digest();return eu(s,o),c}const y0e=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=dC(a+16,s,!1),s.set(i);const o=s.subarray(0,-16);t(e,n,o,o,1);const c=mC(t,e,n,o,r);return s.set(c,a),eu(c),s},decrypt(i,s){s=dC(i.length-16,s,!1);const a=i.subarray(0,-16),o=i.subarray(-16),c=mC(t,e,n,a,r);if(!Qpe(o,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),eu(c),s}}),vM=e0e({blockSize:64,nonceLength:12,tagLength:16},y0e(p0e));let _M=class extends S3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,L3(e);const r=ds(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Fi(s)}update(e){return Qo(this),this.iHash.update(e),this}digestInto(e){Qo(this),ws(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const T3=(t,e,n)=>new _M(t,e).update(n).digest();T3.create=(t,e)=>new _M(t,e);function w0e(t,e,n){return L3(t),n===void 0&&(n=new Uint8Array(t.outputLen)),T3(t,ds(n),ds(e))}const km=Uint8Array.from([0]),gC=Uint8Array.of();function b0e(t,e,n,r=32){L3(t),Ja(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=gC);const a=new Uint8Array(s*i),o=T3.create(t,e),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<s;u++)km[0]=u+1,c.update(u===0?gC:l).update(n).update(km).digestInto(l),a.set(l,i*u),o._cloneInto(c);return o.destroy(),c.destroy(),Fi(l,km),a.slice(0,r)}const v0e=(t,e,n,r,i)=>b0e(t,w0e(t,e,n),r,i),k3=I3,qw=BigInt(0),T5=BigInt(1);function r1(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Bc(t,e,n=""){const r=A3(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const a=n&&`"${n}" `,o=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+o+", got "+c)}return t}function up(t){const e=t.toString(16);return e.length&1?"0"+e:e}function CM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qw:BigInt("0x"+t)}function P3(t){return CM(Il(t))}function i1(t){return ws(t),CM(Il(Uint8Array.from(t).reverse()))}function Zw(t,e){return t1(t.toString(16).padStart(e*2,"0"))}function Gw(t,e){return Zw(t,e).reverse()}function ur(t,e,n){let r;if(typeof e=="string")try{r=t1(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(A3(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Pm=t=>typeof t=="bigint"&&qw<=t;function _0e(t,e,n){return Pm(t)&&Pm(e)&&Pm(n)&&e<=t&&t<n}function k5(t,e,n,r){if(!_0e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function EM(t){let e;for(e=0;t>qw;t>>=T5,e+=1);return e}const yf=t=>(T5<<BigInt(t))-T5;function C0e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),a=r(t),o=0;const c=()=>{s.fill(1),a.fill(0),o=0},l=(...h)=>n(a,s,...h),u=(h=r(0))=>{a=l(i(0),h),s=l(),h.length!==0&&(a=l(i(1),h),s=l())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return No(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function O3(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const o=t[i];if(a&&o===void 0)return;const c=typeof o;if(c!==s||o===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function yC(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const qr=BigInt(0),Ir=BigInt(1),Fc=BigInt(2),xM=BigInt(3),AM=BigInt(4),LM=BigInt(5),E0e=BigInt(7),SM=BigInt(8),x0e=BigInt(9),IM=BigInt(16);function hi(t,e){const n=t%e;return n>=qr?n:e+n}function ts(t,e,n){let r=t;for(;e-- >qr;)r*=r,r%=n;return r}function wC(t,e){if(t===qr)throw new Error("invert: expected non-zero number");if(e<=qr)throw new Error("invert: expected positive modulus, got "+e);let n=hi(t,e),r=e,i=qr,s=Ir;for(;n!==qr;){const a=r/n,o=r%n,c=i-s*a;r=n,n=o,i=s,s=c}if(r!==Ir)throw new Error("invert: does not exist");return hi(i,e)}function Kw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function TM(t,e){const n=(t.ORDER+Ir)/AM,r=t.pow(e,n);return Kw(t,r,e),r}function A0e(t,e){const n=(t.ORDER-LM)/SM,r=t.mul(e,Fc),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Fc),i),o=t.mul(s,t.sub(a,t.ONE));return Kw(t,o,e),o}function L0e(t){const e=uc(t),n=kM(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),a=(t+E0e)/IM;return(o,c)=>{let l=o.pow(c,a),u=o.mul(l,r);const d=o.mul(l,i),h=o.mul(l,s),f=o.eql(o.sqr(u),c),p=o.eql(o.sqr(d),c);l=o.cmov(l,u,f),u=o.cmov(h,d,p);const m=o.eql(o.sqr(u),c),y=o.cmov(l,u,m);return Kw(o,y,c),y}}function kM(t){if(t<xM)throw new Error("sqrt is not defined for small field");let e=t-Ir,n=0;for(;e%Fc===qr;)e/=Fc,n++;let r=Fc;const i=uc(t);for(;bC(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return TM;let s=i.pow(r,e);const a=(e+Ir)/Fc;return function(o,c){if(o.is0(c))return c;if(bC(o,c)!==1)throw new Error("Cannot find square root");let l=n,u=o.mul(o.ONE,s),d=o.pow(c,e),h=o.pow(c,a);for(;!o.eql(d,o.ONE);){if(o.is0(d))return o.ZERO;let f=1,p=o.sqr(d);for(;!o.eql(p,o.ONE);)if(f++,p=o.sqr(p),f===l)throw new Error("Cannot find square root");const m=Ir<<BigInt(l-f-1),y=o.pow(u,m);l=f,u=o.sqr(y),d=o.mul(d,u),h=o.mul(h,y)}return h}}function S0e(t){return t%AM===xM?TM:t%SM===LM?A0e:t%IM===x0e?L0e(t):kM(t)}const I0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function T0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=I0e.reduce((r,i)=>(r[i]="function",r),e);return O3(t,n),t}function k0e(t,e,n){if(n<qr)throw new Error("invalid exponent, negatives unsupported");if(n===qr)return t.ONE;if(n===Ir)return e;let r=t.ONE,i=e;for(;n>qr;)n&Ir&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ir;return r}function PM(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function bC(t,e){const n=(t.ORDER-Ir)/Fc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function OM(t,e){e!==void 0&&Ja(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function uc(t,e,n=!1,r={}){if(t<=qr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(a=h.modFromBytes),o=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=OM(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:yf(c),ZERO:qr,ONE:Ir,allowedLengths:o,create:h=>hi(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return qr<=h&&h<t},is0:h=>h===qr,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&Ir)===Ir,neg:h=>hi(-h,t),eql:(h,f)=>h===f,sqr:h=>hi(h*h,t),add:(h,f)=>hi(h+f,t),sub:(h,f)=>hi(h-f,t),mul:(h,f)=>hi(h*f,t),pow:(h,f)=>k0e(d,h,f),div:(h,f)=>hi(h*wC(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>wC(h,t),sqrt:s||(h=>(u||(u=S0e(t)),u(d,h))),toBytes:h=>n?Gw(h,l):Zw(h,l),fromBytes:(h,f=!0)=>{if(o){if(!o.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,n?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=n?i1(h):P3(h);if(a&&(p=hi(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>PM(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function RM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $M(t){const e=RM(t);return e+Math.ceil(e/2)}function P0e(t,e,n=!1){const r=t.length,i=RM(e),s=$M(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?i1(t):P3(t),o=hi(a,e-Ir)+Ir;return n?Gw(o,i):Zw(o,i)}const tu=BigInt(0),zc=BigInt(1);function s1(t,e){const n=e.negate();return t?n:e}function Om(t,e){const n=PM(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function MM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Rm(t,e){MM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=yf(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function vC(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=zc);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function O0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function R0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $m=new WeakMap,NM=new WeakMap;function Mm(t){return NM.get(t)||1}function _C(t){if(t!==tu)throw new Error("invalid wNAF")}class $0e{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>tu;)n&zc&&(r=r.add(i)),i=i.double(),n>>=zc;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=Rm(n,this.bits),s=[];let a=e,o=a;for(let c=0;c<r;c++){o=a,s.push(o);for(let l=1;l<i;l++)o=o.add(a),s.push(o);a=o.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const a=Rm(e,this.bits);for(let o=0;o<a.windows;o++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=vC(r,o,a);r=c,u?s=s.add(s1(h,n[f])):i=i.add(s1(d,n[l]))}return _C(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=Rm(e,this.bits);for(let a=0;a<s.windows&&r!==tu;a++){const{nextN:o,offset:c,isZero:l,isNeg:u}=vC(r,a,s);if(r=o,!l){const d=n[c];i=i.add(u?d.negate():d)}}return _C(r),i}getPrecomputes(e,n,r){let i=$m.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),$m.set(n,i))),i}cached(e,n,r){const i=Mm(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=Mm(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){MM(n,this.bits),NM.set(e,n),$m.delete(e)}hasCache(e){return Mm(e)!==1}}function M0e(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>tu||r>tu;)n&zc&&(s=s.add(i)),r&zc&&(a=a.add(i)),i=i.double(),n>>=zc,r>>=zc;return{p1:s,p2:a}}function N0e(t,e,n,r){O0e(n,t),R0e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=EM(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=yf(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function CC(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return T0e(e),e}else return uc(t,{isLE:n})}function D0e(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const c=e[o];if(!(typeof c=="bigint"&&c>tu))throw new Error(`CURVE.${o} must be positive bigint`)}const i=CC(e.p,n.Fp,r),s=CC(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const o of a)if(!i.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),aM("HashToScalar-");const Uu=BigInt(0),q2=BigInt(1),dp=BigInt(2);function j0e(t){return O3(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function U0e(t){const e=j0e(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const c=a||S2,l=o?255:448,u=o?32:56,d=BigInt(o?9:5),h=BigInt(o?121665:39081),f=o?dp**BigInt(254):dp**BigInt(447),p=o?BigInt(8)*dp**BigInt(251)-q2:BigInt(4)*dp**BigInt(445)-q2,m=f+p+q2,y=P=>hi(P,n),C=L(d);function L(P){return Gw(y(P),u)}function w(P){const T=ur("u coordinate",P,u);return o&&(T[31]&=127),y(i1(T))}function b(P){return i1(i(ur("scalar",P,u)))}function x(P,T){const j=M(w(T),b(P));if(j===Uu)throw new Error("invalid private or public key received");return L(j)}function _(P){return x(P,C)}function I(P,T,j){const v=y(P*(T-j));return T=y(T-v),j=y(j+v),{x_2:T,x_3:j}}function M(P,T){k5("u",P,Uu,n),k5("scalar",T,f,m);const j=T,v=P;let E=q2,O=Uu,k=P,$=q2,D=Uu;for(let q=BigInt(l-1);q>=Uu;q--){const X=j>>q&q2;D^=X,{x_2:E,x_3:k}=I(D,E,k),{x_2:O,x_3:$}=I(D,O,$),D=X;const J=E+O,Q=y(J*J),he=E-O,de=y(he*he),Ce=Q-de,oe=k+$,V=k-$,je=y(V*J),Fe=y(oe*he),fe=je+Fe,$e=je-Fe;k=y(fe*fe),$=y(v*y($e*$e)),E=y(Q*de),O=y(Ce*(Q+y(h*Ce)))}({x_2:E,x_3:k}=I(D,E,k)),{x_2:O,x_3:$}=I(D,O,$);const W=s(O);return y(E*W)}const N={secretKey:u,publicKey:u,seed:u},U=(P=c(u))=>(ws(P,N.seed),P);function B(P){const T=U(P);return{secretKey:T,publicKey:_(T)}}return{keygen:B,getSharedSecret:(P,T)=>x(P,T),getPublicKey:P=>_(P),scalarMult:x,scalarMultBase:_,utils:{randomSecretKey:U,randomPrivateKey:U},GuBytes:C.slice(),lengths:N}}const B0e=BigInt(1),EC=BigInt(2),F0e=BigInt(3),z0e=BigInt(5);BigInt(8);const DM=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),W0e={p:DM,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function V0e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=DM,a=t*t%s*t%s,o=ts(a,EC,s)*a%s,c=ts(o,B0e,s)*t%s,l=ts(c,z0e,s)*c%s,u=ts(l,e,s)*l%s,d=ts(u,n,s)*u%s,h=ts(d,r,s)*d%s,f=ts(h,i,s)*h%s,p=ts(f,i,s)*h%s,m=ts(p,e,s)*l%s;return{pow_p_5_8:ts(m,EC,s)*t%s,b2:a}}function H0e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const q0e=uc(W0e.p,{isLE:!0}),P5=(()=>{const t=q0e.ORDER;return U0e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=V0e(e);return hi(ts(n,F0e,t)*r,t)},adjustScalarBytes:H0e})})(),xC=(t,e)=>(t+(t>=0?e:-e)/jM)/e;function Z0e(t,e,n){const[[r,i],[s,a]]=e,o=xC(a*t,n),c=xC(-i*t,n);let l=t-o*r-c*s,u=-o*i-c*a;const d=l<Na,h=u<Na;d&&(l=-l),h&&(u=-u);const f=yf(Math.ceil(EM(n)/2))+Tl;if(l<Na||l>=f||u<Na||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function O5(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Nm(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return r1(n.lowS,"lowS"),r1(n.prehash,"prehash"),n.format!==void 0&&O5(n.format),n}class G0e extends Error{constructor(e=""){super(e)}}const ka={Err:G0e,_tlv:{encode:(t,e)=>{const{Err:n}=ka;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=up(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?up(i.length/2|128):"";return up(t)+s+i+e},decode(t,e){const{Err:n}=ka;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=ka;if(t<Na)throw new e("integer: negative integers are not allowed");let n=up(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ka;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return P3(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ka,i=ur("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ka,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Na=BigInt(0),Tl=BigInt(1),jM=BigInt(2),hp=BigInt(3),K0e=BigInt(4);function dl(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=ur("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Y0e(t,e={}){const n=D0e("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:a,n:o}=s;O3(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=BM(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(P,T,j){const{x:v,y:E}=T.toAffine(),O=r.toBytes(v);if(r1(j,"isCompressed"),j){u();const k=!r.isOdd(E);return No(UM(k),O)}else return No(Uint8Array.of(4),O,r.toBytes(E))}function h(P){Bc(P,void 0,"Point");const{publicKey:T,publicKeyUncompressed:j}=l,v=P.length,E=P[0],O=P.subarray(1);if(v===T&&(E===2||E===3)){const k=r.fromBytes(O);if(!r.isValid(k))throw new Error("bad point: is not on curve, wrong x");const $=m(k);let D;try{D=r.sqrt($)}catch(q){const X=q instanceof Error?": "+q.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}u();const W=r.isOdd(D);return(E&1)===1!==W&&(D=r.neg(D)),{x:k,y:D}}else if(v===j&&E===4){const k=r.BYTES,$=r.fromBytes(O.subarray(0,k)),D=r.fromBytes(O.subarray(k,k*2));if(!y($,D))throw new Error("bad point: is not on curve");return{x:$,y:D}}else throw new Error(`bad point: got length ${v}, expected compressed=${T} or uncompressed=${j}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m(P){const T=r.sqr(P),j=r.mul(T,P);return r.add(r.add(j,r.mul(P,s.a)),s.b)}function y(P,T){const j=r.sqr(T),v=m(P);return r.eql(j,v)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const C=r.mul(r.pow(s.a,hp),K0e),L=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(C,L)))throw new Error("bad curve params: a or b");function w(P,T,j=!1){if(!r.isValid(T)||j&&r.is0(T))throw new Error(`bad point coordinate ${P}`);return T}function b(P){if(!(P instanceof N))throw new Error("ProjectivePoint expected")}function x(P){if(!c||!c.basises)throw new Error("no endo");return Z0e(P,c.basises,i.ORDER)}const _=yC((P,T)=>{const{X:j,Y:v,Z:E}=P;if(r.eql(E,r.ONE))return{x:j,y:v};const O=P.is0();T==null&&(T=O?r.ONE:r.inv(E));const k=r.mul(j,T),$=r.mul(v,T),D=r.mul(E,T);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:k,y:$}}),I=yC(P=>{if(P.is0()){if(e.allowInfinityPoint&&!r.is0(P.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:j}=P.toAffine();if(!r.isValid(T)||!r.isValid(j))throw new Error("bad point: x or y not field elements");if(!y(T,j))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M(P,T,j,v,E){return j=new N(r.mul(j.X,P),j.Y,j.Z),T=s1(v,T),j=s1(E,j),T.add(j)}class N{constructor(T,j,v){this.X=w("x",T),this.Y=w("y",j,!0),this.Z=w("z",v),Object.freeze(this)}static CURVE(){return s}static fromAffine(T){const{x:j,y:v}=T||{};if(!T||!r.isValid(j)||!r.isValid(v))throw new Error("invalid affine point");if(T instanceof N)throw new Error("projective point not allowed");return r.is0(j)&&r.is0(v)?N.ZERO:new N(j,v,r.ONE)}static fromBytes(T){const j=N.fromAffine(p(Bc(T,void 0,"point")));return j.assertValidity(),j}static fromHex(T){return N.fromBytes(ur("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,j=!0){return B.createCache(this,T),j||this.multiply(hp),this}assertValidity(){I(this)}hasEvenY(){const{y:T}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(T)}equals(T){b(T);const{X:j,Y:v,Z:E}=this,{X:O,Y:k,Z:$}=T,D=r.eql(r.mul(j,$),r.mul(O,E)),W=r.eql(r.mul(v,$),r.mul(k,E));return D&&W}negate(){return new N(this.X,r.neg(this.Y),this.Z)}double(){const{a:T,b:j}=s,v=r.mul(j,hp),{X:E,Y:O,Z:k}=this;let $=r.ZERO,D=r.ZERO,W=r.ZERO,q=r.mul(E,E),X=r.mul(O,O),J=r.mul(k,k),Q=r.mul(E,O);return Q=r.add(Q,Q),W=r.mul(E,k),W=r.add(W,W),$=r.mul(T,W),D=r.mul(v,J),D=r.add($,D),$=r.sub(X,D),D=r.add(X,D),D=r.mul($,D),$=r.mul(Q,$),W=r.mul(v,W),J=r.mul(T,J),Q=r.sub(q,J),Q=r.mul(T,Q),Q=r.add(Q,W),W=r.add(q,q),q=r.add(W,q),q=r.add(q,J),q=r.mul(q,Q),D=r.add(D,q),J=r.mul(O,k),J=r.add(J,J),q=r.mul(J,Q),$=r.sub($,q),W=r.mul(J,X),W=r.add(W,W),W=r.add(W,W),new N($,D,W)}add(T){b(T);const{X:j,Y:v,Z:E}=this,{X:O,Y:k,Z:$}=T;let D=r.ZERO,W=r.ZERO,q=r.ZERO;const X=s.a,J=r.mul(s.b,hp);let Q=r.mul(j,O),he=r.mul(v,k),de=r.mul(E,$),Ce=r.add(j,v),oe=r.add(O,k);Ce=r.mul(Ce,oe),oe=r.add(Q,he),Ce=r.sub(Ce,oe),oe=r.add(j,E);let V=r.add(O,$);return oe=r.mul(oe,V),V=r.add(Q,de),oe=r.sub(oe,V),V=r.add(v,E),D=r.add(k,$),V=r.mul(V,D),D=r.add(he,de),V=r.sub(V,D),q=r.mul(X,oe),D=r.mul(J,de),q=r.add(D,q),D=r.sub(he,q),q=r.add(he,q),W=r.mul(D,q),he=r.add(Q,Q),he=r.add(he,Q),de=r.mul(X,de),oe=r.mul(J,oe),he=r.add(he,de),de=r.sub(Q,de),de=r.mul(X,de),oe=r.add(oe,de),Q=r.mul(he,oe),W=r.add(W,Q),Q=r.mul(V,oe),D=r.mul(Ce,D),D=r.sub(D,Q),Q=r.mul(Ce,he),q=r.mul(V,q),q=r.add(q,Q),new N(D,W,q)}subtract(T){return this.add(T.negate())}is0(){return this.equals(N.ZERO)}multiply(T){const{endo:j}=e;if(!i.isValidNot0(T))throw new Error("invalid scalar: out of range");let v,E;const O=k=>B.cached(this,k,$=>Om(N,$));if(j){const{k1neg:k,k1:$,k2neg:D,k2:W}=x(T),{p:q,f:X}=O($),{p:J,f:Q}=O(W);E=X.add(Q),v=M(j.beta,q,J,k,D)}else{const{p:k,f:$}=O(T);v=k,E=$}return Om(N,[v,E])[0]}multiplyUnsafe(T){const{endo:j}=e,v=this;if(!i.isValid(T))throw new Error("invalid scalar: out of range");if(T===Na||v.is0())return N.ZERO;if(T===Tl)return v;if(B.hasCache(this))return this.multiply(T);if(j){const{k1neg:E,k1:O,k2neg:k,k2:$}=x(T),{p1:D,p2:W}=M0e(N,v,O,$);return M(j.beta,D,W,E,k)}else return B.unsafe(v,T)}multiplyAndAddUnsafe(T,j,v){const E=this.multiplyUnsafe(j).add(T.multiplyUnsafe(v));return E.is0()?void 0:E}toAffine(T){return _(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return a===Tl?!0:T?T(N,this):B.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:T}=e;return a===Tl?this:T?T(N,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(T=!0){return r1(T,"isCompressed"),this.assertValidity(),f(N,this,T)}toHex(T=!0){return Il(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return Om(N,T)}static msm(T,j){return N0e(N,i,T,j)}static fromPrivateKey(T){return N.BASE.multiply(dl(i,T))}}N.BASE=new N(s.Gx,s.Gy,r.ONE),N.ZERO=new N(r.ZERO,r.ONE,r.ZERO),N.Fp=r,N.Fn=i;const U=i.BITS,B=new $0e(N,e.endo?Math.ceil(U/2):U);return N.BASE.precompute(8),N}function UM(t){return Uint8Array.of(t?2:3)}function BM(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function J0e(t,e={}){const{Fn:n}=t,r=e.randomBytes||S2,i=Object.assign(BM(t.Fp,n),{seed:$M(n.ORDER)});function s(h){try{return!!dl(n,h)}catch{return!1}}function a(h,f){const{publicKey:p,publicKeyUncompressed:m}=i;try{const y=h.length;return f===!0&&y!==p||f===!1&&y!==m?!1:!!t.fromBytes(h)}catch{return!1}}function o(h=r(i.seed)){return P0e(Bc(h,i.seed,"seed"),n.ORDER)}function c(h,f=!0){return t.BASE.multiply(dl(n,h)).toBytes(f)}function l(h){const f=o(h);return{secretKey:f,publicKey:c(f)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:f,publicKey:p,publicKeyUncompressed:m}=i;if(n.allowedLengths||f===p)return;const y=ur("key",h).length;return y===p||y===m}function d(h,f,p=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");const m=dl(n,h);return t.fromHex(f).multiply(m).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:h=>dl(n,h),precompute(h=8,f=t.BASE){return f.precompute(h,!1)}},lengths:i})}function X0e(t,e,n={}){L3(e),O3(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||S2,i=n.hmac||((j,...v)=>T3(e,j,No(...v))),{Fp:s,Fn:a}=t,{ORDER:o,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=J0e(t,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(j){const v=o>>Tl;return j>v}function C(j,v){if(!a.isValidNot0(v))throw new Error(`invalid signature ${j}: out of range 1..Point.Fn.ORDER`);return v}function L(j,v){O5(v);const E=f.signature,O=v==="compact"?E:v==="recovered"?E+1:void 0;return Bc(j,O,`${v} signature`)}class w{constructor(v,E,O){this.r=C("r",v),this.s=C("s",E),O!=null&&(this.recovery=O),Object.freeze(this)}static fromBytes(v,E=m){L(v,E);let O;if(E==="der"){const{r:W,s:q}=ka.toSig(Bc(v));return new w(W,q)}E==="recovered"&&(O=v[0],E="compact",v=v.subarray(1));const k=a.BYTES,$=v.subarray(0,k),D=v.subarray(k,k*2);return new w(a.fromBytes($),a.fromBytes(D),O)}static fromHex(v,E){return this.fromBytes(t1(v),E)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const E=s.ORDER,{r:O,s:k,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(o*jM<E&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const D=$===2||$===3?O+o:O;if(!s.isValid(D))throw new Error("recovery id 2 or 3 invalid");const W=s.toBytes(D),q=t.fromBytes(No(UM(($&1)===0),W)),X=a.inv(D),J=x(ur("msgHash",v)),Q=a.create(-J*X),he=a.create(k*X),de=t.BASE.multiplyUnsafe(Q).add(q.multiplyUnsafe(he));if(de.is0())throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return y(this.s)}toBytes(v=m){if(O5(v),v==="der")return t1(ka.hexFromSig(this));const E=a.toBytes(this.r),O=a.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return No(Uint8Array.of(this.recovery),E,O)}return No(E,O)}toHex(v){return Il(this.toBytes(v))}assertValidity(){}static fromCompact(v){return w.fromBytes(ur("sig",v),"compact")}static fromDER(v){return w.fromBytes(ur("sig",v),"der")}normalizeS(){return this.hasHighS()?new w(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Il(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Il(this.toBytes("compact"))}}const b=n.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const v=P3(j),E=j.length*8-c;return E>0?v>>BigInt(E):v},x=n.bits2int_modN||function(j){return a.create(b(j))},_=yf(c);function I(j){return k5("num < 2^"+c,j,Na,_),a.toBytes(j)}function M(j,v){return Bc(j,void 0,"message"),v?Bc(e(j),void 0,"prehashed message"):j}function N(j,v,E){if(["recovered","canonical"].some(he=>he in E))throw new Error("sign() legacy options not supported");const{lowS:O,prehash:k,extraEntropy:$}=Nm(E,p);j=M(j,k);const D=x(j),W=dl(a,v),q=[I(W),I(D)];if($!=null&&$!==!1){const he=$===!0?r(f.secretKey):$;q.push(ur("extraEntropy",he))}const X=No(...q),J=D;function Q(he){const de=b(he);if(!a.isValidNot0(de))return;const Ce=a.inv(de),oe=t.BASE.multiply(de).toAffine(),V=a.create(oe.x);if(V===Na)return;const je=a.create(Ce*a.create(J+V*W));if(je===Na)return;let Fe=(oe.x===V?0:2)|Number(oe.y&Tl),fe=je;return O&&y(je)&&(fe=a.neg(je),Fe^=1),new w(V,fe,Fe)}return{seed:X,k2sig:Q}}function U(j,v,E={}){j=ur("message",j);const{seed:O,k2sig:k}=N(j,v,E);return C0e(e.outputLen,a.BYTES,i)(O,k)}function B(j){let v;const E=typeof j=="string"||A3(j),O=!E&&j!==null&&typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!E&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(O)v=new w(j.r,j.s);else if(E){try{v=w.fromBytes(ur("sig",j),"der")}catch(k){if(!(k instanceof ka.Err))throw k}if(!v)try{v=w.fromBytes(ur("sig",j),"compact")}catch{return!1}}return v||!1}function P(j,v,E,O={}){const{lowS:k,prehash:$,format:D}=Nm(O,p);if(E=ur("publicKey",E),v=M(ur("message",v),$),"strict"in O)throw new Error("options.strict was renamed to lowS");const W=D===void 0?B(j):w.fromBytes(ur("sig",j),D);if(W===!1)return!1;try{const q=t.fromBytes(E);if(k&&W.hasHighS())return!1;const{r:X,s:J}=W,Q=x(v),he=a.inv(J),de=a.create(Q*he),Ce=a.create(X*he),oe=t.BASE.multiplyUnsafe(de).add(q.multiplyUnsafe(Ce));return oe.is0()?!1:a.create(oe.x)===X}catch{return!1}}function T(j,v,E={}){const{prehash:O}=Nm(E,p);return v=M(v,O),w.fromBytes(j,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:U,verify:P,recoverPublicKey:T,Signature:w,hash:e})}function Q0e(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=uc(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function e1e(t){const{CURVE:e,curveOpts:n}=Q0e(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function t1e(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,OM(n.Fn.ORDER,n.Fn.BITS))})}function n1e(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=e1e(t),s=Y0e(e,n),a=X0e(s,r,i);return t1e(t,a)}function R5(t,e){const n=r=>n1e({...t,hash:r});return{...n(e),create:n}}const FM={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},zM={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},WM={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},r1e=uc(FM.p),i1e=uc(zM.p),s1e=uc(WM.p),a1e=R5({...FM,Fp:r1e,lowS:!1},I3);R5({...zM,Fp:i1e,lowS:!1},fpe),R5({...WM,Fp:s1e,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},hpe);const o1e=a1e,VM="base10",Tr="base16",Wr="base64pad",Do="base64url",wf="utf8",HM=0,Wa=1,bf=2,c1e=0,AC=1,Sd=12,Yw=32;function l1e(){const t=P5.utils.randomPrivateKey(),e=P5.getPublicKey(t);return{privateKey:Kr(t,Tr),publicKey:Kr(e,Tr)}}function $5(){const t=S2(Yw);return Kr(t,Tr)}function u1e(t,e){const n=P5.getSharedSecret(ji(t,Tr),ji(e,Tr)),r=v0e(k3,n,void 0,void 0,Yw);return Kr(r,Tr)}function Vp(t){const e=k3(ji(t,Tr));return Kr(e,Tr)}function Mi(t){const e=k3(ji(t,wf));return Kr(e,Tr)}function qM(t){return ji(`${t}`,VM)}function p2(t){return Number(Kr(t,VM))}function ZM(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function GM(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function d1e(t){const e=qM(typeof t.type<"u"?t.type:HM);if(p2(e)===Wa&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ji(t.senderPublicKey,Tr):void 0,r=typeof t.iv<"u"?ji(t.iv,Tr):S2(Sd),i=ji(t.symKey,Tr),s=vM(i,r).encrypt(ji(t.message,wf)),a=KM({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Do?ZM(a):a}function h1e(t){const e=ji(t.symKey,Tr),{sealed:n,iv:r}=Ch({encoded:t.encoded,encoding:t.encoding}),i=vM(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Kr(i,wf)}function f1e(t,e){const n=qM(bf),r=S2(Sd),i=ji(t,wf),s=KM({type:n,sealed:i,iv:r});return e===Do?ZM(s):s}function p1e(t,e){const{sealed:n}=Ch({encoded:t,encoding:e});return Kr(n,wf)}function KM(t){if(p2(t.type)===bf)return Kr(Ld([t.type,t.sealed]),Wr);if(p2(t.type)===Wa){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Kr(Ld([t.type,t.senderPublicKey,t.iv,t.sealed]),Wr)}return Kr(Ld([t.type,t.iv,t.sealed]),Wr)}function Ch(t){const e=(t.encoding||Wr)===Do?GM(t.encoded):t.encoded,n=ji(e,Wr),r=n.slice(c1e,AC),i=AC;if(p2(r)===Wa){const c=i+Yw,l=c+Sd,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(p2(r)===bf){const c=n.slice(i),l=S2(Sd);return{type:r,sealed:c,iv:l}}const s=i+Sd,a=n.slice(i,s),o=n.slice(s);return{type:r,sealed:o,iv:a}}function m1e(t,e){const n=Ch({encoded:t,encoding:e?.encoding});return YM({type:p2(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Kr(n.senderPublicKey,Tr):void 0,receiverPublicKey:e?.receiverPublicKey})}function YM(t){const e=t?.type||HM;if(e===Wa){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function LC(t){return t.type===Wa&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function SC(t){return t.type===bf}function g1e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Ld([new Uint8Array([4]),e,n])}function y1e(t,e){const[n,r,i]=t.split("."),s=Buffer.from(GM(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),o=s.slice(32,64),c=`${n}.${r}`,l=k3(c),u=g1e(e);if(!o1e.verify(Ld([a,o]),l,u))throw new Error("Invalid signature");return w5(t).payload}const w1e="irn";function a1(t){return t?.relay||{protocol:w1e}}function hl(t){const e=ihe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var b1e=Object.defineProperty,v1e=Object.defineProperties,_1e=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,C1e=Object.prototype.hasOwnProperty,E1e=Object.prototype.propertyIsEnumerable,TC=(t,e,n)=>e in t?b1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dm=(t,e)=>{for(var n in e||(e={}))C1e.call(e,n)&&TC(t,n,e[n]);if(IC)for(var n of IC(e))E1e.call(e,n)&&TC(t,n,e[n]);return t},x1e=(t,e)=>v1e(t,_1e(e));function A1e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function kC(t){if(!t.includes("wc:")){const l=eM(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),o=Object.fromEntries(a.entries()),c=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:r,topic:L1e(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:A1e(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function L1e(t){return t.startsWith("//")?t.substring(2):t}function S1e(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function PC(t){const e=new URLSearchParams,n=Dm(Dm(x1e(Dm({},S1e(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function fp(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var I1e=Object.defineProperty,T1e=Object.defineProperties,k1e=Object.getOwnPropertyDescriptors,OC=Object.getOwnPropertySymbols,P1e=Object.prototype.hasOwnProperty,O1e=Object.prototype.propertyIsEnumerable,RC=(t,e,n)=>e in t?I1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R1e=(t,e)=>{for(var n in e||(e={}))P1e.call(e,n)&&RC(t,n,e[n]);if(OC)for(var n of OC(e))O1e.call(e,n)&&RC(t,n,e[n]);return t},$1e=(t,e)=>T1e(t,k1e(e));function bu(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function M1e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...bu(n.accounts))}),e}function N1e(t,e){const n=[];return Object.values(t).forEach(r=>{bu(r.accounts).includes(e)&&n.push(...r.methods)}),n}function D1e(t,e){const n=[];return Object.values(t).forEach(r=>{bu(r.accounts).includes(e)&&n.push(...r.events)}),n}function R3(t){return t.includes(":")}function fl(t){return R3(t)?t.split(":")[0]:t}function $C(t){var e,n,r;const i={};if(!Gs(t))return i;for(const[s,a]of Object.entries(t)){const o=R3(s)?[s]:a.chains,c=a.methods||[],l=a.events||[],u=fl(s);i[u]=$1e(R1e({},i[u]),{chains:Zs(o,(e=i[u])==null?void 0:e.chains),methods:Zs(c,(n=i[u])==null?void 0:n.methods),events:Zs(l,(r=i[u])==null?void 0:r.events)})}return i}function j1e(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function MC(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=j1e(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Zs(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function U1e(t,e){var n,r,i,s,a,o;const c=$C(t),l=$C(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Zs((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Zs((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Zs((a=c[h])==null?void 0:a.events,(o=l[h])==null?void 0:o.events)};return u}const B1e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},F1e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function be(t,e){const{message:n,code:r}=F1e[t];return{message:e?`${n} ${e}`:n,code:r}}function Wt(t,e){const{message:n,code:r}=B1e[t];return{message:e?`${n} ${e}`:n,code:r}}function Ui(t,e){return!!Array.isArray(t)}function Gs(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function An(t){return typeof t>"u"}function fn(t,e){return e&&An(t)?!0:typeof t=="string"&&!!t.trim().length}function Jw(t,e){return e&&An(t)?!0:typeof t=="number"&&!isNaN(t)}function z1e(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Uc(i,r)?(r.forEach(a=>{const{accounts:o,methods:c,events:l}=t.namespaces[a],u=bu(o),d=n[a];(!Uc(K$(a,d),u)||!Uc(d.methods,c)||!Uc(d.events,l))&&(s=!1)}),s):!1}function o1(t){return fn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function W1e(t){if(fn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&o1(n)}}return!1}function V1e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(fn(t,!1)){if(e(t))return!0;const n=eM(t);return e(n)}}catch{}return!1}function H1e(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function q1e(t){return t?.topic}function Z1e(t,e){let n=null;return fn(t?.publicKey,!1)||(n=be("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function NC(t){let e=!0;return Ui(t)?t.length&&(e=t.every(n=>fn(n,!1))):e=!1,e}function G1e(t,e,n){let r=null;return Ui(e)&&e.length?e.forEach(i=>{r||o1(i)||(r=Wt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):o1(t)||(r=Wt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function K1e(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=G1e(i,K$(i,s),`${e} ${n}`);a&&(r=a)}),r}function Y1e(t,e){let n=null;return Ui(t)?t.forEach(r=>{n||W1e(r)||(n=Wt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Wt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function J1e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Y1e(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function X1e(t,e){let n=null;return NC(t?.methods)?NC(t?.events)||(n=Wt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Wt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function JM(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=X1e(r,`${e}, namespace`);i&&(n=i)}),n}function Q1e(t,e,n){let r=null;if(t&&Gs(t)){const i=JM(t,e);i&&(r=i);const s=K1e(t,e,n);s&&(r=s)}else r=be("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function jm(t,e){let n=null;if(t&&Gs(t)){const r=JM(t,e);r&&(n=r);const i=J1e(t,e);i&&(n=i)}else n=be("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function XM(t){return fn(t.protocol,!0)}function e3e(t,e){let n=!1;return t?t&&Ui(t)&&t.length&&t.forEach(r=>{n=XM(r)}):n=!0,n}function t3e(t){return typeof t=="number"}function Ur(t){return typeof t<"u"&&typeof t!==null}function n3e(t){return!(!t||typeof t!="object"||!t.code||!Jw(t.code,!1)||!t.message||!fn(t.message,!1))}function r3e(t){return!(An(t)||!fn(t.method,!1))}function i3e(t){return!(An(t)||An(t.result)&&An(t.error)||!Jw(t.id,!1)||!fn(t.jsonrpc,!1))}function s3e(t){return!(An(t)||!fn(t.name,!1))}function DC(t,e){return!(!o1(e)||!M1e(t).includes(e))}function a3e(t,e,n){return fn(n,!1)?N1e(t,e).includes(n):!1}function o3e(t,e,n){return fn(n,!1)?D1e(t,e).includes(n):!1}function jC(t,e,n){let r=null;const i=c3e(t),s=l3e(e),a=Object.keys(i),o=Object.keys(s),c=UC(Object.keys(t)),l=UC(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Uc(a,o)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=bu(e[d].accounts);h.includes(d)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),a.forEach(d=>{r||(Uc(i[d].methods,s[d].methods)?Uc(i[d].events,s[d].events)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function c3e(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function UC(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function l3e(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:bu(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function u3e(t,e){return Jw(t,!1)&&t<=e.max&&t>=e.min}function BC(){const t=mf();return new Promise(e=>{switch(t){case pi.browser:e(d3e());break;case pi.reactNative:e(h3e());break;case pi.node:e(f3e());break;default:e(!0)}})}function d3e(){return wu()&&navigator?.onLine}async function h3e(){return lc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function f3e(){return!0}function p3e(t){switch(mf()){case pi.browser:m3e(t);break;case pi.reactNative:g3e(t);break}}function m3e(t){!lc()&&wu()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function g3e(t){lc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function y3e(){var t;return wu()&&u2()?((t=u2())==null?void 0:t.visibilityState)==="visible":!0}const Um={};class Bu{static get(e){return Um[e]}static set(e,n){Um[e]=n}static delete(e){delete Um[e]}}function w3e(t){const e=hf.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function b3e({publicKey:t,signature:e,payload:n}){var r;const i=M5(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=C3e(n.address),o=n.era==="00"?new Uint8Array([0]):M5(n.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${_3e(n.tip)}`),d=x3e(u),h=new Uint8Array([0,...t,a,...e,...o,...l,...d,...i]),f=E3e(h.length+1);return new Uint8Array([...f,s,...h])}function v3e(t){const e=M5(t),n=ghe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function M5(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function _3e(t){return t.startsWith("0x")?t.slice(2):t}function C3e(t){const e=hf.decode(t)[0];return e===42?0:e===60?2:1}function E3e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function x3e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function A3e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=w3e(t.transaction.address),r=b3e({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return v3e(i)}function Xw({logger:t,name:e}){const n=typeof t=="string"?G$({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class I2{}let L3e=class extends I2{constructor(e){super()}};const FC=ve.FIVE_SECONDS,T2={pulse:"heartbeat_pulse"};let S3e=class QM extends L3e{constructor(e){super(e),this.events=new vi.EventEmitter,this.interval=FC,this.interval=e?.interval||FC}static async init(e){const n=new QM(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ve.toMiliseconds(this.interval))}pulse(){this.events.emit(T2.pulse)}};function I3e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Rn(t,...e){try{return I3e(t(...e))}catch(n){return Promise.reject(n)}}function T3e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function k3e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Hp(t){if(T3e(t))return String(t);if(k3e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Hp(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const N5="base64:";function P3e(t){return typeof t=="string"?t:N5+$3e(t)}function O3e(t){return typeof t!="string"||!t.startsWith(N5)?t:R3e(t.slice(N5.length))}function R3e(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function $3e(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function jr(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function M3e(...t){return jr(t.join(":"))}function pp(t){return t=jr(t),t?t+":":""}function N3e(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function D3e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const j3e="memory",U3e=()=>{const t=new Map;return{name:j3e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function B3e(t={}){const e={mounts:{"":t.driver||U3e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=jr(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await zC(e.mounts[l],i,l)}},a=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},o=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",y=jr(m?p:p.key),C=m?void 0:p.value,L=m||!p.options?u:{...u,...p.options},w=n(y);f(w).items.push({key:y,value:C,relativeKey:w.relativeKey,options:L})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return Rn(h.hasItem,d,u)},getItem(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return Rn(h.getItem,d,u).then(f=>nd(f))},getItems(l,u={}){return o(l,u,d=>d.driver.getItems?Rn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:M3e(d.base,f.key),value:nd(f.value)}))):Promise.all(d.items.map(h=>Rn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:nd(f)})))))},getItemRaw(l,u={}){l=jr(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Rn(h.getItemRaw,d,u):Rn(h.getItem,d,u).then(f=>O3e(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=jr(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Rn(f.setItem,h,Hp(u),d),f.watch||i("update",l))},async setItems(l,u){await o(l,u,async d=>{if(d.driver.setItems)return Rn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Hp(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Rn(d.driver.setItem,h.relativeKey,Hp(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=jr(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Rn(f.setItemRaw,h,u,d);else if(f.setItem)await Rn(f.setItem,h,P3e(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Rn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Rn(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=jr(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Rn(h.getMeta,d,u)),!u.nativeOnly){const p=await Rn(h.getItem,d+"$",u).then(m=>nd(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=pp(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){y.driver.flags?.maxDepth||(p=!1);const C=await Rn(y.driver.getKeys,y.relativeBase,u);for(const L of C){const w=y.mountpoint+jr(L);h.some(b=>w.startsWith(b))||f.push(w)}h=[y.mountpoint,...h.filter(L=>!L.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||N3e(y,u.maxDepth))&&D3e(y,l))},async clear(l,u={}){l=pp(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Rn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>WC(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(l,u){if(l=pp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(zC(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=pp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await WC(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=jr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=jr(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function zC(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function WC(t){typeof t.dispose=="function"&&await Rn(t.dispose)}function k2(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function eN(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=k2(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let Bm;function vf(){return Bm||(Bm=eN("keyval-store","keyval")),Bm}function VC(t,e=vf()){return e("readonly",n=>k2(n.get(t)))}function F3e(t,e,n=vf()){return n("readwrite",r=>(r.put(e,t),k2(r.transaction)))}function z3e(t,e=vf()){return e("readwrite",n=>(n.delete(t),k2(n.transaction)))}function W3e(t=vf()){return t("readwrite",e=>(e.clear(),k2(e.transaction)))}function V3e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},k2(t.transaction)}function H3e(t=vf()){return t("readonly",e=>{if(e.getAllKeys)return k2(e.getAllKeys());const n=[];return V3e(e,r=>n.push(r.key)).then(()=>n)})}const q3e="idb-keyval";var Z3e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=eN(t.dbName,t.storeName)),{name:q3e,options:t,async hasItem(i){return!(typeof await VC(n(i),r)>"u")},async getItem(i){return await VC(n(i),r)??null},setItem(i,s){return F3e(n(i),s,r)},removeItem(i){return z3e(n(i),r)},getKeys(){return H3e(r)},clear(){return W3e(r)}}};const G3e="WALLET_CONNECT_V2_INDEXED_DB",K3e="keyvaluestorage";let Y3e=class{constructor(){this.indexedDb=B3e({driver:Z3e({dbName:G3e,storeName:K3e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ka(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},qp={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Fm<"u"&&Fm.localStorage?qp.exports=Fm.localStorage:typeof window<"u"&&window.localStorage?qp.exports=window.localStorage:qp.exports=new e})();function J3e(t){var e;return[t[0],h2((e=t[1])!=null?e:"")]}let X3e=class{constructor(){this.localStorage=qp.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(J3e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return h2(n)}async setItem(e,n){this.localStorage.setItem(e,Ka(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Q3e="wc_storage_version",HC=1,e6e=async(t,e,n)=>{const r=Q3e,i=await e.getItem(r);if(i&&i>=HC){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const a=[];for(;s.length;){const o=s.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(r,HC),n(e),t6e(t,a)},t6e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let n6e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new X3e;this.storage=e;try{const n=new Y3e;e6e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var r6e=Object.defineProperty,i6e=(t,e,n)=>e in t?r6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qC=(t,e,n)=>i6e(t,typeof e!="symbol"?e+"":e,n);let s6e=class extends I2{constructor(e){super(),this.opts=e,qC(this,"protocol","wc"),qC(this,"version",2)}};var a6e=Object.defineProperty,o6e=(t,e,n)=>e in t?a6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c6e=(t,e,n)=>o6e(t,e+"",n);let l6e=class extends I2{constructor(e,n){super(),this.core=e,this.logger=n,c6e(this,"records",new Map)}},u6e=class{constructor(e,n){this.logger=e,this.core=n}},d6e=class extends I2{constructor(e,n){super(),this.relayer=e,this.logger=n}},h6e=class extends I2{constructor(e){super()}},f6e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},p6e=class extends I2{constructor(e,n){super(),this.relayer=e,this.logger=n}},m6e=class extends I2{constructor(e,n){super(),this.core=e,this.logger=n}},g6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},y6e=class{constructor(e,n){this.projectId=e,this.logger=n}},w6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var b6e=Object.defineProperty,v6e=(t,e,n)=>e in t?b6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZC=(t,e,n)=>v6e(t,typeof e!="symbol"?e+"":e,n);let _6e=class{constructor(e){this.opts=e,ZC(this,"protocol","wc"),ZC(this,"version",2)}},C6e=class{constructor(e){this.client=e}};const E6e="PARSE_ERROR",x6e="INVALID_REQUEST",A6e="METHOD_NOT_FOUND",L6e="INVALID_PARAMS",tN="INTERNAL_ERROR",Qw="SERVER_ERROR",S6e=[-32700,-32600,-32601,-32602,-32603],Id={[E6e]:{code:-32700,message:"Parse error"},[x6e]:{code:-32600,message:"Invalid Request"},[A6e]:{code:-32601,message:"Method not found"},[L6e]:{code:-32602,message:"Invalid params"},[tN]:{code:-32603,message:"Internal error"},[Qw]:{code:-32e3,message:"Server error"}},nN=Qw;function I6e(t){return S6e.includes(t)}function GC(t){return Object.keys(Id).includes(t)?Id[t]:Id[nN]}function T6e(t){const e=Object.values(Id).find(n=>n.code===t);return e||Id[nN]}function rN(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var iN={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D5=function(t,e){return D5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},D5(t,e)};function k6e(t,e){D5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var j5=function(){return j5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j5.apply(this,arguments)};function P6e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function O6e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function R6e(t,e){return function(n,r){e(n,r,t)}}function $6e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M6e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function N6e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function D6e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function j6e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function U5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sN(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function U6e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sN(arguments[e]));return t}function B6e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function Eh(t){return this instanceof Eh?(this.v=t,this):new Eh(t)}function F6e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||o(h,f)})})}function o(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof Eh?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function d(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function z6e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Eh(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function W6e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof U5=="function"?U5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}function V6e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function H6e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function q6e(t){return t&&t.__esModule?t:{default:t}}function Z6e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function G6e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const K6e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return j5},__asyncDelegator:z6e,__asyncGenerator:F6e,__asyncValues:W6e,__await:Eh,__awaiter:M6e,__classPrivateFieldGet:Z6e,__classPrivateFieldSet:G6e,__createBinding:D6e,__decorate:O6e,__exportStar:j6e,__extends:k6e,__generator:N6e,__importDefault:q6e,__importStar:H6e,__makeTemplateObject:V6e,__metadata:$6e,__param:R6e,__read:sN,__rest:P6e,__spread:U6e,__spreadArrays:B6e,__values:U5},Symbol.toStringTag,{value:"Module"})),Y6e=lA(K6e);var ma={},KC;function J6e(){if(KC)return ma;KC=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.isBrowserCryptoAvailable=ma.getSubtleCrypto=ma.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}ma.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ma.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ma.isBrowserCryptoAvailable=n,ma}var ga={},YC;function X6e(){if(YC)return ga;YC=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.isBrowser=ga.isNode=ga.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ga.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ga.isNode=e;function n(){return!t()&&!e()}return ga.isBrowser=n,ga}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Y6e;e.__exportStar(J6e(),t),e.__exportStar(X6e(),t)})(iN);function Ds(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Ho(t=6){return BigInt(Ds(t))}function ss(t,e,n){return{id:n||Ds(),jsonrpc:"2.0",method:t,params:e}}function xh(t,e){return{id:t,jsonrpc:"2.0",result:e}}function $3(t,e,n){return{id:t,jsonrpc:"2.0",error:Q6e(e)}}function Q6e(t,e){return typeof t>"u"?GC(tN):(typeof t=="string"&&(t=Object.assign(Object.assign({},GC(Qw)),{message:t})),I6e(t.code)&&(t=T6e(t.code)),t)}let eme=class{};class tme extends eme{constructor(){super()}}class nme extends tme{constructor(e){super()}}const rme="^https?:",ime="^wss?:";function sme(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function aN(t,e){const n=sme(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function JC(t){return aN(t,rme)}function XC(t){return aN(t,ime)}function ame(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function oN(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function eb(t){return oN(t)&&"method"in t}function M3(t){return oN(t)&&(js(t)||Ni(t))}function js(t){return"result"in t}function Ni(t){return"error"in t}let tb=class extends nme{constructor(e){super(e),this.events=new vi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ss(e.method,e.params||[],e.id||Ho().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ni(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),M3(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const ome=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),cme=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",QC=t=>t.split("?")[0],eE=10,lme=ome();let ume=class{constructor(e){if(this.url=e,this.events=new vi.EventEmitter,this.registering=!1,!XC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ka(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!XC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=iN.isReactNative()?void 0:{rejectUnauthorized:!ame(e)},s=new lme(e,[],i);cme()?s.onerror=a=>{const o=a;r(this.emitError(o.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?h2(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=$3(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return rN(e,QC(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eE&&this.events.setMaxListeners(eE)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${QC(this.url)}`));return this.events.emit("register_error",n),n}};var dme={};const cN="wc",lN=2,B5="core",Xs=`${cN}@2:${B5}:`,hme={logger:"error"},fme={database:":memory:"},pme="crypto",tE="client_ed25519_seed",mme=ve.ONE_DAY,gme="keychain",yme="0.3",wme="messages",bme="0.3",vme=ve.SIX_HOURS,_me="publisher",uN="irn",Cme="error",dN="wss://relay.walletconnect.org",Eme="relayer",nn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},xme="_subscription",Si={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ame=.1,F5="2.22.4",zt={link_mode:"link_mode",relay:"relay"},Zp={inbound:"inbound",outbound:"outbound"},Lme="0.3",Sme="WALLETCONNECT_CLIENT_ID",nE="WALLETCONNECT_LINK_MODE_APPS",ci={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ime="subscription",Tme="0.3",kme="pairing",Pme="0.3",Fu={wc_pairingDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:0},res:{ttl:ve.ONE_DAY,prompt:!1,tag:0}}},Oc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Yi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ome="history",Rme="0.3",$me="expirer",Pi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Mme="0.3",Nme="verify-api",Dme="https://verify.walletconnect.com",hN="https://verify.walletconnect.org",Td=hN,jme=`${Td}/v3`,Ume=[Dme,hN],Bme="echo",Fme="https://echo.walletconnect.com",Ms={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},va={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ji={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},wc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},bc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},zu={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},zme=.1,Wme="event-client",Vme=86400,Hme="https://pulse.walletconnect.org/batch";function qme(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var x=p[C],_=0,I=w-1;(x!==0||_<y)&&I!==-1;I--,_++)x+=256*b[I]>>>0,b[I]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var N=c.repeat(m);M<w;++M)N+=t.charAt(b[M]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var x=0,_=L-1;(b!==0||x<C)&&_!==-1;_--,x++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=x,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),N=y;I!==L;)M[N++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Zme=qme,Gme=Zme;const fN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Kme=t=>new TextEncoder().encode(t),Yme=t=>new TextDecoder().decode(t);let Jme=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Xme=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pN(this,e)}},Qme=class{constructor(e){this.decoders=e}or(e){return pN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const pN=(t,e)=>new Qme({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let ege=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Jme(e,n,r),this.decoder=new Xme(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const N3=({name:t,prefix:e,encode:n,decode:r})=>new ege(t,e,n,r),_f=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Gme(n,e);return N3({prefix:t,name:e,encode:r,decode:s=>fN(i(s))})},tge=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},nge=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},tr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>N3({prefix:e,name:t,encode(i){return nge(i,r,n)},decode(i){return tge(i,r,n,t)}}),rge=N3({prefix:"\0",name:"identity",encode:t=>Yme(t),decode:t=>Kme(t)});var ige=Object.freeze({__proto__:null,identity:rge});const sge=tr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var age=Object.freeze({__proto__:null,base2:sge});const oge=tr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cge=Object.freeze({__proto__:null,base8:oge});const lge=_f({prefix:"9",name:"base10",alphabet:"0123456789"});var uge=Object.freeze({__proto__:null,base10:lge});const dge=tr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hge=tr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fge=Object.freeze({__proto__:null,base16:dge,base16upper:hge});const pge=tr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mge=tr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gge=tr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yge=tr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wge=tr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bge=tr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vge=tr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_ge=tr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cge=tr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ege=Object.freeze({__proto__:null,base32:pge,base32upper:mge,base32pad:gge,base32padupper:yge,base32hex:wge,base32hexupper:bge,base32hexpad:vge,base32hexpadupper:_ge,base32z:Cge});const xge=_f({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Age=_f({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Lge=Object.freeze({__proto__:null,base36:xge,base36upper:Age});const Sge=_f({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ige=_f({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Tge=Object.freeze({__proto__:null,base58btc:Sge,base58flickr:Ige});const kge=tr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Pge=tr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oge=tr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Rge=tr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $ge=Object.freeze({__proto__:null,base64:kge,base64pad:Pge,base64url:Oge,base64urlpad:Rge});const mN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Mge=mN.reduce((t,e,n)=>(t[n]=e,t),[]),Nge=mN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Dge(t){return t.reduce((e,n)=>(e+=Mge[n],e),"")}function jge(t){const e=[];for(const n of t){const r=Nge[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Uge=N3({prefix:"🚀",name:"base256emoji",encode:Dge,decode:jge});var Bge=Object.freeze({__proto__:null,base256emoji:Uge}),Fge=gN,rE=128,zge=-128,Wge=Math.pow(2,31);function gN(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Wge;)e[n++]=t&255|rE,t/=128;for(;t&zge;)e[n++]=t&255|rE,t>>>=7;return e[n]=t|0,gN.bytes=n-r+1,e}var Vge=z5,Hge=128,iE=127;function z5(t,r){var n=0,r=r||0,i=0,s=r,a,o=t.length;do{if(s>=o)throw z5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&iE)<<i:(a&iE)*Math.pow(2,i),i+=7}while(a>=Hge);return z5.bytes=s-r,n}var qge=Math.pow(2,7),Zge=Math.pow(2,14),Gge=Math.pow(2,21),Kge=Math.pow(2,28),Yge=Math.pow(2,35),Jge=Math.pow(2,42),Xge=Math.pow(2,49),Qge=Math.pow(2,56),eye=Math.pow(2,63),tye=function(t){return t<qge?1:t<Zge?2:t<Gge?3:t<Kge?4:t<Yge?5:t<Jge?6:t<Xge?7:t<Qge?8:t<eye?9:10},nye={encode:Fge,decode:Vge,encodingLength:tye},yN=nye;const sE=(t,e,n=0)=>(yN.encode(t,e,n),e),aE=t=>yN.encodingLength(t),W5=(t,e)=>{const n=e.byteLength,r=aE(t),i=r+aE(n),s=new Uint8Array(i+n);return sE(t,s,0),sE(n,s,r),s.set(e,i),new rye(t,n,e,s)};class rye{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const wN=({name:t,code:e,encode:n})=>new iye(t,e,n);class iye{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?W5(this.code,n):n.then(r=>W5(this.code,r))}else throw Error("Unknown type, must be binary type")}}const bN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sye=wN({name:"sha2-256",code:18,encode:bN("SHA-256")}),aye=wN({name:"sha2-512",code:19,encode:bN("SHA-512")});var oye=Object.freeze({__proto__:null,sha256:sye,sha512:aye});const vN=0,cye="identity",_N=fN,lye=t=>W5(vN,_N(t)),uye={code:vN,name:cye,encode:_N,digest:lye};var dye=Object.freeze({__proto__:null,identity:uye});new TextEncoder,new TextDecoder;const oE={...ige,...age,...cge,...uge,...fge,...Ege,...Lge,...Tge,...$ge,...Bge};({...oye,...dye});function CN(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function hye(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?CN(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function EN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const cE=EN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),zm=EN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=hye(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),fye={utf8:cE,"utf-8":cE,hex:oE.base16,latin1:zm,ascii:zm,binary:zm,...oE};function pye(t,e="utf8"){const n=fye[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?CN(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var mye=Object.defineProperty,gye=(t,e,n)=>e in t?mye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ks=(t,e,n)=>gye(t,typeof e!="symbol"?e+"":e,n);let yye=class{constructor(e,n){this.core=e,this.logger=n,ks(this,"keychain",new Map),ks(this,"name",gme),ks(this,"version",yme),ks(this,"initialized",!1),ks(this,"storagePrefix",Xs),ks(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ks(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ks(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),ks(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=be("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),ks(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=_i(n,this.name)}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,C5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var wye=Object.defineProperty,bye=(t,e,n)=>e in t?wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pn=(t,e,n)=>bye(t,typeof e!="symbol"?e+"":e,n);let vye=class{constructor(e,n,r){this.core=e,this.logger=n,Pn(this,"name",pme),Pn(this,"keychain"),Pn(this,"randomSessionIdentifier",$5()),Pn(this,"initialized",!1),Pn(this,"clientId"),Pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Pn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Pn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=$_(i),a=A$(s.publicKey);return this.clientId=a,a}),Pn(this,"generateKeyPair",()=>{this.isInitialized();const i=l1e();return this.setPrivateKey(i.publicKey,i.privateKey)}),Pn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=$_(s),o=this.randomSessionIdentifier;return await ode(o,i,mme,a)}),Pn(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),c=u1e(o,s);return this.setSymKey(c,a)}),Pn(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||Vp(i);return await this.keychain.set(a,i),a}),Pn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Pn(this,"encode",async(i,s,a)=>{this.isInitialized();const o=YM(a),c=Ka(s);if(SC(o))return f1e(c,a?.encoding);if(LC(o)){const h=o.senderPublicKey,f=o.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=o;return d1e({type:u,symKey:l,message:c,senderPublicKey:d,encoding:a?.encoding})}),Pn(this,"decode",async(i,s,a)=>{this.isInitialized();const o=m1e(s,a);if(SC(o)){const c=p1e(s,a?.encoding);return h2(c)}if(LC(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=h1e({symKey:c,encoded:s,encoding:a?.encoding});return h2(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Pn(this,"getPayloadType",(i,s=Wr)=>{const a=Ch({encoded:i,encoding:s});return p2(a.type)}),Pn(this,"getPayloadSenderPublicKey",(i,s=Wr)=>{const a=Ch({encoded:i,encoding:s});return a.senderPublicKey?Kr(a.senderPublicKey,Tr):void 0}),this.core=e,this.logger=_i(n,this.name),this.keychain=r||new yye(this.core,this.logger)}get context(){return ti(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tE)}catch{e=$5(),await this.keychain.set(tE,e)}return pye(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var _ye=Object.defineProperty,Cye=Object.defineProperties,Eye=Object.getOwnPropertyDescriptors,lE=Object.getOwnPropertySymbols,xye=Object.prototype.hasOwnProperty,Aye=Object.prototype.propertyIsEnumerable,V5=(t,e,n)=>e in t?_ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lye=(t,e)=>{for(var n in e||(e={}))xye.call(e,n)&&V5(t,n,e[n]);if(lE)for(var n of lE(e))Aye.call(e,n)&&V5(t,n,e[n]);return t},Sye=(t,e)=>Cye(t,Eye(e)),ii=(t,e,n)=>V5(t,typeof e!="symbol"?e+"":e,n);let Iye=class extends u6e{constructor(e,n){super(e,n),this.logger=e,this.core=n,ii(this,"messages",new Map),ii(this,"messagesWithoutClientAck",new Map),ii(this,"name",wme),ii(this,"version",bme),ii(this,"initialized",!1),ii(this,"storagePrefix",Xs),ii(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ii(this,"set",async(r,i,s)=>{this.isInitialized();const a=Mi(i);let o=this.messages.get(r);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=i,this.messages.set(r,o),s===Zp.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Sye(Lye({},c),{[a]:i}))}return await this.persist(),a}),ii(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ii(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),ii(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=Mi(i);return typeof s[a]<"u"}),ii(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=Mi(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),ii(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=_i(e,this.name),this.core=n}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,C5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,C5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?E5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Tye=Object.defineProperty,kye=Object.defineProperties,Pye=Object.getOwnPropertyDescriptors,uE=Object.getOwnPropertySymbols,Oye=Object.prototype.hasOwnProperty,Rye=Object.prototype.propertyIsEnumerable,H5=(t,e,n)=>e in t?Tye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z2=(t,e)=>{for(var n in e||(e={}))Oye.call(e,n)&&H5(t,n,e[n]);if(uE)for(var n of uE(e))Rye.call(e,n)&&H5(t,n,e[n]);return t},dE=(t,e)=>kye(t,Pye(e)),Ii=(t,e,n)=>H5(t,typeof e!="symbol"?e+"":e,n);let $ye=class extends d6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ii(this,"events",new vi.EventEmitter),Ii(this,"name",_me),Ii(this,"queue",new Map),Ii(this,"publishTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),Ii(this,"initialPublishTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),Ii(this,"needsTransportRestart",!1),Ii(this,"publish",async(r,i,s)=>{var a,o,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=s?.ttl||vme,h=s?.prompt||!1,f=s?.tag||0,p=s?.id||Ho().toString(),m=hl(a1().protocol),y={id:p,method:s?.publishMethod||m.publish,params:Z2({topic:r,message:i,ttl:d,prompt:h,tag:f,attestation:s?.attestation},s?.tvf)},C=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{An((a=y.params)==null?void 0:a.prompt)&&((o=y.params)==null||delete o.prompt),An((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const L=new Promise(async w=>{const b=({id:_})=>{var I;((I=y.id)==null?void 0:I.toString())===_.toString()&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(nn.publish,b),w())};this.relayer.events.on(nn.publish,b);const x=zs(new Promise((_,I)=>{this.rpcPublish(y,s).then(_).catch(M=>{this.logger.warn(M,M?.message),I(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await x,this.events.removeListener(nn.publish,b)}catch(_){this.queue.set(p,{request:y,opts:s,attempt:1}),this.logger.warn(_,_?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:i,opts:s}}),await zs(L,this.publishTimeout,C)}catch(L){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(L),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw L}finally{this.queue.delete(p)}}),Ii(this,"publishCustom",async r=>{var i,s,a,o,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:m,ttl:y=ve.FIVE_MINUTES}=u,C=u.id||Ho().toString(),L=hl(a1().protocol),w=f||L.publish,b={id:C,method:w,params:Z2(dE(Z2({},l),{ttl:y,prompt:p,tag:m,attestation:d}),h)},x=`Failed to publish custom payload, please try again. id:${C} tag:${m}`;try{An((i=b.params)==null?void 0:i.prompt)&&((s=b.params)==null||delete s.prompt),An((a=b.params)==null?void 0:a.tag)&&((o=b.params)==null||delete o.tag);const _=new Promise(async I=>{const M=({id:U})=>{var B;((B=b.id)==null?void 0:B.toString())===U.toString()&&(this.removeRequestFromQueue(U),this.relayer.events.removeListener(nn.publish,M),I())};this.relayer.events.on(nn.publish,M);const N=zs(new Promise((U,B)=>{this.rpcPublish(b,u).then(U).catch(P=>{this.logger.warn(P,P?.message),B(P)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${w} id:${C} tag:${m}`);try{await N,this.events.removeListener(nn.publish,M)}catch(U){this.queue.set(C,{request:b,opts:u,attempt:1}),this.logger.warn(U,U?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:C,payload:l,opts:u}}),await zs(_,this.publishTimeout,x)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw _}finally{this.queue.delete(C)}}),Ii(this,"on",(r,i)=>{this.events.on(r,i)}),Ii(this,"once",(r,i)=>{this.events.once(r,i)}),Ii(this,"off",(r,i)=>{this.events.off(r,i)}),Ii(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=_i(n,this.name),this.registerEventListeners()}get context(){return ti(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(nn.publish,Z2(Z2({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,dE(Z2({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(T2.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(nn.connection_stalled);return}this.checkQueue()}),this.relayer.on(nn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var Mye=Object.defineProperty,Nye=(t,e,n)=>e in t?Mye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G2=(t,e,n)=>Nye(t,typeof e!="symbol"?e+"":e,n);class Dye{constructor(){G2(this,"map",new Map),G2(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),G2(this,"get",e=>this.map.get(e)||[]),G2(this,"exists",(e,n)=>this.get(e).includes(n)),G2(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),G2(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var jye=Object.defineProperty,Uye=Object.defineProperties,Bye=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,Fye=Object.prototype.hasOwnProperty,zye=Object.prototype.propertyIsEnumerable,q5=(t,e,n)=>e in t?jye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e)=>{for(var n in e||(e={}))Fye.call(e,n)&&q5(t,n,e[n]);if(hE)for(var n of hE(e))zye.call(e,n)&&q5(t,n,e[n]);return t},Wm=(t,e)=>Uye(t,Bye(e)),It=(t,e,n)=>q5(t,typeof e!="symbol"?e+"":e,n);let Wye=class extends p6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,It(this,"subscriptions",new Map),It(this,"topicMap",new Dye),It(this,"events",new vi.EventEmitter),It(this,"name",Ime),It(this,"version",Tme),It(this,"pending",new Map),It(this,"cached",[]),It(this,"initialized",!1),It(this,"storagePrefix",Xs),It(this,"subscribeTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),It(this,"initialSubscribeTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),It(this,"clientId"),It(this,"batchSubscribeTopicsLimit",500),It(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),It(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=a1(i),o={topic:r,relay:a,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,o);const c=await this.rpcSubscribe(r,a,i);return typeof c=="string"&&(this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),It(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),It(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),It(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),It(this,"on",(r,i)=>{this.events.on(r,i)}),It(this,"once",(r,i)=>{this.events.once(r,i)}),It(this,"off",(r,i)=>{this.events.off(r,i)}),It(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),It(this,"start",async()=>{await this.onConnect()}),It(this,"stop",async()=>{await this.onDisconnect()}),It(this,"restart",async()=>{await this.restore(),await this.onRestart()}),It(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),It(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(T2.pulse,async()=>{await this.checkPending()}),this.events.on(ci.created,async r=>{const i=ci.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(ci.deleted,async r=>{const i=ci.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=_i(n,this.name),this.clientId=""}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=a1(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Wt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return a;(!r||r?.transportType===zt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const o={method:hl(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===zt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(d=>this.logger.warn(d))},ve.toMiliseconds(ve.ONE_SECOND)),a;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(ci.created,h),d(f.id))};this.events.on(ci.created,h);try{const f=await zs(new Promise((p,m)=>{this.relayer.request(o).catch(y=>{this.logger.warn(y,y?.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ci.created,h),d(f)}catch{}}),u=await zs(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(nn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:hl(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await zs(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(nn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:hl(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await zs(new Promise((s,a)=>{this.relayer.request(r).catch(o=>{this.logger.warn(o),a(o)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(nn.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:hl(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Wm(Wu({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Wu({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Wu({},n)),this.topicMap.set(n.topic,e),this.events.emit(ci.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ci.deleted,Wm(Wu({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ci.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ci.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Wm(Wu({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Pfe(ve.toMiliseconds(ve.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Mi(e+await this.getClientId())}};var Vye=Object.defineProperty,fE=Object.getOwnPropertySymbols,Hye=Object.prototype.hasOwnProperty,qye=Object.prototype.propertyIsEnumerable,Z5=(t,e,n)=>e in t?Vye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pE=(t,e)=>{for(var n in e||(e={}))Hye.call(e,n)&&Z5(t,n,e[n]);if(fE)for(var n of fE(e))qye.call(e,n)&&Z5(t,n,e[n]);return t},gt=(t,e,n)=>Z5(t,typeof e!="symbol"?e+"":e,n);let Zye=class extends h6e{constructor(e){var n;super(e),gt(this,"protocol","wc"),gt(this,"version",2),gt(this,"core"),gt(this,"logger"),gt(this,"events",new vi.EventEmitter),gt(this,"provider"),gt(this,"messages"),gt(this,"subscriber"),gt(this,"publisher"),gt(this,"name",Eme),gt(this,"transportExplicitlyClosed",!1),gt(this,"initialized",!1),gt(this,"connectionAttemptInProgress",!1),gt(this,"relayUrl"),gt(this,"projectId"),gt(this,"packageName"),gt(this,"bundleId"),gt(this,"hasExperiencedNetworkDisruption",!1),gt(this,"pingTimeout"),gt(this,"heartBeatTimeout",ve.toMiliseconds(ve.THIRTY_SECONDS+ve.FIVE_SECONDS)),gt(this,"reconnectTimeout"),gt(this,"connectPromise"),gt(this,"reconnectInProgress",!1),gt(this,"requestsInFlight",[]),gt(this,"connectTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),gt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const a=r.id||Ho().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${a}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),c}catch(o){throw this.logger.debug(`Failed to Publish Request: ${a}`),o}}),gt(this,"resetPingTimeout",()=>{e1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),gt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),gt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(nn.connect)}),gt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),gt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(nn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),gt(this,"registerProviderListeners",()=>{this.provider.on(Si.payload,this.onPayloadHandler),this.provider.on(Si.connect,this.onConnectHandler),this.provider.on(Si.disconnect,this.onDisconnectHandler),this.provider.on(Si.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=Xw({logger:(n=e.logger)!=null?n:Cme,name:this.name}),this.messages=new Iye(this.logger,e.core),this.subscriber=new Wye(this,this.logger),this.publisher=new $ye(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||dN,mfe()?this.packageName=G_():gfe()&&(this.bundleId=G_()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ti(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:zt.relay},Zp.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ci.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ci.created,l)}),new Promise(async(u,d)=>{o=await this.subscriber.subscribe(e,pE({internal:{throwOnFailedPublish:a}},n)).catch(h=>{a&&d(h)})||o,u()})]),o}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await zs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await BC())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=ln(ve.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(nn.message,e),await this.recordMessageEvent(e,Zp.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Si.disconnect,s),await zs(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(Si.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Si.disconnect,c),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Si.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ve.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(e1())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new tb(new ume(_fe({sdkVersion:F5,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),eb(e)){if(!e.method.endsWith(xme))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,o={topic:r,message:i,publishedAt:s,transportType:zt.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(pE({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else M3(e)&&this.events.emit(nn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Zp.inbound),this.events.emit(nn.message,e))}async acknowledgePayload(e){const n=xh(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Si.payload,this.onPayloadHandler),this.provider.off(Si.connect,this.onConnectHandler),this.provider.off(Si.disconnect,this.onDisconnectHandler),this.provider.off(Si.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await BC();p3e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(T2.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&y3e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(nn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ve.toMiliseconds(Ame)))))}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Gye(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function mE(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function gE(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Kye="[object RegExp]",Yye="[object String]",Jye="[object Number]",Xye="[object Boolean]",yE="[object Arguments]",Qye="[object Symbol]",e5e="[object Date]",t5e="[object Map]",n5e="[object Set]",r5e="[object Array]",i5e="[object Function]",s5e="[object ArrayBuffer]",Vm="[object Object]",a5e="[object Error]",o5e="[object DataView]",c5e="[object Uint8Array]",l5e="[object Uint8ClampedArray]",u5e="[object Uint16Array]",d5e="[object Uint32Array]",h5e="[object BigUint64Array]",f5e="[object Int8Array]",p5e="[object Int16Array]",m5e="[object Int32Array]",g5e="[object BigInt64Array]",y5e="[object Float32Array]",w5e="[object Float64Array]";function b5e(){}function wE(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function v5e(t,e,n){return dd(t,e,void 0,void 0,void 0,void 0,n)}function dd(t,e,n,r,i,s,a){const o=a(t,e,n,r,i,s);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return kd(t,e,s,a)}return kd(t,e,s,a)}function kd(t,e,n,r){if(Object.is(t,e))return!0;let i=gE(t),s=gE(e);if(i===yE&&(i=Vm),s===yE&&(s=Vm),i!==s)return!1;switch(i){case Yye:return t.toString()===e.toString();case Jye:{const c=t.valueOf(),l=e.valueOf();return Gye(c,l)}case Xye:case e5e:case Qye:return Object.is(t.valueOf(),e.valueOf());case Kye:return t.source===e.source&&t.flags===e.flags;case i5e:return t===e}n=n??new Map;const a=n.get(t),o=n.get(e);if(a!=null&&o!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case t5e:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!dd(l,e.get(c),c,t,e,n,r))return!1;return!0}case n5e:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>dd(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case r5e:case c5e:case l5e:case u5e:case d5e:case h5e:case f5e:case p5e:case m5e:case g5e:case y5e:case w5e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!dd(t[c],e[c],c,t,e,n,r))return!1;return!0}case s5e:return t.byteLength!==e.byteLength?!1:kd(new Uint8Array(t),new Uint8Array(e),n,r);case o5e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:kd(new Uint8Array(t),new Uint8Array(e),n,r);case a5e:return t.name===e.name&&t.message===e.message;case Vm:{if(!(kd(t.constructor,e.constructor,n,r)||wE(t)&&wE(e)))return!1;const c=[...Object.keys(t),...mE(t)],l=[...Object.keys(e),...mE(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!dd(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function _5e(t,e){return v5e(t,e,b5e)}var C5e=Object.defineProperty,bE=Object.getOwnPropertySymbols,E5e=Object.prototype.hasOwnProperty,x5e=Object.prototype.propertyIsEnumerable,G5=(t,e,n)=>e in t?C5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vE=(t,e)=>{for(var n in e||(e={}))E5e.call(e,n)&&G5(t,n,e[n]);if(bE)for(var n of bE(e))x5e.call(e,n)&&G5(t,n,e[n]);return t},Dr=(t,e,n)=>G5(t,typeof e!="symbol"?e+"":e,n);let P2=class extends f6e{constructor(e,n,r,i=Xs,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Dr(this,"map",new Map),Dr(this,"version",Lme),Dr(this,"cached",[]),Dr(this,"initialized",!1),Dr(this,"getKey"),Dr(this,"storagePrefix",Xs),Dr(this,"recentlyDeleted",[]),Dr(this,"recentlyDeletedLimit",200),Dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!An(a)?this.map.set(this.getKey(a),a):H1e(a)?this.map.set(a.id,a):q1e(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Dr(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),Dr(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Dr(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>_5e(o[c],a[c]))):this.values)),Dr(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=vE(vE({},this.getData(a)),o);this.map.set(a,c),await this.persist()}),Dr(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=_i(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=be("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var A5e=Object.defineProperty,L5e=(t,e,n)=>e in t?A5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ct=(t,e,n)=>L5e(t,typeof e!="symbol"?e+"":e,n);let S5e=class{constructor(e,n){this.core=e,this.logger=n,ct(this,"name",kme),ct(this,"version",Pme),ct(this,"events",new mw),ct(this,"pairings"),ct(this,"initialized",!1),ct(this,"storagePrefix",Xs),ct(this,"ignoredPayloadTypes",[Wa]),ct(this,"registeredMethods",[]),ct(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),ct(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),ct(this,"create",async r=>{this.isInitialized();const i=$5(),s=await this.core.crypto.setSymKey(i),a=ln(ve.FIVE_MINUTES),o={protocol:uN},c={topic:s,expiry:a,relay:o,active:!1,methods:r?.methods},l=PC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:r?.methods});return this.events.emit(Oc.create,c),this.core.expirer.set(s,a),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:l}}),ct(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Ms.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:o,expiryTimestamp:c,methods:l}=kC(r.uri);i.props.properties.topic=s,i.addTrace(Ms.pairing_uri_validation_success),i.addTrace(Ms.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Ms.existing_pairing),u.active)throw i.setError(va.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ms.pairing_not_expired)}const d=c||ln(ve.FIVE_MINUTES),h={topic:s,relay:o,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Ms.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Oc.create,h),i.addTrace(Ms.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(Ms.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(va.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(f){throw i.setError(va.subscribe_pairing_topic_failure),f}return i.addTrace(Ms.subscribe_pairing_topic_success),h}),ct(this,"activate",async({topic:r})=>{this.isInitialized();const i=ln(ve.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),ct(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Ec();this.events.once(vt("pairing_ping",s),({error:l})=>{l?c(l):o()}),await a()}}),ct(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),ct(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),ct(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),ct(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Wt("USER_DISCONNECTED")),await this.deletePairing(i))}),ct(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:o}=r,c=this.core.crypto.keychain.get(i);return PC({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:a,methods:o})}),ct(this,"sendRequest",async(r,i,s)=>{const a=ss(i,s),o=await this.core.crypto.encode(r,a),c=Fu[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,o,c),a.id}),ct(this,"sendResult",async(r,i,s)=>{const a=xh(r,s),o=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,r)).request.method,l=Fu[c].res;await this.core.relayer.publish(i,o,l),await this.core.history.resolve(a)}),ct(this,"sendError",async(r,i,s)=>{const a=$3(r,s),o=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,r)).request.method,l=Fu[c]?Fu[c].res:Fu.unregistered_method.res;await this.core.relayer.publish(i,o,l),await this.core.history.resolve(a)}),ct(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Wt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),ct(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Us(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),ct(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),ct(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}}),ct(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Oc.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),ct(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{js(i)?this.events.emit(vt("pairing_ping",s),{}):Ni(i)&&this.events.emit(vt("pairing_ping",s),{error:i.error})},500)}),ct(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Oc.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),ct(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=Wt("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,o),this.logger.error(o)}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),ct(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Wt("WC_METHOD_UNSUPPORTED",r))}),ct(this,"isValidPair",(r,i)=>{var s;if(!Ur(r)){const{message:o}=be("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(va.malformed_pairing_uri),new Error(o)}if(!V1e(r.uri)){const{message:o}=be("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(va.malformed_pairing_uri),new Error(o)}const a=kC(r?.uri);if(!((s=a?.relay)!=null&&s.protocol)){const{message:o}=be("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(va.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=be("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(va.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&ve.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(va.pairing_expired);const{message:o}=be("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),ct(this,"isValidPing",async r=>{if(!Ur(r)){const{message:s}=be("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),ct(this,"isValidDisconnect",async r=>{if(!Ur(r)){const{message:s}=be("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),ct(this,"isValidPairingTopic",async r=>{if(!fn(r,!1)){const{message:i}=be("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=be("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Us(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=be("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=_i(n,this.name),this.pairings=new P2(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ti(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(nn.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==zt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);eb(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):M3(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Pi.expired,async e=>{const{topic:n}=Q$(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Oc.expire,{topic:n}))})}};var I5e=Object.defineProperty,T5e=(t,e,n)=>e in t?I5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qn=(t,e,n)=>T5e(t,typeof e!="symbol"?e+"":e,n);let k5e=class extends l6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,qn(this,"records",new Map),qn(this,"events",new vi.EventEmitter),qn(this,"name",Ome),qn(this,"version",Rme),qn(this,"cached",[]),qn(this,"initialized",!1),qn(this,"storagePrefix",Xs),qn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),qn(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:ln(ve.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Yi.created,a)}),qn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ni(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Yi.updated,i))}),qn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),qn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Yi.deleted,s)}}),this.persist()}),qn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),qn(this,"on",(r,i)=>{this.events.on(r,i)}),qn(this,"once",(r,i)=>{this.events.once(r,i)}),qn(this,"off",(r,i)=>{this.events.off(r,i)}),qn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=_i(n,this.name)}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:ss(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Yi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Yi.created,e=>{const n=Yi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Yi.updated,e=>{const n=Yi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Yi.deleted,e=>{const n=Yi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(T2.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ve.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Yi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var P5e=Object.defineProperty,O5e=(t,e,n)=>e in t?P5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,or=(t,e,n)=>O5e(t,typeof e!="symbol"?e+"":e,n);let R5e=class extends m6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,or(this,"expirations",new Map),or(this,"events",new vi.EventEmitter),or(this,"name",$me),or(this,"version",Mme),or(this,"cached",[]),or(this,"initialized",!1),or(this,"storagePrefix",Xs),or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),or(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),or(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Pi.created,{target:s,expiration:a})}),or(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),or(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Pi.deleted,{target:i,expiration:s})}}),or(this,"on",(r,i)=>{this.events.on(r,i)}),or(this,"once",(r,i)=>{this.events.once(r,i)}),or(this,"off",(r,i)=>{this.events.off(r,i)}),or(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=_i(n,this.name)}get context(){return ti(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Cfe(e);if(typeof e=="number")return Efe(e);const{message:n}=be("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Pi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ve.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Pi.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(T2.pulse,()=>this.checkExpirations()),this.events.on(Pi.created,e=>{const n=Pi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Pi.expired,e=>{const n=Pi.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Pi.deleted,e=>{const n=Pi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}};var $5e=Object.defineProperty,M5e=(t,e,n)=>e in t?$5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,on=(t,e,n)=>M5e(t,typeof e!="symbol"?e+"":e,n);let N5e=class extends g6e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,on(this,"name",Nme),on(this,"abortController"),on(this,"isDevEnv"),on(this,"verifyUrlV3",jme),on(this,"storagePrefix",Xs),on(this,"version",lN),on(this,"publicKey"),on(this,"fetchPromise"),on(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ve.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),on(this,"register",async i=>{if(!wu()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:o}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{const l=u2(),u=this.startAbortTimer(ve.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=C=>{if(C.data&&typeof C.data=="string")try{const L=JSON.parse(C.data);if(L.type==="verify_attestation"){if(w5(L.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(L.attestation===null?"":L.attestation)}}catch(L){this.logger.warn(L)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),on(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(w5(s).payload.id!==o)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,c)}),on(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(ve.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),on(this,"getVerifyUrl",i=>{let s=i||Td;return Ume.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Td}`),s=Td),s}),on(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ve.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),on(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),on(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),on(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),on(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),on(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),on(this,"validateAttestation",(i,s)=>{const a=y1e(i,s.publicKey),o={hasExpired:ve.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=_i(n,this.name),this.abortController=new AbortController,this.isDevEnv=Bw(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ti(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ve.toMiliseconds(e))}};var D5e=Object.defineProperty,j5e=(t,e,n)=>e in t?D5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_E=(t,e,n)=>j5e(t,typeof e!="symbol"?e+"":e,n);let U5e=class extends y6e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,_E(this,"context",Bme),_E(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=r,c=`${Fme}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})}),this.logger=_i(n,this.context)}};var B5e=Object.defineProperty,CE=Object.getOwnPropertySymbols,F5e=Object.prototype.hasOwnProperty,z5e=Object.prototype.propertyIsEnumerable,K5=(t,e,n)=>e in t?B5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e)=>{for(var n in e||(e={}))F5e.call(e,n)&&K5(t,n,e[n]);if(CE)for(var n of CE(e))z5e.call(e,n)&&K5(t,n,e[n]);return t},On=(t,e,n)=>K5(t,typeof e!="symbol"?e+"":e,n);let W5e=class extends w6e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,On(this,"context",Wme),On(this,"storagePrefix",Xs),On(this,"storageVersion",zme),On(this,"events",new Map),On(this,"shouldPersist",!1),On(this,"init",async()=>{if(!Bw())try{const i={eventId:Y_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:J$(this.core.relayer.protocol,this.core.relayer.version,F5)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),On(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:o,trace:c}}=i,l=Y_(),u=this.core.projectId||"",d=Date.now(),h=Vu({eventId:l,timestamp:d,props:{event:s,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),On(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return Vu(Vu({},o),this.setMethods(o.eventId))}),On(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),On(this,"setEventListeners",()=>{this.core.heartbeat.on(T2.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ve.fromMiliseconds(Date.now())-ve.fromMiliseconds(i.timestamp)>Vme&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),On(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),On(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),On(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),On(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),On(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Vu(Vu({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),On(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),On(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Hme}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${F5}${s}`,{method:"POST",body:JSON.stringify(i)})}),On(this,"getAppDomain",()=>Y$().url),this.logger=_i(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var V5e=Object.defineProperty,EE=Object.getOwnPropertySymbols,H5e=Object.prototype.hasOwnProperty,q5e=Object.prototype.propertyIsEnumerable,Y5=(t,e,n)=>e in t?V5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xE=(t,e)=>{for(var n in e||(e={}))H5e.call(e,n)&&Y5(t,n,e[n]);if(EE)for(var n of EE(e))q5e.call(e,n)&&Y5(t,n,e[n]);return t},Pt=(t,e,n)=>Y5(t,typeof e!="symbol"?e+"":e,n);let Z5e=class xN extends s6e{constructor(e){var n;super(e),Pt(this,"protocol",cN),Pt(this,"version",lN),Pt(this,"name",B5),Pt(this,"relayUrl"),Pt(this,"projectId"),Pt(this,"customStoragePrefix"),Pt(this,"events",new vi.EventEmitter),Pt(this,"logger"),Pt(this,"heartbeat"),Pt(this,"relayer"),Pt(this,"crypto"),Pt(this,"storage"),Pt(this,"history"),Pt(this,"expirer"),Pt(this,"pairing"),Pt(this,"verify"),Pt(this,"echoClient"),Pt(this,"linkModeSupportedApps"),Pt(this,"eventClient"),Pt(this,"initialized",!1),Pt(this,"logChunkController"),Pt(this,"on",(o,c)=>this.events.on(o,c)),Pt(this,"once",(o,c)=>this.events.once(o,c)),Pt(this,"off",(o,c)=>this.events.off(o,c)),Pt(this,"removeListener",(o,c)=>this.events.removeListener(o,c)),Pt(this,"dispatchEnvelope",({topic:o,message:c,sessionExists:l})=>{if(!o||!c)return;const u={topic:o,message:c,publishedAt:Date.now(),transportType:zt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||dN,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=efe({level:typeof e?.logger=="string"&&e.logger?e.logger:hme.logger,name:B5}),{logger:s,chunkLoggerController:a}=G$({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,c;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_i(s,this.name),this.heartbeat=new S3e,this.crypto=new vye(this,this.logger,e?.keychain),this.history=new k5e(this,this.logger),this.expirer=new R5e(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new n6e(xE(xE({},fme),e?.storageOptions)),this.relayer=new Zye({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new S5e(this,this.logger),this.verify=new N5e(this,this.logger,this.storage),this.echoClient=new U5e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new W5e(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new xN(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Sme,r),n}get context(){return ti(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(nE,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nE)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&dme.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const G5e=Z5e,AN="wc",LN=2,SN="client",nb=`${AN}@${LN}:${SN}:`,Hm={name:SN,logger:"error"},AE="WALLETCONNECT_DEEPLINK_CHOICE",K5e="proposal",LE="Proposal expired",Y5e="session",K2=ve.SEVEN_DAYS,J5e="engine",Zn={wc_sessionPropose:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ve.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ve.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1119}}},qm={min:ve.FIVE_MINUTES,max:ve.SEVEN_DAYS},Ps={idle:"IDLE",active:"ACTIVE"},X5e={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Q5e="request",e4e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],t4e="wc",n4e="auth",r4e="authKeys",i4e="pairingTopics",s4e="requests",D3=`${t4e}@${1.5}:${n4e}:`,Gp=`${D3}:PUB_KEY`;var a4e=Object.defineProperty,o4e=Object.defineProperties,c4e=Object.getOwnPropertyDescriptors,SE=Object.getOwnPropertySymbols,l4e=Object.prototype.hasOwnProperty,u4e=Object.prototype.propertyIsEnumerable,J5=(t,e,n)=>e in t?a4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e)=>{for(var n in e||(e={}))l4e.call(e,n)&&J5(t,n,e[n]);if(SE)for(var n of SE(e))u4e.call(e,n)&&J5(t,n,e[n]);return t},cr=(t,e)=>o4e(t,c4e(e)),ae=(t,e,n)=>J5(t,typeof e!="symbol"?e+"":e,n);let d4e=class extends C6e{constructor(e){super(e),ae(this,"name",J5e),ae(this,"events",new mw),ae(this,"initialized",!1),ae(this,"requestQueue",{state:Ps.idle,queue:[]}),ae(this,"sessionRequestQueue",{state:Ps.idle,queue:[]}),ae(this,"emittedSessionRequests",new Ofe({limit:500})),ae(this,"requestQueueDelay",ve.ONE_SECOND),ae(this,"expectedPairingMethodMap",new Map),ae(this,"recentlyDeletedMap",new Map),ae(this,"recentlyDeletedLimit",200),ae(this,"relayMessageCache",[]),ae(this,"pendingSessions",new Map),ae(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Zn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay)))}),ae(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=cr(Ct({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=U1e(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const _=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=_.active}}catch(_){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),_}if(!u||!h){const{topic:_,uri:I}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=_,d=I}if(!u){const{message:_}=be("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(_)}const f=await this.client.core.crypto.generateKeyPair(),p=Zn.wc_sessionPropose.req.ttl||ve.FIVE_MINUTES,m=ln(p),y=cr(Ct(Ct({requiredNamespaces:s,optionalNamespaces:a,relays:l??[{protocol:uN}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},o&&{sessionProperties:o}),c&&{scopedProperties:c}),{id:Ds()}),C=vt("session_connect",y.id),{reject:L,resolve:w,done:b}=Ec(p,LE),x=({id:_})=>{_===y.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(y.id),this.events.emit(C,{error:{message:LE,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(C,({error:_,session:I})=>{this.client.events.off("proposal_expire",x),_?L(_):I&&w(I)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:b}}),ae(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ae(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Ji.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw a.setError(wc.no_internet_connection),N}try{await this.isValidProposalId(n?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(wc.proposal_not_found),N}try{await this.isValidApprove(n)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(wc.session_approve_namespace_validation_failure),N}const{id:o,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:y,optionalNamespaces:C}=f;let L=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});L||(L=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ji.session_approve_started,properties:{topic:p,trace:[Ji.session_approve_started,Ji.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),b=m.publicKey,x=await this.client.core.crypto.generateSharedKey(w,b),_=Ct(Ct(Ct({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:ln(K2)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),I=zt.relay;L.addTrace(Ji.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:I,internal:{skipSubscribe:!0}})}catch(N){throw L.setError(wc.subscribe_session_topic_failure),N}L.addTrace(Ji.subscribe_session_topic_success);const M=cr(Ct({},_),{topic:x,requiredNamespaces:y,optionalNamespaces:C,pairingTopic:p,acknowledged:!1,self:_.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:w,transportType:zt.relay});await this.client.session.set(x,M),L.addTrace(Ji.store_session);try{await this.sendApproveSession({sessionTopic:x,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:w},sessionSettleRequest:_,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),L.addTrace(Ji.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(x,Wt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),N}return this.client.core.eventClient.deleteEvent({eventId:L.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(x,ln(K2)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),ae(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Zn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ae(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:o}=Ec(),c=Ds(),l=Ho().toString(),u=this.client.session.get(r).namespaces;return this.events.once(vt("session_update",c),({error:d})=>{d?o(d):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),o(d)}),{acknowledged:s}}),ae(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Ds(),{done:s,resolve:a,reject:o}=Ec();return this.events.once(vt("session_extend",i),({error:c})=>{c?o(c):a()}),await this.setExpiry(r,ln(K2)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:s}}),ae(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:a=Zn.wc_sessionRequest.req.ttl}=n,o=this.client.session.get(s);o?.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const c=Ds(),l=Ho().toString(),{done:u,resolve:d,reject:h}=Ec(a,"Request expired. Please try again.");this.events.once(vt("session_request",c),({error:y,result:C})=>{y?h(y):d(C)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:cr(Ct({},i),{expiryTimestamp:ln(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:cr(Ct({},i),{expiryTimestamp:ln(a)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(C=>h(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),y()}),new Promise(async y=>{var C;if(!((C=o.sessionConfig)!=null&&C.disableDeepLink)){const L=await Sfe(this.client.core.storage,AE);await xfe({id:c,topic:s,wcDeepLink:L})}y()}),u()]).then(y=>y[2])}),ae(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Ji.session_request_response_started]}});try{await this.isValidRespond(n)}catch(d){throw s.addTrace(d?.message),s.setError(wc.session_request_response_validation_failure),d}s.addTrace(Ji.session_request_response_validation_success);const{topic:a,response:o}=n,{id:c}=o,l=this.client.session.get(a);l.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{s.addTrace(Ji.session_request_response_publish_started),js(o)?await this.sendResult({id:c,topic:a,result:o.result,throwOnFailedPublish:!0,appLink:u}):Ni(o)&&await this.sendError({id:c,topic:a,error:o.error,appLink:u}),this.cleanupAfterResponse(n)}catch(d){throw s.addTrace(d?.message),s.setError(wc.session_request_response_publish_failure),d}}),ae(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Ds(),s=Ho().toString(),{done:a,resolve:o,reject:c}=Ec();this.events.once(vt("session_ping",i),({error:l})=>{l?c(l):o()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ae(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=Ho().toString(),o=Ds();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),ae(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Wt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=be("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ae(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>z1e(r,n)))),ae(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ae(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?zt.link_mode:zt.relay;a===zt.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:y}=n,C=[...n.resources||[]],{topic:L,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:L,uri:w}});const b=await this.client.core.crypto.generateKeyPair(),x=Vp(b);if(await Promise.all([this.client.auth.authKeys.set(Gp,{responseTopic:x,publicKey:b}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:L})]),await this.client.core.relayer.subscribe(x,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${L}`),m.length>0){const{namespace:$}=za(o[0]);let D=Wpe($,"request",m);Wp(C)&&(D=Hpe(D,C.pop())),C.push(D)}const _=y&&y>Zn.wc_sessionAuthenticate.req.ttl?y:Zn.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:h??"caip122",chains:o,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:C},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:ln(_)},M={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:L,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:ln(Zn.wc_sessionPropose.req.ttl),id:Ds()},{done:U,resolve:B,reject:P}=Ec(_,"Request expired"),T=Ds(),j=vt("session_connect",N.id),v=vt("session_request",T),E=async({error:$,session:D})=>{this.events.off(v,O),$?P($):D&&B({session:D})},O=async $=>{var D,W,q;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),$.error){const oe=Wt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===oe.code?void 0:(this.events.off(j,E),P($.error.message))}await this.deleteProposal(N.id),this.events.off(j,E);const{cacaos:X,responder:J}=$.result,Q=[],he=[];for(const oe of X){await oC({cacao:oe,projectId:this.client.core.projectId})||(this.client.logger.error(oe,"Signature verification failed"),P(Wt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:V}=oe,je=Wp(V.resources),Fe=[x5(V.iss)],fe=n1(V.iss);if(je){const $e=cC(je),ye=lC(je);Q.push(...$e),Fe.push(...ye)}for(const $e of Fe)he.push(`${$e}:${fe}`)}const de=await this.client.core.crypto.generateSharedKey(b,J.publicKey);let Ce;Q.length>0&&(Ce={topic:de,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:ln(K2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:L,namespaces:MC([...new Set(Q)],[...new Set(he)]),transportType:a},await this.client.core.relayer.subscribe(de,{transportType:a}),await this.client.session.set(de,Ce),L&&await this.client.core.pairing.updateMetadata({topic:L,metadata:J.metadata}),Ce=this.client.session.get(de)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(W=J.metadata.redirect)!=null&&W.linkMode&&(q=J.metadata.redirect)!=null&&q.universal&&r&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(de,{transportType:zt.link_mode})),B({auths:X,session:Ce})};this.events.once(j,E),this.events.once(v,O);let k;try{if(s){const $=ss("wc_sessionAuthenticate",I,T);this.client.core.history.set(L,$);const D=await this.client.core.crypto.encode("",$,{type:bf,encoding:Do});k=fp(r,L,D)}else await Promise.all([this.sendRequest({topic:L,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:L,method:"wc_sessionPropose",params:N,expiry:Zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch($){throw this.events.off(j,E),this.events.off(v,O),$}return await this.setProposal(N.id,N),await this.setAuthRequest(T,{request:cr(Ct({},I),{verifyContext:{}}),pairingTopic:L,transportType:a}),{uri:k??w,response:U}}),ae(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[bc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(zu.no_internet_connection),y}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError(zu.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const o=a.transportType||zt.relay;o===zt.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Vp(c),d={type:Wa,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await oC({cacao:y,projectId:this.client.core.projectId})){s.setError(zu.invalid_cacao);const x=Wt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:x,encodeOpts:d}),new Error(x.message)}s.addTrace(bc.cacaos_verified);const{p:C}=y,L=Wp(C.resources),w=[x5(C.iss)],b=n1(C.iss);if(L){const x=cC(L),_=lC(L);h.push(...x),w.push(..._)}for(const x of w)f.push(`${x}:${b}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(bc.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:ln(K2),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:MC([...new Set(h)],[...new Set(f)]),transportType:o},s.addTrace(bc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:o})}catch(y){throw s.setError(zu.subscribe_authenticated_session_topic_failure),y}s.addTrace(bc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(bc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(bc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(y){throw s.setError(zu.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),ae(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===zt.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=Vp(a),l={type:Wa,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ae(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return mM(r,i)}),ae(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ae(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ae(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Wt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(AE).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Wt("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ps.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})}),ae(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(wc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Wt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ae(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Ps.idle,this.client.events.emit("session_request_expire",{id:n}))}),ae(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ae(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ae(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ln(Zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ae(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=zt.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),ae(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,o=s.request.expiryTimestamp||ln(Zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,o),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),ae(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,f=ss(i,s,c);let p;const m=!!u;try{const L=m?Do:Wr;p=await this.client.core.crypto.encode(r,f,{encoding:L})}catch(L){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),L}let y;if(e4e.includes(i)){const L=Mi(JSON.stringify(f)),w=Mi(p);y=await this.client.core.verify.register({id:w,decryptedId:L})}const C=Ct(Ct({},Zn[i].req),h);if(C.attestation=y,a&&(C.ttl=a),o&&(C.id=o),this.client.core.history.set(r,f),m){const L=fp(u,r,p);await globalThis.Linking.openURL(L,this.client.name)}else C.tvf=cr(Ct({},d),{correlationId:f.id}),l?(C.internal=cr(Ct({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,C)):this.client.core.relayer.publish(r,p,C).catch(L=>this.client.logger.error(L));return f.id}),ae(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=ss("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Wr}),o=Mi(JSON.stringify(s)),c=Mi(a),l=await this.client.core.verify.register({id:c,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:cr(Ct({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),ae(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:o}=n,c=xh(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Wr}),u=ss("wc_sessionSettle",a,o?.id),d=await this.client.core.crypto.encode(r,u,{encoding:Wr});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:cr(Ct({},o),{publishMethod:"wc_approveSession"})})}),ae(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=n,l=xh(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Do:Wr;u=await this.client.core.crypto.encode(i,l,cr(Ct({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,r);const p=h.request;try{f=this.getTVFParams(r,p.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),p}if(d){const p=fp(c,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=Zn[p].res;m.tvf=cr(Ct({},f),{correlationId:r}),a?(m.internal=cr(Ct({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ae(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:c}=n,l=$3(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Do:Wr;u=await this.client.core.crypto.encode(i,l,cr(Ct({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=fp(c,i,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=o||Zn[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),ae(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Us(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Us(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ae(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ae(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ae(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ps.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ps.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ps.idle}),ae(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:o}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ae(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),ae(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=be("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ae(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ae(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:o,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(va.proposal_listener_not_found)),this.isValidConnect(Ct({},i.params));const u=o.expiryTimestamp||ln(Zn.wc_sessionPropose.req.ttl),d=Ct({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:a},o);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Mi(JSON.stringify(i)),encryptedId:a,metadata:d.proposer.metadata});l?.addTrace(Ms.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Zn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ae(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(js(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Ni(r)){await this.deleteProposal(s);const a=vt("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),ae(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:o,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=cr(Ct(Ct(Ct({topic:n,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:o.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:zt.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(vt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ae(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;js(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(vt("session_approve",i),{})):Ni(r)&&(await this.client.session.delete(n,Wt("USER_DISCONNECTED")),this.events.emit(vt("session_approve",i),{error:r.error}))}),ae(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,o=Bu.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Wt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ct({topic:n},i));try{Bu.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw Bu.delete(a),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ae(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ae(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=vt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(vt("session_update",i),{}):Ni(r)&&this.events.emit(vt("session_update",i),{error:r.error})}),ae(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ln(K2)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ae(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=vt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(vt("session_extend",i),{}):Ni(r)&&this.events.emit(vt("session_extend",i),{error:r.error})}),ae(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ae(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=vt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);js(r)?this.events.emit(vt("session_ping",i),{}):Ni(r)&&this.events.emit(vt("session_ping",i),{error:r.error})},500)}),ae(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(nn.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Wt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ae(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:o,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=o;try{await this.isValidRequest(Ct({topic:a},h));const f=this.client.session.get(a),p=await this.getVerifyContext({attestationId:c,hash:Mi(JSON.stringify(ss("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:a,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===zt.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:a,error:f}),this.client.logger.error(f)}}),ae(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=vt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(vt("session_request",i),{result:r.result}):Ni(r)&&this.events.emit(vt("session_request",i),{error:r.error})}),ae(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,o=Bu.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ct({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Bu.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ae(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),js(r)?this.events.emit(vt("session_request",i),{result:r.result}):Ni(r)&&this.events.emit(vt("session_request",i),{error:r.error})}),ae(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:o,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:a,hash:Mi(JSON.stringify(s)),encryptedId:o,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===zt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Wa,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:Zn.wc_sessionAuthenticate.autoReject,appLink:h})}}),ae(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ae(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ps.idle,this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay))}),ae(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,o=vt("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(vt("session_request",s.request.id),{error:r})})}),ae(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ps.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ae(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Ps.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ae(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ss("wc_sessionPropose",cr(Ct({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ae(this,"isValidConnect",async n=>{if(!Ur(n)){const{message:l}=be("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:o,relays:c}=n;if(An(r)||await this.isValidPairingTopic(r),!e3e(c)){const{message:l}=be("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(i&&!An(i)&&Gs(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!An(s)&&Gs(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),a&&!An(a)&&this.validateSessionProps(a,"sessionProperties"),o&&!An(o)){this.validateSessionProps(o,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(o).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ae(this,"validateNamespaces",(n,r)=>{const i=Q1e(n,"connect()",r);if(i)throw new Error(i.message)}),ae(this,"isValidApprove",async n=>{if(!Ur(n))throw new Error(be("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:o}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=jm(i,"approve()");if(l)throw new Error(l.message);const u=jC(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!fn(s,!0)){const{message:d}=be("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(a&&!An(a)&&this.validateSessionProps(a,"sessionProperties"),o&&!An(o)){this.validateSessionProps(o,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(o).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ae(this,"isValidReject",async n=>{if(!Ur(n)){const{message:s}=be("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!n3e(i)){const{message:s}=be("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ae(this,"isValidSessionSettleRequest",n=>{if(!Ur(n)){const{message:l}=be("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!XM(r)){const{message:l}=be("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=Z1e(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const c=jm(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Us(a)){const{message:l}=be("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ae(this,"isValidUpdate",async n=>{if(!Ur(n)){const{message:c}=be("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=jm(i,"update()");if(a)throw new Error(a.message);const o=jC(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),ae(this,"isValidExtend",async n=>{if(!Ur(n)){const{message:i}=be("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ae(this,"isValidRequest",async n=>{if(!Ur(n)){const{message:c}=be("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!DC(o,s)){const{message:c}=be("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!r3e(i)){const{message:c}=be("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!a3e(o,s,i.method)){const{message:c}=be("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(a&&!u3e(a,qm)){const{message:c}=be("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${qm.min} and ${qm.max}`);throw new Error(c)}}),ae(this,"isValidRespond",async n=>{var r;if(!Ur(n)){const{message:o}=be("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!i3e(s)){const{message:o}=be("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}const a=this.client.pendingRequest.get(s.id);if(a.topic!==i){const{message:o}=be("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${a.topic}, received topic: ${i}`);throw new Error(o)}}),ae(this,"isValidPing",async n=>{if(!Ur(n)){const{message:i}=be("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ae(this,"isValidEmit",async n=>{if(!Ur(n)){const{message:o}=be("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(o)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!DC(a,s)){const{message:o}=be("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!s3e(i)){const{message:o}=be("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!o3e(a,s,i.name)){const{message:o}=be("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),ae(this,"isValidDisconnect",async n=>{if(!Ur(n)){const{message:i}=be("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ae(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!fn(i,!1))throw new Error("uri is required parameter");if(!fn(s,!1))throw new Error("domain is required parameter");if(!fn(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>za(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=za(r[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ae(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:o}=n,c={verified:{verifyUrl:a.verifyUrl||Td,validation:"UNKNOWN",origin:a.url||""}};try{if(o===zt.link_mode){const u=this.getAppLinkIfEnabled(a,o);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ae(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=be("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),ae(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ae(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),ae(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=be("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ae(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,o,c,l,u,d,h;return!n||r!==zt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),ae(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),ae(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=K_(n,"topic")||"",i=decodeURIComponent(K_(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:zt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ae(this,"registerLinkModeListeners",async()=>{var n;if(Bw()||lc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ae(this,"getTVFParams",(n,r,i)=>{var s,a,o;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(o=(a=r.request.params)==null?void 0:a[0])==null?void 0:o.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),ae(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ae(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=X5e[s];if(s==="sui_signTransaction")return[Lpe(r.transactionBytes)];if(s==="near_signTransaction")return[rC(r)];if(s==="near_signTransactions")return r.map(c=>rC(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[A3e({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Ui(r)?r.map(c=>iC(c)):[iC(r)];if(s==="cosmos_signDirect")return[Ipe(r)];if(s==="wallet_sendCalls")return Tpe(r);if(typeof r=="string")return[r];const o=r[a.key];if(Ui(o))return s==="solana_signAllTransactions"?o.map(c=>Ape(c)):o;if(typeof o=="string")return[o]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Gp)?this.client.auth.authKeys.get(Gp):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===zt.link_mode?Do:Wr});eb(o)?(this.client.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o,attestation:i,transportType:s,encryptedId:Mi(r)})):M3(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o,transportType:s}),this.client.core.history.delete(n,o.id)):await this.onRelayEventUnknownPayload({topic:n,payload:o,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(Pi.expired,async e=>{const{topic:n,id:r}=Q$(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,be("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,be("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Oc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Oc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!fn(e,!1)){const{message:n}=be("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Us(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=be("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!fn(e,!1)){const{message:n}=be("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Us(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=be("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=be("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(fn(e,!1)){const{message:n}=be("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=be("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!t3e(e)){const{message:n}=be("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Us(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=be("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},h4e=class extends P2{constructor(e,n){super(e,n,K5e,nb),this.core=e,this.logger=n}},f4e=class extends P2{constructor(e,n){super(e,n,Y5e,nb),this.core=e,this.logger=n}};class p4e extends P2{constructor(e,n){super(e,n,Q5e,nb,r=>r.id),this.core=e,this.logger=n}}class m4e extends P2{constructor(e,n){super(e,n,r4e,D3,()=>Gp),this.core=e,this.logger=n}}let g4e=class extends P2{constructor(e,n){super(e,n,i4e,D3),this.core=e,this.logger=n}},y4e=class extends P2{constructor(e,n){super(e,n,s4e,D3,r=>r.id),this.core=e,this.logger=n}};var w4e=Object.defineProperty,b4e=(t,e,n)=>e in t?w4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zm=(t,e,n)=>b4e(t,typeof e!="symbol"?e+"":e,n);let v4e=class{constructor(e,n){this.core=e,this.logger=n,Zm(this,"authKeys"),Zm(this,"pairingTopics"),Zm(this,"requests"),this.authKeys=new m4e(this.core,this.logger),this.pairingTopics=new g4e(this.core,this.logger),this.requests=new y4e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var _4e=Object.defineProperty,C4e=(t,e,n)=>e in t?_4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lt=(t,e,n)=>C4e(t,typeof e!="symbol"?e+"":e,n);let E4e=class IN extends _6e{constructor(e){super(e),lt(this,"protocol",AN),lt(this,"version",LN),lt(this,"name",Hm.name),lt(this,"metadata"),lt(this,"core"),lt(this,"logger"),lt(this,"events",new vi.EventEmitter),lt(this,"engine"),lt(this,"session"),lt(this,"proposal"),lt(this,"pendingRequest"),lt(this,"auth"),lt(this,"signConfig"),lt(this,"on",(r,i)=>this.events.on(r,i)),lt(this,"once",(r,i)=>this.events.once(r,i)),lt(this,"off",(r,i)=>this.events.off(r,i)),lt(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),lt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),lt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),lt(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),lt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),lt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Hm.name,this.metadata=wfe(e?.metadata),this.signConfig=e?.signConfig;const n=Xw({logger:e?.logger||Hm.logger,name:this.name});this.logger=n,this.core=e?.core||new G5e(e),this.session=new f4e(this.core,this.logger),this.proposal=new h4e(this.core,this.logger),this.pendingRequest=new p4e(this.core,this.logger),this.engine=new d4e(this),this.auth=new v4e(this.core,this.logger)}static async init(e){const n=new IN(e);return await n.initialize(),n}get context(){return ti(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const x4e=E4e;var X5={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function f(v){return typeof v!="string"&&(v=String(v)),v}function p(v){var E={next:function(){var O=v.shift();return{done:O===void 0,value:O}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function m(v){this.map={},v instanceof m?v.forEach(function(E,O){this.append(O,E)},this):Array.isArray(v)?v.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(E){this.append(E,v[E])},this)}m.prototype.append=function(v,E){v=h(v),E=f(E);var O=this.map[v];this.map[v]=O?O+", "+E:E},m.prototype.delete=function(v){delete this.map[h(v)]},m.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},m.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},m.prototype.set=function(v,E){this.map[h(v)]=f(E)},m.prototype.forEach=function(v,E){for(var O in this.map)this.map.hasOwnProperty(O)&&v.call(E,this.map[O],O,this)},m.prototype.keys=function(){var v=[];return this.forEach(function(E,O){v.push(O)}),p(v)},m.prototype.values=function(){var v=[];return this.forEach(function(E){v.push(E)}),p(v)},m.prototype.entries=function(){var v=[];return this.forEach(function(E,O){v.push([O,E])}),p(v)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function C(v){return new Promise(function(E,O){v.onload=function(){E(v.result)},v.onerror=function(){O(v.error)}})}function L(v){var E=new FileReader,O=C(E);return E.readAsArrayBuffer(v),O}function w(v){var E=new FileReader,O=C(E),k=/charset=([A-Za-z0-9_-]+)/.exec(v.type),$=k?k[1]:"utf-8";return E.readAsText(v,$),O}function b(v){for(var E=new Uint8Array(v),O=new Array(E.length),k=0;k<E.length;k++)O[k]=String.fromCharCode(E[k]);return O.join("")}function x(v){if(v.slice)return v.slice(0);var E=new Uint8Array(v.byteLength);return E.set(new Uint8Array(v)),E.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&l(v)?(this._bodyArrayBuffer=x(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||d(v))?this._bodyArrayBuffer=x(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=y(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(L);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(v){var E=v.toUpperCase();return I.indexOf(E)>-1?E:v}function N(v,E){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var O=E.body;if(v instanceof N){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,E.headers||(this.headers=new m(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!O&&v._bodyInit!=null&&(O=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new m(E.headers)),this.method=M(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in o){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function U(v){var E=new FormData;return v.trim().split("&").forEach(function(O){if(O){var k=O.split("="),$=k.shift().replace(/\+/g," "),D=k.join("=").replace(/\+/g," ");E.append(decodeURIComponent($),decodeURIComponent(D))}}),E}function B(v){var E=new m,O=v.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var $=k.split(":"),D=$.shift().trim();if(D){var W=$.join(":").trim();try{E.append(D,W)}catch(q){console.warn("Response "+q.message)}}}),E}_.call(N.prototype);function P(v,E){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new m(E.headers),this.url=E.url||"",this._initBody(v)}_.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var v=new P(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var T=[301,302,303,307,308];P.redirect=function(v,E){if(T.indexOf(E)===-1)throw new RangeError("Invalid status code");return new P(null,{status:E,headers:{location:v}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(E,O){this.message=E,this.name=O;var k=Error(E);this.stack=k.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function j(v,E){return new Promise(function(O,k){var $=new N(v,E);if($.signal&&$.signal.aborted)return k(new a.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function W(){D.abort()}D.onload=function(){var J={statusText:D.statusText,headers:B(D.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(D.status<200||D.status>599)?J.status=200:J.status=D.status,J.url="responseURL"in D?D.responseURL:J.headers.get("X-Request-URL");var Q="response"in D?D.response:D.responseText;setTimeout(function(){O(new P(Q,J))},0)},D.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){k(new a.DOMException("Aborted","AbortError"))},0)};function q(J){try{return J===""&&o.location.href?o.location.href:J}catch{return J}}if(D.open($.method,q($.url),!0),$.credentials==="include"?D.withCredentials=!0:$.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(c.blob?D.responseType="blob":c.arrayBuffer&&(D.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof m||o.Headers&&E.headers instanceof o.Headers)){var X=[];Object.getOwnPropertyNames(E.headers).forEach(function(J){X.push(h(J)),D.setRequestHeader(J,f(E.headers[J]))}),$.headers.forEach(function(J,Q){X.indexOf(Q)===-1&&D.setRequestHeader(Q,J)})}else $.headers.forEach(function(J,Q){D.setRequestHeader(Q,J)});$.signal&&($.signal.addEventListener("abort",W),D.onreadystatechange=function(){D.readyState===4&&$.signal.removeEventListener("abort",W)}),D.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return j.polyfill=!0,o.fetch||(o.fetch=j,o.Headers=m,o.Request=N,o.Response=P),a.Headers=m,a.Request=N,a.Response=P,a.fetch=j,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(X5,X5.exports);var A4e=X5.exports;const IE=w2(A4e);var L4e=Object.defineProperty,S4e=Object.defineProperties,I4e=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,T4e=Object.prototype.hasOwnProperty,k4e=Object.prototype.propertyIsEnumerable,kE=(t,e,n)=>e in t?L4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PE=(t,e)=>{for(var n in e||(e={}))T4e.call(e,n)&&kE(t,n,e[n]);if(TE)for(var n of TE(e))k4e.call(e,n)&&kE(t,n,e[n]);return t},OE=(t,e)=>S4e(t,I4e(e));const P4e={Accept:"application/json","Content-Type":"application/json"},O4e="POST",RE={headers:P4e,method:O4e},$E=10;let TN=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new vi.EventEmitter,this.isAvailable=!1,this.registering=!1,!JC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Ka(e),r=await(await IE(this.url,OE(PE({},RE),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!JC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Ka({id:1,jsonrpc:"2.0",method:"test",params:[]});await IE(e,OE(PE({},RE),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?h2(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=$3(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return rN(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$E&&this.events.setMaxListeners($E)}};function rb(t){return t==null||typeof t!="object"&&typeof t!="function"}function kN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function PN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const R4e="[object RegExp]",ON="[object String]",RN="[object Number]",$N="[object Boolean]",MN="[object Arguments]",$4e="[object Symbol]",M4e="[object Date]",N4e="[object Map]",D4e="[object Set]",j4e="[object Array]",U4e="[object ArrayBuffer]",B4e="[object Object]",F4e="[object DataView]",z4e="[object Uint8Array]",W4e="[object Uint8ClampedArray]",V4e="[object Uint16Array]",H4e="[object Uint32Array]",q4e="[object Int8Array]",Z4e="[object Int16Array]",G4e="[object Int32Array]",K4e="[object Float32Array]",Y4e="[object Float64Array]";function ib(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function J4e(t,e){return pl(t,void 0,t,new Map,e)}function pl(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(rb(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=pl(t[o],o,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[o,c]of t)a.set(o,pl(c,o,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const o of t)a.add(pl(o,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(ib(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=pl(t[o],o,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Rc(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Rc(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Rc(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Rc(a,t,n,r,i),a}if(typeof t=="object"&&X4e(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Rc(a,t,n,r,i),a}return t}function Rc(t,e,n=t,r,i){const s=[...Object.keys(e),...kN(e)];for(let a=0;a<s.length;a++){const o=s[a],c=Object.getOwnPropertyDescriptor(t,o);(c==null||c.writable)&&(t[o]=pl(e[o],o,n,r,i))}}function X4e(t){switch(PN(t)){case MN:case j4e:case U4e:case F4e:case $N:case M4e:case K4e:case Y4e:case q4e:case Z4e:case G4e:case N4e:case RN:case B4e:case R4e:case D4e:case ON:case $4e:case z4e:case W4e:case V4e:case H4e:return!0;default:return!1}}function Q4e(t,e){return J4e(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case RN:case ON:case $N:{const a=new t.constructor(t?.valueOf());return Rc(a,t),a}case MN:{const a={};return Rc(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function ME(t){return Q4e(t)}function NE(t){return t!==null&&typeof t=="object"&&PN(t)==="[object Arguments]"}function DE(t){return typeof t=="object"&&t!==null}function e8e(){}function t8e(t){return ib(t)}function n8e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function r8e(t){if(rb(t))return t;if(Array.isArray(t)||ib(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function i8e(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=Q5(i,a,r,new Map)}return i}function Q5(t,e,n,r){if(rb(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return r8e(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...kN(e)];for(let s=0;s<i.length;s++){const a=i[s];let o=e[a],c=t[a];if(NE(o)&&(o={...o}),NE(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(o)&&(o=ME(o)),Array.isArray(o))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,o,a,t,e,r);l!=null?t[a]=l:Array.isArray(o)||DE(c)&&DE(o)?t[a]=Q5(c,o,n,r):c==null&&n8e(o)?t[a]=Q5({},o,n,r):c==null&&t8e(o)?t[a]=ME(o):(c===void 0||o!==void 0)&&(t[a]=o)}return t}function s8e(t,...e){return i8e(t,...e,e8e)}const jE="error",a8e="wss://relay.walletconnect.org",o8e="wc",NN="universal_provider",mp=`${o8e}@2:${NN}:`,DN="https://rpc.walletconnect.org/v1/",jN="generic",c8e=`${DN}bundler`,kl="call_status",l8e=86400,sb={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var u8e=Object.defineProperty,d8e=Object.defineProperties,h8e=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,f8e=Object.prototype.hasOwnProperty,p8e=Object.prototype.propertyIsEnumerable,BE=(t,e,n)=>e in t?u8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gp=(t,e)=>{for(var n in e||(e={}))f8e.call(e,n)&&BE(t,n,e[n]);if(UE)for(var n of UE(e))p8e.call(e,n)&&BE(t,n,e[n]);return t},m8e=(t,e)=>d8e(t,h8e(e));function UN(t,e,n){var r;const i=za(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${DN}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function g8e(t){return t.includes(":")?t.split(":")[1]:t}function BN(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function y8e(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function FE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function yp(t={},e={}){const n=FE(zE(t)),r=FE(zE(e));return s8e(n,r)}function zE(t){var e,n,r,i,s;const a={};if(!Gs(t))return a;for(const[o,c]of Object.entries(t)){const l=R3(o)?[o]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=fl(o);a[f]=m8e(gp(gp({},a[f]),c),{chains:Zs(l,(e=a[f])==null?void 0:e.chains),methods:Zs(u,(n=a[f])==null?void 0:n.methods),events:Zs(d,(r=a[f])==null?void 0:r.events)}),(Gs(h)||Gs(((i=a[f])==null?void 0:i.rpcMap)||{}))&&(a[f].rpcMap=gp(gp({},h),(s=a[f])==null?void 0:s.rpcMap))}return a}function WE(t){return t.includes(":")?t.split(":")[2]:t}function VE(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],o=R3(n)?[n]:r.chains?r.chains:BN(r.accounts);e[n]={chains:o,methods:i,events:s,accounts:a}}return e}function Gm(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function w8e(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const FN={},Pl=t=>FN[t],Km=(t,e)=>{FN[t]=e};var b8e=Object.defineProperty,HE=Object.getOwnPropertySymbols,v8e=Object.prototype.hasOwnProperty,_8e=Object.prototype.propertyIsEnumerable,qE=(t,e,n)=>e in t?b8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZE=(t,e)=>{for(var n in e||(e={}))v8e.call(e,n)&&qE(t,n,e[n]);if(HE)for(var n of HE(e))_8e.call(e,n)&&qE(t,n,e[n]);return t};const GE="eip155",C8e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],E8e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Ym=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,KE=t=>Object.keys(t).filter(e=>C8e.includes(e)).reduce((e,n)=>(e[n]=x8e(t[n]),e),{}),x8e=t=>typeof t=="string"&&w8e(t)?JSON.parse(t):t,A8e=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Gs(i)&&!Gs(r))return;const a=KE(r);for(const o of n){const c=E8e(o);if(!c)continue;s[Ym(c)]=a;const l=i?.[`${GE}:${c}`];if(l){const u=l?.[`${GE}:${c}:${e}`];s[Ym(c)]=ZE(ZE({},s[Ym(c)]),KE(u||l))}}for(const[o,c]of Object.entries(s))Object.keys(c).length===0&&delete s[o];return Object.keys(s).length>0?s:void 0};var L8e=Object.defineProperty,S8e=(t,e,n)=>e in t?L8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I8e=(t,e,n)=>S8e(t,e+"",n);let Jm,T8e=class zN{constructor(e){I8e(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return Jm||(Jm=new zN(e)),Jm}};var k8e=Object.defineProperty,P8e=Object.defineProperties,O8e=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,R8e=Object.prototype.hasOwnProperty,$8e=Object.prototype.propertyIsEnumerable,JE=(t,e,n)=>e in t?k8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M8e=(t,e)=>{for(var n in e||(e={}))R8e.call(e,n)&&JE(t,n,e[n]);if(YE)for(var n of YE(e))$8e.call(e,n)&&JE(t,n,e[n]);return t},N8e=(t,e)=>P8e(t,O8e(e));async function D8e(t,e){const n=za(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(d=>j8e(n.reference,d,e))),s=i.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);i.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const a=!s.length||s.some(d=>!d),o=s.every(d=>d?.status==="0x1"),c=s.every(d=>d?.status==="0x0"),l=s.some(d=>d?.status==="0x0");let u;return a?u=100:o?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:u}}async function j8e(t,e,n){return await n(parseInt(t)).request(ss("eth_getTransactionReceipt",[e]))}async function U8e({sendCalls:t,storage:e}){const n=await e.getItem(kl);await e.setItem(kl,N8e(M8e({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:ln(l8e)}}))}async function B8e({resultId:t,storage:e}){const n=await e.getItem(kl);if(n){delete n[t],await e.setItem(kl,n);for(const r in n)Us(n[r].expiry)&&delete n[r];await e.setItem(kl,n)}}async function F8e({resultId:t,storage:e}){const n=await e.getItem(kl),r=n?.[t];if(r&&!Us(r.expiry))return r;await B8e({resultId:t,storage:e})}var z8e=Object.defineProperty,W8e=Object.defineProperties,V8e=Object.getOwnPropertyDescriptors,XE=Object.getOwnPropertySymbols,H8e=Object.prototype.hasOwnProperty,q8e=Object.prototype.propertyIsEnumerable,e4=(t,e,n)=>e in t?z8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xm=(t,e)=>{for(var n in e||(e={}))H8e.call(e,n)&&e4(t,n,e[n]);if(XE)for(var n of XE(e))q8e.call(e,n)&&e4(t,n,e[n]);return t},Qm=(t,e)=>W8e(t,V8e(e)),vc=(t,e,n)=>e4(t,typeof e!="symbol"?e+"":e,n);class Z8e{constructor(e){vc(this,"name","eip155"),vc(this,"client"),vc(this,"chainId"),vc(this,"namespace"),vc(this,"httpProviders"),vc(this,"events"),vc(this,"storage"),this.namespace=e.namespace,this.events=Pl("events"),this.client=Pl("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=T8e.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(sb.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||UN(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new tb(new TN(r,Pl("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(g8e(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=Qm(Xm({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const o=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((a=l?.sessionProperties)==null?void 0:a.capabilities)||{},d=`${o}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=A8e(l,o,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Qm(Xm({},l.sessionProperties||{}),{capabilities:Qm(Xm({},u||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const l=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,o)}const c=await F8e({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await D8e(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ss("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${c8e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),a=(n=e.request.params)==null?void 0:n[0],o=s?.id,c=s?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(i=c?.caip345)==null?void 0:i.transactionHashes;return!o||!l||!(u!=null&&u.length)||await U8e({sendCalls:{request:a,result:s},storage:this.storage}),s}}var G8e=Object.defineProperty,K8e=(t,e,n)=>e in t?G8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y2=(t,e,n)=>K8e(t,typeof e!="symbol"?e+"":e,n);class Y8e{constructor(e){Y2(this,"name",jN),Y2(this,"client"),Y2(this,"httpProviders"),Y2(this,"events"),Y2(this,"namespace"),Y2(this,"chainId"),this.namespace=e.namespace,this.events=Pl("events"),this.client=Pl("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(sb.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return za(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,a;const o=za(i),c=(a=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:a[`${o.namespace}:${o.reference}`];r[o.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(e){const n=za(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||UN(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new tb(new TN(r,Pl("disableProviderPing")))}}var J8e=Object.defineProperty,X8e=Object.defineProperties,Q8e=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,ewe=Object.prototype.hasOwnProperty,twe=Object.prototype.propertyIsEnumerable,t4=(t,e,n)=>e in t?J8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e)=>{for(var n in e||(e={}))ewe.call(e,n)&&t4(t,n,e[n]);if(QE)for(var n of QE(e))twe.call(e,n)&&t4(t,n,e[n]);return t},wp=(t,e)=>X8e(t,Q8e(e)),Ti=(t,e,n)=>t4(t,typeof e!="symbol"?e+"":e,n);class ab{constructor(e){Ti(this,"client"),Ti(this,"namespaces"),Ti(this,"optionalNamespaces"),Ti(this,"sessionProperties"),Ti(this,"scopedProperties"),Ti(this,"events",new mw),Ti(this,"rpcProviders",{}),Ti(this,"session"),Ti(this,"providerOpts"),Ti(this,"logger"),Ti(this,"uri"),Ti(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=Xw({logger:(n=e.logger)!=null?n:jE,name:(r=this.providerOpts.name)!=null?r:NN}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new ab(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Hu({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,xh(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Wt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=VE(this.session.namespaces);this.namespaces=yp(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=VE(i.namespaces);return this.namespaces=yp(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Ui(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await x4e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||jE,relayUrl:this.providerOpts.relayUrl||a8e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>fl(n)))];Km("client",this.client),Km("events",this.events),Km("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=y8e(n,this.session);if(r?.length===0)return;const i=BN(r),s=yp(this.namespaces,this.optionalNamespaces),a=wp(Hu({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new Z8e({namespace:a});break;default:this.rpcProviders[n]=new Y8e({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&Ui(a)&&this.events.emit("accountsChanged",a.map(WE))}else if(s.name==="chainChanged"){const a=r.chainId,o=r.event.data,c=fl(a),l=Gm(a)!==Gm(o)?`${c}:${Gm(o)}`:a;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=wp(Hu({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",wp(Hu({},Wt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(sb.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(wp(Hu({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[jN]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=yp(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>fl(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=fl(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const o=a.filter(c=>c.includes(`${n}:`)).map(WE);if(!Ui(o))return;this.events.emit("accountsChanged",o)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${mp}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${mp}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${mp}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(mp)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const nwe=ab,rwe="wc",iwe="ethereum_provider",swe=`${rwe}@2:${iwe}:`,awe="https://rpc.walletconnect.org/v1/",n4=["eth_sendTransaction","personal_sign"],WN=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],r4=["chainChanged","accountsChanged"],VN=["chainChanged","accountsChanged","message","disconnect","connect"],owe=async()=>{const{createAppKit:t}=await _e(()=>import("./launchpad-core-dB_9v9l2.js").then(e=>e.ai),__vite__mapDeps([2,1]));return t};var cwe=Object.defineProperty,lwe=Object.defineProperties,uwe=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,dwe=Object.prototype.hasOwnProperty,hwe=Object.prototype.propertyIsEnumerable,i4=(t,e,n)=>e in t?cwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xc=(t,e)=>{for(var n in e||(e={}))dwe.call(e,n)&&i4(t,n,e[n]);if(ex)for(var n of ex(e))hwe.call(e,n)&&i4(t,n,e[n]);return t},qu=(t,e)=>lwe(t,uwe(e)),si=(t,e,n)=>i4(t,typeof e!="symbol"?e+"":e,n);function c1(t){return Number(t[0].split(":")[1])}function bp(t){return`0x${t.toString(16)}`}function fwe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=t;if(!Ui(e))throw new Error("Invalid chains");const c={chains:e,methods:r||n4,events:s||r4,rpcMap:xc({},e.length?{[c1(e)]:o[c1(e)]}:{})},l=s?.filter(f=>!r4.includes(f)),u=r?.filter(f=>!n4.includes(f));if(!n&&!a&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=l?.length&&u?.length||!n,h={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:WN))],events:[...new Set(c.events.concat(a!=null&&a.length?a:VN))],rpcMap:o};return{required:e.length?c:void 0,optional:n.length?h:void 0}}class ob{constructor(){si(this,"events",new vi.EventEmitter),si(this,"namespace","eip155"),si(this,"accounts",[]),si(this,"signer"),si(this,"chainId",1),si(this,"modal"),si(this,"rpc"),si(this,"STORAGE_KEY",swe),si(this,"on",(e,n)=>(this.events.on(e,n),this)),si(this,"once",(e,n)=>(this.events.once(e,n),this)),si(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),si(this,"off",(e,n)=>(this.events.off(e,n),this)),si(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new ob;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=fwe(this.rpc);try{const s=await new Promise(async(o,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(qu(xc({namespaces:xc({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:d})).then(h=>{o(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const a=V_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:bp(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(a,o)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(qu(xc({},e),{chains:this.rpc.chains}),n).then(u=>{a(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),o(new Error(u.message))})}),s=i.session;if(s){const a=V_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:bp(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",bp(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",qu(xc({},Wt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",bp(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?e?.methods||n4:[],c=i.length?e?.events||r4:[],l=e?.optionalMethods||[],u=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(a,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:o,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?c1(this.rpc.chains):c1(this.rpc.optionalChains),this.signer=await nwe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await owe(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return xwe}),a=s(qu(xc({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect·");r=i(qu(xc({},a),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Ui(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&Ui(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${awe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const pwe=ob;var mwe=Object.defineProperty,gwe=Object.defineProperties,ywe=Object.getOwnPropertyDescriptors,tx=Object.getOwnPropertySymbols,wwe=Object.prototype.hasOwnProperty,bwe=Object.prototype.propertyIsEnumerable,nx=(t,e,n)=>e in t?mwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HN=(t,e)=>{for(var n in e||(e={}))wwe.call(e,n)&&nx(t,n,e[n]);if(tx)for(var n of tx(e))bwe.call(e,n)&&nx(t,n,e[n]);return t},vwe=(t,e)=>gwe(t,ywe(e));function _we(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Cwe=t=>{const[e,n]=t.split(":");return qN({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Ewe(t){var e,n,r,i,s,a,o;const c=(e=t.chains)==null?void 0:e.map(Cwe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:_we(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:vwe(HN({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(o=t.desktopWallets)!=null&&o.length){const d=[...(t.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(t.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(p=>!h.includes(p.id));f.length&&(u.customWallets=f)}return u}function qN(t){return HN({formatters:void 0,fees:void 0,serializers:void 0},t)}var xwe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Ewe,defineChain:qN});const Awe=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,o]of Object.entries(n))o!==void 0&&i.searchParams.set(a,o);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[o,c]of s)c!==void 0&&a.append(o,c);i.hash=a.toString()}return i.href},ZN=R.createContext({plugins:{current:{}}}),Lwe=({children:t,configPlugins:e})=>{let n=R.useRef({});return R.useEffect(()=>{if(e&&e.length!==0){for(let r of e)n.current[r.id]=r;return()=>{for(let r of e)delete n.current[r.id]}}},[e]),g.jsx(ZN.Provider,{value:{plugins:n},children:t})},GN=()=>{let{plugins:t}=R.useContext(ZN);return R.useCallback(e=>t.current[e],[t])},rx=Symbol("data-suffix-plugin");var Swe=Object.defineProperty,cb=(t,e)=>{for(var n in e)Swe(t,n,{get:e[n],enumerable:!0})},Iwe={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},Twe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const lb=50000n,ix=Zz*32n,KN={block:EL({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=KN.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?_t(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?_t(t.l1BatchTimestamp):null,transactions:e}}}),transaction:CL({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?_t(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?_t(t.l1BatchTxIndex):null}}}),transactionReceipt:aS({format(t){return{l1BatchNumber:t.l1BatchNumber?_t(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?_t(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...fs(e),l1BatchNumber:e.l1BatchNumber?_t(e.l1BatchNumber):null,transactionLogIndex:gi(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:_t(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?_t(e.l1BatchNumber):null,transactionIndex:_t(e.transactionIndex),shardId:_t(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:_t(e.logIndex)}))}}}),transactionRequest:Vz({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Ye(t.gasPerPubdata)}:{gasPerPubdata:Ye(lb)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(Ar(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(Ar(e)))}:{},...t.customSignature?{customSignature:Array.from(Ar(t.customSignature))}:{}},type:"0x71"}:{}}})};class YN extends ee{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function Cf(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function JN(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!Cf(t))throw new YN;if(!e||e<=0)throw new qh({chainId:e});if(n&&!Mt(n))throw new gn({address:n});if(r&&!Mt(r))throw new gn({address:r});if(i&&!Mt(i))throw new gn({address:i});if(i&&!s)throw new ee("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new ee("`paymaster` must be provided when `paymasterInput` is defined")}function kwe(t,e){return Cf(t)?Owe(t):l8(t,e)}const Pwe={transaction:kwe};function Owe(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:p}=t;JN(t);const m=[r?Ye(r):"0x",c?Ye(c):"0x",o?Ye(o):"0x",n?Ye(n):"0x",i??"0x",a?Ye(a):"0x",p??"0x",Ye(e),Ye(""),Ye(""),Ye(e),s??"0x",Ye(f||lb),u??[],l??"0x",d&&h?[d,h]:[]];return Wi(["0x71",Ha(m)])}class Rwe extends ee{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class $we extends ee{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class Mwe extends ee{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function s4(t){const e=Da(t);if(e.length%32!==0)throw new Mwe({givenLength:e.length});if(e.length>ix)throw new Rwe({givenLength:e.length,maxBytecodeSize:ix});const n=LL(e),r=Da(n),i=e.length/32;if(i%2===0)throw new $we({givenLengthInWords:i});const s=Da(i),a=b2(s,{size:2}),o=new Uint8Array([1,0]);return r.set(o,0),r.set(a,2),r}const Nwe=t=>{JN(t);const e=Dwe(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function Dwe(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:o,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:d,data:h}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:d??lb,maxFeePerGas:a??0n,maxPriorityFeePerGas:o??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:s??0n,data:h??"0x",factoryDeps:c?.map(f=>Ye(s4(f)))??[],paymasterInput:u||"0x"}}const XN={blockTime:1e3,formatters:KN,serializers:Pwe,custom:{getEip712Domain:Nwe}},jwe=Xn({...XN,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),Uwe=Xn({...XN,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),Bwe={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Fwe={block:EL({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=Bh(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?_t(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:CL({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?_t(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:aS({format(t){return{l1GasPrice:t.l1GasPrice?_t(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?_t(t.l1GasUsed):null,l1Fee:t.l1Fee?_t(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function zwe(t,e){return Hwe(t)?Vwe(t):l8(t,e)}const Wwe={transaction:zwe};function Vwe(t){qwe(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:a,to:o,value:c}=t,l=[e,r,o??"0x",a?Ye(a):"0x",c?Ye(c):"0x",i?Ye(i):"0x",s?"0x1":"0x",n??"0x"];return Wi(["0x7e",Ha(l)])}function Hwe(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function qwe(t){const{from:e,to:n}=t;if(e&&!Mt(e))throw new gn({address:e});if(n&&!Mt(n))throw new gn({address:n})}const l1={blockTime:2e3,contracts:Bwe,formatters:Fwe,serializers:Wwe},Zwe=Xn({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Gwe=Xn({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),Zu=1,QN=Xn({...l1,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...l1.contracts,disputeGameFactory:{[Zu]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Zu]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Zu]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Zu]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Zu});({...QN});const Gu=11155111,eD=Xn({...l1,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...l1.contracts,disputeGameFactory:{[Gu]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Gu]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Gu]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Gu]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Gu});({...eD});const Kwe=Xn({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),Ywe=Xn({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),Jwe=Xn({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),Xwe=Xn({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),Qwe=Xn({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon.drpc.org"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),ebe=Xn({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),tbe=Xn({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seiscan",url:"https://seiscan.io",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),nbe=Xn({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seiscan",url:"https://testnet.seiscan.io",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),rbe=Xn({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function ibe(t){if(typeof t=="string"){if(!Mt(t,{strict:!1}))throw new gn({address:t});return{address:t,type:"json-rpc"}}if(!Mt(t.address,{strict:!1}))throw new gn({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let eg=!1;async function Ef({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=j1.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:xr(eg,{strict:!1})?Ar(eg):eg}),a={r:ue(r,{size:32}),s:ue(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?tI({...a,to:n}):a}async function sbe(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,a=await Ef({hash:wL({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...a}:a}async function abe({message:t,privateKey:e}){return await Ef({hash:u8(t),privateKey:e,to:"hex"})}async function obe(t){const{privateKey:e,transaction:n,serializer:r=l8}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await Ef({hash:jn(await r(i)),privateKey:e});return await r(n,s)}async function cbe(t){const{privateKey:e,...n}=t;return await Ef({hash:ES(n),privateKey:e,to:"hex"})}function lbe(t,e={}){const{nonceManager:n}=e,r=Ye(j1.getPublicKey(t.slice(2),!1)),i=pL(r);return{...ibe({address:i,nonceManager:n,async sign({hash:a}){return Ef({hash:a,privateKey:t,to:"hex"})},async signAuthorization(a){return sbe({...a,privateKey:t})},async signMessage({message:a}){return abe({message:a,privateKey:t})},async signTransaction(a,{serializer:o}={}){return obe({privateKey:t,transaction:a,serializer:o})},async signTypedData(a){return cbe({...a,privateKey:t})}}),publicKey:r,source:"privateKey"}}const ube="0x0000000000000000000000000000000000008006",dbe="0x0000000000000000000000000000000000010000",sx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],ax=1,tg="/docs/contract/encodeDeployData";function hbe(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:u,argsContractDeployer:d}=ox(i,s??v7,Ye(s4(r)),"0x");return mr({abi:sx,functionName:u,args:d})}const a=e.find(u=>"type"in u&&u.type==="constructor");if(!a)throw new NA({docsPath:tg});if(!("inputs"in a))throw new Qp({docsPath:tg});if(!a.inputs||a.inputs.length===0)throw new Qp({docsPath:tg});const o=tc(a.inputs,n),{functionName:c,argsContractDeployer:l}=ox(i,s??v7,Ye(s4(r)),o);return mr({abi:sx,functionName:c,args:l})}function ox(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,ax]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,ax]}}[t||"create"]}function tD(t){if(!Cf(t))throw new YN;Qs(t)}async function fbe(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?Nt(n):t.account;if(!s)throw new ta({docsPath:"/docs/actions/wallet/signTransaction"});if(tD({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new ee("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new ee("transaction serializer not found on chain.");const a=await Ae(t,ea,"getChainId")({});r!==null&&Kh({currentChainId:a,chain:r});const o=r?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),c=await oI(t,{...o,account:s});return r?.serializers?.transaction({chainId:a,...i,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function nD(t,e){return Cf(e)?fbe(t,e):await aI(t,e)}async function rD(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?Nt(n):t.account;if(!i)throw new ta({docsPath:"/docs/actions/wallet/sendTransaction"});try{tD(e);const s=await uu(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let a;r!==null&&(a=await Ae(t,ea,"getChainId")({}),Kh({currentChainId:a,chain:r}));const o=await nD(t,{...s,chainId:a});return await Ae(t,$1,"sendRawTransaction")({serializedTransaction:o})}catch(s){throw Fh(s,{...e,account:i,chain:r})}}function pbe(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:a,...o}=e,c=hbe({abi:n,args:r,bytecode:i,deploymentType:s,salt:a});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(i)||o.factoryDeps.push(i),rD(t,{...o,data:c,to:s==="create2"||s==="create2Account"?dbe:ube})}async function cx(t,e){return Cf(e)?rD(t,e):Yh(t,e)}function mbe(){return t=>({sendTransaction:e=>cx(t,e),signTransaction:e=>nD(t,e),deployContract:e=>pbe(t,e),writeContract:e=>Fl(Object.assign(t,{sendTransaction:n=>cx(t,n)}),e)})}var gbe=10,ybe=-32700,wbe=-32603,bbe=-32602,vbe=-32601,_be=-32600,Cbe=-32015,Ebe=-32014,xbe=-32012,Abe=-32010,Lbe=-32009,Sbe=-32007,Ibe=-32006,Tbe=-32004,lx=-32002,kbe=-32001,Pbe=28e5,Obe=2800001,Rbe=2800003,$be=2800006,Mbe=2800007,iD=2800008,Nbe=2800009,QIe=32300001,eTe=3230004,Dbe=361e4,jbe=3610001,Ube=3610003,Bbe=3610005,Fbe=3610006,zbe=3610007,Wbe=3611e3,Vbe=3704e3,Hbe=3704001,qbe=3704004,Zbe=4615e3,Gbe=4615026,Kbe=5663e3,ux=5663001,Ybe=5663004,Jbe=5663005,Xbe=5663006,Qbe=5663007,e7e=5663008,t7e=5663015,n7e=5663016,r7e=5663017,sD=5663021,i7e=705e4,s7e=7050030,a7e=7050031,o7e=7050035,c7e=8078e3,l7e=8078001,u7e=8078004,d7e=8078005,h7e=8078006,f7e=8078007,p7e=8078011,u1=8078012,m7e=8078013,g7e=8078014,y7e=8078017,aD=81e5,w7e=8100002,b7e=8100003,v7e=819e4,_7e=8190001,C7e=8190002,a4=8190003,E7e=8190004,x7e=99e5,A7e=9900001,L7e=9900004;function oD(t){return Array.isArray(t)?"%5B"+t.map(oD).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function S7e([t,e]){return`${t}=${oD(e)}`}function I7e(t){const e=Object.entries(t).map(S7e).join("&");return btoa(e)}function T7e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${I7e(e)}'`),`${n}\``}}function cD(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Oe=class extends Error{constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,o])=>{a==="cause"?i={cause:o.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,o))});const s=T7e(e,r);super(s,i);H3(this,"cause",this.cause);H3(this,"context");this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function j3(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function lD({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const o=n.indexOf(s),c=t+o,l=e(c,s,a),u=new Oe(c,l);return j3(u,i),u}var k7e=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function uD(t,e){const n=Number(t);return lD({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===Zbe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===Gbe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:k7e,rpcEnumError:e},uD)}var P7e=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function dD(t){return typeof t=="object"&&"InstructionError"in t?uD(...t.InstructionError):lD({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===i7e)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===s7e)return{index:Number(r)};if(e===a7e||e===o7e)return{accountIndex:Number(r.account_index)}},orderedErrorNames:P7e,rpcEnumError:t},dD)}function d1(t){let e;if(O7e(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===lx){const{err:a,...o}=r,c=a?{cause:dD(a)}:null;e=new Oe(lx,{...o,...c})}else{let a;switch(s){case wbe:case bbe:case _be:case vbe:case ybe:case xbe:case kbe:case Tbe:case Ebe:case Abe:case Lbe:case Sbe:case Ibe:case Cbe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new Oe(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Oe(gbe,{error:t,message:n})}return j3(e,d1),e}function O7e(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function R7e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var $7e=(t,e)=>R7e(t.length<=e?t:t.slice(0,e),e);function M7e(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function m2(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Jn(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(m2(e,t));return t.write(e,n,0),n}})}function gr(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function an(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function N7e(t){return!an(t)}function D7e(t,e){if(an(t)!==an(e))throw new Oe(u7e);if(an(t)&&an(e)&&t.fixedSize!==e.fixedSize)throw new Oe(d7e,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!an(t)&&!an(e)&&t.maxSize!==e.maxSize)throw new Oe(h7e,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function j7e(t,e,n=0){if(e.length-n<=0)throw new Oe(c7e,{codecDescription:t})}function ub(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Oe(l7e,{bytesLength:i,codecDescription:t,expected:e})}function dx(t,e,n){if(e<0||e>n)throw new Oe(g7e,{bytesLength:n,codecDescription:t,offset:e})}function U7e(t,e){const n=(a,o,c)=>{const l=t.encode(a);return c=e.write(l.length,o,c),o.set(l,c),c+l.length};if(an(e)&&an(t))return Jn({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=an(e)?e.fixedSize:e.maxSize??null,i=an(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Jn({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:a=>{const o=m2(a,t);return m2(o,e)+o},write:n})}function B7e(t,e){const n=(a,o)=>{const[c,l]=e.read(a,o),u=Number(c);return o=l,(o>0||a.length>u)&&(a=a.slice(o,o+u)),ub("addDecoderSizePrefix",u,a),[t.decode(a),o+u]};if(an(e)&&an(t))return gr({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=an(e)?e.fixedSize:e.maxSize??null,i=an(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return gr({...t,...s!==null?{maxSize:s}:{},read:n})}function h1(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;let s;return typeof SharedArrayBuffer>"u"?s=t.buffer:t.buffer instanceof SharedArrayBuffer?(s=new ArrayBuffer(t.length),new Uint8Array(s).set(new Uint8Array(t))):s=t.buffer,(r===0||r===-t.byteLength)&&i===t.byteLength?s:s.slice(r,r+i)}function db(t,e){return Jn({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function hb(t,e){return gr({fixedSize:e,read:(n,r)=>{ub("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),an(t)&&(n=$7e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function F7e(t,e){return gr({...t,read:(n,r)=>{const i=l=>z7e(l,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;dx("offsetDecoder",s,n.length);const[a,o]=t.read(n,s),c=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:o,preOffset:r,wrapBytes:i}):o;return dx("offsetDecoder",c,n.length),[a,c]}})}function z7e(t,e){return e===0?0:(t%e+e)%e}function W7e(t,e){if(an(t)){const n=e(t.fixedSize);if(n<0)throw new Oe(m7e,{bytesLength:n,codecDescription:"resizeDecoder"});return gr({...t,fixedSize:n})}return t}function V7e(t,e){return F7e(W7e(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function vu(t,e){return Jn({...N7e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function fb(t,e){return gr({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function H7e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Oe(u1,{alphabet:t,base:t.length,value:n})}var q7e=t=>Jn({getSizeFromValue:e=>{const[n,r]=hx(e,t[0]);if(!r)return e.length;const i=fx(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(H7e(t,e),e==="")return r;const[i,s]=hx(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=fx(s,t);const o=[];for(;a>0n;)o.unshift(Number(a%256n)),a/=256n;const c=[...Array(i.length).fill(0),...o];return n.set(c,r),r+c.length}}),Z7e=t=>gr({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),o=G7e(a,t);return[s+o,e.length]}});function hx(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function fx(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function G7e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var hD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",K7e=()=>q7e(hD),Y7e=()=>Z7e(hD),px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J7e=()=>Jn({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new Oe(u1,{alphabet:px,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new Oe(u1,{alphabet:px,base:64,value:t})}}}),X7e=()=>gr({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}});function Q7e(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new Oe(Wbe)}function U3(){if(!globalThis.isSecureContext)throw new Oe(Dbe)}function e9e(){if(U3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Oe(jbe)}function fD(){if(U3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new Oe(Ube)}function t9e(){if(U3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new Oe(Bbe)}function n9e(){if(U3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new Oe(Fbe)}var ng,rg;function pb(){return ng||(ng=K7e()),ng}function r9e(){return rg||(rg=Y7e()),rg}function i9e(t){if(t.length<32||t.length>44)return!1;const e=pb();try{return e.encode(t).byteLength===32}catch{return!1}}function o4(t){if(t.length<32||t.length>44)throw new Oe(Obe,{actualLength:t.length});const r=pb().encode(t).byteLength;if(r!==32)throw new Oe(Pbe,{actualLength:r})}function s9e(t){return o4(t),t}function Ol(){return vu(db(pb(),32),t=>s9e(t))}function xf(){return hb(r9e(),32)}function a9e(){return D7e(Ol(),xf())}function mb(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var o9e=37095705934669439343138083508754565189542113879843219016388785533085940283555n,_r=57896044618658097711785492504343953926634992332820282019728792003956564819949n,mx=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function $i(t){const e=t%_r;return e>=0n?e:_r+e}function Os(t,e){let n=t;for(;e-- >0n;)n*=n,n%=_r;return n}function c9e(t){const n=t*t%_r*t%_r,r=Os(n,2n)*n%_r,i=Os(r,1n)*t%_r,s=Os(i,5n)*i%_r,a=Os(s,10n)*s%_r,o=Os(a,20n)*a%_r,c=Os(o,40n)*o%_r,l=Os(c,80n)*c%_r,u=Os(l,80n)*c%_r,d=Os(u,10n)*s%_r;return Os(d,2n)*t%_r}function l9e(t,e){const n=$i(e*e*e),r=$i(n*n*e),i=c9e(t*r);let s=$i(t*n*i);const a=$i(e*s*s),o=s,c=$i(s*mx),l=a===t,u=a===$i(-t),d=a===$i(-t*mx);return l&&(s=o),(u||d)&&(s=c),($i(s)&1n)===1n&&(s=$i(-s)),!l&&!u?null:s}function u9e(t,e){const n=$i(t*t),r=$i(n-1n),i=$i(o9e*n+1n),s=l9e(r,i);if(s===null)return!1;const a=(e&128)!==0;return!(s===0n&&a)}function d9e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function h9e(t){const n=`0x${t.reduce((r,i,s)=>`${d9e(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function f9e(t){if(t.byteLength!==32)return!1;const e=h9e(t);return u9e(e,t[31])}var gx=32,yx=16,p9e=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function m9e({programAddress:t,seeds:e}){if(e9e(),e.length>yx)throw new Oe($be,{actual:e.length,maxSeeds:yx});let n;const r=e.reduce((c,l,u)=>{const d=typeof l=="string"?(n||(n=new TextEncoder)).encode(l):l;if(d.byteLength>gx)throw new Oe(Mbe,{actual:d.byteLength,index:u,maxSeedLength:gx});return c.push(...d),c},[]),i=a9e(),s=i.encode(t),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...p9e])),o=new Uint8Array(a);if(f9e(o))throw new Oe(iD);return i.decode(o)}async function g9e({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await m9e({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(cD(r,iD))n--;else throw r}throw new Oe(Nbe)}async function pD(t){if(fD(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new Oe(Rbe);const e=await crypto.subtle.exportKey("raw",t);return xf().decode(new Uint8Array(e))}function mD(t,e,n,r){if(r<e||r>n)throw new Oe(p7e,{codecDescription:t,max:n,min:e,value:r})}function gD(t){return t?.endian!==1}function gb(t){return Jn({fixedSize:t.size,write(e,n,r){t.range&&mD(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,gD(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function yD(t){return gr({fixedSize:t.size,read(e,n=0){j7e(t.name,e,n),ub(t.name,t.size,e,n);const r=new DataView(h1(e,n,t.size));return[t.get(r,gD(t.config)),n+t.size]}})}var g2=()=>Jn({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{mD("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),ec=()=>gr({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,!(s&128))break}return[n,e+r]}}),y9e=(t={})=>gb({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),w9e=(t={})=>yD({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4}),b9e=(t={})=>gb({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),nu=()=>gb({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),Ah=()=>yD({get:t=>t.getUint8(0),name:"u8",size:1});function v9e(t,e,n){if(e!==n)throw new Oe(f7e,{actual:n,codecDescription:t,expected:e})}function _9e(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function ru(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function Af(t){return an(t)?t.fixedSize:null}function _u(t){return an(t)?t.fixedSize:t.maxSize??null}function iu(t,e={}){const n=e.size??y9e(),r=f1(n,Af(t)),i=f1(n,_u(t))??void 0;return Jn({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?m2(s.length,n):0)+[...s].reduce((o,c)=>o+m2(c,t),0),maxSize:i},write:(s,a,o)=>(typeof n=="number"&&v9e("array",n,s.length),typeof n=="object"&&(o=n.write(s.length,a,o)),s.forEach(c=>{o=t.write(c,a,o)}),o)})}function y2(t,e={}){const n=e.size??w9e(),r=Af(t),i=f1(n,r),s=f1(n,_u(t))??void 0;return gr({...i!==null?{fixedSize:i}:{maxSize:s},read:(a,o)=>{const c=[];if(typeof n=="object"&&a.slice(o).length===0)return[c,o];if(n==="remainder"){for(;o<a.length;){const[d,h]=t.read(a,o);o=h,c.push(d)}return[c,o]}const[l,u]=typeof n=="number"?[n,o]:n.read(a,o);o=u;for(let d=0;d<l;d+=1){const[h,f]=t.read(a,o);o=f,c.push(h)}return[c,o]}})}function f1(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function yb(){return Jn({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function c4(){return gr({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function C9e(t){return Jn({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function E9e(t){const e=ru(t.map(Af)),n=ru(t.map(_u))??void 0;return gr({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(a=>{const[o,c]=a.read(r,i);s.push(o),i=c}),[s,i]}})}function x9e(t,e){const n=A9e(t),r=(s,a,o)=>{const c=e(s);return wx(t,c),t[c].write(s,a,o)};if(n!==null)return Jn({fixedSize:n,write:r});const i=L9e(t);return Jn({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const a=e(s);return wx(t,a),m2(s,t[a])},write:r})}function wx(t,e){if(typeof t[e]>"u")throw new Oe(y7e,{maxRange:t.length-1,minRange:0,variant:e})}function A9e(t){if(t.length===0)return 0;if(!an(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>an(r)&&r.fixedSize===e)?e:null}function L9e(t){return _9e(t.map(e=>_u(e)))}function dc(t){const e=t.map(([,i])=>i),n=ru(e.map(Af)),r=ru(e.map(_u))??void 0;return Jn({...n===null?{getSizeFromValue:i=>t.map(([s,a])=>m2(i[s],a)).reduce((s,a)=>s+a,0),maxSize:r}:{fixedSize:n},write:(i,s,a)=>(t.forEach(([o,c])=>{a=c.write(i[o],s,a)}),a)})}function Lf(t){const e=t.map(([,i])=>i),n=ru(e.map(Af)),r=ru(e.map(_u))??void 0;return gr({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const a={};return t.forEach(([o,c])=>{const[l,u]=c.read(i,s);s=u,a[o]=l}),[a,s]}})}function O2(t,...e){return e.reduce((n,r)=>r(n),t)}var mn=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(mn||{}),S9e=2,I9e=1;function su(t){return t>=2}function Lh(t){return(t&I9e)!==0}function bx(t,e){return t|e}function T9e(t){return t|S9e}function k9e(t){return i9e(t)}function P9e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&k9e(t.lifetimeConstraint.blockhash)}function O9e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function R9e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Oe(u1,{alphabet:t,base:t.length,value:n})}var $9e=t=>Jn({getSizeFromValue:e=>{const[n,r]=vx(e,t[0]);if(!r)return e.length;const i=_x(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(R9e(t,e),e==="")return r;const[i,s]=vx(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=_x(s,t);const o=[];for(;a>0n;)o.unshift(Number(a%256n)),a/=256n;const c=[...Array(i.length).fill(0),...o];return n.set(c,r),r+c.length}}),M9e=t=>gr({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),o=N9e(a,t);return[s+o,e.length]}});function vx(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function _x(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function N9e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var wD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",D9e=()=>$9e(wD),j9e=()=>M9e(wD),ig;function U9e(){if(!ig){const t=iu(nu(),{size:g2()});ig=dc([["lookupTableAddress",Ol()],["writableIndexes",t],["readonlyIndexes",t]])}return ig}var sg;function B9e(){if(!sg){const t=y2(Ah(),{size:ec()});sg=Lf([["lookupTableAddress",xf()],["writableIndexes",t],["readonlyIndexes",t]])}return sg}var ag;function og(){return ag||(ag=nu()),ag}var cg;function lg(){return cg||(cg=Ah()),cg}function F9e(){return dc([["numSignerAccounts",og()],["numReadonlySignerAccounts",og()],["numReadonlyNonSignerAccounts",og()]])}function z9e(){return Lf([["numSignerAccounts",lg()],["numReadonlySignerAccounts",lg()],["numReadonlyNonSignerAccounts",lg()]])}var ug;function W9e(){return ug||(ug=vu(dc([["programAddressIndex",nu()],["accountIndices",iu(nu(),{size:g2()})],["data",U7e(yb(),g2())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),ug}var dg;function V9e(){return dg||(dg=fb(Lf([["programAddressIndex",Ah()],["accountIndices",y2(Ah(),{size:ec()})],["data",B7e(c4(),ec())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),dg}var bD=0,l4=128;function H9e(){return Jn({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new Oe(Ybe,{actualVersion:t});if(t>bD)throw new Oe(sD,{unsupportedVersion:t});return e.set([t|l4],n),n+1}})}function vD(){return gr({maxSize:1,read:(t,e)=>{const n=t[e];if(n&l4){const r=n^l4;if(r>bD)throw new Oe(sD,{unsupportedVersion:r});return[r,e+1]}else return["legacy",e]}})}function Cx(){return dc(_D())}function Ex(){return vu(dc([..._D(),["addressTableLookups",Z9e()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function _D(){const t=x9e([C9e(new Uint8Array(32)),db(D9e(),32)],e=>e===void 0?0:1);return[["version",H9e()],["header",F9e()],["staticAccounts",iu(Ol(),{size:g2()})],["lifetimeToken",t],["instructions",iu(W9e(),{size:g2()})]]}function q9e(){return[["version",vD()],["header",z9e()],["staticAccounts",y2(xf(),{size:ec()})],["lifetimeToken",hb(j9e(),32)],["instructions",y2(V9e(),{size:ec()})],["addressTableLookups",G9e()]]}function Z9e(){return iu(U9e(),{size:g2()})}function G9e(){return y2(B9e(),{size:ec()})}function K9e(){return Jn({getSizeFromValue:t=>t.version==="legacy"?Cx().getSizeFromValue(t):Ex().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?Cx().write(t,e,n):Ex().write(t,e,n)})}function Y9e(){return fb(Lf(q9e()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function xx(t,e,n){t[e]=n(t[e]??{role:mn.READONLY})}var un=Symbol("AddressMapTypeProperty");function J9e(t,e){const n={[t]:{[un]:0,role:mn.WRITABLE_SIGNER}},r=new Set;for(const i of e){xx(n,i.programAddress,a=>{if(r.add(i.programAddress),un in a){if(Lh(a.role))switch(a[un]){case 0:throw new Oe(Kbe,{programAddress:i.programAddress});default:throw new Oe(ux,{programAddress:i.programAddress})}if(a[un]===2)return a}return{[un]:2,role:mn.READONLY}});let s;if(i.accounts)for(const a of i.accounts)xx(n,a.address,o=>{const{address:c,...l}=a;if(un in o)switch(o[un]){case 0:return o;case 1:{const u=bx(o.role,l.role);if("lookupTableAddress"in l){if(o.lookupTableAddress!==l.lookupTableAddress&&(s||(s=mb()))(l.lookupTableAddress,o.lookupTableAddress)<0)return{[un]:1,...l,role:u}}else if(su(l.role))return{[un]:2,role:u};return o.role!==u?{...o,role:u}:o}case 2:{const u=bx(o.role,l.role);if(r.has(a.address)){if(Lh(l.role))throw new Oe(ux,{programAddress:a.address});return o.role!==u?{...o,role:u}:o}else return"lookupTableAddress"in l&&!su(o.role)?{...l,[un]:1,role:u}:o.role!==u?{...o,role:u}:o}}return"lookupTableAddress"in l?{...l,[un]:1}:{...l,[un]:2}})}return n}function X9e(t){let e;return Object.entries(t).sort(([r,i],[s,a])=>{if(i[un]!==a[un]){if(i[un]===0)return-1;if(a[un]===0)return 1;if(i[un]===2)return-1;if(a[un]===2)return 1}const o=su(i.role);if(o!==su(a.role))return o?-1:1;const c=Lh(i.role);return c!==Lh(a.role)?c?-1:1:(e||(e=mb()),i[un]===1&&a[un]===1&&i.lookupTableAddress!==a.lookupTableAddress?e(i.lookupTableAddress,a.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function Q9e(t){var n;const e={};for(const r of t){if(!("lookupTableAddress"in r))continue;const i=e[n=r.lookupTableAddress]||(e[n]={readonlyIndexes:[],writableIndexes:[]});r.role===mn.WRITABLE?i.writableIndexes.push(r.addressIndex):i.readonlyIndexes.push(r.addressIndex)}return Object.keys(e).sort(mb()).map(r=>({lookupTableAddress:r,...e[r]}))}function eve(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=Lh(i.role);su(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function tve(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function nve(t,e){const n=tve(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:a})=>n[a])}:null,...i?{data:i}:null}))}function rve(t){return"nonce"in t?t.nonce:t.blockhash}function ive(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function sve(t){const e=J9e(t.feePayer.address,t.instructions),n=X9e(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:Q9e(n)}:null,...r?{lifetimeToken:rve(r)}:null,header:eve(n),instructions:nve(t.instructions,n),staticAccounts:ive(n),version:t.version}}function ave(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var CD="SysvarRecentB1ockHashes11111111111111111111",ED="11111111111111111111111111111111";function Ax(t,e){return{accounts:[{address:t,role:mn.WRITABLE},{address:CD,role:mn.READONLY},{address:e,role:mn.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:ED}}function wb(t){return t.programAddress===ED&&t.data!=null&&ove(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===mn.WRITABLE&&t.accounts[1].address===CD&&t.accounts[1].role===mn.READONLY&&t.accounts[2].address!=null&&su(t.accounts[2].role)}function ove(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function xD(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&wb(t.instructions[0])}function cve(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function lve({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&wb(s))if(cve(s,e,n)){if(xD(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(Ax(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(Ax(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function uve(t,e){if("feePayer"in e&&t===e.feePayer?.address&&dve(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function dve(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function hve(t,e){return fve([t],e)}function fve(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function pve(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let a=0;a<n;a++)i.push({address:t.staticAccounts[s],role:mn.WRITABLE_SIGNER}),s++;for(let a=0;a<e.numReadonlySignerAccounts;a++)i.push({address:t.staticAccounts[s],role:mn.READONLY_SIGNER}),s++;for(let a=0;a<r;a++)i.push({address:t.staticAccounts[s],role:mn.WRITABLE}),s++;for(let a=0;a<e.numReadonlyNonSignerAccounts;a++)i.push({address:t.staticAccounts[s],role:mn.READONLY}),s++;return i}function mve(t,e){const r=t.map(a=>a.lookupTableAddress).filter(a=>e[a]===void 0);if(r.length>0)throw new Oe(Jbe,{lookupTableAddresses:r});const i=[],s=[];for(const a of t){const o=e[a.lookupTableAddress],c=a.readonlyIndexes,l=a.writableIndexes,u=Math.max(...c,...l);if(u>=o.length)throw new Oe(Xbe,{highestKnownIndex:o.length-1,highestRequestedIndex:u,lookupTableAddress:a.lookupTableAddress});const d=c.map(f=>({address:o[f],addressIndex:f,lookupTableAddress:a.lookupTableAddress,role:mn.READONLY}));i.push(...d);const h=l.map(f=>({address:o[f],addressIndex:f,lookupTableAddress:a.lookupTableAddress,role:mn.WRITABLE}));s.push(...h)}return[...s,...i]}function gve(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new Oe(Qbe,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function yve(t,e,n){if(!e||!wb(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;o4(r);const i=e.accounts[2].address;return o4(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function tTe(t,e){const n=t.staticAccounts[0];if(!n)throw new Oe(e7e);const r=pve(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?mve(t.addressTableLookups,{}):[],s=[...r,...i],a=t.instructions.map(l=>gve(l,s)),o=a[0],c=yve(t.lifetimeToken,o);return O2(ave({version:t.version}),l=>uve(n,l),l=>a.reduce((u,d)=>hve(d,u),l),l=>"blockhash"in c?O9e(c,l):lve(c,l))}var B3=Object.freeze({name:"Ed25519"});function wve(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function u4(t,e=!1){const n=t.byteLength;if(n!==32)throw new Oe(Hbe,{actualLength:n});const r=wve(t);return await crypto.subtle.importKey("pkcs8",r,B3,e,["sign"])}async function bve(t,e=!1){if(fD(),t.extractable===!1)throw new Oe(zbe,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function bb(t,e){t9e();const n=await crypto.subtle.sign(B3,t,h1(e));return new Uint8Array(n)}async function vve(t,e,n){return n9e(),await crypto.subtle.verify(B3,t,h1(e),h1(n))}async function _ve(t,e=!1){if(Q7e(),t.byteLength!==64)throw new Oe(Vbe,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),B3,!0,["verify"]),u4(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await bb(r,i);if(!await vve(n,s,i))throw new Oe(qbe);return{privateKey:r,publicKey:n}}async function Cve(t,e=!1){const n=u4(t,e),[r,i]=await Promise.all([(e?n:u4(t,!0)).then(async s=>await bve(s,!0)),n]);return{privateKey:i,publicKey:r}}function Eve(t){const e=Object.values(t);if(e.length===0)throw new Oe(n7e);return e.map(n=>n||new Uint8Array(64).fill(0))}function xve(){return vu(iu(db(yb(),64),{size:g2()}),Eve)}function Ave(){return dc([["signatures",xve()],["messageBytes",yb()]])}function Lve(){return fb(Lf([["signatures",y2(hb(c4(),64),{size:ec()})],["messageBytes",c4()]]),Sve)}function Sve(t){const{messageBytes:e,signatures:n}=t,r=E9e([vD(),V7e(Ah(),2),y2(xf(),{size:ec()})]),[i,s,a]=r.decode(e),o=a.slice(0,s);if(o.length!==n.length)throw new Oe(r7e,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:o});const c={};return o.forEach((l,u)=>{const d=n[u];d.every(h=>h===0)?c[l]=null:c[l]=d}),{messageBytes:e,signatures:Object.freeze(c)}}function nTe(t){const e=sve(t),n=K9e().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const a of r)i[a]=null;let s;return P9e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:xD(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function Ive(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await pD(i.publicKey),a=e.signatures[s];if(a===void 0){r||(r=new Set),r.add(s);return}if(r)return;const o=await bb(i.privateKey,e.messageBytes);a!==null&&M7e(o,a)||(n||(n={}),n[s]=o)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new Oe(t7e,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function Tve(t){const e=Ave().encode(t);return X7e().decode(e)}function Lx(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function kve(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var hg=new WeakMap;async function Pve(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!Lx(s)){Promise.resolve(s).then(r,i);continue}let a=hg.get(s);a===void 0?(a=kve(s),a.deferreds.add(e),hg.set(s,a)):a.settled?Promise.resolve(s).then(r,i):a.deferreds.add(e)}}).finally(()=>{for(const r of t)Lx(r)&&hg.get(r).deferreds.delete(e)})}function AD(t){return JSON.parse(Ove(t),(e,n)=>Nve(n)?Mve(n):n)}function Ove(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=Rve(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push($ve(s));continue}}e.push(t[r])}return e.join("")}function Rve(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function $ve(t){return`{"$n":"${t}"}`}function Mve({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function Nve(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var Sx=0n;function Dve(){const t=Sx;return Sx++,t.toString()}function d4(t){return{id:Dve(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function LD(t,e){return Uve(JSON.stringify(t,(n,r)=>typeof r=="bigint"?jve(r):r,e))}function jve(t){return{$n:`${t}`}}function Uve(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function Bve(t){return Fve(t)}function Fve(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Oe(b7e,{method:s,params:i});const o=a(...i);return zve(t,o)}}})}function zve({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function Wve(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a=Object.freeze({methodName:i,params:s}),o=t?.requestTransformer?t?.requestTransformer(a):a;return Object.freeze({execute:async({signal:c,transport:l})=>{const u=d4(o),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,o):d}})}}})}function SD(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function Vve(t){return typeof t=="bigint"?Number(t):t}var pe={};function ID(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const a={...r,keyPath:[...r.keyPath,s]};return e(i,a)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const a={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],a)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function TD(t,e){return n=>{const r=ID(t);return Object.freeze({...n,params:r(n.params,e)})}}function kD(t,e){return n=>ID(t)(n,e)}function Hve(){return TD([Vve],{keyPath:[]})}function qve({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:a,...o}=i;return Object.keys(o).length>0?s[n]=o:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function Zve({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:qve({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function Gve(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function Kve(t){return e=>TD([Gve((...r)=>t(e,...r))],{keyPath:[]})(e)}var Yve={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function PD(t){const e=t?.onIntegerOverflow;return n=>O2(n,e?Kve(e):r=>r,Hve(),Zve({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:Yve}))}function OD(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?Jve(r,t)?Number(n):BigInt(n):n}}function Jve(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==pe||typeof i!="number"))return!1}return!0})}function RD(t){return kD([OD(t)],{keyPath:[]})}function Xve(){return t=>t.result}var h4=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",pe,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",pe,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",pe,"state","preUpdateAverageRate"],["data","parsed","info","extensions",pe,"state","currentRate"]],Wc=[...h4,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",pe,"confirmationCount"]],Kp=[["index"],["instructions",pe,"accounts",pe],["instructions",pe,"programIdIndex"],["instructions",pe,"stackHeight"]],Ix=[["addressTableLookups",pe,"writableIndexes",pe],["addressTableLookups",pe,"readonlyIndexes",pe],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",pe,"accounts",pe],["instructions",pe,"programIdIndex"],["instructions",pe,"stackHeight"]];function Qve(){return[["loadedAccountsDataSize"],...Wc.map(t=>["accounts",pe,...t]),...Kp.map(t=>["innerInstructions",pe,...t])]}function e_e(){return(t,e)=>{const n=t;if("error"in n){const{error:r}=n;if(r&&typeof r=="object"&&"code"in r&&(r.code===-32002||r.code===-32002n)&&"data"in r&&r.data){const a=kD([OD(Qve())],{keyPath:[]})(r.data,e),o={...r,data:a};throw d1(o)}throw d1(n.error)}return n}}function t_e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return O2(e,s=>e_e()(s,n),s=>Xve()(s,n),s=>RD(i??[])(s,n))}}function n_e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return O2(e,s=>RD(i??[])(s,n))}}function r_e(t){return Wve({requestTransformer:PD(t),responseTransformer:t_e({allowedNumericKeyPaths:i_e()})})}var fg;function i_e(){return fg||(fg={getAccountInfo:Wc.map(t=>["value",...t]),getBlock:[["transactions",pe,"meta","preTokenBalances",pe,"accountIndex"],["transactions",pe,"meta","preTokenBalances",pe,"uiTokenAmount","decimals"],["transactions",pe,"meta","postTokenBalances",pe,"accountIndex"],["transactions",pe,"meta","postTokenBalances",pe,"uiTokenAmount","decimals"],["transactions",pe,"meta","rewards",pe,"commission"],...Kp.map(t=>["transactions",pe,"meta","innerInstructions",pe,...t]),...Ix.map(t=>["transactions",pe,"transaction","message",...t]),["rewards",pe,"commission"]],getClusterNodes:[[pe,"featureSet"],[pe,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[pe,"commission"]],getMultipleAccounts:Wc.map(t=>["value",pe,...t]),getProgramAccounts:Wc.flatMap(t=>[["value",pe,"account",...t],[pe,"account",...t]]),getRecentPerformanceSamples:[[pe,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:h4.map(t=>["value",pe,"account",...t]),getTokenAccountsByOwner:h4.map(t=>["value",pe,"account",...t]),getTokenLargestAccounts:[["value",pe,"decimals"],["value",pe,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",pe,"accountIndex"],["meta","preTokenBalances",pe,"uiTokenAmount","decimals"],["meta","postTokenBalances",pe,"accountIndex"],["meta","postTokenBalances",pe,"uiTokenAmount","decimals"],["meta","rewards",pe,"commission"],...Kp.map(t=>["meta","innerInstructions",pe,...t]),...Ix.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",pe,"commission"],["delinquent",pe,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...Wc.map(t=>["value","accounts",pe,...t]),...Kp.map(t=>["value","innerInstructions",pe,...t])]}),fg}function s_e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function a_e(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const a=n&&s_e(n);return async function({payload:c,signal:l}){const u=r?r(c):JSON.stringify(c),d={...s,body:u,headers:{...a,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},h=await fetch(i,d);if(!h.ok)throw new Oe(w7e,{headers:h.headers,message:h.statusText,statusCode:h.status});return e?e(await h.text(),c):await h.json()}}var o_e=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Tx(t){return SD(t)&&o_e.includes(t.method)}function c_e(t){return a_e({...t,fromJson:(e,n)=>Tx(n)?AD(e):JSON.parse(e),toJson:e=>Tx(e)?LD(e):JSON.stringify(e)})}var l_e=Object.prototype.toString,u_e=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function hd(t,e){let n,r,i,s,a,o,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return hd(t.toJSON(),e);if(c=l_e.call(t),c==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=hd(t[n],!0)+",";return r>-1&&(i+=hd(t[n],!0)),i+"]"}else if(c==="[object Object]"){for(s=u_e(t).sort(),r=s.length,i="",n=0;n<r;)a=s[n],o=hd(t[a],!1),o!==void 0&&(i&&(i+=","),i+=JSON.stringify(a)+":"+o),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function $D(t){const e=hd(t,!1);if(e!==void 0)return""+e}function MD(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,o=a%10,c=a%100;o==1&&c!=11?r=a+"st":o==2&&c!=12?r=a+"nd":o==3&&c!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new Oe(aD,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return j3(s,MD),s}var d_e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw MD(t.methodName,e,n)}},h_e=globalThis.AbortController,kx;function Px(){return{}}function f_e(t,e){let n;return async function(i){const{payload:s,signal:a}=i,o=e(s);if(o===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[o]==null){const l=new h_e,u=(async()=>{try{return await t({...i,signal:l.signal})}catch(d){if(d===(kx||(kx=Px())))return;throw d}})();n[o]={abortController:l,numConsumers:0,responsePromise:u}}const c=n[o];if(c.numConsumers++,a){const l=c.responsePromise;return await new Promise((u,d)=>{const h=f=>{a.removeEventListener("abort",h),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(kx||(kx=Px()))}),d(f.target.reason)};a.addEventListener("abort",h),l.then(u).catch(d).finally(()=>{a.removeEventListener("abort",h)})})}else return await c.responsePromise}}function p_e(t){return SD(t)?$D([t.method,t.params]):void 0}function m_e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function g_e(t){return O2(c_e({...t,headers:{...t.headers?m_e(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>f_e(e,p_e))}function ND(t,e){return y_e(g_e({url:t,...e}))}function y_e(t){return Bve({api:r_e(d_e),transport:t})}var w_e=globalThis.AbortController,b_e=globalThis.EventTarget,Ox;function Rx(){return Symbol(void 0)}var pg=Symbol();function v_e({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(l){for(const[u,d]of i.entries())d.__hasPolled?(i.delete(u),d.onError(l)):d.publishQueue.push({__type:1,err:l})}const a=new w_e;t.addEventListener("abort",()=>{a.abort(),s(Ox||(Ox=Rx()))});const o={signal:a.signal};let c=pg;return n.on(r,l=>{c===pg&&(c=l,a.abort(),s(l))},o),n.on(e,l=>{i.forEach((u,d)=>{if(u.__hasPolled){const{onData:h}=u;i.set(d,{__hasPolled:!1,publishQueue:[]}),h(l)}else u.publishQueue.push({__type:0,data:l})})},o),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(c!==pg)throw c;const l=Symbol();i.set(l,{__hasPolled:!1,publishQueue:[]});try{for(;;){const u=i.get(l);if(!u)throw new Oe(x7e);if(u.__hasPolled)throw new Oe(A7e);const d=u.publishQueue;try{if(d.length){u.publishQueue=[];for(const h of d)if(h.__type===0)yield h.data;else throw h.err}else yield await new Promise((h,f)=>{i.set(l,{__hasPolled:!0,onData:h,onError:f})})}catch(h){if(h===(Ox||(Ox=Rx())))return;throw h}}}finally{i.delete(l)}}}}function DD(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const a=s.detail;n(a)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function __e(t,e,n){let r;const i=new b_e,s=DD(i);return{...s,on(a,o,c){r||(r={dispose:t.on(e,f=>{const p=n(f);if(!p)return;const[m,y]=p;i.dispatchEvent(new CustomEvent(m,{detail:y}))}),numSubscribers:0}),r.numSubscribers++;const l=s.on(a,o,c);let u=!0;function d(){u&&(u=!1,c?.signal.removeEventListener("abort",d),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),l())}return c?.signal.addEventListener("abort",d),d}}}function C_e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Oe(v7e,{notificationName:s});const o=a(...i);return E_e(t.transport,o)}}})}function E_e(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return v_e({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function x_e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a={methodName:i,params:s},o=t.requestTransformer?t.requestTransformer(a):a;return{execute(c){return t.planExecutor({...c,request:o})},request:o}}}})}function A_e(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function L_e(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var S_e=globalThis.AbortController,f4=new WeakMap;function I_e(t,e){return jD(-1,t,e)}function T_e(t,e){jD(1,t,e)}function k_e(t){let e=f4.get(t);return e||f4.set(t,e={}),e}function jD(t,e,n){if(n===void 0)return;const r=k_e(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var $x=new WeakMap;function P_e(t,e,n){let r=$x.get(t);r||$x.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=__e(t,"message",a=>{const o=a;if(!("method"in o))return;const c=n?n(o.params.result,e):o.params.result;return[`notification:${o.params.subscription}`,c]})),s}async function O_e({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,f4.delete(t)},{signal:n});const a=new Promise((d,h)=>{function f(){if(I_e(t,s)===0){const p=d4({methodName:i,params:[s]});s=void 0,t.send(p).catch(()=>{})}h(this.reason)}n.aborted?f.call(n):n.addEventListener("abort",f)}),o=d4(r);await t.send(o);const c=new Promise((d,h)=>{const f=new S_e;n.addEventListener("abort",f.abort.bind(f));const p={signal:f.signal};t.on("error",m=>{f.abort(),h(m)},p),t.on("message",m=>{m&&typeof m=="object"&&"id"in m&&m.id===o.id&&(f.abort(),"error"in m?h(d1(m.error)):d(m.result))},p)});if(s=await Pve([a,c]),s==null)throw new Oe(_7e);T_e(t,s);const l=P_e(t,r,e),u=`notification:${s}`;return{on(d,h,f){switch(d){case"notification":return l.on(u,h,f);case"error":return t.on("error",h,f);default:throw new Oe(L7e,{channelName:d,supportedChannelNames:["notification","error"]})}}}}function R_e(t){const e=PD(t),n=n_e({allowedNumericKeyPaths:M_e()});return x_e({planExecutor({request:r,...i}){return O_e({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function $_e(t){return R_e(t)}var mg;function M_e(){return mg||(mg={accountNotifications:Wc.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",pe,"meta","preTokenBalances",pe,"accountIndex"],["value","block","transactions",pe,"meta","preTokenBalances",pe,"uiTokenAmount","decimals"],["value","block","transactions",pe,"meta","postTokenBalances",pe,"accountIndex"],["value","block","transactions",pe,"meta","postTokenBalances",pe,"uiTokenAmount","decimals"],["value","block","transactions",pe,"meta","rewards",pe,"commission"],["value","block","transactions",pe,"meta","innerInstructions",pe,"index"],["value","block","transactions",pe,"meta","innerInstructions",pe,"instructions",pe,"programIdIndex"],["value","block","transactions",pe,"meta","innerInstructions",pe,"instructions",pe,"accounts",pe],["value","block","transactions",pe,"transaction","message","addressTableLookups",pe,"writableIndexes",pe],["value","block","transactions",pe,"transaction","message","addressTableLookups",pe,"readonlyIndexes",pe],["value","block","transactions",pe,"transaction","message","instructions",pe,"programIdIndex"],["value","block","transactions",pe,"transaction","message","instructions",pe,"accounts",pe],["value","block","transactions",pe,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",pe,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",pe,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",pe,"commission"]],programNotifications:Wc.flatMap(t=>[["value",pe,"account",...t],[pe,"account",...t]])}),mg}var N_e=globalThis.EventTarget,Ku=globalThis.WebSocket,Mx=1e3;function D_e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function a(){s.forEach(C=>{C()}),s.clear()}function o(){a(),i||m(e.reason),p.readyState!==Ku.CLOSED&&p.readyState!==Ku.CLOSING&&p.close(Mx)}function c(C){a(),r?.onCancel(),e.removeEventListener("abort",o),p.removeEventListener("close",c),p.removeEventListener("error",l),p.removeEventListener("message",u),p.removeEventListener("open",f),!e.aborted&&!(C.wasClean&&C.code===Mx)&&d.dispatchEvent(new CustomEvent("error",{detail:new Oe(a4,{cause:C})}))}function l(C){if(!e.aborted&&!i){const L=new Oe(E7e,{errorEvent:C});m(L),d.dispatchEvent(new CustomEvent("error",{detail:L}))}}function u(C){e.aborted||d.dispatchEvent(new CustomEvent("message",{detail:C.data}))}const d=new N_e,h=DD(d);function f(){i=!0,y({...h,async send(C){if(p.readyState!==Ku.OPEN)throw new Oe(a4);if(!r&&p.bufferedAmount>t){let L;const w=new Promise((b,x)=>{const _=setInterval(()=>{(p.readyState!==Ku.OPEN||!(p.bufferedAmount>t))&&(clearInterval(_),r=void 0,b())},16);L=()=>{r=void 0,clearInterval(_),x(new Oe(C7e))}});r={onCancel:L,promise:w}}if(r){if(ArrayBuffer.isView(C)&&!(C instanceof DataView)){const L=C.constructor;C=new L(C)}await r.promise}p.send(C)}})}const p=new Ku(n);e.addEventListener("abort",o),p.addEventListener("close",c),p.addEventListener("error",l),p.addEventListener("message",u),p.addEventListener("open",f);let m,y;return new Promise((C,L)=>{m=L,y=C})}function UD(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,o=a%10,c=a%100;o==1&&c!=11?r=a+"st":o==2&&c!=12?r=a+"nd":o==3&&c!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new Oe(aD,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return j3(s,UD),s}var j_e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw UD(t.methodName,e,n)}},vb=globalThis.AbortController,U_e={jsonrpc:"2.0",method:"ping"};function B_e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(U_e).catch(o=>{cD(o,a4)&&a.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const a=new vb;return a.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{a.abort()}),e.on("error",()=>{a.abort()},{signal:a.signal}),e.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...e,send(...o){return a.signal.aborted||s(),e.send(...o)}}}function F_e(){return{entries:[],freeChannelIndex:-1}}function z_e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=F_e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let a=0;a<r.entries.length;a++){const o=(r.freeChannelIndex+a+2)%r.entries.length,c=r.entries[o];c.subscriptionCount<e&&(!s||s.subscriptionCount>=c.subscriptionCount)&&(s={poolIndex:o,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:a}){let o;function c(){const l=r.entries.findIndex(u=>u===o);r.entries.splice(l,1),o.dispose(),i()}if(r.freeChannelIndex===-1){const l=new vb,u=t({abortSignal:l.signal});u.then(d=>{d.on("error",c,{signal:l.signal})}).catch(c),o={channel:u,dispose(){l.abort()},subscriptionCount:0},r.entries.push(o)}else o=r.entries[r.freeChannelIndex];return o.subscriptionCount++,a.addEventListener("abort",function(){o.subscriptionCount--,o.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),o.channel}}function W_e(t){return O2(t,e=>A_e(e,AD),e=>L_e(e,LD))}function V_e(t){return H_e({...t,jsonSerializer:W_e})}function H_e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return z_e(({abortSignal:i})=>D_e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>B_e({abortSignal:i,channel:s,intervalMs:e??5e3})),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function q_e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,a=$D([i.methodName,i.params]);let o=e.get(a);if(!o){const c=new vb,l=t({...r,signal:c.signal});l.then(u=>{u.on("error",()=>{e.delete(a),c.abort()},{signal:c.signal})}).catch(()=>{}),e.set(a,o={abortController:c,dataPublisherPromise:l,numSubscribers:0})}return o.numSubscribers++,s.addEventListener("abort",()=>{o.numSubscribers--,o.numSubscribers===0&&queueMicrotask(()=>{o.numSubscribers===0&&(e.delete(a),o.abortController.abort())})},{signal:o.abortController.signal}),o.dataPublisherPromise}}function Z_e({createChannel:t}){return O2(G_e(t),e=>q_e(e))}function G_e(t){return async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})}}function K_e(t,e){const n=Z_e({createChannel:V_e({...e,url:t})});return Y_e(n)}function Nx(t,e){return K_e(t,e)}function Y_e(t){return C_e({api:$_e(j_e),transport:t})}function BD(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function FD(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function J_e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function zD(t){return FD(t)||BD(t)||J_e(t)}function rTe(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function WD(t){const e=await pD(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await bb(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await Ive([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function X_e(t,e){return await WD(await _ve(t,e))}async function Q_e(t,e){return await WD(await Cve(t,e))}var eCe="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",VD="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function tCe(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function HD(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:mn.READONLY});const r=n.isWritable?mn.WRITABLE:mn.READONLY;return Object.freeze({address:tCe(n.value),role:Dx(n.value)?T9e(r):r,...Dx(n.value)?{signer:n.value}:{}})}}function Dx(t){return!!t&&typeof t=="object"&&"address"in t&&zD(t)}async function iTe(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await g9e({programAddress:n,seeds:[Ol().encode(t.owner),Ol().encode(t.tokenProgram),Ol().encode(t.mint)]})}var nCe=1;function rCe(){return vu(dc([["discriminator",nu()]]),t=>({...t,discriminator:nCe}))}function sTe(t,e){const n=eCe,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=HD(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:rCe().encode({}),programAddress:n})}var iCe=3;function sCe(){return vu(dc([["discriminator",nu()],["amount",b9e()]]),t=>({...t,discriminator:iCe}))}function aTe(t,e){const n=VD,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},a=(s.multiSigners??[]).map(c=>({address:c.address,role:mn.READONLY_SIGNER,signer:c})),o=HD(n);return Object.freeze({accounts:[o(i.source),o(i.destination),o(i.authority),...a],data:sCe().encode(s),programAddress:n})}var aCe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";wI([$t().transform(t=>t.replace(/[^0-9.-]+/g,"")),Di()]).pipe(IG.number().min(1e-4).max(999999999));var F3=na(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),oCe=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],cCe=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),qD=["solana-devnet","solana"];Object.fromEntries([...oCe,...qD].map(t=>[cCe.get(t),t]));var lCe={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function _b(t){const e=Eb(t);return _8({chain:e,transport:F1()}).extend(o0)}function uCe(){return _b("base-sepolia")}function dCe(){return _b("avalanche-fuji")}function Cb(t,e){const n=Eb(t),r=TZ({chain:n,transport:F1(),account:lbe(e)});return ZD(n)?r.extend(o0).extend(mbe()):r.extend(o0)}function hCe(t){return Cb("base-sepolia",t)}function fCe(t){return Cb("avalanche-fuji",t)}function pCe(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function mCe(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function Eb(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return jwe;case"abstract-testnet":return Uwe;case"base":return QN;case"base-sepolia":return eD;case"avalanche":return Zwe;case"avalanche-fuji":return Gwe;case"sei":return tbe;case"sei-testnet":return nbe;case"polygon":return Qwe;case"polygon-amoy":return ebe;case"peaq":return Xwe;case"story":return rbe;case"educhain":return Kwe;case"iotex":return Ywe;case"iotex-testnet":return Jwe;case"skale-base-sepolia":return lCe;default:throw new Error(`Unsupported network: ${t}`)}}var gCe=new Set([2741,11124]);function ZD(t){return gCe.has(t.id)}var yCe="https://api.devnet.solana.com",wCe="https://api.mainnet-beta.solana.com",bCe="wss://api.devnet.solana.com",vCe="wss://api.mainnet-beta.solana.com";function GD(t){return ND(t||yCe)}function KD(t){return ND(t||wCe)}function YD(t,e){if(t==="solana-devnet")return GD(e);if(t==="solana")return KD(e);throw new Error("Invalid network")}function _Ce(t,e){if(t==="solana-devnet")return Nx(e?jx(e):bCe);if(t==="solana")return Nx(e?jx(e):vCe);throw new Error("Invalid network")}function jx(t){return t.startsWith("http")?t.replace("http","ws"):t}function CCe(t){if(!qD.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return YD(t)}async function ECe(t){const e=bre.decode(t);if(e.length===64)return await X_e(e);if(e.length===32)return await Q_e(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function xCe(t){return typeof t=="object"&&t!==null&&zD(t)}var ACe={};cb(ACe,{authorizationPrimaryType:()=>SCe,authorizationTypes:()=>LCe,config:()=>Iwe,createClientAvalancheFuji:()=>dCe,createClientSepolia:()=>uCe,createConnectedClient:()=>_b,createSigner:()=>Cb,createSignerAvalancheFuji:()=>fCe,createSignerSepolia:()=>hCe,getChainFromNetwork:()=>Eb,isAccount:()=>mCe,isSignerWallet:()=>pCe,isZkStackChain:()=>ZD,usdcABI:()=>Twe});var LCe={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},SCe="TransferWithAuthorization",ICe={};cb(ICe,{SvmAddressRegex:()=>xb});var xb=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,TCe=/^[A-Za-z0-9+/]*={0,2}$/,kCe=18,p4=/^0x[0-9a-fA-F]{40}$/,Ab=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,PCe=/^0x[0-9a-fA-F]{64}$/,OCe=/^0x[0-9a-fA-F]+$/,Lb=["exact"],Sf=[1],Sb=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Yp=t=>Number.isInteger(Number(t))&&Number(t)>=0,RCe=t=>e=>e.length<=t,Ib=$t().regex(p4).or($t().regex(xb)),$Ce=$t().regex(Ab).or($t().regex(xb)),If=Bn({scheme:na(Lb),network:F3,maxAmountRequired:$t().refine(Yp),resource:$t().url(),description:$t(),mimeType:$t(),outputSchema:Zc(Vl()).optional(),payTo:Ib,maxTimeoutSeconds:Di().int(),asset:$Ce,extra:Zc(Vl()).optional()}),MCe=Bn({from:$t().regex(p4),to:$t().regex(p4),value:$t().refine(Yp).refine(RCe(kCe)),validAfter:$t().refine(Yp),validBefore:$t().refine(Yp),nonce:$t().regex(PCe)}),NCe=Bn({signature:$t().regex(OCe),authorization:MCe}),DCe=Bn({transaction:$t().regex(TCe)}),JD=Bn({x402Version:Di().refine(t=>Sf.includes(t)),scheme:na(Lb),network:F3,payload:wI([NCe,DCe])});Bn({x402Version:Di().refine(t=>Sf.includes(t)),error:na(Sb).optional(),accepts:z1(If).optional(),payer:$t().regex(Ab).optional()});var jCe=na(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),UCe=Bn({type:SG("http"),method:jCe,queryParams:Zc($t(),$t()).optional(),bodyType:na(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:Zc($t(),Vl()).optional(),headerFields:Zc($t(),Vl()).optional()});LG("type",[UCe]);var BCe=Bn({resource:$t(),type:na(["http"]),x402Version:Di().refine(t=>Sf.includes(t)),accepts:z1(If),lastUpdated:AG(),metadata:Zc(Vl()).optional()});Bn({paymentPayload:JD,paymentRequirements:If});Bn({paymentPayload:JD,paymentRequirements:If});Bn({isValid:yI(),invalidReason:na(Sb).optional(),payer:Ib.optional()});Bn({success:yI(),errorReason:na(Sb).optional(),payer:Ib.optional(),transaction:$t().regex(Ab),network:F3});Bn({type:$t().optional(),limit:Di().optional(),offset:Di().optional()});Bn({x402Version:Di().refine(t=>Sf.includes(t)),items:z1(BCe),pagination:Bn({limit:Di(),offset:Di(),total:Di()})});var FCe=Bn({x402Version:Di().refine(t=>Sf.includes(t)),scheme:na(Lb),network:F3,extra:Zc(Vl()).optional()});Bn({kinds:z1(FCe)});var zCe={};cb(zCe,{createDevnetRpcClient:()=>GD,createMainnetRpcClient:()=>KD,createSignerFromBase58:()=>ECe,createSvmConnectedClient:()=>CCe,decodeTransactionFromPayload:()=>WCe,getRpcClient:()=>YD,getRpcSubscriptions:()=>_Ce,getTokenPayerFromTransaction:()=>VCe,isSignerWallet:()=>xCe,signAndSimulateTransaction:()=>HCe,signTransactionWithSigner:()=>XD});function WCe(t){try{const n=J7e().encode(t.transaction);return Lve().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function VCe(t){const e=Y9e().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,a=n[s].toString();if(a===VD.toString()||a===aCe.toString()){const o=i.accountIndices??[];if(o.length>=4){const c=o[3],l=n[c].toString();if(l)return l}}}return""}async function HCe(t,e,n){const r=await XD(t,e),i=Tve(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function XD(t,e){if(BD(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(FD(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return qCe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function qCe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}Bn({paymentHeader:$t(),paymentRequirements:If});class jo{static parse(e){try{return new jo(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return Lg(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Lg(e)}}class Tb extends jo{static parse(e){try{return new Tb(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const oTe=({style:t,...e})=>g.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),ZCe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",GCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let J2,Yu;class KCe extends E2{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:GCe,id:"com.coinbase.wallet"}}async promptConnection(){le.debug("Prompting connection via Base Account",{wallet:this.walletClientType});try{await this.importPromise,le.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(le.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Vt("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw le.connectionFailed(this.walletClientType,e,{method:"base_account"}),oc(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new x2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},J2?(this.proxyProvider.setWalletProvider(J2.getProvider()),this.setBaseAccountSdk(J2)):this.importPromise=_e(async()=>{const{createBaseAccountSDK:a}=await import("./launchpad-index-DuAbUB39.js");return{createBaseAccountSDK:a}},__vite__mapDeps([3,1,4])).then(({createBaseAccountSDK:a})=>{J2=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(J2.getProvider()),this.setBaseAccountSdk(J2)}).catch(console.error)}}let YCe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class JCe extends E2{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:ZCe,id:"com.coinbase.wallet"}}async promptConnection(){le.debug("Prompting connection via Coinbase Wallet",{wallet:this.walletClientType});try{le.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(le.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Vt("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw le.connectionFailed(this.walletClientType,e,{method:"coinbase_wallet"}),oc(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Yu=gv({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Yu.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new x2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(s=>s.id))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Yu){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(a=>!YCe.includes(a)):[];s.length>0&&!s.every(a=>nB.has(a))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),Yu=gv(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Yu.getProvider())}}const XCe=({...t})=>g.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class Ux extends E2{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Uy(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:XCe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function Ft(){let t=mj();return t?t.getAccessToken():Promise.resolve(Ne.get(Lp)||Ne.get(ed)||null)}const QCe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function Sh(t){return t?{"privy-ui":"t"}:void 0}class ml{async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new Z("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(_ne,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new Z("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Cne,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw ut(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new Z("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new Z("Email must be set when initialzing authentication.");let i=Sh(r);try{return await this.api.post(vne,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw ut(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class eEe extends ml{async link(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new Z("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(xne,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw ut(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class ls{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class Bx{get meta(){return this._meta}async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.channelToken)throw new Z("Auth flow must be initialized first");try{let e=await this.api.post(mne,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new Z("No response from authentication");return e}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(gne,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw ut(e)}}async _startChannelOnce(){if(!this.api)throw new Z("Auth flow has no API instance");let e=await this.api.post(pne,{token:this.captchaToken});oh&&!yQ&&e.connect_uri&&uO(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new Z("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.channelToken)throw new Z("Auth flow must be initialized first");let e=await this.api.get(yne,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ls(this._startChannelOnce.bind(this)),this.pollForReady=new ls(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function kb(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function QD(){return kb()?window.chrome?.runtime?.id:void 0}function m4(){return kb()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function Fx(t){return new Promise((e,n)=>{m4()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){return kb()?window.chrome?.runtime?.lastError?.message:void 0}();if(i||!r){let l=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(l)}let s=new URL(r),a=QD();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let l=s.hostname.split(".");if(l.length!==3||l[1]!=="chromiumapp"||l[2]!=="org"||l[0]!==a)throw Error("Invalid responseUri origin")}}let o=s.searchParams.get("privy_oauth_state"),c=s.searchParams.get("privy_oauth_code");if(!o||!c)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:o,privyOAuthCode:c})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}function g4(t){return crypto.getRandomValues(new Uint8Array(t))}function Pb(){return Kc(g4(36))}function ej(){return Pb()}async function tj(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return Kc(n)}}class ol{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new Z("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new Z("User denied confirmation during OAuth flow");let e=function(){let n=Ne.get(Au);if(!n)throw new Z("Authentication error.");return n}();try{let n=await this.api.post(iO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Ne.del(Au),Ne.del(E0),Ne.del(pd),n}catch(n){let r=ut(n);throw r.privyErrorCode?new Z(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new Z("Invalid code during oauth flow.",void 0,ne.OAUTH_USER_DENIED):new Z("Invalid code during OAuth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new Z("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new Z("User denied confirmation during OAuth flow");let e=Ne.get(Au);if(!e)throw new Z("Authentication error.");try{let n=await this.api.post(sO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Ne.del(Au),n}catch(n){throw ut(n)}}async getAuthorizationUrl(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.provider)throw new Z("Provider must be set when initializing OAuth authentication.");let e=Pb();Ne.put(Au,e);let n=ej();Ne.put(C0,n);let r=await tj(e);this.meta.withPrivyUi||Ne.put(E0,!0),this.meta.disableSignup?Ne.put(pd,!0):Ne.del(pd);let i=Sh(this.meta.withPrivyUi),s=window.location.href,a=function(){let o=QD();if(o)return`https://${o}.chromiumapp.org`}();a&&(s=a);try{return await this.api.post(rO,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(o){throw ut(o)}}constructor(e){this.meta=e}}function tEe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Ne.get(E0),popupFlow:window.opener!==null&&i,disableSignup:!!Ne.get(pd)}}function cTe(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Ne.del(C0),window.history.replaceState({},"",t)}class X2{async initRegisterFlow(e){if(!this.api)throw new Z("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new Z("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new Z("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await _e(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new Z("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Z("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Une,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new Z("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):ut(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await _e(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new Z("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Z("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map(r=>({type:"public-key",id:r}))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(jne,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new Z("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):ut(r)}}async link(){let e=await _e(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new Z("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Z("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Dne,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new Z("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):ut(n)}}async _initRegisterOnce(e){if(!this.api)throw new Z("Auth flow has no API instance");let n=Sh(e);return await this.api.post(Nne,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new Z("Auth flow has no API instance");let n=Sh(e);return await this.api.post(Mne,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new Z("Auth flow has no API instance");return await this.api.post($ne,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(n=>({type:n.type,alg:n.alg})),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map(n=>({id:n.id,type:n.type,transports:n.transports})),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(n=>({id:n.id,type:n.type,transports:n.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ls(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ls(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ls(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const y4=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Jp{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new Z("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new Z("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw ut(e)}}async link(){if(!this.client)throw new Z("SiweFlow has no client instance");try{if(!this.wallet)throw new Z("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw ut(e)}}async sign(){if(!this.client)throw new Z("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new Z("Could not prepare SIWE message");if(!this.wallet)throw new Z("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new Z("SiweFlow has no client instance");if(!this.wallet)throw new Z("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new Z("SiweFlow has no client instance");if(!this.wallet)throw new Z("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=y4({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ls(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class zx{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new Z("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw ut(e)}}async link(){if(!this.client)throw new Z("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw ut(e)}}async sign(){let e,n;if(!this.client)throw new Z("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new Z("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new Z("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:Y6.decode(this.preparedMessage)});e=Y6.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Y6.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new Z("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new Z("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=are({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ls(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}class gl{async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new Z("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Tne,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new Z("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Sne,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw ut(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new Z("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new Z("phone nNumber must be set when initialzing authentication.");let i=Sh(r);try{return await this.api.post(Lne,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw ut(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class nEe extends gl{async link(){if(!this.api)throw new Z("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new Z("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(kne,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw ut(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const nj=R.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Y,setError:Y,setExecuting:Y,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:UI,reset:Y,execute:Y});class w4 extends rc{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const rEe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=R.useRef(null),s=R.useRef(null),[a,o]=R.useState(),[c,l]=R.useState(),[u,d]=R.useState(!1),h=R.useMemo(()=>r?u||a||c?!u||a||c?a&&!c?{status:"success",token:a}:c?{status:"error",error:c}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,a,c,u]),f=R.useMemo(()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),d(!1),l(void 0),o(void 0)},reset:()=>{i.current?.reset(),d(!1),l(void 0),o(void 0)},execute:()=>{d(!0),i.current?.execute()},waitForResult:async()=>{try{return await $9(()=>i.current?.getResponse(),{interval:200,timeout:2e4})}catch{throw new w4("Captcha failed",null,ne.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),d(!1),l(void 0),o(void 0)},reset:()=>{s.current?.resetCaptcha(),d(!1),l(void 0),o(void 0)},execute:()=>{d(!0),s.current?.execute()},waitForResult:async()=>{try{return await $9(()=>{let m=s.current?.getResponse();if(m)return m},{interval:200,timeout:2e4})}catch{throw new w4("Captcha failed",null,ne.CAPTCHA_TIMEOUT)}}}:null,[r]),p=R.useMemo(()=>{if(!r||!f)return{...h,enabled:!1,siteKey:"",appId:e,setToken:Y,setError:Y,setExecuting:Y,waitForResult:()=>Promise.resolve(void 0),remove:UI,reset:Y,execute:Y,provider:void 0,ref:{current:null}};let m={...h,enabled:!0,appId:e,setToken:o,setError:l,setExecuting:d};return r==="turnstile"?{...m,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...f}:{...m,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...f}},[h,r,f,e,n]);return g.jsx(nj.Provider,{value:p,children:t})},rj=()=>R.useContext(nj);class Ju{async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(Bne,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(Fne,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw ut(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function lTe(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===ne.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===ne.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===ne.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===ne.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof w4&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function Wx(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Vx(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let iEe=R.lazy(()=>_e(()=>import("./launchpad-TurnstileWrapper-Co-t5mTh-DpQbCh7W.js"),__vite__mapDeps([5,1]))),sEe=R.lazy(()=>_e(()=>import("./launchpad-HCaptchaWrapper-CUi9LJsp-d9WQjF88.js"),__vite__mapDeps([6,1])));const aEe=t=>{let e=rj();return R.useEffect(()=>e.remove,[e.remove]),e.enabled&&e.provider?g.jsx(R.Suspense,{fallback:null,children:g.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&g.jsx(iEe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&g.jsx(sEe,{...t,captchaContext:e})]})}):null};var z3=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>_e(()=>import("./launchpad-AccountNotFoundScreen-CeH1-Vk6-CfoZxUZf.js"),__vite__mapDeps([7,1,8,9,10,11,12])),AffirmativeConsentScreen:()=>_e(()=>import("./launchpad-AffirmativeConsentScreen-CXITm_N9-BEVPCwDk.js"),__vite__mapDeps([13,1,9,14,8,10,11,12,15])),AllowlistRejectionScreen:()=>_e(()=>import("./launchpad-AllowlistRejectionScreen-lgFXWCYE-CDFp_rHF.js"),__vite__mapDeps([16,1,8,9,10,11,17,12])),AuthenticateWithWalletScreen:()=>_e(()=>import("./launchpad-AuthenticateWithWalletScreen-m06-fuCA-vLFUx2BV.js"),__vite__mapDeps([18,1,19,9,20,21,12,22,23,24,25,26,27,28,29,10,11])),AwaitingEvmToSolBridgingScreen:()=>_e(()=>import("./launchpad-AwaitingEvmToSolBridgingScreen-CckTG9KA-D-XHBW0R.js"),__vite__mapDeps([30,1,31,32,9,33,34,11,35,36,37,38,39,40,41,42,43,44,45,27,46,47,48,49,50,51,52,21,12,22,53,54,55,56,57,58,59,60,8,10,61,62,63,64])),AwaitingExternalEthereumTransferScreen:()=>_e(()=>import("./launchpad-AwaitingExternalEthereumTransferScreen-eF2GWu8M-DNjjz_Qu.js"),__vite__mapDeps([65,1,31,32,9,33,34,11,35,36,66,56,57,37,38,42,43,44,45,27,46,47,48,39,49,50,51,52,21,12,22,53,54,55,58,59,60,8,10,61,62,63,67,64])),AwaitingPasswordlessCodeScreen:()=>_e(()=>import("./launchpad-AwaitingPasswordlessCodeScreen-BOBPSamI-D5mLwcyk.js"),__vite__mapDeps([68,1,69,70,32,23,14,8,9,10,11])),AwaitingSolToEvmBridgingScreen:()=>_e(()=>import("./launchpad-AwaitingSolToEvmBridgingScreen-P3cpg0C5-ChxTtny5.js"),__vite__mapDeps([71,1,31,32,9,33,34,11,37,38,50,51,48,44,45,52,21,12,22,53,67])),CaptchaScreen:()=>_e(()=>import("./launchpad-CaptchaScreen-B3Ykiq24-Q3MGqdQQ.js"),__vite__mapDeps([72,1,8,9,10,11,61,12,73])),CoinbaseOnrampStatusScreen:()=>_e(()=>import("./launchpad-CoinbaseOnrampStatusScreen-w23Wg5d9-DZHutgsf.js"),__vite__mapDeps([74,1,75,76,9,32,37])),ConnectLedgerScreen:()=>_e(()=>import("./launchpad-ConnectLedgerScreen-CeefF4eo-B9y-Ihqx.js"),__vite__mapDeps([77,1,8,9,10,11,12])),ConnectOnlyLandingScreen:()=>_e(()=>import("./launchpad-ConnectOnlyLandingScreen-DsUmsQqW-C1Lid8Iz.js"),__vite__mapDeps([78,1,19,9,20,21,12,22,23,24,25,26,27,28,29,10,11])),ConnectOnlyStatusScreen:()=>_e(()=>import("./launchpad-ConnectOnlyStatusScreen-BWSDA11j-ap73nF1s.js"),__vite__mapDeps([79,1,8,9,10,11,80,23,28,14])),ConnectOrCreateScreen:()=>_e(()=>import("./launchpad-ConnectOrCreateScreen-2uZYB3jh-Da_dkA84.js"),__vite__mapDeps([81,1,82,9,19,20,21,12,22,23,24,25,26,27,28,29,10,11,83,49,45,84,85,86,87,88,89,90,8])),ConnectionStatusScreen:()=>_e(()=>import("./launchpad-ConnectionStatusScreen-DC1viuqC-BE62Zj59.js"),__vite__mapDeps([80,1,23,28,14,8,9,10,11])),CrossAppAuthScreen:()=>_e(()=>import("./launchpad-CrossAppAuthScreen-BBpfShQF-DwRBLmp3.js"),__vite__mapDeps([91,1,14,8,9,10,11])),DelegatedActionsConsentScreen:()=>_e(()=>import("./launchpad-DelegatedActionsConsentScreen-BcanXrk2-kbZtIBxT.js"),__vite__mapDeps([92,1,93,9,27,94,52,21,12,22,54,8,10,11,95,61])),DelegatedActionsRevokeScreen:()=>_e(()=>import("./launchpad-DelegatedActionsRevokeScreen-CEToWbrk-mJvGCssm.js"),__vite__mapDeps([96,1,8,9,10,11,95,12,61])),EmbeddedWalletConnectingScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletConnectingScreen-CTdp8K5o-Czq7IMiU.js"),__vite__mapDeps([97,1,8,9,10,11,73,12])),EmbeddedWalletCreatedScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletCreatedScreen-BEBjX0Mt-CSQ0DAi3.js"),__vite__mapDeps([98,1,8,9,10,11,61,12])),EmbeddedWalletKeyExportScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletKeyExportScreen-DdviAcYq-Chq6eBck.js"),__vite__mapDeps([99,1,100,101,93,9,27,94,52,21,12,22,54,8,10,11])),EmbeddedWalletOnAccountCreateScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletOnAccountCreateScreen-eKriq-Nq-BXY3rjZJ.js"),__vite__mapDeps([102,1,8,9,10,11,73,12])),EmbeddedWalletPasswordCreateScreen:()=>_e(()=>import("./launchpad-RecoveryPasswordCreateScreen-BRb1syw7-DL1mh-0A.js"),__vite__mapDeps([103,1,104,101,32,9,105,106,76,33])),EmbeddedWalletPasswordUpdateScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletPasswordUpdateScreen-BAlUIAfz-DZ-QcaDK.js"),__vite__mapDeps([107,1,104,101,32,9,105,106,76,33])),EmbeddedWalletPasswordUpdateSplashScreen:()=>_e(()=>import("./launchpad-EmbeddedWalletPasswordUpdateSplashScreen-DX_WQZdd-BpwgRlT2.js"),__vite__mapDeps([108,1,8,9,10,11,17,12])),ErrorScreen:()=>_e(()=>import("./launchpad-ErrorScreen-V8ec2dKP-DjcwwqNu.js"),__vite__mapDeps([109,1,38,8,9,10,11,12,17])),FarcasterConnectStatusScreen:()=>_e(()=>import("./launchpad-FarcasterConnectStatusScreen-BB7egF78-BNx7QXCL.js"),__vite__mapDeps([110,1,111,24,25,9,94,14,8,10,11,85,21,12,22])),FarcasterSignerStatusScreen:()=>_e(()=>import("./launchpad-FarcasterSignerStatusScreen-DE_ssKid-Vvye1Bm0.js"),__vite__mapDeps([112,1,113,111,24,25,8,9,10,11,85])),FundSolWalletWithExternalSolanaWallet:()=>_e(()=>import("./launchpad-FundSolWalletWithExternalSolanaWallet-DAhHczol-BiD94b22.js"),__vite__mapDeps([114,1,31,9,32,33,34,51,48,11,44,45,115,35,36,37,41,116,39,63])),FundWithBankDepositScreen:()=>_e(()=>import("./launchpad-FundWithBankDepositScreen-wFJhtxMV-C6NjmJtf.js"),__vite__mapDeps([117,1,20,21,12,22,8,9,10,11,118,73])),FundingAmountEditScreen:()=>_e(()=>import("./launchpad-FundingEditAmountScreen-kwQjuyb9-BWz-2h6x.js"),__vite__mapDeps([119,1,9,32,34,11,47,35,36,57,58,59,60,12,21,8,10,61,62])),FundingMethodSelectionScreen:()=>_e(()=>import("./launchpad-FundingMethodSelectionScreen-CbxUWw1v-DSNvFwKw.js"),__vite__mapDeps([120,1,75,9,34,121,122,118,29,123,124,37,58,59,60,12,21,8,10,11,61,62])),InAppBrowserLoginNotPossible:()=>_e(()=>import("./launchpad-InAppBrowserLoginNotPossible-BR9y7vrg-CrrkV2Dm.js"),__vite__mapDeps([125,1,8,9,10,11,15,12])),InstallWalletScreen:()=>_e(()=>import("./launchpad-InstallWalletScreen-DkaJ2iZK-lcBw_wPx.js"),__vite__mapDeps([126,1,23,60,12,21,8,9,10,11])),LandingScreen:()=>_e(()=>import("./launchpad-LandingScreen-BtCc-4_K-v4-mIvQ2.js"),__vite__mapDeps([127,1,82,9,19,20,21,12,22,23,24,25,26,27,28,29,10,11,83,49,45,84,85,86,87,88,89,90,8])),LinkConflictScreen:()=>_e(()=>import("./launchpad-LinkConflictScreen-CSZu5Mc7-CcvIQYJi.js"),__vite__mapDeps([128,1,101,48,9,129,52,21,12,22,130,122])),LinkEmailScreen:()=>_e(()=>import("./launchpad-LinkEmailScreen-CMX1b5QU-HVzxYZzk.js"),__vite__mapDeps([131,1,69,83,9,49,45,26,27,84,12,32,8,10,11])),LinkPasskeyScreen:()=>_e(()=>import("./launchpad-LinkPasskeyScreen-BfLq2-Q5-CD3LfYpW.js"),__vite__mapDeps([59,1,60,12,21,8,9,10,11,61,62])),LinkPhoneScreen:()=>_e(()=>import("./launchpad-LinkPhoneScreen-CGYAeavW-BN_lp9qj.js"),__vite__mapDeps([132,1,70,87,9,49,45,8,10,11])),LoginFailedScreen:()=>_e(()=>import("./launchpad-LoginFailedScreen-DpfFaY7V-Mez0VVEi.js"),__vite__mapDeps([133,1,8,9,10,11,73,12])),ManualTransferScreen:()=>_e(()=>import("./launchpad-ManualTransferScreen-D3CPPofR-CZN_jGAO.js"),__vite__mapDeps([134,1,9,32,24,25,34,118,46,47,93,27,94,52,21,12,22,54,135,37,39,116,41,40,43,63])),MfaAuthEnrollmentFlowScreen:()=>_e(()=>import("./launchpad-MfaAuthEnrollmentFlowScreen-YWkK-71P-BMrPeh1U.js"),__vite__mapDeps([136,1,9,137,138,139,86,70,49,45,109,38,8,10,11,12,17,59,60,21,61,62,113,32,94,46,47,54,24,25])),MfaAuthVerifyFlowScreen:()=>_e(()=>import("./launchpad-MfaAuthVerifyFlowScreen-BIGip6ll-CcWR6ese.js"),__vite__mapDeps([140,1,141,139,86,70,137,9,8,10,11,101,129,35,36,142,143,57,41,40,32,55])),MfaEnrollmentFlowScreen:()=>_e(()=>import("./launchpad-MfaEnrollmentFlowScreen-XrdyfmmI-D7Uof4kl.js"),__vite__mapDeps([144,1,9,137,138,139,86,70,49,45,109,38,8,10,11,12,17,59,60,21,61,62,113,32,94,46,47,54,24,25,31,87])),MoonpayStatusScreen:()=>_e(()=>import("./launchpad-MoonpayStatusScreen-CqsI_vjN-C-zEJkk3.js"),__vite__mapDeps([145,1,75,76,9,32,124,37])),OAuthStatusScreen:()=>_e(()=>import("./launchpad-OAuthStatusScreen-DB8OcP_K-Duhq0-a9.js"),__vite__mapDeps([146,1,88,53,14,8,9,10,11,130])),PasskeySelectSignupOrLogin:()=>_e(()=>import("./launchpad-PasskeySelectSignupOrLogin-DCaGA7kA-BirGOkJR.js"),__vite__mapDeps([147,1,8,9,10,11,62,12])),PasskeyStatusScreen:()=>_e(()=>import("./launchpad-PasskeyStatusScreen-5cLO3m8F-DE8o2G2k.js"),__vite__mapDeps([148,1,14,8,9,10,11,62,12])),PasswordRecoveryScreen:()=>_e(()=>import("./launchpad-PasswordRecoveryScreen-Bfqx2sWJ-B1IOEbLD.js"),__vite__mapDeps([149,1,137,9,32,105,10,11])),RecoveryOAuthScreen:()=>_e(()=>import("./launchpad-RecoveryOAuthStatusScreen-CScuB-aG-B3suiv6u.js"),__vite__mapDeps([150,1,9,33,151])),RecoverySelectionScreen:()=>_e(()=>import("./launchpad-RecoverySelectionScreen-DfHkr07F-DBrwd8Uz.js"),__vite__mapDeps([152,1,153,9,33,151])),SendTransactionScreen:()=>_e(()=>import("./launchpad-index-BAAWn9Kv-fzu_BYz6.js"),__vite__mapDeps([154,1,52,9,21,12,22,35,36,135,123,56,57,109,38,8,10,11,17,155,156,44,45,27,94,46,47,93,54,106,121,122,100,101,55,63,32,33,142,143,41,40,66])),SetAutomaticRecoveryScreen:()=>_e(()=>import("./launchpad-SetAutomaticRecoveryScreen-Ol789UQM-C49yWIed.js"),__vite__mapDeps([157,1,101,153,9,46,47])),SignRequestScreen:()=>_e(()=>import("./launchpad-SignRequestScreen-CUMcsLye-CDwjDbym.js"),__vite__mapDeps([158,1,113,32,155,8,9,10,11,12])),StandardSignAndSendTransactionScreen:()=>_e(()=>import("./launchpad-StandardSignAndSendTransactionScreen-C8nW4u5b-D7CJpK-Y.js"),__vite__mapDeps([159,1,36,109,38,8,9,10,11,12,17,31,32,33,44,45,143,57,41,40,129,156,27,94,46,47,52,21,22,93,54,106,121,122,100,101,55,63,115])),TelegramAuthScreen:()=>_e(()=>import("./launchpad-TelegramAuthScreen-jb192MAl-6bbEHsrh.js"),__vite__mapDeps([160,1,14,8,9,10,11,89])),TransferFromWalletScreen:()=>_e(()=>import("./launchpad-TransferFromWalletScreen-B8AzQgyG-CUhx_w7H.js"),__vite__mapDeps([161,1,9,33,34,49,45,46,90,12,51,48,58,59,60,21,8,10,11,61,62])),UpdateEmailScreen:()=>_e(()=>import("./launchpad-UpdateEmailScreen-deteEdyS-B3St0lV1.js"),__vite__mapDeps([162,1,69,32,9,26,27,8,10,11,84,12])),UpdatePhoneScreen:()=>_e(()=>import("./launchpad-UpdatePhoneScreen-D3RSZlDk-CiWw2Up5.js"),__vite__mapDeps([163,1,70,87,9,49,45,8,10,11])),UserLimitReachedScreen:()=>_e(()=>import("./launchpad-UserLimitReachedScreen-QT4sbDev-BFPWshMk.js"),__vite__mapDeps([164,1,8,9,10,11])),WalletInterstitialScreen:()=>_e(()=>import("./launchpad-WalletInterstitialScreen-DPTs9K3X-BYLYdvLD.js"),__vite__mapDeps([165,1,8,9,10,11]))});function oEe(t){nf("configureMfa",t)}const Ih=ic(()=>({inProgressMfaFlow:void 0})),cEe=JJ`
  :root {
     ${t=>lEe(t.palette)}
  };
`,lEe=t=>{let e=function(n){return{"--privy-color-background":n.background,"--privy-color-background-2":n.background2,"--privy-color-background-3":n.background3,"--privy-color-foreground":n.foreground,"--privy-color-foreground-2":n.foreground2,"--privy-color-foreground-3":n.foreground3,"--privy-color-foreground-4":n.foreground4,"--privy-color-foreground-accent":n.foregroundAccent,"--privy-color-accent":n.accent,"--privy-color-accent-light":n.accentLight,"--privy-color-accent-hover":n.accentHover,"--privy-color-accent-dark":n.accentDark,"--privy-color-accent-darkest":n.accentDarkest,"--privy-color-success":n.success,"--privy-color-success-dark":n.successDark,"--privy-color-success-light":n.successLight,"--privy-color-success-bg":n.successBg,"--privy-color-error":n.error,"--privy-color-error-light":n.errorLight,"--privy-color-error-bg":n.errorBg,"--privy-color-error-bg-hover":n.errorBgHover,"--privy-color-warn":n.warn,"--privy-color-warn-light":n.warnLight,"--privy-color-warn-bg":n.warnBg,"--privy-color-warning-dark":n.warningDark,"--privy-color-error-dark":n.errorDark,"--privy-color-info-bg":n.infoBg,"--privy-color-info-bg-hover":n.infoBgHover,"--privy-color-border-default":n.borderDefault,"--privy-color-border-hover":n.borderHover,"--privy-color-border-focus":n.borderFocus,"--privy-color-border-error":n.borderError,"--privy-color-border-success":n.borderSuccess,"--privy-color-border-warning":n.borderWarning,"--privy-color-border-info":n.borderInfo,"--privy-color-border-interactive":n.borderInteractive,"--privy-color-border-interactive-hover":n.borderInteractiveHover,"--privy-color-background-hover":n.backgroundHover,"--privy-color-background-clicked":n.backgroundClicked,"--privy-color-background-disabled":n.backgroundDisabled,"--privy-color-background-interactive":n.backgroundInteractive,"--privy-color-background-interactive-hover":n.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":n.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":n.backgroundInteractiveDisabled,"--privy-color-foreground-hover":n.foregroundHover,"--privy-color-foreground-clicked":n.foregroundClicked,"--privy-color-foreground-disabled":n.foregroundDisabled,"--privy-color-foreground-interactive":n.foregroundInteractive,"--privy-color-foreground-interactive-hover":n.foregroundInteractiveHover,"--privy-link-navigation-color":n.linkNavigationColor,"--privy-link-navigation-decoration":n.linkNavigationDecoration,"--privy-accent-has-good-contrast":n.accentHasGoodContrast,"--privy-color-icon-default":n.iconDefault,"--privy-color-icon-muted":n.iconMuted,"--privy-color-icon-subtle":n.iconSubtle,"--privy-color-icon-inverse":n.iconInverse,"--privy-color-icon-success":n.iconSuccess,"--privy-color-icon-warning":n.iconWarning,"--privy-color-icon-error":n.iconError,"--privy-color-icon-interactive":n.iconInteractive,"--privy-color-icon-default-hover":n.iconDefaultHover,"--privy-color-icon-muted-hover":n.iconMutedHover,"--privy-color-icon-subtle-hover":n.iconSubtleHover,"--privy-color-icon-default-clicked":n.iconDefaultClicked,"--privy-color-icon-muted-clicked":n.iconMutedClicked,"--privy-color-icon-subtle-clicked":n.iconSubtleClicked,"--privy-color-icon-default-disabled":n.iconDefaultDisabled,"--privy-color-icon-muted-disabled":n.iconMutedDisabled,"--privy-color-icon-subtle-disabled":n.iconSubtleDisabled,"--privy-color-icon-error-hover":n.iconErrorHover,"--privy-color-icon-interactive-hover":n.iconInteractiveHover,"--privy-color-icon-error-clicked":n.iconErrorClicked,"--privy-color-icon-interactive-clicked":n.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":n.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":n.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t);return Qh`
    ${Object.entries(e).map(([n,r])=>`${n}: ${r};`).join(`
`)}
  `},Hx=jt.div`
  // css normalize only the privy application to avoid conflicts
  // with consuming application
  ${`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`}

  // Privy styles
  color: var(--privy-color-foreground-2);

  h3 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
    color: var(--privy-color-foreground-2);
  }

  h4 {
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    color: var(--privy-color-foreground);
  }

  p {
    font-size: 13px;
    line-height: 20px;
    color: var(--privy-color-foreground-2);
  }

  button:focus,
  input:focus,
  optgroup:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--privy-color-accent-light);
    box-shadow: 0 0 0 3px var(--privy-color-border-focus);
  }

  .mobile-only {
    @media (min-width: 441px) {
      display: none;
    }
  }

  /* Animations */

  @keyframes fadein {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`,uEe=({children:t,open:e,onClick:n,...r})=>g.jsx(JO,{show:e,as:ke.Fragment,children:g.jsxs(Ise,{onClose:n,...r,as:hEe,children:[g.jsx(ph,{as:ke.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(dEe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),g.jsx(fEe,{children:g.jsx(ph,{as:ke.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(XO,{as:pEe,children:t})})})]})});let dEe=jt.div`
  position: fixed;
  inset: 0;

  transition: backdrop-filter 100ms ease;
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);

  &.entering,
  &.leaving {
    backdrop-filter: unset;
    -webkit-backdrop-filter: unset;
  }
`,hEe=jt.div`
  position: relative;
  z-index: 999999;
`,fEe=jt.div`
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  min-height: 100vh;
`;const pEe=jt.div`
  // reset some default dialog styles
  padding: 0;
  background: transparent;
  border: none;
  width: 100%;
  pointer-events: auto;

  outline: none;
  display: block;

  /*
   * Normally it is bad to mix media queries like this We are doing
   * this here specifically for animations to avoid weird jank.
   */
  /* Mobile animation is a bottom drawer */
  @media (max-width: 440px) {
    opacity: 1;
    transform: translate3d(0, 0, 0);
    transition: transform 200ms ease-in;
    position: fixed;
    bottom: 0;

    &.entering,
    &.leaving {
      opacity: 0;
      transform: translate3d(0, 100%, 0);
      transition:
        transform 150ms ease-in 0ms,
        opacity 0ms ease 150ms;
    }
  }

  /* Tablet/Desktop animation is a fade in */
  @media (min-width: 441px) {
    opacity: 1;
    transition: opacity 100ms ease-in;

    &.entering,
    &.leaving {
      opacity: 0;
      transition-delay: 5ms;
    }

    margin: auto;
    width: 360px;
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`;jt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;const mEe=()=>{let{ready:t}=fu(),{currentScreen:e}=Hl(),[n,r]=R.useState(null),[i,s]=R.useState(!1),a=function(o){let[c,l]=R.useState(!1),u=R.useRef(null),d=R.useRef(null),h=R.useRef(null);return R.useEffect(()=>{if(u.current&&(clearTimeout(u.current),u.current=null),d.current&&(clearTimeout(d.current),d.current=null),o)h.current=Date.now(),u.current=setTimeout(()=>{l(!0)},150);else if(h.current!==null){let f=Date.now()-h.current;if(f>=150){let p=Math.max(0,400-(f-150));d.current=setTimeout(()=>{l(!1),h.current=null},p)}else u.current&&(clearTimeout(u.current),u.current=null),l(!1),h.current=null}return()=>{u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current)}},[o]),c}(i);return R.useEffect(()=>{if(!e)return r(null),void s(!1);s(!0),z3[e]().then(o=>{(!e||t||o.default.isShownBeforeReady)&&(r(()=>o.default.component),s(!1))}).catch(()=>{r(null),s(!1)})},[e,t]),{component:n,isLoading:a}};let qx=R.lazy(()=>_e(()=>import("./launchpad-MfaVerifyFlowScreen-2H1EX_qQ-nzdrSSK-.js"),__vite__mapDeps([166,1,141,139,86,70,137,9,8,10,11,101,129,35,36,142,143,57,41,40,32,55]))),gEe=R.lazy(()=>(t=>z3[t]().then(e=>({default:e.default.component})))("MfaAuthVerifyFlowScreen")),yEe=()=>g.jsx(_Ee,{children:g.jsx(Q1,{})}),ij=()=>{let{currentScreen:t}=Hl(),e=Ih(s=>s.inProgressMfaFlow),n=()=>Ih.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=mEe();return function(){let{isModalOpen:s}=fu(),{headless:a}=wi(),{currentScreen:o}=Hl(),{status:c,execute:l,reset:u,enabled:d}=rj(),[h,f]=R.useState(!1);R.useEffect(()=>{!s&&d&&u()},[s,d,u]),R.useEffect(()=>{o?z3[o]().then(p=>{f(!!p.default.isCaptchaRequired)}).catch(()=>{f(!1)}):f(!1)},[o]),R.useEffect(()=>{s&&h&&!a&&c==="ready"&&d&&l()},[s,h,a,c,d,l])}(),t||e!=="txn"?i?g.jsx(yEe,{}):r?g.jsxs(g.Fragment,{children:[g.jsx(Sk,{$if:!!e,children:g.jsx(R.Suspense,{children:g.jsx(r,{})})}),g.jsxs(R.Suspense,{children:[e==="txn"&&g.jsx(qx,{onClose:n}),e==="auth"&&g.jsx(gEe,{})]})]}):null:g.jsx(R.Suspense,{children:g.jsx(qx,{onClose:n})})},wEe=()=>{let t=R.useRef(null);return g.jsx(vEe,{style:{height:OQ(t)},id:"privy-modal-content",children:g.jsx("div",{ref:t,children:g.jsx(ij,{})})})};const bEe=({open:t})=>{let e=wi(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=eo(),{onUserCloseViaDialogOrKeybindRef:s}=Hl();return{gracefulClosePrivyModal:R.useCallback(()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=Ih(i=>i.inProgressMfaFlow);return oEe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||Ih.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?g.jsx(Hx,{children:g.jsx(sj,{id:"privy-modal-content",children:g.jsx(ij,{})})}):g.jsx(uEe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:g.jsx(Hx,{children:g.jsx(wEe,{})})})};let sj=jt.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  width: 100%;
  background: var(--privy-color-background);
  padding: 0 16px;
`,vEe=jt(sj)`
  transition: height 150ms ease-out;
  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none;

  // Ensure the modal gets pinned to the top if it ever gets too tall
  max-height: calc(100svh - 32px);

  border-radius: var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;
  box-shadow: 0px 0px 36px rgba(55, 65, 81, 0.15);

  @media (min-width: 441px) {
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`,_Ee=jt.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: 2rem;
`;function CEe(t){let e=R.useRef(null),n=R.useRef();return R.useEffect(()=>{n.current?.remove(),n.current=function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:a}=new URL(i);return s.async=!0,s.src=`${a}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s}(t),e.current?.after(n.current)},[t]),g.jsx("div",{ref:e,hidden:!0})}const EEe=()=>{let{ready:t}=mk(),{client:e}=eo();return R.useEffect(()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));Ne.put(kI,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}},[t,e.connectors]),null};class b4 extends E2{async initialize(){le.debug("Initializing WalletConnect V2 connector",{wallet:this.walletClientType});let e=await this.createProvider();if(this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session){let n=this.walletProvider?.session?.peer.metadata;le.debug("Restoring existing WalletConnect session",{peerName:n?.name,accountsCount:this.walletProvider?.accounts?.length}),this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=U6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()}this.initialized=!0,this.emit("initialized")}async connect(e){le.connectionStart(this.walletClientType,"wallet_connect_v2",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection();let n=await this.getConnectedWallet();return n&&le.connectionSuccess(this.walletClientType),n}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:TQ(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:xQ,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){let n=this.walletClientType;le.debug("Resetting WalletConnect connection for new wallet",{previousWallet:n,newWallet:e}),this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,rre(),this.onDisconnect())}async promptConnection(){if(this.provider)return le.debug("Prompting WalletConnect connection",{wallet:this.walletClientType}),new Promise((e,n)=>{(async()=>{le.debug("Enabling WalletConnect provider",{wallet:this.walletClientType,timeoutMs:this.proxyProvider.rpcTimeoutDuration});let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout().then(()=>{})]);if(i?.length&&(r=i[0],le.debug("WalletConnect accounts received",{address:r,accountsCount:i.length})),!r||r==="")throw new Vt("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=U6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",le.debug("Identified wallet from session",{wallet:this.walletClientType}),this.proxyProvider.rpcTimeoutDuration=B8(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{le.connectionFailed(this.walletClientType,r,{method:"wallet_connect_v2"}),n(r?oc(r):new Vt("Unknown error during connection"))})});le.warn("WalletConnect provider not initialized")}disconnect(){this.walletProvider?.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){le.debug("Creating WalletConnect EthereumProvider",{chainsCount:this.chains.length,defaultChainId:this.defaultChain.id});let e={};for(let s of this.chains){let a=PQ(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id);le.debug("Initializing WalletConnect EthereumProvider",{requiredChains:n.join(", ")||"none",optionalChainsCount:r.length});let i=await pwe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:VN,optionalMethods:WN,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{if(le.debug("WalletConnect URI generated",{wallet:this.walletClientType,isMobile:oh,hasWalletEntry:!!this.walletEntry}),le.debug("Aborting WalletConnect pairing attempt"),i.signer.abortPairingAttempt(),sre(),!this.showPrivyQrModal)throw new Vt("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(oh&&this.walletEntry){let{redirect:a,href:o}=nre(s,this.walletEntry),c=a.startsWith("http");le.debug("Opening mobile wallet via deep link",{wallet:this.walletEntry.name,redirectType:c?"universal":"native"}),uO(a,"_self"),ire({href:o,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let l=yv(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=l?.redirect,this.showPrivyQrModal({native:a,universal:a})}if(le.debug("Displaying WalletConnect QR code",{wallet:this.walletEntry?.name||"generic"}),this.redirectUri=void 0,this.walletEntry){let a=yv(s,this.walletEntry);this.fallbackUniversalRedirectUri=a?.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{let s=i.session?.peer.metadata;le.debug("WalletConnect session established",{peerName:s?.name,peerIcon:s?.icons?.[0]?"present":"none"}),i.session?.peer.metadata.url&&(this.walletEntry=U6(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")}),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:o,walletClientType:c}){super(c||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new x2(void 0,this.rpcTimeoutDuration),c&&(this.walletEntry=SQ(c),this.walletClientType=c)}}const xEe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Xt extends Error{constructor(e,n){super(n),this.type=e}}function Cu(t){let e=t.type;return typeof e=="string"&&xEe.includes(e)}function p1(t){return Cu(t)&&t.type==="wallet_not_on_device"}function uTe(t){return Cu(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function dTe(t){return!!Cu(t)&&t.type==="mfa_timeout"}function hTe(t){return!!Cu(t)&&t.type==="missing_or_invalid_mfa"}function fTe(t){return!!Cu(t)&&t.type==="mfa_verification_max_attempts_reached"}function pTe(t){return!(!Cu(t)||!t.message.includes("code 429"))}function mTe(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}async function ki(t,e,n,r,i,s=!1){let a=s,o=async l=>{if(a&&e&&e.length>0){l===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new Xt("missing_or_invalid_mfa","MFA verification failed, retry."));let u=await new Promise((d,h)=>{n.current={resolve:d,reject:h},setTimeout(()=>{let f=new Xt("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(f),h(f)},3e5)});return await t(u)}return await t()},c=null;for(let l=0;l<4;l++)try{c=await o(l),r.current?.resolve(void 0);break}catch(u){if(u.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),u;a=!0}if(c===null){let l=new Xt("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(l),l}return c}var Zx;let AEe=(Zx=0,()=>"id-"+Zx++);function _n(t){return t.error!==void 0}let cn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},gg=new Map,LEe=(t,e)=>typeof e=="bigint"?e.toString():e;function Cn(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((o,c)=>`${o}${JSON.stringify(c,LEe)}`)(t,e);if(t==="privy:wallet:create"||t==="privy:wallets:add"||t==="privy:solana-wallet:create"){let o=gg.get(s);if(o)return o}let a=new Promise((o,c)=>{let l=AEe();cn.enqueue(l,{resolve:o,reject:c}),i.postMessage({id:l,event:t,data:e},r)}).finally(()=>{gg.delete(s)});return gg.set(s,a),a}function SEe(t){let e=RI(),n=R.useRef(null),r=R.useRef(t.mfaMethods),i=X1(),[s,a]=R.useState(!1);return R.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),R.useEffect(()=>{if(!s)return;let o=n.current;if(!o)return;function c(d){var h;d&&d.origin===t.origin&&typeof(h=d.data).event=="string"&&/^privy:.+/.test(h.event)&&function(f){switch(f.event){case"privy:iframe:ready":let p=cn.dequeue(f.event,f.id);return _n(f)?p.reject(new Xt(f.error.type,f.error.message)):p.resolve(f.data);case"privy:user-signer:sign":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:add":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:set-recovery":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:connect":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:recover":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:rpc":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallet:create":let m=cn.dequeue(f.event,f.id);return _n(f)?m.reject(new Xt(f.error.type,f.error.message)):m.resolve(f.data);case"privy:wallets:import":let y=cn.dequeue(f.event,f.id);return _n(f)?y.reject(new Xt(f.error.type,f.error.message)):y.resolve(f.data);case"privy:mfa:verify":let C=cn.dequeue(f.event,f.id);return _n(f)?C.reject(new Xt(f.error.type,f.error.message)):C.resolve(f.data);case"privy:mfa:init-enrollment":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:submit-enrollment":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:unenroll":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:clear":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:auth:unlink-passkey":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:solana-wallet:create":let L=cn.dequeue(f.event,f.id);return _n(f)?L.reject(new Xt(f.error.type,f.error.message)):L.resolve(f.data);case"privy:farcaster:init-signer":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:farcaster:sign":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:delegated-actions:consent":{let w=cn.dequeue(f.event,f.id);return _n(f)?w.reject(new Xt(f.error.type,f.error.message)):w.resolve(f.data)}default:console.warn("Unsupported wallet proxy method:",f)}}(d.data)}let l={signWithUserSigner:d=>ki(h=>Cn("privy:user-signer:sign",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:d=>ki(h=>Cn("privy:wallets:add",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:d=>ki(h=>Cn("privy:wallets:set-recovery",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:d=>ki(h=>Cn("privy:wallets:connect",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:d=>ki(h=>Cn("privy:wallets:recover",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!d.recoveryAccessToken&&!d.recoveryPassword&&!d.recoverySecretOverride),rpc:d=>ki(h=>Cn("privy:wallets:rpc",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:d=>Cn("privy:wallet:create",d,o,t.origin),importWallet:d=>Cn("privy:wallets:import",d,o,t.origin),createSolana:d=>ki(h=>Cn("privy:solana-wallet:create",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:d=>Cn("privy:delegated-actions:consent",d,o,t.origin),verifyMfa:d=>ki(h=>Cn("privy:mfa:verify",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:d=>ki(h=>Cn("privy:mfa:init-enrollment",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:d=>ki(h=>Cn("privy:mfa:submit-enrollment",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:d=>ki(h=>Cn("privy:mfa:unenroll",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:d=>Cn("privy:mfa:clear",d,o,t.origin),unlinkPasskeyAccount:d=>ki(h=>Cn("privy:auth:unlink-passkey",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:d=>Cn("privy:farcaster:init-signer",d,o,t.origin),signFarcasterMessage:d=>Cn("privy:farcaster:sign",d,o,t.origin)};window.addEventListener("message",c);let u=new AbortController;return jy(()=>Cn("privy:iframe:ready",{},o,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(l),(...d)=>{console.warn("Privy iframe failed to load: ",...d),t.onLoadFailed()}),()=>{window.removeEventListener("message",c),u.abort()}},[s]),e?g.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:Awe({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const IEe=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new Z("Address to delegate is not associated with current user.");if(!J1(n))throw new Z(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},TEe=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new Z("Address to delegate is not associated with current user.");let r=n.imported?n:ih(e);if(!r)throw new Z("Unable to determine root address for delegated address.");if(!J1(r))throw new Z(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},Gx=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),Kx="popup-privy-oauth",Yx="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class kEe{async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(iO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(sO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw ut(e)}}constructor(e){this.meta=e}}async function aj({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new Z("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const vp=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t?.linkedAccounts.find(d=>d.type==="cross_app"&&(d.embeddedWallets.some(h=>h.address===e)||d.smartWallets.some(h=>h.address===e)));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new Z("Cannot request a signature with this wallet address");let o=n.getProviderAccessToken(a.providerApp.id),c=await aj({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!o){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new Z("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(o=n.getProviderAccessToken(a.providerApp.id))}if(!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new Z("Transactions require a valid token");let l=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);l.searchParams.set("token",o||""),l.searchParams.set("request",PEe(r));let u=eO({location:l.href});if(!u)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new Z("Failed to initialize signature request");return new Promise((d,h)=>{let f=setTimeout(()=>{y(),h(new Z("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),p=setInterval(()=>{u.closed&&(y(),h(new Z("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=C=>{C.data&&(C.data.token?.action==="set"&&C.data.token?.value!==void 0?n.storeProviderAccessToken(a.providerApp.id,C.data.token.value):C.data.token?.action==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),C.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&C.data.result&&(y(),d(C.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),C.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&C.data.error&&(y(),h(C.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:C.data.error,address:e}})))};window.addEventListener("message",m);let y=()=>{u.close(),clearInterval(p),clearTimeout(f),window.removeEventListener("message",m)}})};let PEe=t=>JSON.stringify({content:{request:{request:v4(t,Ye)}},timestamp:Date.now(),callbackUrl:window.origin});const v4=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>v4(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,v4(r,e)])):t;function OEe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function REe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?OEe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function $Ee(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function Jx(t,e){if(t.onComplete)switch(e){case"external":t.fundingResult?t.onComplete({...t.fundingResult,fundingMethod:e}):t.onComplete({status:"cancelled",address:t.address,fundingMethod:e,amount:t.amount});break;case null:t.onComplete({status:"cancelled",address:t.address,fundingMethod:void 0,amount:t.amount});break;default:t.onComplete({status:"completed",address:t.address,fundingMethod:e,amount:t.amount})}}function gTe(t,e,n,r,i,s,a){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":a.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const yg=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function Xx(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some(n=>e.includes(n))}async function MEe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let NEe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const DEe=t=>{if(FI(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=NEe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};async function Qx(t,e,n,r){let i=c0(t),{chain:s,...a}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:lI[a.type]}}const jEe=()=>{let t=wi(),{user:e}=fu(),{client:n,refreshSessionAndUser:r,walletProxy:i}=eo();return{migrate:R.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0,migrated:!1};if(!e)throw new Z("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);if(!i)throw new Z("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new Z("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);let a=e.linkedAccounts.filter(l=>l.type==="wallet"&&l.walletClientType==="privy"&&J1(l)&&!li(l));if(a.length===0)return{success:!0,migrated:!1};let o=a.filter(l=>l.imported),c=a.filter(l=>!l.imported);if(c.length>0){let l=c.find(h=>h.chainType==="ethereum"&&h.walletIndex===0)??c.find(h=>h.chainType==="solana"&&h.walletIndex===0)??null;if(!l)throw new Z("Primary wallet not found");let{entropyId:u,entropyIdVerifier:d}=O0(l);try{await i.connect({accessToken:s,entropyId:u,entropyIdVerifier:d})}catch(h){if(!p1(h)||l.recoveryMethod!=="privy")throw h;await i.recover({accessToken:s,entropyId:u,entropyIdVerifier:d})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:l.address,chainType:l.chainType,imported:!1},delegatedWallets:c.map(h=>({address:h.address,chainType:h.chainType,walletIndex:h.walletIndex??0}))})}for(let l of o){let{entropyId:u,entropyIdVerifier:d}=O0(l);try{await i.connect({accessToken:s,entropyId:u,entropyIdVerifier:d})}catch(h){if(!p1(h)||l.recoveryMethod!=="privy")throw h;await i.recover({accessToken:s,entropyId:u,entropyIdVerifier:d})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:l.address,chainType:l.chainType,imported:!0},delegatedWallets:[{address:l.address,chainType:l.chainType,walletIndex:l.walletIndex??0}]})}return await r(),{success:!0,migrated:!0}},[t.embeddedWallets.mode,e,i,n,r])}},UEe=({disabled:t})=>{let{migrate:e}=jEe(),{user:n}=fu(),{walletProxy:r}=eo(),i=R.useRef(!1),s=R.useRef(0);return R.useEffect(()=>{t||s.current>2||i.current||!n||!r||(i.current=!0,s.current++,e().catch(a=>{console.debug("Unable to migrate wallets: ",a)}).finally(()=>{i.current=!1}))},[n,r,t,e]),null},BEe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),_4=ic(()=>({ethereum:[]})),_p=()=>_4.getState().ethereum,m1=ic(()=>({user:null,authenticated:!1})),Ge=t=>m1.setState({user:t}),FEe=t=>m1.setState({authenticated:t});class oj{async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(Zne,{token:this.meta.token})}catch(e){throw ut(e)}}async link(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(Gne,{token:this.meta.token})}catch(e){throw ut(e)}}constructor(e){this.meta={token:e}}}const zEe=(t,e,n)=>!Uo(t)&&n!==!1&&(e==="all-users"||e==="users-without-wallets"&&!WEe(t).length);let WEe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const VEe=(t,e,n)=>!S8(t)&&n!==!1&&(e==="all-users"||e==="users-without-wallets"&&!HEe(t).length);let HEe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const qEe=Symbol("wallet-creation-on-login-plugin"),ZEe=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=eo(),a=wi();return{create:async({walletIndex:o,chainType:c,latestUser:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})=>{let p=l;p||(p=await r());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await dO({appConfig:a,user:p,refreshSessionAndUser:r,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:o,chainType:c,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})}}};function GEe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,setAuthenticated:o,setUser:c,setIsNewUser:l}=eo(),{logout:u,authenticated:d,ready:h}=fO(),f=GN(),{create:p}=ZEe(),m=wi();if(!a)throw new Z("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[y,C]=R.useState({status:"initial"}),L=R.useRef(),w=R.useRef(!1),b=R.useRef(e);R.useEffect(()=>{b.current=e},[e]);let x=R.useRef(r);R.useEffect(()=>{x.current=r},[r]);let _=R.useRef(i);R.useEffect(()=>{_.current=i},[i]);let I=R.useRef(s);R.useEffect(()=>{I.current=s},[s]);let M=R.useRef(p);R.useEffect(()=>{M.current=p},[p]);let N=R.useRef(m.embeddedWallets.ethereum.createOnLogin);R.useEffect(()=>{N.current=m.embeddedWallets.ethereum.createOnLogin},[m.embeddedWallets.ethereum.createOnLogin]);let U=R.useRef(m.embeddedWallets.solana.createOnLogin);R.useEffect(()=>{U.current=m.embeddedWallets.solana.createOnLogin},[m.embeddedWallets.solana.createOnLogin]);let B=R.useRef(c);R.useEffect(()=>{B.current=c},[c]);let P=R.useRef(l);R.useEffect(()=>{P.current=l},[l]);let T=R.useRef(o);return R.useEffect(()=>{T.current=o},[o]),R.useEffect(()=>{if(!n||!h)return;let j=async()=>{if(!w.current){w.current=!0;try{C({status:"loading"});let v=await b.current();if(L.current!==void 0&&L.current===v)return void C({status:"done"});if(!v)return d&&(await u(),_.current?.()),L.current=v,void C({status:"done"});a.startAuthFlow(new oj(v));let{user:E,isNewUser:O=!1}=await a.authenticate();if(!E)throw new Z("Failed to sync with custom auth provider");x.current?.({user:E,isNewUser:O}),B.current(E),P.current(O),T.current(!0);let k=f(qEe)?.shouldCreateWallet({user:E}),$=zEe(E,N.current,k),D=VEe(E,U.current,k);if($&&D){let W=await M.current({chainType:"ethereum",walletIndex:0,latestUser:E});await M.current({chainType:"solana",walletIndex:0,latestUser:W.user})}else D?await M.current({chainType:"solana",walletIndex:0,latestUser:E}):$&&await M.current({chainType:"ethereum",walletIndex:0,latestUser:E});L.current=v,C({status:"done"})}catch(v){if(console.warn(v),await u().catch(()=>{}),_.current?.(),v instanceof A0&&v.privyErrorCode===ne.LINKED_TO_ANOTHER_USER)return C({status:"initial"}),void setTimeout(()=>{j()},0);I.current?.(v),C({status:"error",error:v})}finally{w.current=!1}}};return j(),t(j)},[t,a,d,u,n,h,f]),n?{state:y}:{state:{status:"not-enabled"}}}let KEe=ic(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function YEe({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=X1(),i=R.useRef(),s=R.useCallback(c=>(i.current=c,()=>{i.current=void 0}),[]),a=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:o}=GEe({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:c,isNewUser:l})=>{r("login","onComplete",{user:c,isNewUser:l,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:c})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:c=>{r("login","onError",c.privyErrorCode||ne.UNKNOWN_AUTH_ERROR)}});return R.useEffect(()=>{(async()=>n&&!n.isLoading&&i.current?.())()},[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:o}}({customAuth:t});return R.useEffect(()=>{KEe.setState({jwtAuthFlowState:e})},[e]),null}const cj=R.createContext(!1);let lj,uj,dj,hj,fj;const JEe=t=>{let e=t.client,n=t.privy,r=GN(),i=wi();Ck(Dy(i?.appearance.walletList??[]));let[s,a]=R.useState(!1),o=Ih(A=>A.inProgressMfaFlow),[c,l]=R.useState(!1),u=m1(A=>A.user),d=_4(A=>A.ethereum),[h,f]=R.useState(void 0),[p,m]=R.useState(!1),[y,C]=R.useState(null),[L,w]=R.useState(!1),[b,x]=R.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Y}),[_,I]=R.useState({status:"initial"}),[M,N]=R.useState({status:"initial"}),[U,B]=R.useState({status:"initial"}),[P,T]=R.useState({status:"initial"}),[j,v]=R.useState({status:"initial"}),[E,O]=R.useState({status:"initial"}),[k,$]=R.useState(null),D=RI(),[W,q]=R.useState({}),[X,J]=R.useState(null),Q=R.useRef(null),[he,de]=R.useState(!1),Ce=R.useRef(null),oe=R.useRef(null),V=R.useRef(LQ),[je,Fe]=R.useState(!1),fe=m1(A=>A.authenticated),$e=R.useCallback(A=>{FEe(A),!A&&y&&z3[y]().then(S=>{S.default.isUnauthenticatedScreem&&C(null)})},[y]);e.onStoreCustomerAccessToken=A=>{A&&ie(V,"accessToken","onAccessTokenGranted",{accessToken:A})},e.onDeleteCustomerAccessToken=()=>{Ge(null),$e(!1),ie(V,"accessToken","onAccessTokenRemoved")};let ye=R.useRef(null),ge=R.useRef(null),vs=R.useRef(!1),Pr=({showWalletUIs:A})=>vs.current?vs.current:A!==void 0?!A:!i.embeddedWallets.showWalletUIs,ze=A=>{C(A),setTimeout(()=>{a(!0)},15)};R.useEffect(()=>{if(!u)return void e.connectors?.removeEmbeddedWalletConnectors();let A=Uo(u),S=zI(u),z=Ey(u);A&&S.length||e.connectors?.removeEmbeddedWalletConnectors(),z.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?k?(A&&e.connectors.addEmbeddedWalletConnectors({walletProxy:k,user:u,embeddedWallets:S,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),z.forEach(F=>e.connectors?.addImportedWalletConnector(k,F.address,i.defaultChain,t.appId))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[k,u]),R.useEffect(()=>{k&&Q.current?.(k)},[k]),R.useEffect(()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()},[i.externalWallets.solana.connectors]),R.useEffect(()=>{!c&&D&&async function(){let A,S=Or(),z=ia(),F=tne();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:F,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:f,connectorsDebugLogs:i.connectorsDebugLogs}),e.connectors?.on("connectorInitialized",()=>{A&&clearTimeout(A);let te=e.connectors.walletConnectors.length,re=e.connectors.walletConnectors.reduce((We,at)=>We+(at.initialized?1:0),0);re===te?Fe(!0):A=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:re,expected:te}),Fe(!0)},1500)}),e.connectors?.initialize().then(()=>{sa()});let H=await e.getAuthenticatedUser(),G=!!H;i.legal.requireUsersAcceptTerms&&H&&!H.hasAcceptedTerms?(await e.logout(),we.setReadyToTrue(!0),ie(V,"logout","onSuccess")):(i.customAuth?.enabled||($e(!!H),H&&ie(V,"login","onComplete",{user:H,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),Ge(H)),S?ge.current=G?"link":"login":z&&!G?(ge.current="login",q({telegramAuthModalData:{seamlessAuth:!0}}),ze("TelegramAuthScreen")):we.setReadyToTrue(!!H))}()},[e,X,c,D]),R.useEffect(()=>{if(c){if(!u||!u.linkedAccounts.find(A=>A.type==="wallet"&&A.walletClientType==="privy"))return void de(!!k);if([...d].some(A=>A.walletClientType==="privy"))return void de(!0);de(!!k)}},[c,u,d,k]),R.useEffect(()=>{e.connectors?.setWalletList(i.appearance.walletList)},[i.appearance.walletList.join()]);let Or=()=>{let A=tEe();return A.inProgress&&A.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):A.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:A.stateCode,authorizationCode:A.authorizationCode}):(A.inProgress&&A.provider.startsWith("privy:")&&!A.popupFlow&&(new BroadcastChannel(Kx).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:A.stateCode,authorizationCode:A.authorizationCode}),window.close()),!!A.inProgress&&!!A.withPrivyUi&&(e.startAuthFlow(new ol({...A,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),ze("OAuthStatusScreen"),!0))},ia=()=>{let A=function(){let z;return(z=function(){let F=new URLSearchParams(window.location.search),H=Number(F.get("id")||""),G=F.get("hash"),te=Number(F.get("auth_date")||""),re=F.get("first_name");if(H&&re&&te&&G)return Object.fromEntries(F.entries())}())?(Vx(),{flowType:"login-url",authData:z}):(z=function(){let F=window.location.hash;if(!F||!F.startsWith("#tgWebAppData"))return;let H=Wx(F.replace("#tgWebAppData=","")),{user:G,auth_date:te,hash:re}=H;return G&&te&&re?H:void 0}())?(Vx(),{flowType:"web-app",authData:z}):void 0}();if(!A||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let S=new Ju;return e.startAuthFlow(S),A.flowType==="login-url"&&(S.meta.telegramWebAppData=void 0,S.meta.telegramAuthResult=A.authData),A.flowType==="web-app"&&(S.meta.telegramAuthResult=void 0,S.meta.telegramWebAppData=A.authData),!0},Rr=async(A,S,z,F)=>{if(A!=="solana_adapter")Fn(await e.connectors?.createEthereumWalletConnector({connectorType:A,walletClientType:S})||null,S,z,F);else{let H=e.connectors?.findSolanaWalletConnector(S);if(!H)return;Fn(H,S,z,F)}};async function Fn(A,S,z,F){if(!A)return x({status:"disconnected",connectedWallet:null,connectError:new Vt("Unable to connect to wallet."),connector:null,connectRetry:Y}),F?.(null,z);x({status:"disconnected",connectedWallet:null,connectError:null,connector:A,connectRetry:Y}),A instanceof b4&&S&&await A.resetConnection(S),x({connector:A,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Fn(A,S,z,F)});try{let H=await A.connect({showPrompt:!0});if((!H||Lo(H))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find(G=>G.id===Number(H?.chainId.replace("eip155:","")))&&(H?.connectorType!=="wallet_connect_v2"||H?.walletClientType!=="metamask")){x(G=>({...G,connector:A,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Y}));try{await H?.switchChain(i.defaultChain.id),H&&(H.chainId=wd(Ye(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return x(G=>({...G,status:"connected",connectedWallet:H,connectError:null,connectRetry:Y})),H&&ie(V,"connectWallet","onSuccess",{wallet:H}),F?.(H,z)}catch(H){return H instanceof rc?(console.warn(H.cause?H.cause:H.message),ie(V,"connectWallet","onError",H.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(H),ie(V,"connectWallet","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR)),x(G=>({...G,status:"disconnected",connectedWallet:null,connectError:H})),F?.(null,z)}}let wr=async(A,S,z)=>{if(A===null||!Lo(A))return;let F=new Jp(e,A,S,z);e.startAuthFlow(F)},Zi=async(A,S,z,F="plain")=>{let H=r(cre);if(F==="transaction"&&!H)throw new Z("useSolanaLedger plugin hook must be mounted");if(A===null||!FQ(A))return;let G=new zx(A,e,S,z,F,H);e.startAuthFlow(G)},sa=async()=>{let A=new URLSearchParams(window.location.search),S=A.get("privy_connector"),z=A.get("privy_wallet_client"),F=A.get("privy_connect_only")==="true";if(!S||!z)return;le.debug("Mobile wallet return detected",{connectorType:S,wallet:z,connectOnly:F});let H=jQ({connectorType:S,walletClientType:z});if(!H||!H.isInstalled)return le.warn("Wallet not installed on mobile return",{wallet:z,hasConfig:!!H,isInstalled:H?.isInstalled}),ze("LoginFailedScreen");if(!e.connectors)throw new Z("Connector not initialized");await ze(F?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let G=new URL(window.location.href);G.searchParams.delete("privy_connector"),G.searchParams.delete("privy_wallet_client"),G.searchParams.delete("privy_connect_only"),window.history.pushState({},"",G),le.debug("Launching connection flow from mobile return",{wallet:z,connectorType:S,connectOnly:F}),Rr(S,z,void 0,F?void 0:S==="solana_adapter"?Zi:wr)};R.useEffect(()=>{c&&fe&&u===null&&e.getAuthenticatedUser().then(Ge)},[c,fe,u,e]);let At=A=>{if(!fe)throw ie(V,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:A}),new Z("User must be authenticated before linking an account.")},wn=A=>{if(!fe||!u)return!1;if(A.walletClientType==="privy")return!0;for(let S of u.linkedAccounts)if(S.type==="wallet"&&S.address===A.address&&S.walletClientType!=="privy")return!0;return!1},br=()=>{_4.setState(A=>{let S=e.connectors?.wallets.filter(Lo).map(z=>({...z,linked:wn(z),loginOrLink:async()=>{if(!await z.isConnected())throw new Z("Wallet is not connected");if(z.connectorType==="embedded"&&z.walletClientType==="privy")throw new Z("Cannot link or login with embedded wallet");(async F=>{let H;if(!e.connectors)throw new Z("Connector not initialized");H=F.type==="ethereum"?e.connectors.findWalletConnector(F.connectorType,F.walletClientType)||null:e.connectors.findSolanaWalletConnector(F.walletClientType)||null,x(G=>({...G,connector:H,status:"connected",connectedWallet:F,connectError:null,connectRetry:Y})),i.captcha.enabledProvider&&!fe?(q({captchaModalData:{callback:G=>Lo(F)?wr(F,G):Zi(F,G),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await ze("CaptchaScreen")):(Lo(F)?await wr(F):await Zi(F),await ze("ConnectionStatusScreen"))})(z)},fund:async F=>{await we.fundWallet(z.address,F)},unlink:async()=>{if(!fe)throw new Z("User is not authenticated.");if(z.connectorType==="embedded"&&z.walletClientType==="privy")throw new Z("Cannot unlink an embedded wallet");Ge(await e.unlinkEthereumWallet(z.address))}}))||[];return Ak(A.ethereum,S)?{}:{ethereum:S}})};R.useEffect(()=>{br()},[u?.linkedAccounts,fe,c]),R.useEffect(()=>{if(c){if(!e.connectors)throw new Z("Connector not initialized");br(),e.connectors.on("walletsUpdated",br)}},[c]),R.useEffect(()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter(A=>A.startsWith("privy:")).forEach(A=>e.getCrossAppProviderDetails(A.replace("privy:","")))},[!!e]);let ni=({transaction:A,sponsor:S,uiOptions:z,fundWalletConfig:F,address:H,signOnly:G})=>new Promise(async(te,re)=>{let{requesterAppId:We}=z||{},at=G?"signTransaction":"sendTransaction",kt=H?sl(u,H):Uo(u);if(!kt&&H){let pt=O6(_p(),H);if(pt){if(S)throw new Z("Cannot sponsor transactions for externally connected wallet.");try{let Jt=await pt.getEthereumProvider(),Xe=A.data,Tn=r(rx);Tn&&(Xe=Tn.appendDataSuffix({data:Xe}));let Gi={...A,from:H,chainId:A.chainId||Number(pt.chainId.replace("eip155:","")),value:A.value!==void 0?Ye(A.value):void 0,data:Xe},to=await Jt.request({method:at==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Gi]});return ie(V,at,"onSuccess",{hash:to}),void te({hash:to})}catch(Jt){return ie(V,at,"onError",ne.TRANSACTION_FAILURE),void re(Jt??new Rs("Unable to "+at+Jt))}}}if(!kt)return ie(V,at,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void re(new Z("No embedded or connected wallet found for address."));if(!fe||!u)return ie(V,at,"onError",ne.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let Lt=kt.address,Yt=kt.walletIndex??0,{entropyId:Be,entropyIdVerifier:St}=Ro(u,kt),bn=K.wallets.find(pt=>pt.walletClientType==="privy"&&Nn(pt.address)===Nn(Lt));if(!bn)return ie(V,at,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void re(Error("Must have a Privy wallet before signing"));let In=await bn.getEthereumProvider(),_s=await In.request({method:"eth_chainId"}),Ci=A.chainId?Number(A.chainId):wk(_s);(pt=>{if(!i.chains.map(Jt=>Jt.id).includes(pt))throw new Vt(`Chain ID ${pt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ne.UNSUPPORTED_CHAIN_ID)})(Ci);let $r=A.data,Cs=r(rx);Cs&&($r=Cs.appendDataSuffix({data:$r}));let Qt={...A,from:A.from??Lt,chainId:Ci,data:$r},vr=await Ft();if(!vr||!k)return ie(V,at,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void re(Error("Must have valid access token and Privy wallet to send transaction"));let W3=R0(Qt.chainId,i.chains,i.rpcConfig,{appId:t.appId}),V3=li(kt),Ob=async({transactionRequest:pt})=>{try{let Jt;if(!await we.recoverEmbeddedWallet({address:Lt}))throw ie(V,at,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),re(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(S){let Xe=await(async({transactionRequest:Tn})=>{if(!V3)throw new Z("Sponsoring is only supported for wallets on the TEE stack");if(G)throw new Z("Cannot sponsor a sign transaction request");let Gi=R2=>R2==null?void 0:Ye(R2),to=await is(n,async({message:R2})=>await k.signWithUserSigner({accessToken:vr,requesterAppId:We,message:R2}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:wd(Ye(Tn.chainId)),sponsor:!0,params:{transaction:{from:Tn.from,to:Tn.to,chain_id:Gi(Tn.chainId),data:xr(Tn.data)?Tn.data?Tn.data:Ye(Uint8Array.from(Tn.data)):void 0,value:Gi(Tn.value)}},wallet_id:kt.id});if(to.data&&"hash"in to.data)return to.data.hash;throw new Rs("Unable to sign transaction")})({transactionRequest:pt});return ie(V,"sendTransaction","onSuccess",{hash:Xe}),Xe}if(V3){let Xe=Gi=>Gi==null?void 0:Ye(Gi),Tn=await is(n,async({message:Gi})=>await k.signWithUserSigner({accessToken:vr,requesterAppId:We,message:Gi}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:pt.from,to:pt.to,nonce:Xe(pt.nonce),chain_id:Xe(pt.chainId),data:xr(pt.data)?pt.data?pt.data:Ye(Uint8Array.from(pt.data)):void 0,value:Xe(pt.value),type:pt.type,gas_limit:Xe(pt.gasLimit??pt.gas),gas_price:Xe(pt.gasPrice??pt.gas),max_fee_per_gas:Xe(pt.maxFeePerGas),max_priority_fee_per_gas:Xe(pt.maxPriorityFeePerGas)}},wallet_id:kt.id});if(!Tn.data||!("signed_transaction"in Tn.data))throw new Rs("Unable to sign transaction");Jt=Tn.data.signed_transaction}else Jt=await async function({accessToken:Xe,entropyId:Tn,entropyIdVerifier:Gi,transactingWalletIndex:to,walletProxy:R2,transactionRequest:wj,requesterAppId:bj}){return(await R2.rpc({entropyId:Tn,entropyIdVerifier:Gi,hdWalletIndex:to??0,chainType:"ethereum",accessToken:Xe,requesterAppId:bj,request:{method:"eth_signTransaction",params:[wj]}})).response.data}({accessToken:vr,entropyId:Be,entropyIdVerifier:St,transactingWalletIndex:Yt,walletProxy:k,transactionRequest:pt,requesterAppId:We});if(G)return ie(V,"signTransaction","onSuccess",{signature:Jt}),Jt;{let Xe=await W3.sendRawTransaction({serializedTransaction:Jt});return ie(V,"sendTransaction","onSuccess",{hash:Xe}),Xe}}catch(Jt){throw ie(V,at,"onError",ne.TRANSACTION_FAILURE),Jt}};if(Pr({showWalletUIs:z?.showWalletUIs})){let pt=G||S?Qt:await Qx(Qt,W3,Qt.from);try{let Jt=await Ob({transactionRequest:pt});G?ie(V,"signTransaction","onSuccess",{signature:Jt}):ie(V,"sendTransaction","onSuccess",{hash:Jt}),te({hash:Jt})}catch(Jt){ie(V,at,"onError",ne.TRANSACTION_FAILURE),re(Jt)}}else{let pt={connectingWalletAddress:Lt,recoveryMethod:kt.recoveryMethod,entropyId:Be,entropyIdVerifier:St,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:V3,onFailure:Xe=>{ie(V,at,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),re(Xe)}},Jt=(Xe=>!!Xe.fundingConfig&&U8(Xe.fundingConfig.options).length>=1)(i)?R9({address:Lt,appConfig:i,fundWalletConfig:F,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:Qt.chainId,comingFromSendTransactionScreen:!0}):void 0;q({connectWallet:pt,sendTransaction:{transactionRequest:Qt,transactingWalletIndex:Yt,transactingWalletAddress:Lt,entropyId:Be,entropyIdVerifier:St,signOnly:G,scanTransaction:async()=>{let Xe=await Qx(Qt,W3,Qt.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:Xe.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Xe.from,to:Xe.to,value:Xe.value?.toString(),gas:Xe.gas?.toString(),gasPrice:Xe.gasPrice?.toString(),nonce:Xe.nonce?.toString(),data:Xe.data}]}})},getIsSponsored:async()=>!!S,onConfirm:({transactionRequest:Xe})=>Ob({transactionRequest:Xe}),onSuccess:Xe=>{G?ie(V,"signTransaction","onSuccess",{signature:Xe.hash}):ie(V,"sendTransaction","onSuccess",{hash:Xe.hash}),te(Xe)},onFailure:Xe=>{ie(V,at,"onError",ne.TRANSACTION_FAILURE),re(Xe)},uiOptions:z||{},fundWalletConfig:F,requesterAppId:We},funding:Jt}),ze("EmbeddedWalletConnectingScreen")}});function et(){return new Promise(async(A,S)=>{let z=await Ft();if(!z||!k)throw Error("Must have valid access token to enroll in MFA");try{await k.verifyMfa({accessToken:z}),A()}catch(F){S(F)}})}let rt=A=>A?.linkedAccounts.filter(S=>S.latestVerifiedAt!==null&&!(S.type==="wallet"&&S.walletClientType==="privy")).sort((S,z)=>z.latestVerifiedAt.getTime()-S.latestVerifiedAt.getTime())[0],Te=A=>{let S=u?.linkedAccounts.filter(H=>H.type===A).length??0,{displayName:z,loginMethod:F}=DEe(A);if(A==="passkey"&&S>=5||A!=="passkey"&&S>=1)throw ie(V,"linkAccount","onError",ne.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:F}),new Z(`User already has an account of type ${z} linked.`)};async function ft({showAutomaticRecovery:A=!1,legacySetWalletPasswordFlow:S=!1}){C(null);let z=S?"setWalletPassword":"setWalletRecovery";if(!fe||!u)throw ie(V,z,"onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let F=ih(u);if(!F||!k)throw ie(V,z,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let H=li(F);if(H)throw ie(V,z,"onError",ne.UNSUPPORTED_WALLET_TYPE),new Z("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await et()}catch(G){throw ie(V,z,"onError",ne.MISSING_MFA_CREDENTIALS),G}return new Promise((G,te)=>{let re=F.recoveryMethod==="user-passcode",We=REe({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:S,isResettingPassword:re,showAutomaticRecovery:A}),{entropyId:at,entropyIdVerifier:kt}=Ro(u),Lt={recoveryMethod:F.recoveryMethod,connectingWalletAddress:F.address,onCompleteNavigateTo:We,shouldForceMFA:!1,entropyId:at,isUnifiedWallet:H,entropyIdVerifier:kt,onFailure:Yt=>{ie(V,z,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),te(Yt)}};q({setWalletPassword:{onSuccess:Yt=>{ie(V,z,"onSuccess",{method:"user-passcode",wallet:Yt}),G(Yt)},onFailure:Yt=>{ie(V,z,"onError",ne.USER_EXITED_SET_PASSWORD_FLOW),te(Yt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:at,entropyIdVerifier:kt,onFailure:te},connectWallet:Lt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:re,shouldCreateEth:!1,shouldCreateSol:!1}}),ze("EmbeddedWalletConnectingScreen")})}async function zn({appId:A,action:S,disableSignup:z}){let F=await Ft();if(S==="link"&&!F)throw ie(V,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${A}`}),new Z("User must be authenticated before linking an account.");if(S==="login"&&F)throw ie(V,"login","onError",ne.UNKNOWN_AUTH_ERROR),new Z("Attempted to log in, but user is already logged in. Use a `link` helper instead.");ye.current=`privy:${A}`,ge.current=S;let H=eO();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:A}}),new Promise(async(G,te)=>{let{name:re,logoUrl:We}=await aj({api:e.api,providerAppId:A,requesterAppId:i.id});q({crossAppAuth:{appId:A,name:re,logoUrl:We,action:S,popup:H,disableSignup:z,onSuccess:G,onError:te}}),ze("CrossAppAuthScreen")})}let Sn={ready:c,authenticated:fe,user:u,walletConnectors:e.connectors||null,connectWallet:A=>{A&&"target"in A&&A&&(A=void 0),q({externalConnectWallet:{walletList:A?.walletList&&A?.walletList.length>0?A.walletList:void 0,walletChainType:A?.walletChainType,description:A?.description,hideHeader:A?.hideHeader}}),ze("ConnectOnlyLandingScreen")},linkWallet:A=>(A&&"target"in A&&A&&(A=void 0),At("siwe"),ye.current="siwe",ge.current="link",q({...W,externalConnectWallet:{...W.externalConnectWallet,walletList:A?.walletList,walletChainType:A?.walletChainType,description:A?.description||`Link a wallet to your ${i?.name} account`}}),ze("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:zn,linkEmail:()=>{At("email"),Te("email"),ye.current="email",ge.current="link",ze("LinkEmailScreen")},linkPhone:()=>{At("sms"),Te("phone"),ye.current="sms",ge.current="link",ze("LinkPhoneScreen")},linkGoogle:async()=>{At("google"),Te("google_oauth"),ge.current="link",await we.initLoginWithOAuth("google")},linkTwitter:async()=>{At("twitter"),Te("twitter_oauth"),ge.current="link",await we.initLoginWithOAuth("twitter")},linkTwitch:async()=>{At("twitch"),Te("twitch_oauth"),ge.current="link",await we.initLoginWithOAuth("twitch")},linkDiscord:async()=>{At("discord"),Te("discord_oauth"),ge.current="link",await we.initLoginWithOAuth("discord")},linkGithub:async()=>{At("github"),Te("github_oauth"),ge.current="link",await we.initLoginWithOAuth("github")},linkSpotify:async()=>{At("spotify"),Te("spotify_oauth"),ge.current="link",await we.initLoginWithOAuth("spotify")},linkInstagram:async()=>{At("instagram"),Te("instagram_oauth"),ge.current="link",await we.initLoginWithOAuth("instagram")},linkTiktok:async()=>{At("tiktok"),Te("tiktok_oauth"),ge.current="link",await we.initLoginWithOAuth("tiktok")},linkLine:async()=>{At("line"),Te("line_oauth"),ge.current="link",await we.initLoginWithOAuth("line")},linkLinkedIn:async()=>{At("linkedin"),Te("linkedin_oauth"),ge.current="link",await we.initLoginWithOAuth("linkedin")},linkApple:async()=>{At("apple"),Te("apple_oauth"),ge.current="link",await we.initLoginWithOAuth("apple")},linkPasskey:async()=>{At("passkey"),Te("passkey"),await we.initLinkWithPasskey(),ze("LinkPasskeyScreen")},linkTelegram:async A=>{if(At("telegram"),Te("telegram"),ge.current="link",ye.current="telegram",A?.launchParams)if(A.launchParams.initDataRaw){let S=new Ju;e.startAuthFlow(S),S.meta.telegramAuthResult=void 0,S.meta.telegramWebAppData=Wx(A.launchParams.initDataRaw),q({telegramAuthModalData:{seamlessAuth:!0}}),ze("TelegramAuthScreen")}else ie(V,"linkAccount","onError",ne.INVALID_DATA,{linkMethod:"telegram"});else await we.initLoginWithTelegram();ze("TelegramAuthScreen")},linkFarcaster:async()=>{At("farcaster"),Te("farcaster"),await we.initLoginWithFarcaster(),ge.current="link",ye.current="farcaster",ze("FarcasterConnectStatusScreen")},updateEmail:()=>{if(At("email"),!u?.email)throw new Z("User does not have an email linked to their account.");ge.current="update",ye.current="email",ze("UpdateEmailScreen")},updatePhone:()=>{if(At("sms"),!u?.phone)throw new Z("User does not have a phone number linked to their account.");ge.current="update",ye.current="sms",ze("UpdatePhoneScreen")},login:async A=>{A&&"target"in A&&A&&(A=void 0);let S="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!c){let z=await new Promise(F=>{J(H=>F.bind(H))});if(J(null),z)return void console.warn(S)}!u||u.isGuest?(ge.current="login",q({login:A}),ze("LandingScreen")):console.warn(S)},connectOrCreateWallet:async()=>{c||(await new Promise(A=>{J(()=>A)}),J(null)),fe?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ge.current="connect-or-create",ze("ConnectOrCreateScreen"))},logout:async()=>{if(ge.current=null,ye.current=null,u&&e.clearProviderAcccessTokens(u),C(null),await e.logout(),u&&k)try{await k.clearMfa({userId:u.id})}catch{}Ge(null),$e(!1),m(!1),N({status:"initial"}),B({status:"initial"}),I({status:"initial"}),T({status:"initial"}),v({status:"initial"}),O({status:"initial"}),ie(V,"logout","onSuccess"),a(!1),Ne.del(_y),Ne.del(TI(i.id))},getAccessToken:R.useCallback(async()=>{let A=await e.getCustomerAccessToken();return A&&!fe&&$e(!0),A},[e,fe]),unlinkWallet:async A=>{let S;return Ge(S=A.startsWith("0x")?await e.unlinkEthereumWallet(A):await e.unlinkSolanaWallet(A)),S},unlinkEmail:async A=>{let S=await e.unlinkEmail(A);return Ge(S),S},unlinkPhone:async A=>{let S=await e.unlinkPhone(A);return Ge(S),S},unlinkGoogle:async A=>{let S=await e.unlinkOAuth("google",A);return Ge(S),S},unlinkTwitter:async A=>{let S=await e.unlinkOAuth("twitter",A);return Ge(S),S},unlinkTwitch:async A=>{let S=await e.unlinkOAuth("twitch",A);return Ge(S),S},unlinkDiscord:async A=>{let S=await e.unlinkOAuth("discord",A);return Ge(S),S},unlinkGithub:async A=>{let S=await e.unlinkOAuth("github",A);return Ge(S),S},unlinkSpotify:async A=>{let S=await e.unlinkOAuth("spotify",A);return Ge(S),S},unlinkInstagram:async A=>{let S=await e.unlinkOAuth("instagram",A);return Ge(S),S},unlinkTiktok:async A=>{let S=await e.unlinkOAuth("tiktok",A);return Ge(S),S},unlinkLine:async A=>{let S=await e.unlinkOAuth("line",A);return Ge(S),S},unlinkLinkedIn:async A=>{let S=await e.unlinkOAuth("linkedin",A);return Ge(S),S},unlinkApple:async A=>{let S=await e.unlinkOAuth("apple",A);return Ge(S),S},unlinkFarcaster:async A=>{let S=await e.unlinkFarcaster(A);return Ge(S),S},unlinkTelegram:async A=>{let S=await e.unlinkTelegram(A);return Ge(S),S},unlinkPasskey:async A=>{let S=await Ft();if(!S)throw Error("Must have valid access token to enroll in MFA");if(!k)throw Error("Wallet proxy not initialized.");let z=i.passkeys.shouldUnenrollMfaOnUnlink;await k.unlinkPasskeyAccount({credentialId:A,accessToken:S,removeAsMfa:z});let F=await e.getAuthenticatedUser();return Ge(F),F},unlinkCrossAppAccount:async({subject:A})=>{let S=u?.linkedAccounts.find(F=>F.type==="cross_app"&&F.subject===A)?.providerApp;if(!S)throw new Z("Invalid subject");e.storeProviderAccessToken(S.id,null);let z=await e.unlinkOAuth(`privy:${S.id}`,A);return Ge(z),z},setWalletRecovery:async A=>ft({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:A?.showAutomaticRecovery??!1}),setWalletPassword:async()=>ft({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(A,S)=>new Promise(async(z,F)=>{let{requesterAppId:H}=S?.uiOptions||{},G=A.message,te=S?.address?sl(u,S.address):Uo(u);if(!te&&S?.address!==void 0){let Be=O6(_p(),S.address);if(Be)try{let St=await Be.getEthereumProvider(),bn=await St.request({method:"personal_sign",params:[G,Be.address]});return ie(V,"signMessage","onSuccess",{signature:bn}),void z({signature:bn})}catch(St){return ie(V,"signMessage","onError",ne.UNABLE_TO_SIGN),void F(St??new Rs("Unable to sign message"))}}if(!te)throw new Z("No embedded or connected wallet found for address.");if(!fe||!u)return ie(V,"signMessage","onError",ne.MUST_BE_AUTHENTICATED),void F(Error("User must be authenticated before signing with a Privy wallet"));let re=te.address,We=te.walletIndex??0,{entropyId:at,entropyIdVerifier:kt}=Ro(u,te),Lt=li(te);if(typeof G!="string"||G.length<1)return ie(V,"signMessage","onError",ne.INVALID_MESSAGE),void F(Error("Message must be a non-empty string"));let Yt=async()=>{let Be;if(!fe)throw Error("User must be authenticated before signing with a Privy wallet");let St=await Ft();if(!k||!St||!await we.recoverEmbeddedWallet({address:re}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:re,requesterAppId:H}}),Lt){let bn=xr(A.message,{strict:!0}),In=await is(n,async({message:_s})=>await k.signWithUserSigner({accessToken:St,requesterAppId:H,message:_s}),{chain_type:"ethereum",method:"personal_sign",params:bn?{message:G.slice(2),encoding:"hex"}:{message:G,encoding:"utf-8"},wallet_id:te.id});if(!In.data||!("signature"in In.data))throw new Rs("Unable to sign message");Be=In.data.signature}else{let{response:bn}=await k.rpc({accessToken:St,entropyId:at,entropyIdVerifier:kt,chainType:"ethereum",hdWalletIndex:We,requesterAppId:H,request:{method:"personal_sign",params:[G,re]}});Be=bn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:re,requesterAppId:H}}),Be};if(Pr({showWalletUIs:S?.uiOptions?.showWalletUIs}))try{let Be=await Yt();ie(V,"signMessage","onSuccess",{signature:Be}),z({signature:Be})}catch(Be){ie(V,"signMessage","onError",ne.UNABLE_TO_SIGN),F(Be??new Rs("Unable to sign message"))}else q({signMessage:{method:"personal_sign",data:G,confirmAndSign:Yt,onSuccess:Be=>{ie(V,"signMessage","onSuccess",{signature:Be}),z({signature:Be})},onFailure:Be=>{ie(V,"signMessage","onError",ne.UNABLE_TO_SIGN),F(Be)},uiOptions:S?.uiOptions||{}},connectWallet:{recoveryMethod:te.recoveryMethod,connectingWalletAddress:re,entropyId:at,entropyIdVerifier:kt,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:Lt,onFailure:Be=>{ie(V,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),F(Be)}}}),ze("EmbeddedWalletConnectingScreen")}),signTypedData:(A,S)=>new Promise(async(z,F)=>{let{requesterAppId:H}=S?.uiOptions||{},G=S?.address?sl(u,S.address):Uo(u);if(!G&&S?.address){let Be=O6(_p(),S.address);if(Be)try{let St=await Be.getEthereumProvider(),bn=Mp(A),In=await St.request({method:"eth_signTypedData_v4",params:[Be.address,bn]});return ie(V,"signTypedData","onSuccess",{signature:In}),void z({signature:In})}catch(St){return ie(V,"signTypedData","onError",ne.UNABLE_TO_SIGN),void F(St??new Rs("Unable to sign typed data "+St))}}if(!G)throw new Z("No embedded or connected wallet found for address.");if(!fe||!u)return ie(V,"signTypedData","onError",ne.MUST_BE_AUTHENTICATED),void F(Error("User must be authenticated before signing with a Privy wallet"));let te=G.address,re=G.walletIndex??0,{entropyId:We,entropyIdVerifier:at}=Ro(u,G),kt=li(G),Lt=Mp(A),Yt=async()=>{let Be;if(!fe)throw Error("User must be authenticated before signing with a Privy wallet");let St=await Ft();if(!k||!St||!await we.recoverEmbeddedWallet({address:te}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:te,requesterAppId:H}}),kt){let{domain:bn,types:In,primaryType:_s,message:Ci}=Lt,$r=await is(n,async({message:Cs})=>await k.signWithUserSigner({accessToken:St,requesterAppId:H,message:Cs}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:bn,types:In,primary_type:_s,message:Ci}},wallet_id:G.id});if(!$r.data||!("signature"in $r.data))throw new Rs("Unable to sign message");Be=$r.data.signature}else{let{response:bn}=await k.rpc({accessToken:St,entropyId:We,entropyIdVerifier:at,chainType:"ethereum",hdWalletIndex:re,requesterAppId:H,request:{method:"eth_signTypedData_v4",params:[te,Lt]}});Be=bn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:te,requesterAppId:H}}),Be};if(Pr({showWalletUIs:S?.uiOptions?.showWalletUIs}))try{let Be=await Yt();ie(V,"signTypedData","onSuccess",{signature:Be}),z({signature:Be})}catch(Be){ie(V,"signTypedData","onError",ne.UNABLE_TO_SIGN),F(Be??new Rs("Unable to sign message"))}else q({signMessage:{method:"eth_signTypedData_v4",data:Lt,confirmAndSign:Yt,onSuccess:Be=>{ie(V,"signTypedData","onSuccess",{signature:Be}),z({signature:Be})},onFailure:Be=>{ie(V,"signTypedData","onError",ne.UNABLE_TO_SIGN),F(Be)},uiOptions:S?.uiOptions||{}},connectWallet:{recoveryMethod:G.recoveryMethod,connectingWalletAddress:G.address,entropyId:We,isUnifiedWallet:kt,entropyIdVerifier:at,onCompleteNavigateTo:"SignRequestScreen",onFailure:Be=>{ie(V,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),F(Be)}}}),ze("EmbeddedWalletConnectingScreen")}),sendTransaction:async(A,S)=>await ni({transaction:A,sponsor:S?.sponsor,uiOptions:S?.uiOptions,fundWalletConfig:S?.fundWalletConfig,address:S?.address,signOnly:!1}),signTransaction:async(A,S)=>({signature:(await ni({transaction:A,uiOptions:S?.uiOptions,address:S?.address,signOnly:!0})).hash}),promptMfa:et,async init(A){switch(A){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${A}`)}},async submit(A,S){switch(A){case"totp":case"sms":if(typeof S!="string")throw new Z("Invalid MFA code");Ce.current?.resolve({mfaMethod:A,mfaCode:S,relyingParty:window.origin}),await new Promise((H,G)=>{oe.current={resolve:H,reject:G}});break;case"passkey":if(typeof S=="string")throw new Z("Invalid authenticator response");let z=await _e(()=>import("./launchpad-index-D9std1Z8.js"),[]),F=BEe(await z.startAuthentication({optionsJSON:S}));Ce.current?.resolve({mfaMethod:A,mfaCode:F,relyingParty:window.origin}),await new Promise((H,G)=>{oe.current={resolve:H,reject:G}});break;default:throw Ce.current?.reject(new Z("Unsupported MFA method")),new Z(`Unsupported MFA method: ${A}`)}},cancel(){Ce.current?.reject(new Z("MFA canceled"))},async initEnrollmentWithSms(A){let S=await Ft();if(!S||!k)throw Error("Must have valid access token to enroll in MFA");await k.initEnrollMfa({method:"sms",accessToken:S,phoneNumber:A.phoneNumber})},enrollInMfa:A=>new Promise((S,z)=>{if(!A)return we.closePrivyModal(),void S();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),q({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:S,onFailure:z}}),ze("MfaEnrollmentFlowScreen")}),async initEnrollmentWithTotp(){let A=await Ft();if(!A||!k)throw Error("Must have valid access token to enroll in MFA");let S=await k.initEnrollMfa({method:"totp",accessToken:A});return{secret:S.secret,authUrl:S.authUrl}},async submitEnrollmentWithSms(A){let S=await Ft();if(!S||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"sms",accessToken:S,phoneNumber:A.phoneNumber,code:A.mfaCode}),Ge(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(A){let S=await Ft();if(!S||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"totp",accessToken:S,code:A.mfaCode}),Ge(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:A},S={}){let z=await Ft();if(!z||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"passkey",accessToken:z,credentialIds:A,removeForLogin:S.removeForLogin}),Ge(await e.getAuthenticatedUser())},async unenroll(A,S={}){let z=await Ft();if(!z||!k)throw Error("Must have valid access token to remove MFA");A==="passkey"?await k.submitEnrollMfa({method:"passkey",accessToken:z,credentialIds:[],removeForLogin:S.removeForLogin}):await k.unenrollMfa({method:A,accessToken:z}),Ge(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let A=await Ft(),S=u?.linkedAccounts.find(F=>F.type==="wallet"&&F.walletClientType==="privy");if(!A)throw Error("Must have valid access token to connect with Farcaster");if(!k||!S)throw Error("Must have an embedded wallet to use Farcaster signers");if(li(S))throw new Z("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await we.recoverEmbeddedWallet({address:S.address}))throw Error("Unable to connect to wallet");let z=await k.initFarcasterSigner({address:S.address,hdWalletIndex:null,accessToken:A,mfaCode:null,mfaMethod:null,relyingParty:window.origin});z.status==="approved"&&Ge(await e.getAuthenticatedUser()||u||null),q({farcasterSigner:z}),ze("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let A,S=await Ft(),z=u?.linkedAccounts.find(F=>F.type==="wallet"&&F.walletClientType==="privy");if(!S)throw Error("Must have valid access token to connect with Farcaster");if(!k||!z)throw Error("Must have an embedded wallet to use Farcaster signers");if(li(z))throw new Z("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await we.recoverEmbeddedWallet({address:z.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return A=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(A.match(/.{1,2}/g).map(F=>parseInt(F,16)))},signFarcasterMessage:async A=>{let S=await Ft(),z=u?.linkedAccounts.find(G=>G.type==="wallet"&&G.walletClientType==="privy");if(!S)throw Error("Must have valid access token to connect with Farcaster");if(!k||!z)throw Error("Must have an embedded wallet to use Farcaster signers");if(li(z))throw new Z("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await we.recoverEmbeddedWallet({address:z.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let F=await _e(()=>import("./launchpad-index-D9std1Z8.js"),[]),H=await k.signFarcasterMessage({address:z.address,hdWalletIndex:null,accessToken:S,mfaCode:null,mfaMethod:null,payload:{hash:F.bufferToBase64URLString(A)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(F.base64URLStringToBuffer(H.signature))},signMessageWithCrossAppWallet(A,{address:S,chainId:z}){let F=u?.linkedAccounts.some(H=>H.type==="cross_app"&&H.smartWallets.some(G=>G.address===S));return vp({user:u,client:e,address:S,requesterAppId:i.id,request:{method:F?"privy_signSmartWalletMessage":"personal_sign",params:[A,S],chainId:z},reconnect:zn})},signTypedDataWithCrossAppWallet(A,{address:S,chainId:z}){let F=u?.linkedAccounts.some(G=>G.type==="cross_app"&&G.smartWallets.some(te=>te.address===S)),H=Mp(A);return vp({user:u,client:e,address:S,requesterAppId:i.id,request:{method:F?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[S,H],chainId:z},reconnect:zn})},sendTransactionWithCrossAppWallet(A,{address:S}){let z=u?.linkedAccounts.some(F=>F.type==="cross_app"&&F.smartWallets.some(H=>H.address===S));return vp({user:u,client:e,address:S,requesterAppId:i.id,request:{method:z?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[A],chainId:A.chainId},reconnect:zn})},signTransactionWithCrossAppWallet(A,{address:S}){let z=u?.linkedAccounts.some(F=>F.type==="cross_app"&&F.smartWallets.some(H=>H.address===S));return vp({user:u,client:e,address:S,requesterAppId:i.id,request:{method:z?"privy_signSmartWalletTx":"eth_signTransaction",params:[A],chainId:A.chainId},reconnect:zn})},isModalOpen:s||!!o,mfaMethods:i.mfa.methods};lj=Sn.signMessage,uj=Sn.signTypedData,hj=async(A,S)=>await ni({transaction:A,...S,signOnly:!1}),dj=async(A,S)=>({signature:(await ni({transaction:A,...S,signOnly:!0})).hash});let st=async A=>{let S,z,F;w(!0),v({status:"loading"}),e.startAuthFlow(new ol({...A,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let H=Ne.get(C0),G=A.stateCode;if(H!==G)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:A.provider,storedStateCode:H??"",returnedStateCode:G??""}}),w(!1),new Z("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:S,oAuthTokens:F}=await e.link()),ye.current=A.provider;let te=rt(S);S&&te&&ie(V,"linkAccount","onSuccess",{user:S,linkMethod:ye.current,linkedAccount:te})}catch(te){throw w(!1),ie(V,"linkAccount","onError",te.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:A.provider}),te}else try{({user:S,isNewUser:z,oAuthTokens:F}=await e.authenticate()),ye.current=A.provider;let te=rt(S);S&&te&&z!==void 0&&ie(V,"login","onComplete",{user:S,isNewUser:z,wasAlreadyAuthenticated:!1,loginMethod:ye.current,loginAccount:te})}catch(te){throw w(!1),v({status:"error",error:te}),ie(V,"login","onError",te.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),te}return Ge(S),m(z||!1),$e(!0),w(!1),v({status:"done"}),F&&S&&ie(V,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:F,user:S}),S??void 0},we={privy:n,setAuthenticated:$e,setUser:Ge,setIsNewUser:m,isNewUserThisSession:p,pendingTransaction:null,walletConnectionStatus:b,setWalletConnectionStatus:x,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,hideWalletUIs:vs,isHeadlessSigning:R.useCallback(Pr,[i.embeddedWallets.showWalletUIs]),emailOtpState:M,setEmailOtpState:N,smsOtpState:U,setSmsOtpState:B,oAuthState:j,setOAuthState:v,telegramAuthState:E,setTelegramAuthState:O,siweState:P,setSiweState:T,isHeadlessOAuthLoading:L,baseAccountSdk:h,setBaseAccountSdk:f,nativeTokenSymbolForChainId:A=>i.chains.find(S=>S.id===Number(A))?.nativeCurrency.symbol,initializeWalletProxy:async A=>{if(k)return k;let S=new Promise(H=>{Q.current=H}),z=new Promise(H=>setTimeout(()=>H(null),A)),F=await Promise.race([S,z]);return Q.current=null,F},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(A={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let S,z=c&&fe&&u;if(z&&ye.current&&(S=rt(u)),ge.current==="login")A.shouldCallAuthOnSuccess&&z&&ye.current?ie(V,"login","onComplete",{user:u,isNewUser:p,wasAlreadyAuthenticated:!1,loginMethod:ye.current,loginAccount:S??null}):ie(V,"login","onError",ne.USER_EXITED_AUTH_FLOW);else if(ge.current==="link"&&S)A.isSuccess&&z&&ye.current?ie(V,"linkAccount","onSuccess",{user:u,linkMethod:ye.current,linkedAccount:S}):ye.current&&ie(V,"linkAccount","onError",ne.USER_EXITED_LINK_FLOW,{linkMethod:ye.current});else if(ge.current==="update"&&S)A.isSuccess&&z&&ye.current?ie(V,"update","onSuccess",{user:u,updateMethod:ye.current,updatedAccount:S}):ye.current&&ie(V,"update","onError",ne.USER_EXITED_UPDATE_FLOW,{linkMethod:ye.current});else if(ge.current==="connect-or-create"){let G=_p();G[0]?ie(V,"connectOrCreateWallet","onSuccess",{wallet:G[0]}):ie(V,"connectOrCreateWallet","onError",ne.USER_EXITED_AUTH_FLOW)}let F=y&&yg.has(y),H=y==="ErrorScreen"&&W.errorModalData&&yg.has(W.errorModalData.previousScreen);if((F||H)&&W.funding){let G,te=yg.get(y)??null;if(H&&W.funding?.onError){let re=W.errorModalData?.error,We=re?.privyErrorCode||ne.UNKNOWN_FUNDING_ERROR,at=new Z(re?.message||"Funding failed",re,We);W.funding?.onError?.(at)}if(W.funding.chainType==="solana"){let re=i.solanaRpcs[W.funding.chain];if(!re)return console.warn("Unable to load solana rpc, skipping balance"),ie(V,"fundSolanaWallet","onUserExited",{address:W.funding.address,fundingMethod:te,chain:W.funding.chain,balance:G}),a(!1),void Jx(W.funding,te);if(r(ore))try{G=await MEe({rpc:re.rpc,address:W.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");ie(V,"fundSolanaWallet","onUserExited",{address:W.funding.address,fundingMethod:te,chain:W.funding.chain,balance:G})}else{let re=R0(W.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{G=await re.getBalance({address:W.funding.address})}catch{console.error("Unable to pull wallet balance")}ie(V,"fundWallet","onUserExited",{address:W.funding.address,chain:W.funding.chain,fundingMethod:te,balance:G}),Jx(W.funding,te)}}q(G=>({...G,externalConnectWallet:{}})),ge.current=null,ye.current=null,m(!1),a(!1),x({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:ze,connectWallet:Fn,initLoginWithWallet:async(A,S,z,F)=>{Lo(A)?(ye.current="siwe",wr(A,S,z)):(ye.current="siws",Zi(A,S,z,F))},loginWithWallet:async()=>{let A,S,z;if(!c)throw new pc;if(e.authFlow instanceof Jp?A="siwe":e.authFlow instanceof zx&&(A="siws"),!A)throw new Z("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:S}=await e.link()),ye.current=A}catch(F){throw ie(V,"linkAccount","onError",F.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:A}),F}else try{({user:S,isNewUser:z}=await e.authenticate()),ye.current=A}catch(F){throw ie(V,"login","onError",F.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR),F}Ge(S||u||null),m(z||!1),$e(!0)},delegateWallet:async({address:A,chainType:S,showDelegationUIs:z})=>new Promise(async(F,H)=>{let G=await Ft();if(!fe||!u||!G)throw new Z("User must be authenticated and have an embedded wallet to delegate actions.");if(S!=="solana"&&S!=="ethereum")throw new Z("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let te=we.walletProxy??await we.initializeWalletProxy(15e3);if(!te)throw new Z("Wallet proxy not initialized.");if((({address:Lt,user:Yt})=>!!Gx(Yt).find(Be=>Be.address===Lt))({address:A,user:u}))return F();let re=sl(u,A);if(!re)throw new Z("Address to delegate is not associated with current user.");if(li(re))throw new Z("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let We=IEe({address:A,user:u}),at=TEe({address:A,user:u}),kt=async()=>{await te.createDelegatedAction({accessToken:G,rootWallet:at,delegatedWallets:[We]}),await we.refreshSessionAndUser()};if(await we.recoverEmbeddedWallet({address:A}),z)q({delegatedActions:{consent:{address:A,onDelegate:kt,onSuccess:async()=>{F()},onError:async Lt=>{H(Lt)}}}}),ze("DelegatedActionsConsentScreen");else try{await kt(),F()}catch(Lt){H(Lt)}}),revokeDelegatedWallets:async({showDelegationUIs:A})=>new Promise(async(S,z)=>{if(!fe||!u)throw new Z("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let F=Gx(u);if(F.length===0)throw new Z("User has no delegated wallets to revoke.");if(F.some(li))throw new Z("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let H=async()=>{await e.revokeDelegatedWallet(),await we.refreshSessionAndUser()};if(A)q({delegatedActions:{revoke:{onRevoke:H,onSuccess:async()=>{S()},onError:async G=>{z(G)}}}}),ze("DelegatedActionsRevokeScreen");else try{await H(),S()}catch(G){z(G)}}),initLoginWithFarcaster:async(A,S)=>{let z=new Bx(A,S);e.startAuthFlow(z);try{ye.current="farcaster",await z.initializeFarcasterConnect()}catch(F){throw ge.current==="login"?ie(V,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):ge.current==="link"&&ie(V,"linkAccount","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),F}},loginWithFarcaster:async()=>{let A,S;if(!c)throw new pc;if(!(e.authFlow instanceof Bx))throw new Z("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:A}=await e.link()),ye.current="farcaster"}catch(z){throw ie(V,"linkAccount","onError",z.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),z}else try{({user:A,isNewUser:S}=await e.authenticate()),ye.current="farcaster"}catch(z){throw ie(V,"login","onError",z.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),z}Ge(A||null),m(S||!1),$e(!0)},async crossAppAuthFlow({appId:A,popup:S,action:z,disableSignup:F}){let H=`privy:${A}`;ye.current=H;let{url:G,stateCode:te,codeVerifier:re}=await async function({api:We,appId:at}){let kt=Pb(),Lt=ej(),Yt=await tj(kt);try{let{url:Be}=await We.post(rO,{provider:`privy:${at}`,redirect_to:window.location.href,code_challenge:Yt,state_code:Lt});return{url:Be,stateCode:Lt,codeVerifier:kt}}catch(Be){throw ut(Be)}}({api:e.api,appId:A});if(!G)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:A}}),new Z("No authorization URL returned for cross-app auth.");try{let We=await async function({url:Be,popup:St}){return St.location=Be,new Promise((bn,In)=>{let _s,Ci=setTimeout(()=>{In(new Z("Authorization request timed out after 2 minutes.")),$r()},12e4);function $r(){St?.close(),window.removeEventListener("message",Qt)}let Cs=setInterval(()=>{St?.closed&&!_s&&($r(),clearInterval(Cs),clearTimeout(Ci),In(new Z("User rejected request")))},300);function Qt(vr){vr.data&&(vr.data.type==="PRIVY_OAUTH_RESPONSE"&&vr.data.stateCode&&vr.data.authorizationCode&&(clearTimeout(Ci),bn(vr.data),$r()),vr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Ci),In(new Z(vr.data.error)),$r()),vr.data.type===Yx&&((_s=new BroadcastChannel(Kx)).onmessage=Qt))}window.addEventListener("message",Qt)})}({url:G,popup:S,provider:H}),at=We.stateCode,kt=We.authorizationCode;if(at!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:H,storedStateCode:te??"",returnedStateCode:at??""}}),new Z("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);let Lt=await async function({appId:Be,stateCode:St,codeVerifier:bn,authorizationCode:In,action:_s,client:Ci,disableSignup:$r}){if(!In||!St)throw new Z("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(In==="undefined")throw new Z("User denied confirmation during cross-app auth flow");try{let Cs=new kEe({authorizationCode:In,stateCode:St,codeVerifier:bn,provider:`privy:${Be}`,disableSignup:!!$r});Ci.startAuthFlow(Cs);let Qt=_s==="link"?await Ci.link():await Ci.authenticate(),vr=Qt.oAuthTokens?.accessToken;return console.debug(),vr}catch(Cs){let Qt=ut(Cs);throw Qt.privyErrorCode===ne.ACCOUNT_TRANSFER_REQUIRED?Qt:Qt.privyErrorCode?new Z(Qt.message||"Invalid code during cross-app auth flow.",void 0,Qt.privyErrorCode):Qt.message==="User denied confirmation during cross-app auth flow"?new Z("Invalid code during cross-app auth flow.",void 0,ne.OAUTH_USER_DENIED):new Z("Invalid code during cross-app auth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}({appId:A,codeVerifier:re,stateCode:at,authorizationCode:kt,action:z,client:e,disableSignup:F});Lt&&e.storeProviderAccessToken(A,Lt);let Yt=await we.refreshSessionAndUser();if(!Yt)throw new Z("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:A}}),Yt}catch(We){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:We.toString(),provider:H}}),We}},async initLoginWithOAuth(A,S,z){if(ye.current=A,!Ny()||A==="google"&&!i.allowOAuthInEmbeddedBrowsers&&Xx(window.navigator.userAgent))return void ze("InAppBrowserLoginNotPossible");A==="twitter"&&window.opener&&window.opener.postMessage({type:Yx},"*"),Ne.del(E0),Ne.del(pd);let F=new ol({provider:A,disableSignup:!!z,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});S&&F.addCaptchaToken(S),e.startAuthFlow(F);let H=await e.authFlow.getAuthorizationUrl();if(H&&H.url)if(A==="twitter"&&fk&&(H.url=H.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&m4())try{let{privyOAuthCode:G,privyOAuthState:te}=await Fx(H.url);ze("OAuthStatusScreen"),F.meta.stateCode=te,F.meta.authorizationCode=G}catch(G){throw console.error("OAuth in chrome extension flow failed:",G),G}else window.location.assign(H.url)},async initLoginWithTelegram(A,S){if(!c)throw new pc;ye.current="telegram";let z=new Ju(A,S);e.startAuthFlow(z),O({status:"loading"}),z.meta.telegramWebAppData=void 0,z.meta.telegramAuthResult=await new Promise((F,H)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},G=>G?F(G):(ge.current==="link"?ie(V,"linkAccount","onError",ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):ge.current==="login"?ie(V,"login","onError",ne.INVALID_CREDENTIALS):ge.current==="update"&&ie(V,"login","onError",ne.FAILED_TO_UPDATE_ACCOUNT),H(new Z("Telegram auth failed or was canceled by the client")))):H(new Z("Telegram was not initialized")):H(new Z("Telegram Auth configuration is not loaded")))},async loginWithTelegram(A){var te;let S,z;if(!(e.authFlow instanceof Ju))throw new Z("Must initialize Telegram flow before calling loginWithTelegram");(te=e.authFlow.meta).captchaToken||(te.captchaToken=A?.captchaToken);let F=await Ft(),H=A?.intent||ge.current;if(H==="login")try{let re=await e.authenticate();S=re.user,z=re.isNewUser,ye.current="telegram"}catch(re){throw ie(V,"login","onError",re.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),re}else{if(H!=="link")throw new Z("Unknown auth intent");try{S=(await e.link()).user,ye.current="telegram"}catch(re){throw ie(V,"linkAccount","onError",re.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),re}}Ge(S),m(z||!1),$e(!0),O({status:"done"});let G=S?.linkedAccounts.find(({type:re})=>re==="telegram")||null;return{user:S,isNewUser:z||!1,wasAlreadyAuthenticated:!!F,loginAccount:G}},async loginWithOAuth(A){let S,z,F;if(!(e.authFlow instanceof ol))throw new Z("Must initialize OAuth flow before calling loginWithOAuth");let H=Ne.get(C0),G=e.authFlow.meta.stateCode;if(H!==G)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:A,storedStateCode:H??"",returnedStateCode:G??""}}),new Z("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let te=await e.link();S=te.user,z=!1,F=te.oAuthTokens,ye.current=A}catch(te){throw ie(V,"linkAccount","onError",te.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:A}),te}else try{let te=await e.authenticate();S=te.user,z=te.isNewUser,F=te.oAuthTokens,ye.current=A}catch(te){throw ge.current==="login"?ie(V,"login","onError",te.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):ge.current==="link"&&ie(V,"linkAccount","onError",te.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:A}),te}return Ge(S),m(z||!1),$e(!0),F&&S&&ie(V,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:F,user:S}),F},passkeyAuthState:_,setPasskeyAuthState:I,async initSignupWithPasskey({captchaToken:A,withPrivyUi:S}){let z=new X2({captchaToken:A,setPasskeyAuthState:I,hints:i.passkeys.registration?.hints});e.startAuthFlow(z),ge.current="login";try{ye.current="passkey",I({status:"generating-challenge"}),await z.initRegisterFlow(S),I({status:"awaiting-passkey"})}catch(F){throw I({status:"error",error:F}),ie(V,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),F}},async signupWithPasskey(){let A,S;if(!c)throw new pc;if(!(e.authFlow instanceof X2))throw new Z("Must initialize Passkey flow first.");if(ye.current!=="passkey"){let H=new Z("Must init login with Passkey flow first.");throw I({status:"error",error:H}),H}let z=await Ft();try{ye.current="passkey",I({status:"awaiting-passkey"}),{user:A,isNewUser:S}=await e.authenticate()}catch(H){throw I({status:"error",error:H}),ie(V,"login","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),H}Ge(A),m(S||!1),$e(!0),I({status:"done"});let F=A?.linkedAccounts.find(({type:H})=>H==="passkey")||null;return{user:A,isNewUser:S||!1,wasAlreadyAuthenticated:!!z,loginAccount:F}},async initLoginWithPasskey({captchaToken:A,withPrivyUi:S}){let z=new X2({captchaToken:A,setPasskeyAuthState:I,hints:void 0});e.startAuthFlow(z),ge.current="login";try{ye.current="passkey",I({status:"generating-challenge"}),await z.initAuthenticationFlow(S),I({status:"awaiting-passkey"})}catch(F){throw I({status:"error",error:F}),ie(V,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),F}},async loginWithPasskey(A){let S,z;if(!c)throw new pc;if(!(e.authFlow instanceof X2))throw new Z("Must initialize Passkey flow first.");if(A?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=A.credentialIds),ye.current!=="passkey"){let G=new Z("Must init login with Passkey flow first.");throw I({status:"error",error:G}),G}let F=await Ft();try{ye.current="passkey",I({status:"awaiting-passkey"}),{user:S,isNewUser:z}=await e.authenticate()}catch(G){throw I({status:"error",error:G}),ie(V,"login","onError",G.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),G}Ge(S),m(z||!1),$e(!0),I({status:"done"});let H=S?.linkedAccounts.find(({type:G})=>G==="passkey")||null;return{user:S,isNewUser:z||!1,wasAlreadyAuthenticated:!!F,loginAccount:H}},async initLinkWithPasskey(A){let S=new X2({captchaToken:A,hints:i.passkeys.registration?.hints});e.startAuthFlow(S),ge.current="link",ye.current="passkey",I({status:"generating-challenge"});try{await S.initLinkFlow(),I({status:"awaiting-passkey"})}catch(z){throw ie(V,"linkAccount","onError",z.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),I({status:"error",error:z}),z}},async linkWithPasskey(){let A;if(!c)throw new pc;if(!(e.authFlow instanceof X2))throw new Z("Must initialize Passkey flow first.");if(ye.current!=="passkey")throw new Z("Must init login with Passkey flow first.");try{ye.current="passkey",{user:A}=await e.link()}catch(S){throw ie(V,"linkAccount","onError",S.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),S}return Ge(A||u||null),I({status:"done"}),A},async initLoginWithHeadlessOAuth(A,S,z){if(!Ny()||A==="google"&&!i.allowOAuthInEmbeddedBrowsers&&Xx(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let F=new ol({provider:A,withPrivyUi:!1,disableSignup:z??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});S&&F.addCaptchaToken(S),v({status:"loading"});let H=await e.startAuthFlow(F).getAuthorizationUrl();if(H?.url)if(window.location.protocol==="chrome-extension:"&&m4())try{let{privyOAuthCode:G,privyOAuthState:te}=await Fx(H.url);F.meta.stateCode=te,F.meta.authorizationCode=G,await st(F.meta)}catch(G){throw v({status:"error",error:G}),G}else window.location.assign(H.url)},loginWithHeadlessOAuth:st,initLoginWithEmail:async({email:A,captchaToken:S,disableSignup:z,withPrivyUi:F})=>{let H=new ml({email:A,captchaToken:S,disableSignup:z});e.startAuthFlow(H);try{ye.current="email",N({status:"sending-code"});let G=await H.sendCodeEmail({withPrivyUi:F});if(G?.ssoRedirectUrl)return window.location.href=G.ssoRedirectUrl,void await M0(1e4);N({status:"awaiting-code-input"})}catch(G){throw N({status:"error",error:G}),ge.current==="login"?ie(V,"login","onError",G.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):ge.current==="link"&&ie(V,"linkAccount","onError",G.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),G}},initUpdateEmail:async({oldAddress:A,newAddress:S,captchaToken:z})=>{let F=new eEe(A,S,z);e.startAuthFlow(F);try{await F.sendCodeEmail({withPrivyUi:!0})}catch(H){throw ie(V,"update","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:ye.current}),H}},initUpdatePhone:async(A,S,z)=>{let F=new nEe(A,S,z);e.startAuthFlow(F);try{await F.sendSmsCode({withPrivyUi:!0})}catch(H){ie(V,"update","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:ye.current})}},initLoginWithSms:async({phoneNumber:A,captchaToken:S,disableSignup:z,withPrivyUi:F})=>{B({status:"sending-code"});let H=new gl({phoneNumber:A,captchaToken:S,disableSignup:z});e.startAuthFlow(H);try{ye.current="sms",await H.sendSmsCode({withPrivyUi:F}),B({status:"awaiting-code-input"})}catch(G){throw B({status:"error",error:G}),ge.current==="login"?ie(V,"login","onError",G.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):ge.current==="link"&&ie(V,"linkAccount","onError",G.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),G}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async A=>{let S,z;function F(re){e.authFlow instanceof ml?N(re):e.authFlow instanceof gl&&B(re)}if(F({status:"submitting-code"}),!c){let re=new pc;throw F({status:"error",error:re}),re}if(e.authFlow instanceof ml)e.authFlow.meta.emailCode=A.trim();else{if(!(e.authFlow instanceof gl)){let re=new Z("Must initialize a passwordless code flow first");throw F({status:"error",error:re}),re}e.authFlow.meta.smsCode=A.trim()}let H=await Ft();if(ge.current==="link")try{({user:S}=await e.link())}catch(re){throw F({status:"error",error:re}),ie(V,"linkAccount","onError",re.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:ye.current}),re}else if(ge.current==="update")try{({user:S}=await e.link())}catch(re){throw F({status:"error",error:re}),ie(V,"update","onError",re.privyErrorCode||ne.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:ye.current}),re}else try{({user:S,isNewUser:z}=await e.authenticate())}catch(re){throw F({status:"error",error:re}),ie(V,"login","onError",re.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),re}let G=S||u;Ge(G||null),m(z||!1),$e(!0),F({status:"done"});let te=null;return e.authFlow instanceof ml?te=G?.linkedAccounts.find(({type:re})=>re==="email")||null:e.authFlow instanceof gl&&(te=G?.linkedAccounts.find(({type:re})=>re==="phone")||null),{user:G,isNewUser:z||!1,wasAlreadyAuthenticated:!!H,linkedAccount:te}},generateSiweMessage:async({address:A,chainId:S,captchaToken:z})=>{ge.current=fe?"link":"login",ye.current="siwe",T({status:"generating-message"});let F=await e.generateSiweNonce({address:A,captchaToken:z});return T({status:"awaiting-signature"}),y4({address:A,chainId:S.replace("eip155:",""),nonce:F})},generateSiweMessageForSmartWallet:async({address:A,chainId:S})=>{let z=await e.generateSiweNonce({address:A});return y4({address:A,chainId:S.replace("eip155:",""),nonce:z})},linkSmartWallet:async({message:A,signature:S,smartWalletType:z,smartWalletVersion:F})=>{let H;H=await e.linkSmartWallet({message:A,signature:S,smartWalletType:z,smartWalletVersion:F}),Ge((H=await we.refreshSessionAndUser()??H)||u||null)},loginWithSiwe:async({message:A,signature:S,captchaToken:z,disableSignup:F,walletClientType:H,connectorType:G})=>{let te,re=null;try{if(u)throw Error("User already authenticated");let We=new Jp(e,void 0,z,F,{message:A,signature:S,walletClientType:H,connectorType:G});if(e.startAuthFlow(We),ye.current="siwe",ge.current="login",T({status:"submitting-signature"}),{user:re,isNewUser:te}=await e.authenticate(),!re)throw Error("Authentication failed - no user returned")}catch(We){throw ie(V,"login","onError",We.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),T({status:"error",error:We}),We}return Ge(re),m(te||!1),$e(!0),T({status:"done"}),ge.current=null,ye.current=null,{user:re,isNewUser:te||!1}},linkWithSiwe:async({message:A,signature:S,chainId:z,walletClientType:F,connectorType:H})=>{let G;At("siwe");let te=null;try{T({status:"submitting-signature"}),G=await e.linkWithSiwe({message:A,signature:S,chainId:z,walletClientType:F,connectorType:H}),G=await we.refreshSessionAndUser()??G,T({status:"done"}),(te=rt(G)||null)&&ie(V,"linkAccount","onSuccess",{user:G,linkMethod:"siwe",linkedAccount:te})}catch(We){throw ie(V,"linkAccount","onError",We.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ge.current=null,ye.current=null,T({status:"error",error:We}),We}let re=G||u;return Ge(re||null),ge.current=null,ye.current=null,{user:re,linkedAccount:te}},refreshSessionAndUser:async()=>{let A=await e.getAuthenticatedUser();return $e(!!A),Ge(A),A},walletProxy:k,createAnalyticsEvent:({eventName:A,payload:S,timestamp:z})=>e.createAnalyticsEvent({eventName:A,payload:S,timestamp:z}),acceptTerms:async()=>{let A=await e.acceptTerms();return Ge(A),A},getUsdTokenPrice:A=>e.getUsdTokenPrice(A),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:A=>e.getSplTokenMetadata(A),recoverEmbeddedWallet:async A=>new Promise(async(S,z)=>{if(!u)return void S(!0);let F=A?.address?sl(u,A.address):ih(u)||Ey(u).at(0)||HY(u).at(0);if(!F||li(F))return void S(!0);let H=await Ft();if(!H||!k||!F)return void z(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:G,entropyIdVerifier:te}=Ro(u,F);try{await k.connect({accessToken:H,entropyId:G,entropyIdVerifier:te}),S(!0)}catch(re){if(p1(re)&&F.recoveryMethod==="privy"){let We;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:F.address}});try{We=await k.recover({entropyId:G,entropyIdVerifier:te,accessToken:H})}catch(at){return void z(at)}We.entropyId||z(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:F.address}}),S(!0)}else p1(re)&&F.recoveryMethod!=="privy"&&F.recoveryMethod!=="privy-v2"?(q(We=>({...We,recoverWallet:{entropyId:G,entropyIdVerifier:te,onFailure:z,onSuccess:()=>{S(!0)},onCompleteNavigateTo:We.createWallet?"EmbeddedWalletOnAccountCreateScreen":void 0},recoveryOAuthStatus:{provider:F.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1,isInAccountCreateFlow:!!We.createWallet}})),ze($Ee(F.recoveryMethod))):z(re)}}),setReadyToTrue:A=>{l(!0),X?.(A)},updateWallets:()=>br(),fundWallet:async(A,S)=>{let z="FundingMethodSelectionScreen";return new Promise((F,H)=>{q({funding:{...R9({address:A,appConfig:i,fundWalletConfig:S,methodScreen:z,onComplete:F,onError:H})}}),ze(z)})},openModal:ze,requestFarcasterSignerStatus:async A=>{let S=await Ft(),z=u?.linkedAccounts.find(H=>H.type==="wallet"&&H.walletClientType==="privy");if(!S)throw Error("Must have valid access token to connect with Farcaster");if(!k||!z)throw Error("Must have an embedded wallet to use Farcaster signers");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let F=await e.requestFarcasterSignerStatus(A);return F.status==="approved"&&Ge(await e.getAuthenticatedUser()||u||null),F},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let A=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(A)return A.updateConnectionPreference("smartWalletOnly"),Fn(A);await Rr("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let A=e.connectors?.findWalletConnector("base_account","base_account");if(A)return Fn(A);await Rr("base_account","base_account")},initiateAccountTransfer:async({nonce:A,account:S,accountType:z,externalWalletMetadata:F,telegramAuthResult:H,telegramWebAppData:G,farcasterEmbeddedAddress:te,oAuthUserInfo:re})=>{let We=await e.sendAccountTransferRequest({nonce:A,account:S,accountType:z,externalWalletMetadata:F,telegramAuthResult:H,telegramWebAppData:G,farcasterEmbeddedAddress:te,oAuthUserInfo:re});return Ge(We),We},inProgressAuthFlowRef:ge,inProgressLoginOrLinkMethodRef:ye};fj=we.recoverEmbeddedWallet,we.recoverEmbeddedWallet;let K=R.useMemo(()=>({wallets:d,ready:he&&je}),[d,he,je]),se=e.authFlow instanceof Ju,{siteKey:Pe,enabledProvider:ce}=i.captcha,De=!i.headless&&ce&&!fe&&(c||se);return g.jsx(cj.Provider,{value:!0,children:g.jsx(C2.Provider,{value:Sn,children:g.jsx(bk.Provider,{value:V,children:g.jsx(pk.Provider,{value:K,children:g.jsx(rEe,{appId:i.id,captchaSiteKey:Pe,enabledCaptchaProvider:ce,children:g.jsxs(BI.Provider,{value:we,children:[g.jsx(zQ,{children:g.jsxs(ZY,{data:W,setModalData:q,setInitialScreen:C,initialScreen:y,authenticated:fe,open:s,children:[t.children,g.jsx(YEe,{customAuth:i.customAuth}),De&&g.jsx(aEe,{delayedExecution:!1}),g.jsx(EEe,{}),g.jsx(UEe,{disabled:i.embeddedWallets.disableAutomaticMigration}),g.jsx(cEe,{palette:i.appearance.palette||{}}),!i.render.standalone&&g.jsx(bEe,{open:s})]})}),g.jsx(SEe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u?.mfaMethods,mfaPromise:Ce,mfaSubmitPromise:oe,onLoad:$,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&g.jsx(Sk,{$if:!0,children:g.jsx(CEe,{scriptHost:t.apiUrl||vy,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};class Xi extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class eA extends _2{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Xi(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ft()||!this.address)throw new Xi("Disconnected",4900);let{hash:r}=await((i,s)=>hj(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Xi(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ft()||!this.address)throw new Xi("Disconnected",4900);let{signature:r}=await((i,s)=>dj(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Xi(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Xi(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=R0(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,a)=>lj(s,a))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,a)=>uj(s,a))(Mp(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:Uy(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...c0(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Uy(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>QCe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Ft();if(await(r=>fj(r))({address:this.address}),!n||!this.address)throw new Xi("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&li(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Xi("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Xi("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await is(i,async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Xi(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Xi(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:o,chainId:c=1,walletIndex:l,privyClient:u,walletAccount:d}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=c,this.rpcConfig=s,this.chains=a,this.publicClient=R0(c,this.chains,s,{appId:o}),this.rpcTimeoutDuration=B8(s,"privy"),this.appId=o,this.walletIndex=l,this.privyClient=u,this.walletAccount=d}}const XEe=({style:t,...e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),QEe=({style:t,...e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function wg(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var exe=0;class pj extends E2{async initialize(){le.debug("Initializing injected connector (EIP-6963)",{wallet:this.walletClientType}),await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){if(le.connectionStart(this.walletClientType,"injected",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection(),!await this.isConnected())return le.debug("Not connected after prompt",{wallet:this.walletClientType}),null;let n=await this.getConnectedWallet();return n&&le.connectionSuccess(this.walletClientType),n}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){le.debug("Prompting connection via eth_requestAccounts",{wallet:this.walletClientType});try{le.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(le.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Vt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw le.connectionFailed(this.walletClientType,e,{method:"injected"}),oc(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new x2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var _c="__private_"+exe+++"__walletBranding";class bg extends E2{async initialize(){le.debug("Initializing legacy injected connector",{wallet:this.walletClientType}),await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){if(le.connectionStart(this.walletClientType,"injected (legacy)",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection(),!await this.isConnected())return le.debug("Not connected after prompt",{wallet:this.walletClientType}),null;let n=await this.getConnectedWallet();return n&&le.connectionSuccess(this.walletClientType),n}get walletBranding(){return wg(this,_c)[_c]??{name:"Browser Extension",icon:XEe,id:"extension"}}disconnect(){le.debug("Disconnect requested (not supported for legacy injected)",{wallet:this.walletClientType})}async promptConnection(){le.debug("Prompting connection via eth_requestAccounts (legacy)",{wallet:this.walletClientType});try{le.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(le.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Vt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw le.connectionFailed(this.walletClientType,e,{method:"injected (legacy)"}),oc(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,_c,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new x2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?wg(this,_c)[_c]={name:"MetaMask",icon:VQ,id:"io.metamask"}:s==="phantom"&&(wg(this,_c)[_c]={name:"Phantom",icon:QEe,id:"phantom"})}}class txe extends pj{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){le.debug("Prompting connection via MetaMask",{wallet:this.walletClientType});try{oh||(le.rpcRequest("wallet_requestPermissions",this.walletClientType),await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),le.rpcResponse("wallet_requestPermissions",this.walletClientType)),le.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(le.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Vt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw le.connectionFailed(this.walletClientType,e,{method:"metamask"}),oc(e)}}}class nxe extends _2{get wallets(){let e=new Set;return this.walletConnectors.flatMap(n=>n.wallets).sort((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0).filter(n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)})}async initialize(e){if(le.info("Starting connector initialization",{reInit:e??!1}),this.initialized&&!e)return;if(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets)return void le.info("All external wallets disabled, skipping initialization");let n=kQ({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(a=>{le.info("Detected injected providers",{count:a.length,wallets:a.map(o=>o.type).join(", ")}),a.forEach(({type:o,eip6963InjectedProvider:c,legacyInjectedProvider:l})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:o,providers:{eip6963InjectedProvider:c,legacyInjectedProvider:l}})})});for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Ik)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new UQ({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||Dy(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||Dy(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async a=>{if(!r)return;let o=a.find(c=>c.walletBranding?.id==="walletconnect_solana");o&&o.wallet&&await o.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter(a=>r||a.walletBranding?.id!=="walletconnect_solana").forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.(a=>{s(a),a?.filter(o=>r||o.walletBranding?.id!=="walletconnect_solana").forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(Lu).find(i=>i.connectorType===e&&(!r||i.wallets.some(s=>s.address===r)))??null:this.walletConnectors.filter(Lu).find(i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some(s=>s.address===r)))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(BQ).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}findImportedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded_imported")}onInitialized(e){le.connectorInit(e.connectorType,e.walletClientType,{walletsCount:e.wallets.length}),e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:o,entropyIdVerifier:c}=Ro(n);for(let l of r){let u=this.findEmbeddedWalletConnectors().find(d=>d.walletIndex===l.walletIndex);if(u&&Lu(u))u.proxyProvider.walletProxy=e;else{let d=new Ux({provider:new eA({walletProxy:e,address:l.address,entropyId:o,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:l.walletIndex,privyClient:a,walletAccount:l}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:l.walletIndex});this.addWalletConnector(d)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&Lu(s))s.proxyProvider.walletProxy=e;else{let a=new Ux({provider:new eA({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=$p(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach(n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)}),this.storedConnections=$p(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){le.debug("Creating Ethereum wallet connector",{connector:e,wallet:n});let s=this.findWalletConnector(e,n);if(s&&Lu(s))return le.debug("Found existing connector, reusing",{connector:e,wallet:n}),s instanceof b4&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new JCe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new KCe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new b4({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new WQ({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new txe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new bg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new bg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new bg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new pj(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return a?(le.connectorCreated(e,n),this.addWalletConnector(a)):le.debug("No connector created",{connector:e,wallet:n}),a||null}addWalletConnector(e){le.debug("Adding wallet connector",{connector:e.connectorType,wallet:e.walletClientType}),this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{le.error("Failed to initialize connector",n,{connector:e.connectorType,wallet:e.walletClientType})})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,o,c,l,u,d,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if(m?.connectorType==="null"){let y=this.walletConnectors.indexOf(m);this.walletConnectors.splice(y,1)}this.addWalletConnector(p)}},le.setEnabled(f??!1),le.info("ConnectorManager initializing",{walletChainType:h||void 0,walletListCount:o.length}),this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=c,this.externalWalletConfig=l,this.privyAppName=u,this.walletChainType=h||"ethereum-only",this.setBaseAccountSdk=d,this.storedConnections=$p()}}const tA=ic(()=>({identityToken:null}));let rxe=[tO,nO,aO];class ixe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw ut(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw ut(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw ut(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=jK,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=zY.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let o=new Headers(a.headers);o.set("privy-app-id",this.appId),this.appClientId&&o.set("privy-client-id",this.appClientId),o.set("privy-ca-id",this.clientAnalyticsId||""),o.set("privy-client",`react-auth:${this.sdkVersion}`);let c=rxe.includes(s.toString());if(!o.has("authorization")){let l=await this.client.getAccessToken({disableAutoRefresh:c});l!==null&&o.set("authorization",`Bearer ${l}`)}a.headers=o,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new WY}})}}const sxe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class axe{getOrCreateGuestCredential(e){let n=TI(e);if(Ny()){if(Ne.get(n))return Ne.get(n);{let r=Kc(g4(32));return Ne.put(n,r),r}}return Kc(g4(32))}async authenticate(){if(!this.api)throw new Z("Auth flow has no API instance");try{return await this.api.post(Kne,{guest_credential:this.meta.guestCredential})}catch(e){throw ut(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function vg(){return!(wQ&&window.location.origin.startsWith("http://localhost"))}var _g,nA=((_g={}).PRIVY="privy_access_token",_g.CUSTOMER="customer_access_token",_g);class oxe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(ed)}get privyAccessToken(){return this._getToken(Lp)}_getToken(e){try{let n=Ne.get(e);return typeof n=="string"?jo.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Ne.get(S6);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Ne.get(Uf(e));if(typeof n!="string")return null;{let r=new jo(n);return r.isExpired()?(Ne.del(Uf(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=tn.get(I6);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==FK;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=jo.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Ne.put(Uf(e),n):Ne.del(Uf(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Kn(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),qt(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof ml?"email":i instanceof gl?"sms":i instanceof Jp?"siwe":i instanceof axe?"guest":i instanceof oj?"custom_auth":i instanceof ol?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Kn(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),qt(n)}}async _refresh(){if(!this.api)throw new Z("Session has no API instance");if(!this.client)throw new Z("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(tO,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Kn(r.user)}catch(r){if(r instanceof A0&&r.privyErrorCode===ne.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw qt(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(nO,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=Ne.get(ed);if(Ne.put(ed,e),!this.client?.useServerCookies){let r=jo.parse(e)?.expiration;tn.set(n9,e,{sameSite:"Strict",secure:vg(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Ne.del(ed),tn.remove(n9),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Ne.put(S6,e),this.client?.useServerCookies||tn.set(I6,"t",{sameSite:"Strict",secure:vg(),expires:30})):(Ne.del(S6),tn.remove(UK),tn.remove(I6))}storePrivyAccessToken(e){typeof e=="string"?Ne.put(Lp,e):Ne.del(Lp)}storeIdentityToken(e){if(tA.setState({identityToken:e}),this.client?.useServerCookies)return;Ne.put(r9,e);let n=jo.parse(e)?.expiration;tn.set(i9,e,{sameSite:"Strict",secure:vg(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Ne.del(r9),tA.setState({identityToken:null}),tn.remove(i9)}constructor(){this.authenticateOnce=new ls(async e=>this._authenticate(e)),this.linkOnce=new ls(async e=>this._link(e)),this.refreshOnce=new ls(this._refresh.bind(this)),this.destroyOnce=new ls(this._destroy.bind(this))}}let Cg,g1;var cxe=0,Eg="__private_"+cxe+++"__getOrGenerateClientAnalyticsId";class lxe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:c,appName:l,walletChainType:u,setBaseAccountSdk:d,connectorsDebugLogs:h}){this.connectors||(this.connectors=new nxe(this.appId,e,n,r,i,s,a,o,c,l,d,u,h))}generateApi(){let e=new ixe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new Z("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new Z("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Vne,{action:"verify"})}catch(e){throw ut(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Hne,{});return sxe(e.options)}catch(e){throw ut(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(qne,{});return Kn(e)}catch(e){throw qt(e)}}async unlinkEmail(e){try{let n=await this.api.post(Ene,{address:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async unlinkPhone(e){try{let n=await this.api.post(Ine,{phoneNumber:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(one,{address:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(hne,{address:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(One,{provider:e,subject:n});return await this.getAuthenticatedUser()??Kn(r)}catch(r){throw qt(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(wne,{fid:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async unlinkTelegram(e){try{let n=await this.api.post(zne,{telegram_user_id:e});return await this.getAuthenticatedUser()??Kn(n)}catch(n){throw qt(n)}}async revokeDelegatedWallet(){try{await this.api.post(Qne,{})}catch(e){throw qt(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(aO,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(Yne,e)}catch(n){throw qt(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Jne,e)}catch(n){throw qt(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Xne}?partnerUserId=${e}`)}catch(n){throw qt(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(nA.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(nA.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?Tb.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(rne,{address:e,token:n})).nonce}catch(r){throw qt(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(ine,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(sne,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(ane,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Kn(s)}catch(s){throw qt(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Kn(a)}catch(a){throw qt(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(lne,{address:e,token:n})).nonce}catch(r){throw qt(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(une,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(o);let c=Kn(o.user);if(!c)throw Error("Authentication failed - no user returned");return{user:c,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:o,oAuthUserInfo:c}){try{let l,u;switch(r){case"email":l=Ane,u={nonce:e,email:n};break;case"sms":l=Pne,u={nonce:e,phoneNumber:n};break;case"siwe":if(l=cne,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":l=bne,u={nonce:e,farcaster_id:n,farcaster_embedded_address:o};break;case"telegram":l=Wne,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":l=fne,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l=Rne,u={nonce:e,userInfo:c}}let d=await this.api.post(l,u);return await this.getAuthenticatedUser()??Kn(d)}catch(l){throw qt(l)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(dne,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Kn(a)}catch(a){throw qt(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(ere);return this.session.updateIdentityToken(e.identity_token),Kn(e.user)}catch(e){throw qt(e)}}async scanTransaction(e){try{return await this.api.post(tre,e)}catch(n){throw qt(n)}}constructor({apiUrl:e=vy,appId:n,appClientId:r,timeout:i=DK}){Object.defineProperty(this,Eg,{value:uxe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==vy&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s}(this,Eg)[Eg](),Cg||(Cg=new oxe),this.session=Cg,this.api=this.generateApi(),this.session.client=this}}function uxe(){if(typeof window>"u")return null;try{let e=Ne.get(_y);if(typeof e=="string"&&e.length>0)return e}catch{}let t=uy();try{return Ne.put(_y,t),t}catch{return t}}function mj(){if(!g1)throw new Z("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return g1}const dxe=({config:t,...e})=>{(()=>{if(R.useContext(cj))throw new Z("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),a=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!a)throw new Z("Embedded wallet is only available over HTTPS")}(),function(s){if(typeof s!="string"||s.length!==25)throw new Z("Cannot initialize the Privy provider with an invalid Privy app ID")}(e.appId),function(s){g1||(g1=new lxe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))}(e);let n=R.useMemo(()=>new uK({appId:e.appId,clientId:e.clientId,storage:Ne,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.15.0"}),[]),r=mj(),i=Object.assign({},t);return g.jsx(KK,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:g.jsx(Lwe,{configPlugins:t?.plugins,children:g.jsx(JEe,{...e,client:r,privy:n})})})};function yTe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=R.useContext(C2);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function wTe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:o}=R.useContext(C2);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:c=>a("passkey",c),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}const hxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138102)",children:[g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H512V512H0V0Z",fill:"#229E45"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M261.4 405.4L491.2 256.2L260 106.6L29.2998 256.6L261.4 405.4Z",fill:"#F8E509"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M361.5 256C361.904 269.02 359.687 281.989 354.98 294.136C350.273 306.283 343.173 317.359 334.1 326.708C325.028 336.056 314.17 343.486 302.17 348.555C290.17 353.624 277.273 356.229 264.246 356.216C251.22 356.202 238.329 353.57 226.339 348.477C214.349 343.383 203.506 335.931 194.453 326.564C185.4 317.197 178.323 306.106 173.641 293.949C168.959 281.793 166.769 268.82 167.2 255.8C168.035 230.574 178.649 206.662 196.798 189.122C214.947 171.582 239.207 161.79 264.447 161.816C289.686 161.842 313.926 171.684 332.039 189.262C350.151 206.839 360.717 230.773 361.5 256Z",fill:"#2B49A3"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M232.3 314.2L229.3 312.4L226.2 314L226.9 310.5L224.5 308L227.9 307.6L229.5 304.4L231 307.7L234.4 308.3L231.8 310.7M297.5 330.7L294.5 328.9L291.3 330.5L292 327L289.6 324.5L293.1 324.1L294.7 320.9L296.1 324.2L299.5 324.8L297 327.2M269.4 304.3L266.8 302.8L264.1 304.1L264.7 301.1L262.7 298.9L265.6 298.6L267 295.9L268.2 298.7L271.2 299.2L269 301.2M335.2 294.8L332.6 293.3L330 294.6L330.6 291.7L328.6 289.6L331.5 289.2L332.8 286.6L334.1 289.3L337 289.8L334.8 291.8M268.2 275.1L265.2 273.3L262.1 274.9L262.8 271.4L260.4 268.9L263.8 268.5L265.4 265.4L266.9 268.6L270.3 269.2L267.7 271.6M188 245L185 243.2L182 244.8L182.6 241.3L180.2 238.8L183.7 238.4L185.3 235.2L186.7 238.5L190.1 239.1L187.6 241.5M197.7 285L194.7 283.3L191.6 284.8L192.3 281.4L189.9 278.8L193.3 278.4L194.9 275.4L196.4 278.5L199.8 279.2L197.2 281.5M297.8 230.2L295.2 228.7L292.4 230L293 227L291 224.7L294 224.4L295.4 221.6L296.7 224.5L299.7 225L297.4 227.1M292.4 256.3L290 255L287.9 256L288.3 253.6L286.7 251.9L289.1 251.6L290.2 249.4L291.2 251.7L293.6 252.1L291.8 253.7M183.4 292.2L181.4 291L179.3 292L179.7 289.7L178.1 288L180.5 287.8L181.5 285.8L182.5 287.8L184.8 288.3L183.1 289.9M335.7 301.4L334 300.6L332.3 301.3L332.7 299.6L331.4 298.3L333.3 298.1L334.2 296.6L334.9 298.2L336.8 298.5L335.4 299.7",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.5 292.3L181.5 291.1L179.4 292.1L179.9 289.8L178.2 288.1L180.5 287.9L181.6 285.9L182.6 287.9L184.9 288.4L183.2 290",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.5 292.3L181.5 291.1L179.4 292.1L179.9 289.8L178.2 288.1L180.5 287.9L181.6 285.9L182.6 287.9L184.9 288.4L183.2 290M215.4 292.3L213.4 291.1L211.4 292.1L211.8 289.8L210.2 288.1L212.5 287.9L213.5 285.8L214.5 287.9L216.8 288.4L215.1 290M211.4 303L209.4 301.8L207.4 302.8L207.8 300.5L206.2 298.8L208.5 298.5L209.5 296.5L210.5 298.5L212.8 299L211.1 300.6M277.8 283.6L275.8 282.4L273.7 283.4L274.1 281.1L272.5 279.4L274.8 279.2L275.9 277.1L276.9 279.2L279.1 279.6L277.4 281.2M258.3 283.6L256.3 282.4L254.2 283.4L254.7 281.1L253.1 279.4L255.4 279.2L256.4 277.1L257.4 279.2L259.7 279.6L258 281.2M205.5 276.8L204.3 276.1L203 276.7L203.2 275.2L202.2 274.2L203.7 274L204.4 272.7L204.9 274.1L206.4 274.3L205.4 275.3M333.2 310L331.2 308.9L329.1 309.9L329.6 307.6L328 305.9L330.3 305.6L331.3 303.6L332.3 305.6L334.6 306.1L332.9 307.7M316.9 312.1L315.3 311.1L313.6 312.1L314 310.1L312.6 308.7L314.6 308.5L315.4 306.8L316.2 308.5L318.2 308.9L316.7 310.2M324.7 312L323.1 311L321.5 311.9L321.8 310.1L320.6 308.8L322.4 308.6L323.2 307L323.9 308.6L325.7 308.9L324.4 310.2M346.6 292.8L345.1 291.9L343.5 292.7L343.9 291L342.7 289.7L344.4 289.5L345.2 288L345.9 289.6L347.6 289.9L346.3 291.1M317 322.9L315 321.8L313 322.8L313.5 320.6L311.9 319.1L314.1 318.8L315.2 316.9L316.2 318.9L318.3 319.3L316.7 320.7M317.1 331.6L315.3 330.6L313.5 331.5L313.9 329.3L312.5 327.8L314.5 327.5L315.5 325.6L316.3 327.6L318.3 328L316.8 329.4M302.3 312L300.8 311.1L299.2 311.9L299.6 310.1L298.4 308.9L300.1 308.7L300.9 307.1L301.6 308.7L303.3 309L302 310.2M288.5 312L287 311.1L285.4 311.9L285.8 310.1L284.6 308.9L286.3 308.7L287.1 307.1L287.8 308.7L289.5 309L288.3 310.2M265 291.4L263.5 290.5L261.9 291.3L262.3 289.6L261.1 288.3L262.8 288.1L263.6 286.6L264.3 288.2L266 288.5L264.7 289.6M267.6 333.1L266.3 332.4L265 333.1L265.3 331.6L264.3 330.6L265.7 330.3L266.4 329L267 330.4L268.5 330.6L267.4 331.6M232.2 265.6L229.2 263.9L226.1 265.4L226.8 262L224.4 259.4L227.8 259L229.4 255.9L230.9 259.1L234.3 259.7L231.7 262.1",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M355.1 291C356.981 286.097 358.453 281.046 359.5 275.9C307.9 230.5 250.3 207.2 177.5 212C174.892 217.096 172.75 222.418 171.1 227.9C204.497 224.527 238.23 228.41 269.987 239.284C301.745 250.157 330.778 267.765 355.1 290.9V291Z",fill:"white"}),g.jsx("path",{d:"M331.9 265.4L333.7 266.4C333.45 266.965 333.38 267.594 333.5 268.2C333.633 268.667 333.967 269.067 334.5 269.4C335.033 269.733 335.567 269.933 336.1 270C336.5 270 336.833 269.8 337.1 269.4C337.233 269.2 337.267 268.967 337.2 268.7L336.9 267.9L335.7 266.6C335.065 265.949 334.586 265.163 334.3 264.3C334.164 263.65 334.248 262.974 334.537 262.377C334.827 261.78 335.306 261.296 335.9 261C336.435 260.77 337.026 260.7 337.6 260.8C338.325 260.948 339.008 261.256 339.6 261.7C340.467 262.309 341.157 263.137 341.6 264.1C341.721 264.543 341.739 265.007 341.652 265.458C341.566 265.909 341.377 266.334 341.1 266.7L339.3 265.6C339.5 265.067 339.567 264.6 339.5 264.2C339.367 263.867 339.033 263.533 338.5 263.2C337.967 262.867 337.5 262.7 337.1 262.7L336.5 263L336.4 263.7C336.4 264.1 336.8 264.667 337.6 265.4L339.1 267.4C339.373 267.898 339.499 268.463 339.463 269.029C339.428 269.595 339.233 270.14 338.9 270.6C338.555 271.1 338.067 271.483 337.5 271.7C336.905 271.972 336.238 272.042 335.6 271.9C334.841 271.707 334.128 271.367 333.5 270.9C332.577 270.308 331.875 269.43 331.5 268.4C331.167 267.533 331.3 266.533 331.9 265.4ZM323.1 259.7L325.1 260.7C324.889 261.205 324.819 261.758 324.9 262.3C325.033 262.833 325.367 263.267 325.9 263.6C326.433 263.933 326.967 264.067 327.5 264C327.9 264 328.233 263.8 328.5 263.4L328.6 262.8C328.6 262.533 328.467 262.267 328.2 262L327 260.7C326.342 260.088 325.829 259.336 325.5 258.5C325.381 258.101 325.346 257.682 325.397 257.268C325.449 256.855 325.586 256.457 325.8 256.1C326.105 255.667 326.519 255.322 327 255.1C327.535 254.87 328.126 254.8 328.7 254.9C329.3 254.9 329.967 255.167 330.7 255.7C331.767 256.367 332.433 257.133 332.7 258C332.85 258.428 332.9 258.884 332.848 259.334C332.797 259.785 332.643 260.217 332.4 260.6L330.5 259.5C330.767 258.967 330.833 258.533 330.7 258.2C330.567 257.867 330.233 257.533 329.7 257.2C329.497 257.019 329.259 256.881 329.001 256.796C328.744 256.71 328.471 256.677 328.2 256.7L327.6 257.1V257.8C327.6 258.133 328 258.7 328.8 259.5C329.6 260.3 330.133 260.9 330.4 261.3C330.708 261.8 330.863 262.378 330.845 262.965C330.827 263.552 330.638 264.12 330.3 264.6C329.98 265.138 329.499 265.563 328.925 265.814C328.351 266.065 327.713 266.13 327.1 266C326.314 265.85 325.566 265.544 324.9 265.1C323.957 264.551 323.219 263.708 322.8 262.7C322.505 261.699 322.613 260.623 323.1 259.7ZM312.3 256.7L317.9 247.7L324.6 251.7L323.6 253.3L318.8 250.3L317.5 252.3L322.1 255.1L321.1 256.7L316.6 253.9L315.1 256.4L320.1 259.4L319.2 261L312.3 256.7ZM296.5 243.8L297.4 242.2L301.4 244.4L299.5 248.1C297.88 248.477 296.178 248.264 294.7 247.5C293.81 247.028 293.054 246.341 292.5 245.5C291.998 244.724 291.721 243.824 291.7 242.9C291.7 241.9 291.967 240.967 292.5 240.1C292.958 239.174 293.646 238.382 294.5 237.8C295.233 237.2 296.133 236.9 297.2 236.9C297.933 236.9 298.767 237.133 299.7 237.6C300.686 238.063 301.493 238.836 302 239.8C302.4 240.6 302.5 241.5 302.3 242.5L300.2 241.9C300.332 241.393 300.261 240.855 300 240.4C299.709 239.93 299.294 239.549 298.8 239.3C298.443 239.086 298.045 238.949 297.632 238.897C297.218 238.846 296.799 238.881 296.4 239C295.733 239.333 295.067 240 294.4 241C293.926 241.924 293.751 242.972 293.9 244C294.1 244.8 294.633 245.4 295.5 245.8L296.8 246.2H298.1L298.7 245L296.5 243.8ZM227.7 226.8L229.3 216.2L232.5 216.7L233.3 224.2L236.3 217.2L239.4 217.7L237.9 228.3L235.9 228L237.1 219.7L233.8 227.7L231.8 227.4L230.9 218.7L229.7 227.1L227.7 226.8ZM217 225.5L218 214.9L225.8 215.6L225.7 217.4L219.9 216.9L219.7 219.2L225 219.7L224.9 221.5L219.6 221L219.3 224L225.2 224.5L225 226.3L217 225.5Z",fill:"#309E3A"}),g.jsx("path",{d:"M181.4 218.8C181.4 217.733 181.567 216.833 181.9 216.1L182.9 214.7L184.4 213.7C185.14 213.451 185.921 213.349 186.7 213.4C187.394 213.395 188.082 213.535 188.719 213.811C189.356 214.086 189.928 214.491 190.4 215C191.333 216 191.767 217.333 191.7 219C191.7 220.8 191.2 222.133 190.2 223C189.699 223.486 189.103 223.861 188.448 224.102C187.794 224.343 187.096 224.445 186.4 224.4C185.713 224.418 185.031 224.293 184.394 224.035C183.757 223.777 183.181 223.391 182.7 222.9C182.206 222.368 181.834 221.734 181.609 221.043C181.385 220.353 181.313 219.621 181.4 218.9V218.8Z",fill:"#309E3A"}),g.jsx("path",{d:"M183.6 218.8C183.6 220 183.867 220.933 184.4 221.6C184.933 222.267 185.6 222.6 186.4 222.6C186.809 222.608 187.215 222.532 187.593 222.377C187.971 222.222 188.314 221.992 188.6 221.7C189.133 221.1 189.433 220.2 189.5 219C189.5 217.667 189.233 216.733 188.7 216.2C188.187 215.621 187.471 215.263 186.7 215.2C185.7 215.2 184.967 215.5 184.5 216.1C183.9 216.7 183.567 217.6 183.5 218.8H183.6Z",fill:"#F7FFFF"}),g.jsx("path",{d:"M194 224.4L194.1 213.7H198.6C199.8 213.7 200.633 213.833 201.1 214.1C201.767 214.367 202.167 214.7 202.3 215.1C202.567 215.633 202.733 216.2 202.8 216.8C202.8 217.6 202.567 218.267 202.1 218.8C201.633 219.267 200.9 219.6 199.9 219.8C200.433 220 200.833 220.267 201.1 220.6L202.3 222.4L203.6 224.4H201L199.5 222.1L198.3 220.5L197.7 220.1L196.7 219.9H196.2V224.4H194Z",fill:"#309E3A"}),g.jsx("path",{d:"M196.2 218.2H199.8L200.3 217.7C200.5 217.5 200.6 217.233 200.6 216.9C200.6 216.567 200.5 216.267 200.3 216L199.5 215.6H196.3L196.2 218.2Z",fill:"white"}),g.jsx("path",{d:"M206.2 214.2L210.1 214.4L212.1 214.7C212.669 214.915 213.182 215.257 213.6 215.7C214.067 216.253 214.408 216.902 214.6 217.6C214.8 218.267 214.866 219.1 214.8 220.1C214.851 220.868 214.724 221.638 214.429 222.349C214.135 223.06 213.679 223.694 213.1 224.2C212.7 224.533 212.2 224.8 211.6 225H209.6L205.6 224.9L206.2 214.2Z",fill:"#309E3A"}),g.jsx("path",{d:"M208.199 216.1L207.899 223.1L209.499 223.3H210.799L211.699 222.8C211.966 222.6 212.166 222.267 212.299 221.8L212.599 219.8L212.499 218C212.366 217.533 212.166 217.2 211.899 217L210.899 216.4L209.199 216.2L208.199 216.1Z",fill:"white"}),g.jsx("path",{d:"M258.5 233.3L261 222.9L264.3 223.7C265.633 224.033 266.467 224.3 266.8 224.5C267.333 224.767 267.733 225.2 268 225.8C268.267 226.4 268.3 227.133 268.1 228C268.011 228.516 267.789 228.999 267.456 229.403C267.123 229.806 266.69 230.116 266.2 230.3L265.1 230.6L262.9 230.2L261.5 229.9L260.5 233.8L258.5 233.3Z",fill:"#309E3A"}),g.jsx("path",{d:"M262.6 225.2L261.9 228.2L263.1 228.4C263.9 228.6 264.467 228.667 264.8 228.6C265.077 228.572 265.339 228.461 265.553 228.283C265.767 228.105 265.922 227.867 266 227.6L265.9 226.5L265.1 225.8L263.6 225.4L262.6 225.2Z",fill:"white"}),g.jsx("path",{d:"M268.4 236.3L271.9 226.2L276.2 227.7L278.4 228.7C278.8 229.1 279.1 229.6 279.3 230.2C279.6 231.1 279.3 231.3 279.1 231.9C278.9 232.7 278.467 233.233 277.8 233.5C277.456 233.7 277.075 233.83 276.681 233.881C276.286 233.933 275.884 233.905 275.5 233.8L276.3 235L276.9 237L277.4 239.4L275 238.6L274.3 235.9L273.7 234L273.3 233.4L272.3 232.9L271.9 232.8L270.4 237L268.4 236.3Z",fill:"#309E3A"}),g.jsx("path",{d:"M272.4 231.2L273.9 231.7L275.8 232.2C276.067 232.2 276.3 232.133 276.5 232L277 231.3V230.3L276.4 229.7L274.9 229.2L273.3 228.6L272.4 231.2Z",fill:"white"}),g.jsx("path",{d:"M280.9 235.9C281.159 234.987 281.601 234.137 282.2 233.4C282.533 232.933 282.966 232.567 283.5 232.3L285.1 231.8C285.766 231.8 286.533 231.9 287.4 232.1C288.078 232.27 288.714 232.58 289.265 233.011C289.816 233.441 290.271 233.983 290.6 234.6C291.266 235.867 291.3 237.3 290.7 238.9C290.328 240.336 289.437 241.582 288.2 242.4C287.583 242.707 286.909 242.884 286.221 242.918C285.532 242.952 284.844 242.844 284.2 242.6C283.521 242.43 282.886 242.12 282.334 241.69C281.783 241.259 281.329 240.717 281 240.1C280.461 238.758 280.426 237.266 280.9 235.9Z",fill:"#309E3A"}),g.jsx("path",{d:"M283 236.5C282.667 237.567 282.667 238.5 283 239.3C283.333 240.1 283.933 240.633 284.8 240.9C285.6 241.1 286.333 241 287 240.6C287.667 240.2 288.233 239.4 288.7 238.2C288.967 237.067 288.967 236.1 288.7 235.3C288.516 234.942 288.262 234.625 287.952 234.367C287.643 234.109 287.285 233.917 286.9 233.8C286.516 233.695 286.115 233.667 285.72 233.719C285.325 233.77 284.944 233.9 284.6 234.1C283.933 234.5 283.4 235.3 283 236.5Z",fill:"white"}),g.jsx("path",{d:"M301.7 250.8L306.6 241.3L310.6 243.3C311.6 243.9 312.267 244.367 312.6 244.7C313 245.167 313.234 245.667 313.3 246.2C313.434 246.867 313.3 247.433 312.9 247.9C312.634 248.567 312.134 249.067 311.4 249.4C310.734 249.6 309.967 249.567 309.1 249.3C309.367 249.7 309.567 250.133 309.7 250.6L310 252.7L310.2 255.2L307.9 254L307.6 251.2L307.3 249.2L306.9 248.6L306 248L305.6 247.8L303.6 251.8L301.7 250.8Z",fill:"#309E3A"}),g.jsx("path",{d:"M306.4 246.3L307.8 247L309.6 247.8C309.867 247.8 310.1 247.733 310.3 247.6C310.536 247.424 310.729 247.199 310.868 246.939C311.006 246.68 311.085 246.393 311.1 246.1L310.5 245.4L309.2 244.6L307.7 243.9L306.4 246.3Z",fill:"white"}),g.jsx("path",{d:"M341.2 270.3C341.733 269.367 342.4 268.7 343.2 268.3L344.8 267.6H346.4C347.133 267.667 347.867 268 348.6 268.6C349.191 268.961 349.7 269.44 350.096 270.008C350.492 270.577 350.766 271.221 350.9 271.9C351.045 273.355 350.654 274.813 349.8 276C349.001 277.275 347.751 278.203 346.3 278.6C345.623 278.727 344.927 278.712 344.256 278.557C343.585 278.402 342.953 278.111 342.4 277.7C341.809 277.339 341.299 276.86 340.903 276.291C340.507 275.723 340.234 275.079 340.1 274.4C339.926 272.957 340.281 271.5 341.1 270.3H341.2Z",fill:"#309E3A"}),g.jsx("path",{d:"M343 271.4C342.334 272.467 342.067 273.4 342.2 274.2C342.269 274.605 342.419 274.991 342.643 275.335C342.867 275.679 343.158 275.973 343.5 276.2C344.155 276.612 344.943 276.755 345.7 276.6C346.5 276.4 347.267 275.767 348 274.7C348.734 273.633 349 272.733 348.8 272C348.8 271.267 348.4 270.6 347.6 270C346.4 269.1 346.1 269.4 345.3 269.6C344.5 269.8 343.767 270.4 343.1 271.4H343Z",fill:"white"}),g.jsx("path",{d:"M246.4 229L248.1 221.4L253.7 222.7L253.4 224L249.4 223L249 224.7L252.7 225.6L252.4 226.9L248.7 225.9L248.2 228L252.4 229L252.1 230.3L246.4 229Z",fill:"#309E3A"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138102",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),fxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138368)",children:[g.jsx("path",{d:"M0 0H512V512H0V0Z",fill:"#003399"}),g.jsx("path",{d:"M255.999 81.4124L248.414 106.696L261.056 109.225L255.999 81.4124Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 81.4124L263.584 106.696L250.942 109.225L255.999 81.4124Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 98.8831L253.656 99.4824L255.158 112.287L280.046 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 98.8831L258.343 113.91L252.032 102.668L280.046 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.861 127.151L262.136 102.238L250.422 107.623L270.861 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.86 127.151L249.862 111.155L258.604 101.678L270.86 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 98.8831L258.343 99.4824L256.841 112.287L231.953 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 98.8831L253.655 113.91L259.967 102.668L231.953 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 127.151L249.863 102.238L261.576 107.623L241.138 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 127.151L262.136 111.155L253.395 101.678L241.138 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 384.82L248.414 410.104L261.056 412.632L255.999 384.82Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 384.82L263.584 410.104L250.942 412.632L255.999 384.82Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 402.291L253.656 402.89L255.158 415.694L280.046 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 402.291L258.343 417.318L252.032 406.076L280.046 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.862 430.559L262.137 405.645L250.423 411.031L270.862 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.861 430.559L249.863 414.562L258.604 405.086L270.861 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 402.291L258.343 402.89L256.841 415.694L231.953 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 402.291L253.655 417.318L259.967 406.076L231.953 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 430.559L249.863 405.645L261.576 411.031L241.138 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 430.559L262.136 414.562L253.395 405.086L241.138 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M104.296 233.116L96.7109 258.4L109.353 260.928L104.296 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M104.296 233.116L111.881 258.4L99.2394 260.928L104.296 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M128.342 250.587L101.952 251.186L103.454 263.991L128.342 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M128.343 250.587L106.64 265.614L100.329 254.372L128.343 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M119.157 278.855L110.432 253.942L98.7187 259.327L119.157 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M119.158 278.855L98.1595 262.858L106.901 253.382L119.158 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M80.2498 250.587L106.64 251.186L105.138 263.991L80.2498 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M80.2497 250.587L101.952 265.614L108.263 254.372L80.2497 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M89.4349 278.855L98.1599 253.942L109.874 259.327L89.4349 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M89.4347 278.855L110.433 262.858L101.691 253.382L89.4347 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M167.148 148.621L188.146 132.625L179.404 123.149L167.148 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M167.148 148.622L175.873 123.708L187.586 129.093L167.148 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M157.963 120.353L179.665 135.38L185.976 124.138L157.963 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M157.963 120.353L184.353 120.952L182.851 133.757L157.963 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M182.009 102.882L174.424 128.166L187.066 130.695L182.009 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M182.009 102.882L189.594 128.166L176.952 130.695L182.009 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M196.871 148.621L175.873 132.625L184.614 123.149L196.871 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M196.871 148.622L188.146 123.708L176.432 129.093L196.871 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M206.056 120.353L184.353 135.38L178.042 124.138L206.056 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M206.056 120.353L179.665 120.952L181.167 133.757L206.056 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.628 204.864L131.903 179.951L120.189 185.336L140.628 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.628 204.864L119.63 188.868L128.371 179.391L140.628 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.904 204.864L131.903 188.868L123.161 179.391L110.904 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.905 204.864L119.63 179.951L131.343 185.336L110.905 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.719 176.596L123.422 191.623L129.733 180.381L101.719 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.72 176.596L128.11 177.195L126.608 190L101.72 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.813 176.596L128.11 191.623L121.799 180.381L149.813 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.813 176.596L123.422 177.195L124.924 190L149.813 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.766 159.125L133.352 184.409L120.71 186.938L125.766 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.766 159.125L118.181 184.409L130.823 186.938L125.766 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.841 328.664L123.45 329.263L124.952 342.067L149.841 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.841 328.664L128.138 343.691L121.827 332.449L149.841 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.656 356.932L131.931 332.018L120.217 337.403L140.656 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.656 356.932L119.658 340.935L128.399 331.459L140.656 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.933 356.932L131.931 340.935L123.189 331.459L110.933 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.933 356.932L119.658 332.018L131.372 337.404L110.933 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.794 311.193L133.379 336.477L120.737 339.005L125.794 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.794 311.193L118.209 336.477L130.851 339.005L125.794 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.748 328.664L128.138 329.263L126.636 342.067L101.748 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.748 328.664L123.45 343.691L129.762 332.449L101.748 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M204.716 379.555L178.325 380.154L179.827 392.958L204.716 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M204.716 379.554L183.013 394.582L176.702 383.34L204.716 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M195.531 407.823L186.806 382.909L175.092 388.294L195.531 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M195.531 407.823L174.533 391.826L183.274 382.35L195.531 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M165.808 407.823L186.806 391.826L178.064 382.35L165.808 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M165.808 407.823L174.533 382.909L186.247 388.294L165.808 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M180.669 362.084L188.254 387.368L175.612 389.896L180.669 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M180.669 362.084L173.084 387.368L185.726 389.896L180.669 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M156.623 379.555L183.013 380.154L181.511 392.958L156.623 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M156.623 379.554L178.325 394.582L184.637 383.34L156.623 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M407.703 233.116L415.288 258.4L402.646 260.928L407.703 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M407.703 233.116L400.118 258.4L412.76 260.928L407.703 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M383.656 250.587L410.046 251.186L408.545 263.991L383.656 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M383.656 250.587L405.359 265.614L411.67 254.372L383.656 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M392.841 278.855L401.566 253.941L413.279 259.327L392.841 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M392.841 278.855L413.839 262.858L405.098 253.382L392.841 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M431.749 250.587L405.359 251.186L406.861 263.991L431.749 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M431.749 250.587L410.046 265.614L403.735 254.372L431.749 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M422.565 278.855L413.84 253.941L402.126 259.327L422.565 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M422.564 278.855L401.566 262.858L410.308 253.382L422.564 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M344.852 148.621L323.854 132.625L332.596 123.149L344.852 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M344.852 148.622L336.127 123.708L324.413 129.093L344.852 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M354.037 120.353L332.334 135.38L326.023 124.138L354.037 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M354.036 120.353L327.646 120.952L329.148 133.757L354.036 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M329.99 102.882L337.575 128.166L324.933 130.695L329.99 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M329.99 102.882L322.405 128.166L335.047 130.695L329.99 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M315.129 148.621L336.127 132.625L327.386 123.148L315.129 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M315.13 148.621L323.855 123.708L335.568 129.093L315.13 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M305.945 120.353L327.647 135.38L333.958 124.138L305.945 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M305.945 120.353L332.336 120.952L330.834 133.757L305.945 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.372 204.864L380.097 179.951L391.811 185.336L371.372 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.372 204.864L392.37 188.868L383.629 179.391L371.372 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.096 204.864L380.097 188.867L388.839 179.391L401.096 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.095 204.864L392.37 179.951L380.656 185.336L401.095 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.28 176.596L388.578 191.623L382.266 180.381L410.28 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.279 176.596L383.889 177.195L385.391 190L410.279 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.187 176.596L383.889 191.623L390.2 180.381L362.187 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.187 176.596L388.578 177.195L387.076 190L362.187 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.234 159.125L378.648 184.409L391.29 186.938L386.234 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.233 159.125L393.818 184.409L381.176 186.938L386.233 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.159 328.664L388.549 329.263L387.047 342.067L362.159 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.159 328.664L383.862 343.691L390.173 332.449L362.159 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.344 356.932L380.069 332.018L391.782 337.404L371.344 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.344 356.932L392.342 340.935L383.601 331.459L371.344 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.066 356.932L380.068 340.935L388.81 331.459L401.066 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.066 356.932L392.341 332.018L380.627 337.403L401.066 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.205 311.193L378.62 336.477L391.262 339.005L386.205 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.205 311.193L393.79 336.477L381.148 339.005L386.205 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.252 328.664L383.862 329.263L385.364 342.068L410.252 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.252 328.664L388.549 343.691L382.238 332.449L410.252 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M307.284 379.555L333.674 380.154L332.172 392.958L307.284 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M307.284 379.554L328.987 394.582L335.298 383.34L307.284 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M316.469 407.823L325.194 382.909L336.907 388.294L316.469 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M316.469 407.823L337.467 391.826L328.726 382.35L316.469 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M346.191 407.823L325.193 391.826L333.935 382.35L346.191 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M346.191 407.823L337.466 382.909L325.752 388.294L346.191 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M331.33 362.084L323.745 387.368L336.387 389.896L331.33 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M331.33 362.084L338.915 387.368L326.273 389.896L331.33 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M355.377 379.555L328.987 380.154L330.489 392.958L355.377 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M355.377 379.554L333.674 394.582L327.363 383.34L355.377 379.554Z",fill:"#FFCC00"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138368",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),pxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138137)",children:[g.jsx("path",{d:"M0 0H512V512H0V0Z",fill:"#012169"}),g.jsx("path",{d:"M512 0V64L322 256L512 443V512H445L254 324L68 512H0V444L186 257L0 74V0H62L254 188L440 0H512Z",fill:"white"}),g.jsx("path",{d:"M184 324L195 358L42 512H0V509L184 324ZM308 312L362 320L512 467V512L308 312ZM512 0L320 196L316 152L466 0H512ZM0 1L193 190L134 182L0 49V1Z",fill:"#C8102E"}),g.jsx("path",{d:"M176 0V512H336V0H176ZM0 176V336H512V176H0Z",fill:"white"}),g.jsx("path",{d:"M0 208V304H512V208H0ZM208 0V512H304V0H208Z",fill:"#C8102E"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138137",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),mxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_137735)",children:[g.jsx("path",{d:"M341.3 0H512V512H341.3V0Z",fill:"#CE1126"}),g.jsx("path",{d:"M170.7 0H341.3V512H170.7V0Z",fill:"white"}),g.jsx("path",{d:"M0 0H170.7V512H0V0Z",fill:"#006847"}),g.jsx("path",{d:"M284.6 295.6L284.8 299.1L286.2 298.2L285.2 295.2L284.6 295.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M284.5 295.7C285.108 295.7 285.6 295.208 285.6 294.6C285.6 293.992 285.108 293.5 284.5 293.5C283.893 293.5 283.4 293.992 283.4 294.6C283.4 295.208 283.893 295.7 284.5 295.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M289 301.1L286.3 298.6L285.1 299.6L288.7 301.6L289 301.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M288.7 302.6C288.3 301.933 288.4 301.367 289 300.9C289.6 300.433 290.133 300.5 290.6 301.1C290.933 301.7 290.833 302.233 290.3 302.7C289.7 303.1 289.167 303.033 288.7 302.5V302.6ZM309 263.7L311.7 266.3L312.1 265L309.6 263.3L309 263.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M308.7 264.1C309.307 264.1 309.8 263.608 309.8 263C309.8 262.393 309.307 261.9 308.7 261.9C308.092 261.9 307.6 262.393 307.6 263C307.6 263.608 308.092 264.1 308.7 264.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M316.1 265.3L312.1 266.4L312.4 265.1L315.9 264.7L316.1 265.3Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M316.8 265.8C317.408 265.8 317.9 265.307 317.9 264.7C317.9 264.092 317.408 263.6 316.8 263.6C316.193 263.6 315.7 264.092 315.7 264.7C315.7 265.307 316.193 265.8 316.8 265.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M302.3 285.5L299.8 281.5L300.2 281.4L303.1 284.7L302.3 285.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M299.6 281.9C300.263 281.9 300.8 281.363 300.8 280.7C300.8 280.037 300.263 279.5 299.6 279.5C298.938 279.5 298.4 280.037 298.4 280.7C298.4 281.363 298.938 281.9 299.6 281.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M302.5 285.6L305.7 286.2L305.8 285.7L303.1 284.7L302.5 285.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M306.6 287.3C307.208 287.3 307.7 286.807 307.7 286.2C307.7 285.592 307.208 285.1 306.6 285.1C305.992 285.1 305.5 285.592 305.5 286.2C305.5 286.807 305.992 287.3 306.6 287.3Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M227.7 294.4C227.633 295.067 227.366 295.4 226.9 295.4C226.233 295.333 225.966 295 226.1 294.4C226.3 293.6 226.566 293.267 226.9 293.4C227.433 293.6 227.7 293.933 227.7 294.4ZM227.7 296.2L228.4 300.2L227.4 299.9L227.1 296.4L227.7 296.2Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M228.6 294.9C229 295.5 228.3 296.4 227.4 296.6C226.6 296.9 225.5 296.5 225.5 295.7C225.5 294.9 226.8 295.3 227.1 295.2C227.6 295 228.1 294.2 228.6 294.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M221.6 301.9C222.318 301.9 222.9 301.497 222.9 301C222.9 300.503 222.318 300.1 221.6 300.1C220.882 300.1 220.3 300.503 220.3 301C220.3 301.497 220.882 301.9 221.6 301.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M223.7 300.8L227.6 300.6L226.9 299.8L223.7 300.2V300.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M224 300.4C224.4 301.4 224.4 302.7 223.3 302.5C222.2 302.3 222.4 301.4 222.3 301C222.2 300.3 221.5 299.7 222.2 299C222.8 298.4 223.7 299.4 224 300.4Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M211.5 280.5C211.942 280.5 212.3 280.008 212.3 279.4C212.3 278.793 211.942 278.3 211.5 278.3C211.058 278.3 210.7 278.793 210.7 279.4C210.7 280.008 211.058 280.5 211.5 280.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M211.5 281.9L211.6 285.6L210.6 284.7L210.7 281.7L211.5 281.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M213 280.8C213.2 281.6 211.9 282.1 211 281.9C210.067 281.767 209.633 281.3 209.7 280.5C209.7 279.8 210.9 279.9 211.2 280.1C211.6 280.4 212.7 279.5 213 280.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M204.9 285.8C205.618 285.8 206.2 285.531 206.2 285.2C206.2 284.869 205.618 284.6 204.9 284.6C204.182 284.6 203.6 284.869 203.6 285.2C203.6 285.531 204.182 285.8 204.9 285.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M207.3 285.2L210.2 285L211.4 286L207.2 285.8L207.3 285.2Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M206.2 283.6C207 283.6 207.5 284.5 207.4 285.4C207.4 286.4 206.6 287.1 205.9 287C205.1 286.9 205.2 286.2 205.2 286L205.7 285.2C205.7 284.9 205.5 284.2 205.6 284C205.6 283.733 205.8 283.6 206.2 283.6ZM203.8 260.9C203.5 261.5 202.8 261.9 202.6 261.6C202.333 261.267 202.366 260.8 202.7 260.2C203.033 259.6 203.433 259.4 203.9 259.6C204.166 259.867 204.166 260.3 203.9 260.9H203.8ZM200.6 266.8L202.2 262.9L202 262.7L200.1 265.4L200.6 266.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M202 263C201.2 262.333 200.933 261.7 201.2 261.1C201.5 260.6 202.1 260.9 202.1 260.9L202.8 261.6C203 261.7 203.5 261.5 203.8 262C204.066 262.6 204.066 262.933 203.8 263C203.508 263.158 203.181 263.24 202.85 263.24C202.518 263.24 202.192 263.158 201.9 263H202ZM195.1 262.4C195.766 262.867 196 263.3 195.8 263.7C195.6 264.1 195.133 264.1 194.4 263.7C193.4 263.1 193.5 262.9 193.7 262.5C194.033 262.1 194.5 262.1 195.1 262.5V262.4ZM196.8 264.1L199.8 265.9V267.4L196.5 264.6L196.8 264.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M196.8 264.5C196.134 265.167 195.534 265.333 195 265C194.4 264.7 194.9 264.1 194.9 264.1L195.5 263.5C195.7 263.2 195.5 262.7 196.1 262.5C196.7 262.233 197.034 262.3 197.1 262.7C197.2 263 197.4 263.9 196.8 264.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M285.3 295.8L284.9 296.2L284.7 296.9V295.8L285.1 295.5L285.3 295.8Z",fill:"#AA8C30"}),g.jsx("path",{d:"M285.4 295C285.4 295 285.2 295.5 284.5 295.5C283.833 295.5 283.5 295.267 283.5 294.8L283.6 293.9L283.3 294.3V295L283.8 295.6H284.2L284.6 295.7L285.1 295.5L285.4 295.3V295.1V295ZM288.8 301H288.2L285.5 299.6L288.5 301.6L288.8 301ZM290.7 301.8C290.7 301.8 290.7 302.4 290.1 302.6C289.5 302.867 289.1 302.867 288.9 302.6C288.763 302.477 288.662 302.319 288.609 302.142C288.556 301.966 288.553 301.778 288.6 301.6L288.5 302.1L288.8 302.7L289.4 303H289.9L290.2 302.8L290.6 302.4L290.8 302L290.7 301.8ZM310.1 263.8V264.6L309.4 263.9L309.7 263.5L310.1 263.8ZM309.8 262.8C309.8 263.3 309 264.1 308.5 263.8C307.833 263.533 307.6 263.067 307.8 262.4L307.6 262.7L307.7 263.5L308.3 264H308.9L309.5 263.8L309.8 263.2V262.8ZM317.8 264.2C317.8 264.7 317.3 265.6 316.7 265.5C316.033 265.367 315.733 265 315.8 264.4V265.2L316.1 265.5L316.6 265.8H317.1L317.7 265.4L317.9 264.9V264.6L317.8 264.2Z",fill:"#AA8C30"}),g.jsx("path",{d:"M315 264.9C315 264.9 315 265.1 314.7 265.3L313.7 265.9L315.9 265.3L315.7 264.7L315 264.9ZM301.4 282.8L301.2 283.2V283.8L300 281.8L300.4 281.6L301.4 282.8ZM300.7 280.8C300.4 281.4 299.5 281.8 299.1 281.5C298.7 281.2 298.3 280.3 298.8 279.9L298.5 280.1L298.4 280.7L298.6 281.2L299 281.7L299.4 281.9L300.1 281.7L300.6 281.4C300.6 281.4 300.9 280.4 300.6 280.9L300.7 280.8ZM305.1 285.5C305.1 285.5 305.1 285.7 304.7 285.7H303.5L305.5 286.1L305.7 285.7L305.1 285.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M307.7 286C307.9 286.7 307.3 287.4 306.5 287.1C305.7 286.8 305.5 286.1 305.7 285.6L305.5 286.2L305.7 286.8L306.2 287.2L306.7 287.4L307.2 287.2L307.7 286.7L307.8 286.1V286H307.7ZM228.5 294.9C228.7 295.1 228.4 296.1 227.5 296.4C226.6 296.7 226.1 296.4 225.9 296.1L225.7 295.5L225.5 295.7L225.7 296.1L226.1 296.5L226.9 296.7L227.5 296.6L228.1 296.3L228.4 296L228.7 295.6V295.1L228.6 294.9H228.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M227.7 296.9L227.4 297.2L227.2 297.8V296.8L227.6 296.5L227.7 296.9ZM224.7 300.1C224.7 300.1 224.6 300.3 224.8 300.5L225.6 300.7H224.2L224 300.2L224.7 300.1ZM224.2 301.1L224.1 301.6C223.966 302.067 223.7 302.3 223.3 302.3C223.087 302.257 222.893 302.146 222.749 301.984C222.605 301.822 222.517 301.617 222.5 301.4L222.3 300.9V301.4L222.6 302.2L223.2 302.5H223.6L224 302.3L224.2 301.8V301V301.1ZM220.4 300.9C220.4 300.9 220.6 301.6 221.4 301.6L222.4 301.4V301.7L222.1 301.8L221.5 301.9L220.9 301.8L220.6 301.6L220.4 301.2V300.9ZM212.9 280.6V280.9C212.8 281.2 212.3 281.8 211.4 281.8C210.6 281.8 210.133 281.6 210 281.2C209.733 280.8 209.633 280.567 209.7 280.5V281L210 281.5L210.9 281.9H211.7L212.5 281.7L212.9 281.3V280.6ZM211.5 282.4L211 282.6L210.7 282.9V281.9H211.5V282.5V282.4ZM207.7 285.2L208.1 285.5C208.5 285.7 210.6 285.9 210.6 285.9L207.3 285.8L207.5 285.2H207.7ZM207.4 285.2L207.2 285.7C207 286 206.6 286.9 205.9 286.8C205.2 286.7 205.3 286.2 205.3 286.1V285.9L205.2 286.4L205.4 286.7L205.6 286.9H206.2L206.6 286.8L207 286.4L207.2 286L207.4 285.5V285.2ZM205.6 285.3C205.6 285.3 205.6 285.5 205 285.5L203.7 285.3L204 285.6L204.4 285.7H205.4L205.6 285.3ZM203.9 262.3C203.9 262.3 204 262.6 203.7 262.8C203.3 263.067 202.833 263.1 202.3 262.9C201.9 262.7 201.1 261.9 201.1 261.9L201.5 262.5L202 263L202.8 263.2H203.6L203.9 262.8L204 262.6L203.9 262.3Z",fill:"#AA8C30"}),g.jsx("path",{d:"M201.6 263.3V263.7L201.5 264.7L202.1 263.1L201.9 262.9L201.6 263.3ZM197.3 264.5L197.4 264.8C197.6 265.3 199.4 266.9 199.4 266.9L196.6 264.7L196.9 264.2L197.3 264.5ZM196.4 264.7L195.7 265C195.5 265 194.9 265 194.9 264.6V264.1L194.7 264.6L194.8 264.9L195.2 265.1H195.8L196.3 264.9L196.4 264.8V264.7ZM195.4 263.6H194.8C194.3 263.6 193.8 263 193.8 263L194.1 263.6L195 264L195.4 263.6Z",fill:"#AA8C30"}),g.jsx("path",{d:"M319.9 256.1C319.6 259.1 316.6 260.8 315 261.9C314.072 262.609 313.291 263.492 312.7 264.5L312.1 266.3L311.9 267.4V267.8L312.1 269.5L312 272.9L314.1 271.4L315.7 270.8H316.1C316.1 270.8 314.4 272.4 313.8 274.2C313.1 276.1 311.8 280 309.5 281.2C307.2 282.4 305.7 282 304.9 282.7L304.1 283.6L303.1 284.9L302.3 285.9L301.6 286.5L301.1 286.8L300.9 288.2L300.4 290.1L301.4 289.7H302.5L301.9 290.7C301.8 291.2 302 294.4 299 296.3C296 298.2 288.3 297.9 288.3 297.9L286.9 298.5L285.5 299.5L284.3 300.9L284.2 301.2C284.2 301.2 283.2 302.4 282.5 302.8L280.3 304.3L282.1 304.4L284.9 305.6C284.9 305.6 283.1 305.6 281.9 306C280.7 306.4 275.4 309.5 272.9 309.4C270.2 309.4 266.5 305.6 266.5 305.6L264.9 304.4L262.1 303.8L258.6 303.6V303.2L258.7 302.6L261.7 302.7C263.4 302.9 263.9 303.5 265.3 303.7C266.244 303.824 267.204 303.721 268.1 303.4L272.8 299.6L277.5 298L279.3 298.2L280.1 298.4L280.8 298.6L280 299.6L278.8 300.3L279.4 300.8L282.4 300.3L283.4 300.6L283.6 300.7L284 299.7C284.4 299.2 286 297.9 286.8 297.4C287.467 297 287.8 296.733 287.8 296.6C288.1 296.4 289.1 293.9 289.1 293.9L289.2 292.6L292.5 289.5L294.7 287.1L295.7 284.4L295.6 283.9C295.6 283.9 296.3 284.7 296.2 286.4C296 288 295.833 288.733 295.7 288.6C295.5 288.4 297.9 287.1 299.1 286.6C300.1 286.2 300.767 286.067 301.1 286.2C301.738 285.825 302.284 285.312 302.7 284.7C303.4 283.7 303.5 283.5 303.5 283.1L303.6 280.9L303.4 275.2L305.4 271L308.2 268.5L308.7 268.2L308.4 269.2V270.2C308.4 270.2 309.8 268.4 310.5 268L311 267.8L311.6 266.2C311.8 265.2 311.8 263.7 311.8 263.7V261.4L311.4 259.6L310.1 256.1V251.5L309.1 250.2C309.1 250.2 310 250.1 311.1 251.7C311.857 252.922 312.366 254.281 312.6 255.7L315.3 247.6C315.3 247.6 316 248.6 316.5 250.1L317.2 252.8L318.2 250.6L318.3 251.4C318.5 252.1 320.1 253.1 319.9 256.1ZM266.1 308.1C266.1 308.1 265.5 306.9 263 305.6C261.569 304.914 260.057 304.41 258.5 304.1V305.1L262.5 306.8L264.5 308.4L266.1 308.1Z",fill:"#9CA168"}),g.jsx("path",{d:"M284.3 300.5C285.352 299.432 286.527 298.492 287.8 297.7C288.621 297.321 289.5 297.085 290.4 297C291.9 296.7 292.1 297 295.6 295C299.1 293 299.9 290.9 300.6 290.3C301.3 289.8 302.5 289.6 302.5 289.6L299.8 292.8C298.5 294.2 297.1 295.1 295.1 296.4C293.1 297.7 289.1 297.8 289.1 297.8C287.848 298.004 286.693 298.599 285.8 299.5C284.8 300.3 284.2 301.2 284.2 301.2C284.2 301.2 284 300.8 284.2 300.5H284.3ZM294 290.3C290.7 293.3 289.7 296.1 289.7 296.1L294 292.1C295.5 290.7 297.6 290.1 298.5 289.1C299.5 288.3 299.5 287.6 300.1 287.1L301.1 286.2C301.1 286.2 299.7 285.2 294 290.3ZM287.1 297.2C287.1 297.2 288.5 296.6 289.1 295.3C289.4 294.4 289.2 294.2 289.8 293.1C289.8 293.1 293.2 289.9 294.4 288.5C296.5 286 295.6 283.9 295.6 283.9C295.6 283.9 295.8 284.9 294.9 286.1C294 287.1 289.7 290.1 289.1 291.9C288.5 293.7 288.9 293.6 288.7 294.6C288.1 296.6 287.1 297.2 287.1 297.2ZM284.9 305.6C284.9 305.6 283.2 304.5 281.3 304.6C277.4 304.9 274.1 307.2 271.6 307.3C269 307.3 268 306.1 266 304.7C263.9 303.3 258.7 303.5 258.7 303.5V303.6L258.6 303.8C258.6 303.8 262.2 303.8 263.7 304.2C266.7 305.1 268.2 308.2 271.6 307.9C275.9 307.7 279.4 305 281.2 305C284.2 305 284.9 305.6 284.9 305.6ZM265.6 303.6C265.6 303.6 268.6 304.2 271 302.5C273.3 300.8 276.1 298.5 277.6 298.4C279.2 298.3 280.8 298.7 280.8 298.7C280.8 298.7 278.8 297.7 277.3 297.8C275.696 297.75 274.108 298.13 272.7 298.9C271.2 299.8 270.5 301.4 268.9 302.4C267.3 303.4 265.6 303.7 265.6 303.7V303.6ZM265.1 307.7L264.1 307.9C263.9 307.9 263.1 306.9 261.7 306.3C260.3 305.7 258.5 305.2 258.5 305.2C258.5 305.2 258.3 305.2 258.7 305.4L261.7 306.5C262.549 306.943 263.298 307.556 263.9 308.3C263.9 308.4 264.3 308.9 265.1 308.9C265.767 308.767 266.1 308.533 266.1 308.2C265.9 307.867 265.567 307.7 265.1 307.7ZM267.2 304.7C267.2 304.7 268.4 305.5 270.4 305.4C274.6 305.4 277.2 302.4 280 301.4C282.8 300.4 284.2 301.2 284.2 301.2V301C283.279 300.387 282.206 300.041 281.1 300C276.5 300.1 272.1 303 270.2 303.8C268.267 304.533 267.267 304.867 267.2 304.8V304.7ZM312 273C310.5 274.5 308.4 279.2 307.5 280.4C306.5 281.7 305.4 282.1 304.9 282.6L302.4 285.9C302 286.5 301.9 286.3 301.6 286.5C301.267 286.767 301.267 286.833 301.6 286.7C302.1 286.6 302.2 286.3 302.9 285.5C303.6 284.7 303.6 284.3 304.7 283.3C305.8 282.3 307.8 281.2 308.8 280C309.8 278.7 311.8 274 313 272.8C314.1 271.6 316.1 270.8 316.1 270.8C316.1 270.8 314.5 270.4 312 273ZM304.8 281.9C304.8 281.9 304.8 281 305.8 279.8C306.8 278.6 307.2 278.8 308 276.9L309.9 271.4C310.5 269.4 311.7 267.6 311.7 267.6C311.7 267.6 310.6 267.6 309.5 269.2C307.906 271.34 306.627 273.697 305.7 276.2C304.7 278.8 304.7 281.9 304.7 281.9H304.8ZM303.4 283.7C303.4 283.7 303.8 283.4 303.9 281.1C304 278.8 303.8 275.5 304.4 273.8C305.1 272.2 308.7 268.3 308.7 268.3C308.7 268.3 307.2 268.6 305.1 270.3C303.1 272.1 302.167 273.867 302.3 275.6C302.3 277.2 303.3 279 303.3 280.6L303.4 283.6V283.7ZM311.9 267.5L313.1 263.5C313.5 262.8 313.5 262.3 315.3 260.3C316.3 259.2 317.3 258.4 317.8 256.8C318.3 255.2 318.2 250.7 318.2 250.7C318.2 250.7 317.7 251.1 317.4 251.9C317.1 252.7 317.3 255.6 316.6 256.9C315.9 258.3 314.4 261.5 313.6 262.2C313.6 262.2 313.5 259.9 313.7 257.6C313.9 255.3 314.7 254.6 315.1 253.1C315.5 251.6 315.3 247.7 315.3 247.7C315.3 247.7 314 248.9 313.4 250.4C312.8 251.9 312.4 254.4 312.4 256.4C312.4 258.4 312.9 260 313 261.1C313.1 262.2 313.1 262.8 312.7 264L312.2 265.6L311.6 267.6L311.9 267.5ZM309.1 250.3C309.1 250.3 310.1 251.6 310 253.2C309.8 254.7 309.2 256.8 309.8 258.4C310.4 260 311.3 260.1 311.6 261.1C311.8 262 311.8 263.8 311.8 263.8C311.8 263.8 312.3 260.4 312 259.4C311.6 258.4 311.5 258.9 311 257.9C310.5 256.9 311 254.2 310.6 252.6C310.387 251.68 309.856 250.866 309.1 250.3Z",fill:"#717732"}),g.jsx("path",{d:"M245.4 307.9C245.4 307.9 245.7 306.9 247.9 305.9C250.1 304.9 253.3 303.4 253.6 303.6C254 303.8 253.5 304.9 253.5 304.9L251.4 305.6L249.7 306.6L247.7 307.9H245.4Z",fill:"#9CA168"}),g.jsx("path",{d:"M251 302.1C248.1 302.2 246.6 302.9 246 303.1H245.1C244.5 302.9 243.9 302 243.9 302L243.3 301.5L243.2 303.5L239.2 299.9L238.7 302.3L238.2 303.3L234.2 299.5L234.3 302.5H233.3L230.3 300.5L229.5 300.9L230.5 302.6L226.8 302.9L226 303.5L225.3 304.4V304.7H226.7C227 304.5 227.2 304 227.3 304.2C227.4 304.4 227.5 305.2 228 305.2C228.5 305 230.2 303.8 231.4 304.3C232.7 305 229.6 305.9 230 306.8C230.3 307.8 232.5 307.4 233 307.1C233.5 306.8 235.3 304.7 236 305.5C237 306.5 234 307.5 234.5 308.5C235.1 309.6 236.7 309.4 237.5 308.9C238.3 308.4 240.2 305.6 240.6 306.2C241.3 307.2 239 308.3 239.6 309.2C240.2 310.1 241.5 309.2 242.3 308.5C243.1 307.8 243.5 306.5 244.7 305.8C245.8 305.2 245.7 305.5 246.1 305.4C246.4 305.4 247.3 304.5 247.3 304.5L250 303.4H251.4L252.1 303.8L253.5 304L253.6 302.8C253.6 302.8 252 302.1 250.9 302.1H251ZM229 302.1L229.5 301.1L229.2 300.6C229.2 300.6 228.2 300.1 227.3 299.2L225.7 297.9L224 296.8L223.4 294.5L223 293.9L222 294.3L220.6 289.4L220.3 288.5H219.7L218.6 291.5L217.3 289.6L217 285.6L216.2 286.5L215.2 287.5L213.4 283.8C213.4 283.8 213.2 283.8 213.1 284.1C213 284.4 212.9 285.5 213.1 286.2L210.6 284.4C208.933 282.8 208.166 282 208.3 282L207.5 280L208.3 278.3L208.7 276.3L206.9 277L206.6 272.4L206.3 271L204.2 274L203.4 272.8V269.8L202.8 269.7L201.9 271.3C201.9 271.3 201.1 269.6 200.7 269.3C200.8 268.6 200.9 267 200.5 265.7C200 264.1 199.5 263.2 199.6 261.9C199.8 260.5 200.4 260.4 200.3 259.9C200.3 259.2 199.3 260.2 199.7 259.4C200 258.7 202.7 256.9 202.2 256C201.6 255 198.9 257.4 199.5 255.8C200.2 254.2 202.7 254.2 202.9 251.9C202.9 250.6 200.4 252.9 200.2 252.1C200 251.4 201.8 250 201.8 249.1C201.8 248.1 202.1 248.1 201.6 247.6C201.1 247.1 199.6 249.5 199.6 249.5L197.9 248.9L197.3 251.3L196.8 253.3L194.7 252.1L195.2 254.6L195.7 257L193.6 256.4L194.7 258.5L196.2 260L197.2 261.3L197.8 261.6L198.8 262.6L199 263.8L199.5 265.3L199.6 266.8V269.1L199.5 269.9C199.1 269.9 198.5 269.3 198.2 269.7C197.9 270.2 199.4 271.3 199.2 271.7C198.9 271.9 196.6 271.2 196.5 271.9C196.4 272.6 196.7 273.6 198 273.9C199.3 274.2 202.2 274.9 201.7 275.5C201.2 276.1 198 273.7 198.2 275.5C198.225 276.098 198.43 276.675 198.786 277.156C199.143 277.637 199.635 278.001 200.2 278.2C201.1 278.5 204.3 278.2 204.2 278.9C203.9 279.6 201.5 278.6 201.2 279.7C200.9 280.8 203 281 203.4 281C203.8 281 205.1 281 205.7 281.4L209.1 284.6C210.1 285.5 212.2 286.9 212.8 287.3C212.2 287.3 210.9 287.1 210.7 287.6C210.5 288.1 215.6 290 214.1 290.6C212.6 291.2 211.1 289 210.6 290.3C210.1 291.6 211.6 292.7 212.4 293.3C213.2 293.7 217.7 293.3 216.9 294.3C215.9 295.3 212.7 293.6 212.6 294.9C212.5 296.2 214.8 298 216 297.9C217.1 297.9 218.4 296.1 218.9 297.1C219.4 298.1 218 298.5 219.1 298.7C220.2 298.9 221 297.7 222.3 297.9C223.5 298.1 225.5 298.9 226.7 299.9L228.9 302.2L229 302.1Z",fill:"#9CA168"}),g.jsx("path",{d:"M246.7 307.3C247.366 307.433 247.7 307.567 247.7 307.7C247.7 307.7 249.1 306.6 250.4 305.9C251.6 305.2 253.4 304.9 253.4 304.9H253.6C253.6 304.9 251.3 305.6 250.3 306.3L247.8 308C247.733 308.267 247.266 308.433 246.4 308.5C245.733 308.433 245.4 308.233 245.4 307.9C245.4 307.567 245.833 307.367 246.7 307.3ZM253.5 303.9C253.5 303.9 252.8 303.9 252.5 303.6C251.869 303.209 251.142 303.001 250.4 303C249.199 303.067 248.063 303.564 247.2 304.4C247.2 304.4 247 304.9 246.1 305.4C246.433 305.4 246.933 305.133 247.6 304.6C248.482 303.969 249.519 303.589 250.6 303.5C251.4 303.5 251.966 303.7 252.3 304.1C252.7 304.4 253.5 304.3 253.5 304.3V303.9ZM213.1 287.4V286.8C213.1 286.8 212.5 286.6 211.4 285.8C210.1 285.1 207.3 282.9 207.3 282.9L209.6 285L212.8 287.3L213.1 287.4ZM241.6 307.6L242.8 305.8C243.666 304.667 244.166 304.1 244.3 304.1C244.3 303.9 244.133 303.5 243.8 302.9L243.6 301.9C243.6 301.9 243.9 302.7 244.4 303.1L245.4 303.8C245.4 303.8 246.4 303.7 246.4 303.5C246.4 303.3 246.333 303.133 246.2 303H245.3C244.3 302.5 243.9 301 243.3 301C242.7 300.9 243.1 302.6 242.8 302.6C241.8 302.6 241.2 299.1 238.8 299C237.3 298.9 237 299.2 236.9 299.6C236.8 300 238.9 302 238.2 302.3C237.5 302.6 235.4 299 233.8 299C232.2 299 232.1 299.5 232.2 299.9C232.3 300.2 234 300.5 233.6 301.6C233.2 302.7 231.6 299.9 230.2 300.1C228.8 300.3 228.6 300.4 228.5 300.8C228.4 301.2 229 301.8 228.8 301.9C228.6 302 227.8 302 227 302.5C226.3 303 225.3 304.4 225.3 304.4C225.3 304.4 226.2 303 227.5 302.9H231.9L231 302.2C230.5 301.8 230.1 300.9 230.1 300.9L231.5 302.2L233 303.2C233 303.2 234.4 303.2 234.5 303.4C234.633 303.6 234.433 303.967 233.9 304.5L232.5 305.8L234.1 304.6L235.3 303.6C235.3 303.6 236.3 303.8 236.4 303.7C236.533 303.767 236.333 303.333 235.8 302.4L234.5 300.4C234.5 300.4 235.3 301.1 236.1 302.2C237 303.2 236.8 303.8 237.1 303.8L238.3 304C238.633 304 238.533 304.433 238 305.3L237 307.3L238.3 305.7C238.9 305.1 239.3 304.3 239.5 304.3H240.7L240 303C239.6 302 239.5 300.8 239.5 300.8C239.5 300.8 239.9 302 240.5 302.8L241.6 304.4H242.9C242.966 304.667 242.8 305.133 242.4 305.8L241.6 307.6ZM224.4 297.6L225.7 297.9C225.7 297.9 224.4 297.1 224 295.9C223.7 294.9 224 292.5 223.4 292.5C222.8 292.5 222.5 294.3 222 293.9C221.4 293.6 222.2 290.4 221.5 289.1C220.9 287.7 219.5 286.8 219.1 287.3C218.7 287.8 218.9 290.7 218 290.1C217.1 289.5 218 286.9 217.8 285.8C217.6 284.7 216.8 283.8 216.3 284.1C215.8 284.4 216.5 286.5 215.7 286.6C214.8 286.6 215 285.1 214.7 284.9C214.4 284.7 214.1 285.2 214 284.9C213.8 284.6 213.9 283.6 213.4 283.7C213 283.7 213.1 284.7 213.2 285.1L213.8 286.5C213.9 286.8 214.6 287.2 214.5 287.5C214.433 287.767 214.166 287.9 213.7 287.9H212.3L213.7 288.2C214.1 288.2 214.9 288.1 215.1 288.4L216.2 290.1C216.2 290.1 216.5 289.4 216.6 288.2V286.1C216.6 286.1 216.9 287.4 216.9 288.2L216.6 290.6C216.6 290.6 217.5 291.3 217.2 291.6H214.9C213.9 291.6 212.3 291.3 212.3 291.3C212.3 291.3 213.7 291.9 214.7 292.1C215.7 292.3 217.7 292.3 217.7 292.3L219.1 293.9C219.1 293.9 219.8 292.8 219.9 291.6V289L220.3 291.2C220.287 292.22 220.118 293.231 219.8 294.2L218.3 295C217.3 295.3 215.4 295.5 215.4 295.5C215.4 295.5 217.2 295.8 218.4 295.5C219.7 295.2 219.8 294.8 220.2 295L220.9 295.6L221.9 296.4L221.1 296.9L219.9 297.5L221.7 296.9L222.6 296.6L223 296.8L222.9 295.8L222.6 294.4C222.6 294.4 223.1 295 223.2 295.7L223.3 296.9C223.3 296.9 223.4 297.1 224.3 297.5L224.4 297.6ZM199.5 269C199.5 269 199.8 267.6 199.8 266C199.8 264.5 198.8 262.1 198.5 261.9L198.3 261.4L199 260.4L198 261.1L197 260.7L196.4 260L197.4 260.5L197.9 260.6L197.6 259.1L196 258.3C195 257.7 194 256.8 194 256.8L196.2 258L197.5 258.3C197.5 258.3 198.4 258.1 198.8 257.8L200.1 256.9C200.1 256.9 199.3 257.4 198.7 257.5L197.5 257.7L197.2 255.8L196.3 254.9C195.6 253.9 195.1 252.7 195.1 252.7C195.1 252.7 195.8 253.6 196.4 254C197 254.4 197.5 255.2 197.5 255.2L198.8 254.4L201.1 252.8L198.9 253.8L197.6 254.4V253.2L198.2 251.9C198.1 251.5 197.8 251.7 197.7 251.4L198.1 249.3V250.3C198.1 250.7 198.233 250.933 198.5 251C198.9 251.1 201.1 248.9 201.3 248.5C201.6 248.1 202 247 200.9 247.5C199.8 248 200 248.8 199.1 248.8C198.8 248.8 198.5 247.6 198.1 247.8C197.8 248.1 197.1 248.8 196.9 249.8C196.7 250.6 197.1 251.8 196.6 252.2C196.1 252.6 195.6 250.8 194.8 251C193.8 251.3 193.6 252.6 193.8 253C193.9 253.6 195.9 256 195.3 256.2C194.7 256.4 193.1 254.2 192.3 255.8C191.3 257.3 194.9 258.9 195.3 259.3C195.8 259.7 195.3 259.8 196 260.6C196.7 261.4 197.5 261.6 197.9 262.1C198.3 262.6 199.6 265.1 199.6 266.7V269H199.5ZM208.9 282.6C208.9 282.6 208 281.6 208.3 280C208.6 278.4 209.8 275.4 209.3 275C209 274.6 207.7 276.8 207.4 276.3C207.1 275.8 208.1 272.9 207.6 271.7C207.1 270.5 207 269.7 206 269.8C205 269.9 204.5 273.3 204 272.8C203.5 272.1 204.3 270.6 204 269.8C203.733 269 203.4 268.667 203 268.8C202.4 268.9 202.2 270.5 201.8 270.5C201.4 270.5 200.8 268.5 200.1 268.9C199.4 269.1 201.9 272.4 201.9 272.4C201.9 272.4 202.4 272 202.6 271.4L203.1 270.3C203.1 270.3 203.3 271.3 203.1 271.8L202.8 273.2C202.733 273.267 202.166 273.267 201.1 273.2C200.1 273.1 199.2 272.7 199.2 272.7C199.2 272.7 199.9 273.1 201 273.4L203.2 274L203.9 275L204.8 276.1L205.4 274.5L206.4 271.7C206.4 271.7 206.2 273.7 205.9 274.7L205.4 277.2C205.4 277.2 204.4 277.2 203.3 276.9L200.3 276.3L203.3 277.3L205.6 277.9L206.6 279.3L207.4 278.2C207.9 277.5 208.2 276.7 208.2 276.7C208.2 276.7 208 277.8 207.7 278.5L207.1 279.6L205.7 279.8H203.7C204.869 280.17 206.077 280.405 207.3 280.5C207.3 280.5 207.3 280.9 207.8 281.6L208.9 282.6Z",fill:"#717732"}),g.jsx("path",{d:"M251.6 312.7C251.6 312.7 251.1 312.1 250.4 311.7L249.4 311.5H249.1L249.8 309.9L254.2 305.6L254.9 301.3H257.6V307.2L258.4 307.5L263.4 310.5V311.8L262.6 312.1L262 312.4L260.2 312.6L256.9 310.2L255.5 308.8L253.1 311.9L251.5 312.7H251.6Z",fill:"white"}),g.jsx("path",{d:"M255 301.3V302.3C255 302.9 255 306.3 254.8 306.8C254.7 307.3 252.3 308.2 250.8 309.4C249.5 310.6 249.5 311.5 249.5 311.5L248.2 311.9C247.334 312.3 246.9 312.567 246.9 312.7C246.9 312.9 247.4 310.5 249.7 308.6C251.9 306.6 253 306.4 253.2 306.1C253.4 305.8 253.2 302 253.2 301.7C253.334 301.433 253.534 301.333 253.8 301.4H255.1L255 301.3ZM260.7 313.9L261.3 313L262 312.4L261 311.8C259.7 311.3 259 311.4 258.2 310.8L256.5 309.1L255.3 310.1L256.7 311.8C257.3 312.4 258.8 312.6 259.5 313L260.7 314V313.9Z",fill:"#016848"}),g.jsx("path",{d:"M257.2 301.3L258.7 301.4L258.9 301.9C258.9 302 258.9 305.1 258.7 306.1C258.56 306.998 258.218 307.853 257.7 308.6C257.3 308.9 255.3 310.6 254.4 311.6C253.4 312.5 252.5 313.8 252.5 313.8L251.9 313L251.3 312.3C251.956 311.159 252.883 310.197 254 309.5C255.5 308.5 256.9 307.3 257.1 305.6C257.3 303.9 257.2 301.3 257.2 301.3Z",fill:"#CD202A"}),g.jsx("path",{d:"M266 312C266 312 265.7 311.7 264.6 311.6C263.4 311.6 263.4 311.8 263.4 311.8C263.4 311.8 262.7 311 261.8 310.4C260.8 309.7 260 309.8 259 309.1C258 308.4 257.4 307.4 257.4 307.4L258.2 305.8C258.2 305.8 259.1 307.1 260 307.8C260.9 308.5 263 309.1 263.7 309.8C264.4 310.3 266 312 266 312Z",fill:"#CD202A"}),g.jsx("path",{d:"M276 293C276 293 273 292 273.3 291C273.6 290 279.9 288.3 279.9 288.3L280 286.6C280 286.6 279 286.6 277.5 287.1C275.243 287.86 272.881 288.265 270.5 288.3C268.966 288.3 267.966 288.2 267.5 288L244.3 286.6H243.1C240.1 286.3 238.2 281.8 238.2 281.8L236.8 282C236.8 282 237.2 284.3 236.5 284.5C235 284.9 225.4 279.7 225.4 279.7L224.8 281.8C224.8 281.8 230.8 285 230.6 286.1C230.4 287.3 228.6 287.2 228.6 287.2L229.4 288.6C229.7 288.6 239.1 289.1 239.3 291.9C239.3 293.1 237 293.8 237 293.8L237.8 294.8V295.2C237.8 295.2 243 295.2 244.5 296.1C245.9 296.9 246.7 298.1 248.5 299.1C253.697 299.917 258.984 299.984 264.2 299.3C266.3 298.7 267.6 296.3 271.1 295.3C274.6 294.2 275.7 294.1 275.7 294.1L276 293Z",fill:"#30C2DC",stroke:"#0872A7",strokeWidth:"0.4"}),g.jsx("path",{d:"M227.6 290.3C228.539 290.3 229.3 289.539 229.3 288.6C229.3 287.661 228.539 286.9 227.6 286.9C226.662 286.9 225.9 287.661 225.9 288.6C225.9 289.539 226.662 290.3 227.6 290.3Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M237.2 282.5C238.139 282.5 238.9 281.739 238.9 280.8C238.9 279.861 238.139 279.1 237.2 279.1C236.261 279.1 235.5 279.861 235.5 280.8C235.5 281.739 236.261 282.5 237.2 282.5Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M277.2 294.9C278.139 294.9 278.9 294.139 278.9 293.2C278.9 292.261 278.139 291.5 277.2 291.5C276.261 291.5 275.5 292.261 275.5 293.2C275.5 294.139 276.261 294.9 277.2 294.9Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M220.1 278.3C219.6 279.5 221.7 281.9 223.2 282.2C224.733 282.4 225.6 282.1 225.8 281.3C226 280.5 225.9 279.833 225.5 279.3C224.5 278 220.7 277 220.1 278.3Z",fill:"#F8C83C"}),g.jsx("path",{d:"M224.8 280.2C224.8 279.4 223.5 278.7 222.8 278.7C222.1 278.7 221.1 278.7 221.3 279.1C221.5 279.5 223.5 280.1 223.5 280.3C223.5 280.5 222.9 280.8 223.2 281.1C223.6 281.3 223.967 281.267 224.3 281C224.7 280.8 224.867 280.533 224.8 280.2Z",fill:"white"}),g.jsx("path",{d:"M238.2 294.6C238.5 295.7 237.6 296.3 236.5 296.8C235.4 297.3 233.1 297 232.5 296.1C232.1 295.1 233.5 293.7 234.8 293.4C236.2 293.1 237.8 293.6 238.2 294.6Z",fill:"#F8C83C"}),g.jsx("path",{d:"M235.8 295.3C236.3 295.2 236.3 295.9 236.7 295.9C237.1 295.9 237.4 295.2 237.3 294.8C237.1 294.2 236.6 293.867 235.8 293.8C235.2 293.8 233.4 295.4 233.6 295.8C233.8 296.2 234.134 296.267 234.6 296C234.9 295.9 235.4 295.3 235.8 295.3Z",fill:"white"}),g.jsx("path",{d:"M279.4 288.8C280.4 290.2 282.2 288.9 282.7 288.4C283.2 287.9 284.7 287 284.1 286.2C283.5 285.2 282.4 285.3 281.7 285.4C281 285.5 279.7 286.4 279.4 286.9C279 287.433 279 288.1 279.4 288.9V288.8Z",fill:"#F8C83C"}),g.jsx("path",{d:"M279.7 288C279.7 288 279.8 286.5 281.2 286.4C281.9 286.4 282 286.6 282.6 287C283.2 287.4 283.4 286.5 283.4 286.5C283.4 286.5 283.4 287.5 282.4 287.6C281.5 287.6 281.9 287.2 280.9 287C280.1 287 279.7 288 279.7 288Z",fill:"white"}),g.jsx("path",{d:"M257.5 285.1L256.8 284.7H251.8L254.5 292.7L257.8 297.3L259 297.7L261.5 297.6L262 296.3L261 288.7L257.5 285.1Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M248.5 285.6L248.6 284.7L250.1 284.6L251.8 284.7C251.9 284.7 253.8 287 254.3 288.5C254.9 289.9 255.7 292.3 256.5 293.8L259 297.8H255.8L254.3 297.3L249.7 290.1L248.5 285.6Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M246.6 284.6L248.6 284.7C248.8 284.8 250.9 286.7 251.7 288.9C252.5 291.1 252.1 291.5 253.2 293.9C254.2 296.2 255.8 297.9 255.8 297.9C255.8 297.9 252.6 297.9 250.8 297.7C249 297.5 248.5 297.4 248.1 296.9L246.7 295.9H244.9L245.4 293.4L244.9 287.9V285L246.6 284.6ZM265.3 286.1L262.3 284.9L256.8 284.6L257.2 287.4C257.4 288.8 258.4 292 259.2 293.6C260.2 295.2 261.1 297.1 261.6 297.6C262.1 298.1 265.2 296.7 265.2 296.7L267.3 296.4L267 294.1L266.7 293.4L267.2 287L266.8 286L265.3 286.1Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M245.7 286.1C245.7 286.8 246.4 286.9 246.7 286.8C246.8 286.8 247.5 286.5 247.5 285.6C247.5 284.7 246.9 283.9 245.7 283.8C244.6 283.8 243.7 285.2 243.7 286.2C243.7 287.2 244.7 287.7 244.7 288.1C244.7 288.1 243.7 289 243.7 290.6C243.7 292.2 245.1 293.4 245.1 293.4C245.1 293.4 243.7 294.5 243.7 295.6C243.7 296.7 244.7 297.5 245.7 297.5C246.7 297.5 248 296.8 248 296C248 295.2 247.2 294.6 246.6 294.6C246 294.667 245.7 294.9 245.7 295.3M266.2 286.6C266.134 287.2 265.867 287.433 265.4 287.3C264.7 287.1 264.5 287.1 264.5 286.2C264.5 285.3 265.6 284.9 266.4 284.9C267.2 284.9 268.4 285.9 268.4 287.1C268.4 288.3 267.4 289.1 267.4 289.1C267.4 289.1 268 289.4 268 290.9C268 292.4 267 293.5 267 293.5C267 293.5 268.3 294 268.3 295.6C268.3 297.2 267.3 297.7 266.5 297.7C265.7 297.7 264.4 297.2 264.4 296.2C264.4 295.2 265.1 294.7 265.6 294.7C266.1 294.7 266.6 295.3 266.6 295.9",fill:"#F9AA51"}),g.jsx("path",{d:"M245.7 286.1C245.7 286.8 246.4 286.9 246.7 286.8C246.8 286.8 247.5 286.5 247.5 285.6C247.5 284.7 246.9 283.9 245.7 283.8C244.6 283.8 243.7 285.2 243.7 286.2C243.7 287.2 244.7 287.7 244.7 288.1C244.7 288.1 243.7 289 243.7 290.6C243.7 292.2 245.1 293.4 245.1 293.4C245.1 293.4 243.7 294.5 243.7 295.6C243.7 296.7 244.7 297.5 245.7 297.5C246.7 297.5 248 296.8 248 296C248 295.2 247.2 294.6 246.6 294.6C246 294.667 245.7 294.9 245.7 295.3M266.2 286.6C266.134 287.2 265.867 287.433 265.4 287.3C264.7 287.1 264.5 287.1 264.5 286.2C264.5 285.3 265.6 284.9 266.4 284.9C267.2 284.9 268.4 285.9 268.4 287.1C268.4 288.3 267.4 289.1 267.4 289.1C267.4 289.1 268 289.4 268 290.9C268 292.4 267 293.5 267 293.5C267 293.5 268.3 294 268.3 295.6C268.3 297.2 267.3 297.7 266.5 297.7C265.7 297.7 264.4 297.2 264.4 296.2C264.4 295.2 265.1 294.7 265.6 294.7C266.1 294.7 266.6 295.3 266.6 295.9",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M247.6 295L247.9 295.4C248.033 295.8 248.233 296.133 248.5 296.4C249.2 297.1 254.3 297.3 255.9 297.3C257.5 297.3 262.1 297.5 263 297C264 296.4 264 295.6 264.5 295.2L265.2 294.8L264.6 295.4V296.4L264.9 297.1C264.9 297.1 264.9 297.4 264.3 297.7C263.833 298.033 263.233 298.233 262.5 298.3C261.7 298.3 251.9 298.3 250.3 298.1C248.7 297.9 248.8 297.8 248.3 297.5L247.6 296.8L247.9 296.1L247.6 295ZM263.6 285.5L264.4 285.9C264.4 285.9 263.7 286.1 263.1 287.7C262.5 289.2 263.1 289.7 262.6 289.9H258L257.3 288.1L263.6 285.5Z",fill:"#953220"}),g.jsx("path",{d:"M277.1 284.9C277.1 284.9 276.4 284.6 276.1 283.9C275.7 283.4 275.4 282.6 275.7 282.5C276.1 282.433 276.367 282.7 276.5 283.3C276.767 284.3 276.967 284.833 277.1 284.9ZM285.5 282.6L286.2 283.6L287.2 284.1C287.2 284.1 286 284.1 285.6 283.8L284.8 282.6H285.5Z",fill:"#231F20"}),g.jsx("path",{d:"M288 283.3C288 283.3 287.3 283.7 286.7 283.5C286.033 283.233 285.733 282.967 285.8 282.7C286 282.433 286.233 282.5 286.5 282.9C286.9 283.2 288 283.3 288 283.3ZM292.2 279.7C292.2 279.7 291.6 280.3 291.2 280.3C290.8 280.3 290 280.1 290 279.9C290 279.7 291 279.6 291.2 279.6L292.2 279.7ZM285.9 271.4C285.9 271.4 284.9 271.6 284.6 272.1C284.333 272.7 284.4 273.033 284.8 273.1C285.4 273.2 285.3 272.5 285.3 272.4C285.3 272.2 285.9 271.4 285.9 271.4ZM281.7 273.7C281.7 273.7 281 274.1 280.8 274.5C280.6 274.9 280.5 275.7 280.8 275.8C281.3 275.8 281.4 275.1 281.5 274.8L281.7 273.7Z",fill:"#231F20"}),g.jsx("path",{d:"M274.2 278.7L271.9 281.1C271.9 281.1 277.2 284.1 281.3 283.9C285.3 283.9 289.9 280.6 290.3 279.9C290.5 279.3 290.3 276.5 289.8 275.6C289.3 274.7 286.4 272.6 285.4 272.6C284.4 272.7 282.4 274.2 280.7 275.8C279 277.4 279.1 279 276.7 278.8L274.2 278.7Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M273.6 279.7C273.6 279.7 279.3 280.5 280.9 279.1C282.5 277.6 284.3 274.8 285.4 274.1C286.6 273.567 287.167 273.367 287.1 273.5L288.3 274.5L289.8 275.6L290.2 278.3V279.8L288.5 281.2L285.2 282.7L282.2 283.7L279.5 283.6L274.2 282L272.8 281.1L272.5 280.8L273.6 279.7Z",fill:"#0C8489"}),g.jsx("path",{d:"M282.2 276.4C282.267 276 282.533 275.867 283 276C283.7 276.2 283.9 276 283.9 276.5C283.9 277 283.4 277.7 282.9 277.7C282.6 277.7 282.2 276.9 282.2 276.4ZM284.5 277.8C284.5 277.4 284.767 277.2 285.3 277.2C285.9 277.2 286.3 277.8 286.3 278.2C286.3 278.6 285.9 279 285.4 279C284.9 279 284.5 278.3 284.5 277.8ZM283.7 281.2C283.7 280.733 284 280.533 284.6 280.6C285.5 280.7 285.4 280.8 285.4 281.3C285.4 281.8 285 282.3 284.4 282.3C284 282.233 283.767 281.9 283.7 281.3V281.2ZM280.7 280.2C280.7 279.6 281.3 279.4 281.7 279.4C282.233 279.467 282.533 279.8 282.6 280.4C282.533 281.067 282.267 281.433 281.8 281.5C281.2 281.367 280.867 280.933 280.8 280.2H280.7ZM276 280.8C276 280.495 276.121 280.202 276.337 279.987C276.552 279.771 276.845 279.65 277.15 279.65C277.455 279.65 277.747 279.771 277.963 279.987C278.179 280.202 278.3 280.495 278.3 280.8C278.3 281.105 278.179 281.397 277.963 281.613C277.747 281.829 277.455 281.95 277.15 281.95C276.845 281.95 276.552 281.829 276.337 281.613C276.121 281.397 276 281.105 276 280.8Z",fill:"#04534E"}),g.jsx("path",{d:"M284.5 277.8C284.633 277.4 284.9 277.2 285.3 277.2C285.7 277.2 285.9 277.433 285.9 277.9C285.9 278.367 285.733 278.6 285.4 278.6C284.933 278.533 284.633 278.267 284.5 277.8ZM283.7 281.1C283.767 280.633 284.1 280.4 284.7 280.4C285.167 280.4 285.433 280.633 285.5 281.1C285.5 281.767 285.2 282.033 284.6 281.9C283.7 281.7 283.7 281.5 283.7 281.1ZM280.7 280.1C280.7 279.6 281.6 279.4 281.9 279.4C282.167 279.4 282.267 279.667 282.2 280.2C282.067 280.867 281.867 281.167 281.6 281.1C281.133 281.033 280.867 280.7 280.8 280.1H280.7ZM282.2 276.4C282.2 276 282.4 275.833 282.8 275.9C283.4 276 283.3 276 283.3 276.5C283.3 276.967 283.133 277.233 282.8 277.3C282.333 277.3 282.133 276.967 282.2 276.3V276.4ZM276 280.4C276.067 279.8 276.433 279.467 277.1 279.4C277.9 279.4 278.367 279.633 278.5 280.1C278.5 280.7 277.7 281.6 277 281.6C276.3 281.6 276 280.9 276 280.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M278.2 279.5C278.2 279.5 277.4 279.6 277 280C276.6 280.467 276.533 280.8 276.8 281C277.066 281 277.233 280.833 277.3 280.5L278.2 279.5ZM281.9 278.7C281.9 278.7 281.2 279.2 281.1 279.7C281.1 280.3 281.166 280.567 281.3 280.5C281.5 280.3 281.6 279.967 281.6 279.5C281.5 279.3 281.9 278.7 281.9 278.7Z",fill:"#231F20"}),g.jsx("path",{d:"M282.5 279.5C282.5 279.5 282.1 279.5 281.7 279.8C281.3 280.2 281.167 280.433 281.3 280.5C281.567 280.5 281.767 280.4 281.9 280.2C281.9 280 282.5 279.5 282.5 279.5ZM283.3 275.1L282.8 275.6C282.467 275.933 282.4 276.233 282.6 276.5C282.8 276.5 283 276.333 283.2 276C283.4 275.533 283.467 275.233 283.4 275.1H283.3ZM286.2 276.9C286.2 276.9 285.5 277 285.2 277.4C284.933 277.733 284.933 277.933 285.2 278C285.467 278.067 285.633 277.933 285.7 277.6C285.7 277.3 286.2 276.9 286.2 276.9ZM285.7 280.3C285.7 280.3 285.6 280.8 285.1 281C284.767 281.4 284.533 281.467 284.4 281.2C284.267 280.867 284.367 280.667 284.7 280.6L285.7 280.3Z",fill:"#231F20"}),g.jsx("path",{d:"M290.3 278C290.3 278 290.6 279.6 289.3 280.3C287.9 281.1 284.1 283.8 280.5 283.5C276.9 283.1 272.8 281.1 272.8 281.1L272.3 281.4L273.2 281.8L276 282.9L279.1 283.9H281.1L282.8 283.8L286 282.7L288.7 281.3L290.1 280.3L290.4 279.8V278.2L290.3 278Z",fill:"#04534E"}),g.jsx("path",{d:"M219.9 257.8C219.9 257.8 220.7 258.5 220.7 259.1C220.567 259.7 220.367 259.933 220.1 259.8C219.9 259.8 219.9 259.1 219.9 258.8V257.8ZM226.1 263.5C226.1 263.5 225.8 264.5 225.4 264.6C224.934 264.6 224.7 264.433 224.7 264.1C224.8 263.9 225.2 264.1 225.4 263.9L226.1 263.5ZM212.7 264.3C212.7 264.3 213 264.9 213.5 265C214.1 265 214.334 264.833 214.2 264.5H213.6L212.7 264.3ZM215.1 269C215.1 269 215.6 269.6 216.2 269.6C216.424 269.64 216.656 269.603 216.856 269.494C217.056 269.385 217.213 269.21 217.3 269C217.3 268.9 216.5 268.9 216.3 269.1C216 269.3 215.1 269 215.1 269ZM219.3 272.6C219.3 272.6 220.3 272.4 220.6 272.1C220.867 271.7 220.934 271.367 220.8 271.1C220.6 270.7 220.4 271.4 220.3 271.7L219.3 272.6Z",fill:"#231F20"}),g.jsx("path",{d:"M226.1 269.7C226.1 269.7 226.8 264.8 222.9 261.4C219 258 216.4 258.8 215 260.1C213.7 261.3 212.5 265.5 216.7 269.1C220.9 272.7 226 271.6 226 271.6L226.1 269.7Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M214 264.6C214 264.6 214 261.9 215.3 261.1C215.948 260.756 216.659 260.545 217.389 260.479C218.12 260.414 218.857 260.496 219.556 260.719C220.255 260.943 220.902 261.304 221.459 261.782C222.016 262.259 222.472 262.843 222.8 263.5C224.8 267.5 224.8 269.5 224.3 271.5H222.1L218.7 270.1L215.9 268L214 264.6Z",fill:"#0C8489"}),g.jsx("path",{d:"M225.6 270.4C225.6 270.4 224.9 271.2 223.5 271.1C222 271.1 215.5 269.3 213.8 263.4V264.7L213.9 265.1L214.4 266.3L215.8 268.3L217.5 269.8L219.7 271L221.3 271.4L223.3 271.8H224.5L225.5 270.4H225.6Z",fill:"#04534E"}),g.jsx("path",{d:"M222.1 268.7C222.1 268.3 222.333 268.133 222.8 268.2C223.2 268.2 223.6 268 223.6 268.5C223.6 269 223.3 269.8 222.9 269.8C222.4 269.8 222.1 269.2 222.1 268.8V268.7ZM222.4 265.6C222.4 265.2 222.666 264.967 223.2 264.9C224 264.8 223.9 265.2 223.9 265.6C223.9 265.933 223.666 266.133 223.2 266.2C222.533 266.2 222.266 266 222.4 265.6ZM219.4 269C219.4 268.667 219.7 268.5 220.3 268.5C220.766 268.5 221.033 268.667 221.1 269C221.2 269.5 220.3 269.7 219.8 269.7C219.3 269.7 219.4 269.3 219.4 269ZM219.1 265.3C219.1 264.967 219.333 264.867 219.8 265C220.266 265 220.566 265.2 220.7 265.6C220.9 266.2 220.2 266.7 219.7 266.7C219.4 266.7 219.1 265.8 219.1 265.3ZM216.4 266C216.4 265.6 216.6 265 217.1 265C217.6 265 218.1 265.6 218.1 266C218.1 266.4 217.8 266.633 217.2 266.7C216.3 266.8 216.3 266.3 216.3 266H216.4ZM216.9 262.7C216.9 262.367 217.133 262.233 217.6 262.3C218.266 262.3 218.6 262.5 218.6 262.9C218.466 263.433 218.1 263.767 217.5 263.9C216.9 263.9 216.9 263.1 216.9 262.7ZM219.9 262.4C219.9 262.133 220.166 262.033 220.7 262.1C221.366 262.167 221.633 262.4 221.5 262.8C221.5 263.2 220.9 263.6 220.5 263.6C220.1 263.6 219.9 262.8 219.9 262.4Z",fill:"#04534E"}),g.jsx("path",{d:"M216.9 262.6C216.9 262.267 217.1 262.1 217.5 262.1C218.033 262.033 218.266 262.2 218.2 262.6C218.2 263 217.966 263.233 217.5 263.3C217.033 263.367 216.833 263.133 216.9 262.6ZM216.3 265.8C216.3 265.333 216.5 265.067 216.9 265C217.3 264.933 217.533 265.1 217.6 265.5C217.6 266.1 217.366 266.367 216.9 266.3C216.5 266.367 216.3 266.2 216.3 265.8ZM219.8 262.4C219.8 262.133 220.033 262.033 220.5 262.1C220.9 262.033 221.133 262.167 221.2 262.5C221.133 262.833 220.9 263 220.5 263C220.1 263 219.9 262.8 219.9 262.4H219.8ZM219.2 265.5C219.2 265.967 219.433 266.233 219.9 266.3C220.366 266.233 220.633 265.967 220.7 265.5C220.8 264.8 220.2 264.7 219.9 264.7C219.433 264.767 219.2 265.033 219.2 265.5ZM222.5 265C222.566 265.467 222.833 265.733 223.3 265.8C223.966 265.8 224.233 265.533 224.1 265C224.033 264.6 223.766 264.367 223.3 264.3C222.6 264.2 222.5 264.7 222.5 265ZM219.3 269C219.3 268.6 219.533 268.367 220 268.3C220.466 268.233 220.7 268.433 220.7 268.9C220.566 269.3 220.233 269.567 219.7 269.7C219.433 269.633 219.3 269.4 219.3 269ZM222.2 268.5C222.2 268.167 222.433 268 222.9 268C223.5 267.933 223.733 268.1 223.6 268.5C223.466 269.1 223.2 269.367 222.8 269.3C222.4 269.233 222.166 268.967 222.1 268.5H222.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M223 263.6C223 263.6 223.4 264.1 223.5 264.6L223.4 265.5C223.2 265.5 223.033 265.267 222.9 264.8V263.5L223 263.6ZM220.4 260.9C220.4 260.9 220.7 261.3 220.7 261.7C220.7 262.1 220.7 262.5 220.4 262.5C220.266 262.433 220.2 262.2 220.2 261.8L220.4 260.9ZM217.4 261.3C217.4 261.3 217.7 261.7 217.7 262.1C217.7 262.5 217.7 262.9 217.5 262.9C217.3 262.9 217.3 262.5 217.3 262.2L217.4 261.3Z",fill:"#231F20"}),g.jsx("path",{d:"M216.4 261.8L217.1 262.2C217.5 262.533 217.634 262.767 217.5 262.9C217.234 263.033 217.067 262.967 217 262.7L216.4 261.8ZM218.7 264.9C218.7 264.9 219.2 264.9 219.6 265.2C219.934 265.533 220.034 265.8 219.9 266C219.7 266.067 219.434 265.933 219.1 265.6L218.7 264.9ZM215.9 264.9L216.7 265.1C216.967 265.367 217.034 265.6 216.9 265.8C216.767 265.8 216.6 265.7 216.4 265.5L215.9 264.9ZM222.6 266.9L222.7 267.9C222.767 268.5 222.734 268.833 222.6 268.9C222.4 269 222.3 268.3 222.3 267.9L222.6 266.9Z",fill:"#231F20"}),g.jsx("path",{d:"M221.8 268L222.5 268.3C222.7 268.567 222.7 268.733 222.5 268.8L222.2 268.4L221.8 268ZM218.8 268.1L219.6 268.3C219.8 268.633 219.866 268.967 219.8 269.3C219.666 269.367 219.5 269.233 219.3 268.9L218.8 268.1Z",fill:"#231F20"}),g.jsx("path",{d:"M217.7 259C217.7 259 215.1 259.6 214.7 261.3C214.1 263 214.1 264.9 214.1 264.9L213.7 262.7L214.3 261.4L215 260.1L216.2 259.4L217.2 259H217.7ZM225.9 269C225.9 269 226.1 268.4 225.4 266.4C224.6 264.3 223 261.6 223 261.6L224.2 263L225.2 264.6L225.7 266L226.1 267.3V268.6L225.9 269Z",fill:"#04534E"}),g.jsx("path",{d:"M228.5 265.7C228.5 265.7 229.5 266.3 229.5 266.7V267.2C229.1 267.133 228.834 266.967 228.7 266.7L228.5 265.7ZM224.7 276C224.7 276 225.1 275.2 225.7 275C226.367 274.667 226.734 274.6 226.8 274.8C227 275 226.5 275.5 226.1 275.6L224.7 276ZM231.1 278.5C231.1 278.5 231.8 278.2 232.1 277.7C232.5 277.3 232.634 277 232.5 276.8C232.234 276.733 231.9 276.9 231.5 277.3L231.1 278.5ZM230.4 277.9C230.4 277.9 230.6 277.1 230.9 276.8C231.1 276.533 231.334 276.433 231.6 276.5C231.8 276.7 231.8 276.933 231.6 277.2L230.4 277.9Z",fill:"#231F20"}),g.jsx("path",{d:"M241.2 273C241.2 273 237.2 267.2 230.9 266.9C225.9 266.6 224.4 271.1 224.6 272.4C224.7 273.8 226.6 276.7 233.3 277.1C240 277.5 241 274.1 241.3 273.8C241.5 273.7 241.2 273 241.2 273Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M236.5 269C236.5 269 238.1 270.3 238.8 271.3C239.5 272.3 239.7 273 239.3 273.1C238.9 273.2 235.3 269.9 232.3 269.2C229.3 268.5 226.8 269.2 226.2 270.6C225.6 272 225.8 274.1 227.2 275C228.6 275.9 234.9 277 234.9 277L237.9 276.5L239.7 275.5L240.1 274.5L240.5 273.1L240.7 272.6L239.2 270.9L236.5 269Z",fill:"#0C8489"}),g.jsx("path",{d:"M231.4 269.8C231.333 270.2 231.067 270.4 230.6 270.4C230 270.4 229.767 270.2 229.9 269.8C229.9 269.4 230.133 269.167 230.6 269.1C231.067 269.033 231.333 269.267 231.4 269.8ZM227.7 271.1C227.7 270.833 228 270.733 228.6 270.8C229.5 270.9 229.3 271.1 229.3 271.4C229.3 271.8 228.6 272.4 228.3 272.2C227.833 271.867 227.633 271.533 227.7 271.2V271.1ZM231.7 273.3C231.7 272.767 231.967 272.467 232.5 272.4C233.233 272.4 233.567 272.7 233.5 273.3C233.3 274.1 232.9 274.433 232.3 274.3C231.4 274.1 231.6 273.8 231.6 273.3H231.7Z",fill:"#04534E"}),g.jsx("path",{d:"M228.7 274.2C228.767 273.8 229.034 273.633 229.5 273.7C229.9 273.767 230.167 274.033 230.3 274.5C230.5 275.2 229.8 275.2 229.5 275.2C229.034 275.067 228.767 274.733 228.7 274.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M234 275.6C234 275.267 234.167 275.067 234.5 275C234.967 275 235.233 275.167 235.3 275.5C235.3 275.967 235.067 276.2 234.6 276.2L234 275.6ZM236.4 273.8C236.4 273.467 236.6 273.333 237 273.4C237.533 273.4 237.833 273.633 237.9 274.1C237.833 274.5 237.5 274.7 236.9 274.7C236.5 274.633 236.333 274.3 236.4 273.7V273.8Z",fill:"#04534E"}),g.jsx("path",{d:"M231.1 269.5C231.1 269.833 230.967 270 230.7 270C230.234 270 229.967 269.833 229.9 269.5C229.9 269.167 230.067 269 230.4 269C230.867 269 231.1 269.167 231.1 269.5ZM229.2 271C229.134 271.4 228.834 271.6 228.3 271.6C227.5 271.6 227.8 271.4 227.8 271C227.8 270.733 228 270.6 228.4 270.6C228.8 270.533 229.067 270.667 229.2 271ZM230.1 274.1C230.1 274.433 229.934 274.633 229.6 274.7C229.067 274.7 228.767 274.5 228.7 274.1C228.6 273.5 228.9 273.6 229.2 273.6C229.734 273.6 230.034 273.767 230.1 274.1ZM233.2 273.1C233.067 273.5 232.734 273.733 232.2 273.8C231.4 273.9 231.7 273.2 231.7 272.8C231.7 272.467 231.934 272.267 232.4 272.2C232.8 272.267 233.067 272.567 233.2 273.1ZM237.9 274.1C237.767 274.367 237.434 274.467 236.9 274.4C236.634 274.333 236.467 274.067 236.4 273.6C236.4 273.3 236.4 273 237.3 273.1C237.634 273.233 237.834 273.567 237.9 274.1ZM235.1 275.4C235.1 275.8 234.9 276.033 234.5 276.1L233.9 275.5C233.9 275.1 234.1 274.933 234.5 275C234.9 275.067 235.1 275.233 235.1 275.5V275.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M235.6 273.5C235.6 273.5 236.2 273.3 236.6 273.4C237.066 273.4 237.266 273.5 237.2 273.7L236.6 273.9L235.6 273.5ZM232.9 275.8L233.8 275.4C234.266 275.4 234.466 275.5 234.4 275.7C234.4 275.967 234.233 276.067 233.9 276L232.9 275.8ZM231.1 271.8C231.1 271.8 232.2 272.3 232.5 272.8C232.766 273.133 232.766 273.333 232.5 273.4C232.3 273.533 232.1 273.433 231.9 273.1L231.1 271.8Z",fill:"#231F20"}),g.jsx("path",{d:"M230.8 273.3L232.1 273C232.5 273 232.666 273.067 232.6 273.2C232.533 273.333 232.4 273.433 232.2 273.5L230.8 273.2V273.3ZM228.1 273.3C228.1 273.3 229.1 273.4 229.3 273.7C229.5 273.9 229.533 274.1 229.4 274.3C229.2 274.367 228.966 274.333 228.7 274.2C228.3 274 228.1 273.3 228.1 273.3Z",fill:"#231F20"}),g.jsx("path",{d:"M228 274.6C228 274.6 228.3 274.1 228.7 274H229.5C229.5 274.333 229.3 274.533 228.9 274.6H228ZM227.3 270.6L228.2 270.8C228.534 271.067 228.634 271.267 228.5 271.4H227.8C227.4 271 227.2 270.733 227.2 270.6H227.3ZM229.3 268.2C229.3 268.2 230.3 268.5 230.5 268.9C230.767 269.3 230.834 269.567 230.7 269.7L229.9 269.3L229.3 268.2Z",fill:"#231F20"}),g.jsx("path",{d:"M240 275C240 275 238.1 276.6 233.8 276.5C229.5 276.4 225.5 274.5 224.6 272.5L225 273.5L226 274.7L229 276.3L232.4 277L235.1 277.2L237.6 276.8L239.6 275.8L239.9 275.3L240.1 275H240ZM240.6 273L238.9 271L233.9 267.6L237.1 269L239.2 270.8L240.7 272.4L240.6 273Z",fill:"#04534E"}),g.jsx("path",{d:"M240.8 269C240.8 269 241.9 269.5 242.1 269.8L242.5 270.3C242.5 270.3 242.2 271 242 270.7L241.4 270L240.8 269ZM244.1 267.3C244.1 267.3 245.1 267.8 245.4 268.3C245.733 268.833 245.8 269.167 245.6 269.3C245.4 269.3 244.7 268.7 244.6 268.5L244.1 267.3Z",fill:"#231F20"}),g.jsx("path",{d:"M245 267.1C245 267.1 246 267.8 246.2 268.1C246.534 268.5 246.6 268.833 246.4 269.1C246 268.967 245.667 268.7 245.4 268.3L245 267.1ZM250.6 268.4C250.6 268.4 251.3 268.7 251.4 269.4V270.4L250.8 269.8V269.3L250.6 268.4ZM252 268.9C252 268.9 252.6 269.5 252.7 269.9C252.767 270.3 252.7 270.533 252.5 270.6C252.167 270.6 252 270.4 252 270V269V268.9ZM242.2 280.9C242.2 280.9 242.7 281.1 243.1 280.9C243.634 280.7 243.867 280.433 243.8 280.1C243.8 279.767 243.6 279.733 243.2 280L242.8 280.6L242.2 280.9ZM247.6 282.4C247.6 282.4 248.3 282.3 248.8 281.7C249.334 281.167 249.467 280.833 249.2 280.7C248.8 280.567 248.5 280.7 248.3 281.1L247.6 282.4ZM252 282.5L253 281.8C253.467 281.467 253.6 281.133 253.4 280.8C253.134 280.667 252.9 280.7 252.7 280.9L252.6 281.5L252 282.5Z",fill:"#231F20"}),g.jsx("path",{d:"M253.4 282.5C253.4 282.5 254 281.8 254.1 281.4C254.234 280.867 254.234 280.6 254.1 280.6C253.767 280.667 253.534 280.867 253.4 281.2V282.5Z",fill:"#231F20"}),g.jsx("path",{d:"M239.9 275.3C239.9 273.3 242.7 268.8 245.9 268.9C247.2 268.9 249.9 269.6 251.9 270.6C253.7 271.4 254.3 272.2 255.4 272.6C256.6 272.8 258.4 272.6 258.4 272.6L262.4 272.1L259.2 276.7L258.2 277.7C258.2 277.7 257.2 279.7 254.2 280.7C251.5 281.8 246.7 281 244.5 280.5C242.3 280 239.8 277.9 239.9 275.3Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M239.9 275.3H240.1C240.1 274.9 240.267 274.333 240.6 273.6C241.11 272.479 241.822 271.462 242.7 270.6C243.7 269.667 244.734 269.167 245.8 269.1C247.861 269.371 249.878 269.909 251.8 270.7L253.8 271.9C254.72 272.592 255.85 272.945 257 272.9L258.4 272.8L261.9 272.4L259.1 276.6L257.9 277.6C257.055 279.002 255.746 280.063 254.2 280.6C253.2 280.933 252.034 281.1 250.7 281.1C248.4 281.1 245.9 280.6 244.6 280.3C243.474 279.992 242.443 279.408 241.6 278.6C240.727 277.751 240.194 276.614 240.1 275.4V275.3H239.7C239.709 275.977 239.856 276.645 240.131 277.264C240.406 277.883 240.804 278.439 241.3 278.9C242.188 279.774 243.292 280.395 244.5 280.7C245.9 281 248.3 281.5 250.7 281.5C251.959 281.513 253.21 281.31 254.4 280.9C257.3 279.8 258.3 277.9 258.3 277.8L258.1 277.7L258.2 277.9L259.4 276.9L262.8 271.9L258.3 272.4H257L255.5 272.3C254.967 272.167 254.467 271.933 254 271.6C253.6 271.2 252.934 270.8 252 270.4L248.7 269.2C247.567 268.867 246.634 268.7 245.9 268.7C244.967 268.7 244.134 268.967 243.4 269.5C242.343 270.236 241.456 271.191 240.8 272.3C240.207 273.202 239.831 274.228 239.7 275.3H239.9Z",fill:"#04534E"}),g.jsx("path",{d:"M259.2 275.9C258.867 276.167 258.5 276.267 258.1 276.2C257.6 276.2 248.8 270.8 246.1 271C243.3 271.2 240.7 272.4 240.6 275.2C240.5 278 241.2 278.1 241.8 278.9C242.4 279.7 247.8 280.9 247.8 280.9H251L253.7 280.5L256 279.2L257.3 278.2L258.2 277.2L259.2 275.9Z",fill:"#0C8489"}),g.jsx("path",{d:"M245.2 274.5C245.2 275.1 244.933 275.433 244.4 275.5C243.867 275.567 243.567 275.267 243.5 274.6C243.5 274.133 243.767 273.9 244.3 273.9C244.967 273.767 245.267 273.967 245.2 274.5ZM246.2 272C246.2 271.6 246.5 271.4 247.1 271.4C248 271.4 248 271.5 248 272C248 272.5 247.6 272.8 247 272.8C246.4 272.8 246.1 272.5 246.1 272H246.2ZM251.4 273.5C251.467 273.033 251.733 272.767 252.2 272.7C252.867 272.7 253.133 272.967 253 273.5C252.8 274.3 252.6 274.2 252.2 274.2C252.014 274.17 251.841 274.089 251.699 273.965C251.558 273.841 251.454 273.68 251.4 273.5ZM252.4 276.7C252.4 276.1 252.733 275.767 253.4 275.7C253.867 275.7 254.133 275.967 254.2 276.5C254.2 277.233 254 277.567 253.6 277.5C252.933 277.5 252.567 277.233 252.5 276.7H252.4ZM249.9 278.7C249.9 278.3 250.2 278.067 250.8 278C251.7 277.9 251.6 278.3 251.6 278.8C251.6 279.2 251.333 279.433 250.8 279.5C250.333 279.5 250.033 279.267 249.9 278.8V278.7ZM245 277.9C245.067 277.5 245.333 277.267 245.8 277.2C245.921 277.155 246.051 277.14 246.179 277.156C246.307 277.173 246.429 277.22 246.535 277.293C246.641 277.367 246.728 277.465 246.787 277.579C246.847 277.694 246.878 277.821 246.878 277.95C246.878 278.079 246.847 278.206 246.787 278.321C246.728 278.435 246.641 278.533 246.535 278.607C246.429 278.68 246.307 278.727 246.179 278.744C246.051 278.76 245.921 278.745 245.8 278.7C245.601 278.663 245.419 278.567 245.276 278.424C245.133 278.281 245.037 278.099 245 277.9Z",fill:"#04534E"}),g.jsx("path",{d:"M245.2 274.4C245.2 274.867 244.9 275.133 244.3 275.2C244.101 275.163 243.919 275.067 243.776 274.924C243.633 274.781 243.537 274.598 243.5 274.4C243.567 273.933 243.833 273.733 244.3 273.8C244.767 273.867 245.067 274.033 245.2 274.3V274.4ZM247.7 271.9C247.7 272.3 247.533 272.533 247.2 272.6C246.6 272.6 246.267 272.333 246.2 271.8C246.2 271.4 246.433 271.167 246.9 271.1C247.433 271.1 247.7 271.367 247.7 271.9ZM252.9 273.2C252.833 273.6 252.567 273.833 252.1 273.9C251.5 273.9 251.267 273.667 251.4 273.2C251.4 272.867 251.633 272.667 252.1 272.6C252.767 272.6 253.033 272.8 252.9 273.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M250.1 275.4C250.1 276.067 249.867 276.4 249.4 276.4C248.734 276.4 248.4 276.1 248.4 275.5C248.4 275.033 248.7 274.8 249.3 274.8C250.2 274.8 250.1 274.8 250.1 275.4Z",fill:"#04534E"}),g.jsx("path",{d:"M246.4 277.8C246.4 278.2 246.133 278.433 245.6 278.5C245.414 278.47 245.241 278.389 245.099 278.265C244.958 278.141 244.854 277.98 244.8 277.8C244.866 277.333 245.2 277.1 245.8 277.1C246.2 277.1 246.4 277.3 246.4 277.7V277.8ZM250 275.3C249.963 275.499 249.867 275.681 249.724 275.824C249.581 275.967 249.398 276.063 249.2 276.1C249.001 276.063 248.819 275.967 248.676 275.824C248.533 275.681 248.437 275.499 248.4 275.3C248.437 275.101 248.533 274.919 248.676 274.776C248.819 274.633 249.001 274.537 249.2 274.5C249.398 274.537 249.581 274.633 249.724 274.776C249.867 274.919 249.963 275.101 250 275.3ZM254.2 276.3C254.2 276.967 253.933 277.3 253.4 277.3C253.135 277.3 252.88 277.195 252.693 277.007C252.505 276.82 252.4 276.565 252.4 276.3C252.4 275.9 252.633 275.7 253.1 275.7C253.766 275.7 254.1 275.933 254.1 276.4L254.2 276.3ZM251.5 278.6C251.5 279 251.233 279.233 250.7 279.3C250.033 279.3 249.733 279.067 249.8 278.6C249.866 278.133 250.166 277.9 250.7 277.9C251.166 277.9 251.433 278.133 251.5 278.6Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M251.8 276C251.8 276 253.1 275.8 253.4 276C253.6 276.333 253.6 276.6 253.4 276.8L252.7 276.7L251.8 276ZM250.5 271.7C250.5 271.7 251.5 272 251.9 272.4C252.233 272.867 252.333 273.167 252.2 273.3C252.067 273.433 251.833 273.367 251.5 273.1L250.5 271.7ZM247.5 273.7C247.5 273.7 248.7 274.4 248.9 274.7C249.233 275.1 249.3 275.4 249.1 275.6C249.1 275.7 248.4 275.6 248.3 275.3L247.5 273.7Z",fill:"#231F20"}),g.jsx("path",{d:"M247 274.6C247 274.6 248.3 274.8 248.6 275.1C249 275.233 249.2 275.367 249.2 275.5C249.2 275.633 249.067 275.767 248.8 275.9L247.8 275.5C247.8 275.3 247 274.7 247 274.7V274.6ZM245.4 270.8C245.4 270.8 246.8 271 247.1 271.2C247.433 271.533 247.433 271.867 247.1 272.2C246.767 272.267 246.5 272.133 246.3 271.8C246.3 271.5 245.4 270.8 245.4 270.8ZM242.5 272.8C242.5 272.8 243.8 273.4 244.2 274C244.533 274.333 244.533 274.533 244.2 274.6C243.8 274.8 243.4 274.1 243.4 274L242.5 272.8Z",fill:"#231F20"}),g.jsx("path",{d:"M242.3 274.4L243.4 274.3C243.933 274.167 244.266 274.2 244.4 274.4C244.266 274.667 244 274.767 243.6 274.7L242.3 274.4ZM249.1 278.9C249.1 278.9 250.1 278.3 250.4 278.4C250.866 278.4 251.066 278.5 251 278.7C250.8 278.9 250.6 278.967 250.4 278.9H249.2H249.1ZM244.3 278.2C244.3 278.2 244.7 277.7 245 277.6L245.6 277.7C245.533 277.967 245.366 278.133 245.1 278.2H244.3Z",fill:"#231F20"}),g.jsx("path",{d:"M258 277.3C258 277.3 256.8 278.9 255 279.7C253 280.5 251.7 280.7 249.1 280.6C247.139 280.565 245.216 280.05 243.5 279.1C242.2 278.477 241.068 277.551 240.2 276.4C239.9 275.8 240.5 277.4 240.5 277.4L242 279.4L244 280.2L246.7 280.9L249.3 281.2H251.3L253.7 280.8L255.3 280.3L256.3 279.6L257.1 279L258 277.3ZM255.6 272.6C255.6 272.6 254.9 272.8 253.3 271.9C251.7 270.9 249.8 269.6 246.3 269.6C242.7 269.6 241.5 272 241.3 272.2L242.9 270.1L244.5 269.1L245.8 269H247L248.6 269.5L250 269.9L251.7 270.5L253.2 271.3L254.9 272.2L255.6 272.6ZM260.4 273.6H257.7C257.234 273.667 257 273.8 257 274L256.8 274.4L256.1 273L259 272.6L260.6 273.2L260.4 273.7V273.6Z",fill:"#04534E"}),g.jsx("path",{d:"M256.6 288.3C256.733 288.767 257 289.033 257.4 289.1H258.8L261.6 288.9L262.6 287.8L263.2 285.2L264 284.2L266.6 282.7L268.9 282.1L270.4 281.9L272.4 281.2L273.9 280.5L274.5 279.5L275.2 278L274.5 276L272.9 274L270.3 272.9H268L265.5 273.8L261.2 274.8C261.2 274.8 258.7 275.8 257.7 277.8C256.7 279.6 256.7 280.1 256.6 282.6C256.5 285.1 256.6 288.3 256.6 288.3Z",fill:"#0C8489",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M257.7 287.4C258.6 287.4 257.9 286 258.9 284.4C259.9 282.8 260.9 280.7 261.3 280.7C261.5 280.833 261.733 280.9 262 280.9C262.3 280.8 263 280.2 263 280.1C262.866 279.767 263.1 279.2 263.7 278.4C264.4 277.8 265.5 277 265.9 276.9C266.366 276.767 266.633 276.767 266.7 276.9C266.8 277.1 266.5 277.4 266.8 277.6C267.266 277.667 267.7 277.5 268.1 277.1L268.2 276.4C268.1 276.4 268.7 275.9 269.7 276.1C270.7 276.3 270.7 276.3 270.8 276.6C270.9 277 270.4 277 270.5 277.3V277.7C270.6 277.9 270.8 278.5 271.5 278.5C272.1 278.367 272.366 278.233 272.3 278.1L272.5 277.8C272.5 277.8 272.7 277.4 272.5 277.2C272.233 276.933 272.233 276.867 272.5 277C272.8 277 273.7 278.4 274.1 277.9C274.366 277.167 274.433 276.633 274.3 276.3L272.7 274.1L270.3 273.2L267.1 273.5L263.9 275.3L261 276.8C261 276.8 260.9 279.2 260.4 278.8C259.8 278.3 259.1 277.2 258.9 277.5L257.9 280.5C257.6 281.4 256.7 284 256.9 285C256.9 286 257.4 287.4 257.7 287.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M260.6 283.6L260 283.9L259.8 284.7C259.9 285 260.4 285.3 260.4 285.3H260.8L261.5 285.1C261.5 285.1 261.8 284.8 261.8 284.4C261.8 284.067 261.7 283.9 261.5 283.9L260.6 283.6ZM265.6 279.5C265.133 279.433 264.9 279.5 264.9 279.7V280.2C264.9 280.2 264.9 280.8 265.2 280.9C265.5 281 266 281.2 266.2 281C266.4 280.867 266.533 280.633 266.6 280.3C266.6 279.9 266 279.7 266 279.7L265.6 279.5ZM269.6 280.5C269.533 280.3 269.3 280.2 268.9 280.2C268.5 280.2 268.333 280.5 268.4 281.1C268.6 281.567 268.933 281.7 269.4 281.5C269.8 281.5 269.7 280.9 269.7 280.8L269.6 280.4V280.5ZM258 281.2C258.067 281.6 258.4 281.833 259 281.9C259.234 281.905 259.462 281.827 259.645 281.681C259.828 281.535 259.953 281.329 260 281.1C260 280.8 259.7 281.4 259.3 281.5H258.4L258.1 281.2H258Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M261.8 284.4C261.8 284.4 261.8 284.9 261.5 285.2L260.7 285.4C260.433 285.4 260.233 285.333 260.1 285.2L259.8 284.6C259.8 284.6 260.2 285.3 260.8 285.1C261.4 284.9 261.8 284.4 261.8 284.4ZM272.5 277.8C272.5 277.8 272.5 278.3 272.1 278.5C271.7 278.7 271.433 278.767 271.3 278.7C271.033 278.7 270.833 278.6 270.7 278.4C270.2 277.7 270.5 277.2 270.5 277.2C270.5 277.2 270.8 278.5 271.5 278.4C272.2 278.3 272.5 277.8 272.5 277.8ZM263 280C263 280 262.6 281 262 281C261.4 281 261.4 280.9 261.4 280.7H262C262.3 280.7 263 280.1 263 280.1V280ZM264.8 279.9C264.8 279.9 264.8 280.6 265 280.9C265.2 281.1 265.466 281.2 265.8 281.2C266.133 281.2 266.366 281.1 266.5 280.9V280.3L266.4 280.6L265.8 280.9C265.533 280.9 265.3 280.8 265.1 280.6L264.8 279.9ZM268.2 276.4C268.2 276.4 268.4 276.9 268 277.4C267.6 277.9 266.8 277.6 266.8 277.6C266.8 277.6 267.4 277.7 267.8 277.4C268.1 277 268.2 276.4 268.2 276.4Z",fill:"#04534E"}),g.jsx("path",{d:"M257.4 288.9C257.4 288.9 261.6 288.9 261.9 288.2C262.3 287.7 261.6 285.4 264.1 283.6C266.6 281.8 268.6 281.8 270 281.7C271.3 281.7 274.2 280.7 274.8 278.1C275.1 276.5 272.9 276.4 272.1 274.9C271.3 273.4 269.2 274 269.1 274C269.1 274 266.7 274 265.6 275C265 275.7 265.1 276.5 264.7 276.8C264.5 277.2 261.7 276.8 261.4 277.3C261.1 277.8 261.4 278.7 261.2 278.9C261 279.1 260.4 278.3 260.4 278.3L260.6 276L264.1 274L268.1 271.7H270.9L273.7 273.2L275.1 274.8C275.1 274.8 275.4 275.4 275.5 276.6L275.4 278.2C275.002 279.329 274.275 280.314 273.313 281.027C272.351 281.74 271.197 282.148 270 282.2C267.6 282.3 265.4 283.4 264.4 284.2C263.3 285 262.7 288.5 262.7 288.9C262.7 289.3 257.5 289.1 257.5 289.1L257.4 288.9Z",fill:"#04534E"}),g.jsx("path",{d:"M259.1 280.7C258.834 280.9 258.634 280.867 258.5 280.6C258.3 279.9 258.8 278.9 258.8 278.9V280.1L259.2 280.4L259.1 280.7ZM261.8 280.1C261.6 280.1 261.6 279.4 261.8 279.1L263.1 278L262.6 279.2C262.5 279.5 262.1 280.2 261.8 280.2V280.1ZM260.8 284.4C260.6 284.4 260.5 284.133 260.5 283.6C260.5 282.8 261.3 282.3 261.3 282.3L261.1 283.3V284C261.1 284.267 261 284.4 260.8 284.4Z",fill:"#231F20"}),g.jsx("path",{d:"M262.7 283.2L261.9 283.9C261.434 284.233 261.067 284.4 260.8 284.4C260.5 284.4 260.9 283.8 261.1 283.7L262.7 283.2ZM266.3 278.1L265.6 279.1C265.334 279.7 265.334 280.033 265.6 280.1C265.8 280.3 266.1 279.5 266.1 279.3L266.3 278.1Z",fill:"#231F20"}),g.jsx("path",{d:"M267.6 279.9C267.6 279.9 267.3 279.6 266.7 279.4C266.1 279.333 265.767 279.4 265.7 279.6C265.7 279.8 265.3 280 265.5 280.2L266.2 279.9L266.9 279.8H267.7L267.6 279.9ZM266.9 276.4C267.1 276.4 267.367 276.233 267.7 275.9L268.2 274.9L267.4 275.4C267 275.733 266.834 276.067 266.9 276.4ZM272.4 276.2L271.4 276.9C271.134 277.233 271.034 277.5 271.1 277.7C271.367 277.767 271.6 277.633 271.8 277.3L272.4 276.3V276.2ZM270.8 279.9C270.8 279.9 270.6 280.4 270.1 280.7C269.6 281 269.1 281.1 269.1 281C268.967 280.733 269.034 280.533 269.3 280.4L270 280.2L270.8 279.9Z",fill:"#231F20"}),g.jsx("path",{d:"M234.379 271.172C235.634 271.365 236.883 270.016 237.167 268.159C237.451 266.303 236.663 264.643 235.407 264.451C234.152 264.259 232.904 265.607 232.62 267.464C232.335 269.32 233.123 270.98 234.379 271.172Z",fill:"url(#paint0_radial_4989_137735)"}),g.jsx("path",{d:"M236.3 261.5L234.9 265L236 264.8L236.7 261.8L236.3 261.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M237 260C236.334 260 236 260.333 236 261C235.934 261.467 236.167 261.8 236.7 262C237.3 262 237.634 261.7 237.7 261.1C237.767 260.5 237.5 260.167 236.9 260.1L237 260ZM295.8 268.6L292.4 271.8L293.8 272.1L296.1 269.1L295.8 268.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M297.3 267.3C296.634 267.1 296.067 267.267 295.6 267.8C295.513 267.92 295.453 268.059 295.426 268.205C295.399 268.351 295.405 268.502 295.443 268.645C295.481 268.789 295.551 268.922 295.648 269.036C295.744 269.149 295.865 269.239 296 269.3C296.5 269.6 297.3 269.3 297.6 268.8C297.688 268.68 297.747 268.541 297.774 268.395C297.801 268.249 297.796 268.099 297.757 267.955C297.719 267.811 297.649 267.678 297.553 267.565C297.456 267.451 297.336 267.361 297.2 267.3H297.3ZM210.2 250.4L212 254.3L212.8 253.3L210.8 250.3L210.2 250.4Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M209.5 248.7C209.387 248.787 209.294 248.896 209.227 249.022C209.16 249.147 209.12 249.285 209.111 249.427C209.101 249.569 209.122 249.712 209.172 249.845C209.222 249.978 209.3 250.099 209.4 250.2C209.867 250.733 210.367 250.8 210.9 250.4C211.013 250.313 211.106 250.204 211.174 250.078C211.241 249.953 211.281 249.815 211.29 249.673C211.299 249.531 211.279 249.388 211.229 249.255C211.179 249.122 211.101 249.001 211 248.9C210.922 248.78 210.818 248.678 210.696 248.602C210.575 248.525 210.438 248.476 210.296 248.457C210.154 248.438 210.009 248.45 209.872 248.492C209.734 248.534 209.608 248.605 209.5 248.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M237.3 260.2C236.9 260.2 236.1 260.5 236.1 261.1C236.167 261.633 236.434 261.9 236.9 261.9H236.3L236.1 261.5L235.9 261.1L236 260.6L236.3 260.2L236.7 260.1H237L237.3 260.2Z",fill:"#AA8C30"}),g.jsx("path",{d:"M236.5 262.5C236.5 262.5 236.3 262.5 236.1 262.8L235.5 263.6L236.2 261.7L236.7 261.9L236.5 262.5ZM297.5 267.6C297.2 267.3 296.1 267.4 295.8 268C295.6 268.667 295.767 269.1 296.3 269.3C296.8 269.5 296.1 269.3 296.1 269.3L295.6 268.9L295.5 268.5V267.9L295.9 267.5L296.5 267.2H297L297.3 267.4L297.6 267.6H297.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M295.5 269.8H294.9L293.7 270.5L295.6 268.8L296 269.3L295.5 269.8ZM209.9 248.5C209.6 248.8 209.3 249.7 209.7 250.1C209.881 250.255 210.112 250.34 210.35 250.34C210.589 250.34 210.819 250.255 211 250.1C211.4 249.8 211 250.3 211 250.3L210.4 250.6H210L209.5 250.4L209.2 249.9V249.3L209.3 248.8L209.6 248.6L209.9 248.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M211.2 251C211.2 251 211 251.2 211.1 251.6L211.3 252.8L210.3 250.6L210.8 250.4L211.2 251Z",fill:"#AA8C30"}),g.jsx("path",{d:"M212.036 258.936C212.967 260.755 214.718 261.72 215.947 261.091C217.176 260.462 217.418 258.477 216.487 256.658C215.556 254.839 213.805 253.874 212.576 254.503C211.347 255.132 211.105 257.117 212.036 258.936Z",fill:"url(#paint1_radial_4989_137735)"}),g.jsx("path",{d:"M210 257C210 257 210.8 257.2 211.2 257C211.6 256.667 211.8 256.433 211.8 256.3L212 255.6L211.2 254.4H210.4C210.4 254.2 210.334 254.033 210.2 253.9C210 253.9 208.9 255.2 209.1 255.4C209.3 255.6 209.4 255.3 209.5 255.4V256.4L210 257Z",fill:"#E92736"}),g.jsx("path",{d:"M211.2 254.5C211.2 254.7 211.7 255.3 211.9 255.3H212.8C212.9 255.3 213.5 254.8 213.5 254.5L213.4 253.9C213.3 253.7 213.4 253.1 213.1 253C212.967 253 212.867 252.933 212.8 252.8L212.6 252.3C212.5 252 210.6 253.1 210.8 253.3L211.2 253.5V254.5Z",fill:"#E92736"}),g.jsx("path",{d:"M215.4 254L215.3 252.6C215.033 252.6 214.833 252.5 214.7 252.3C214.833 252.233 214.933 252.1 215 251.9C215.1 251.6 213 252 213 252.2C213.2 252.5 213.5 252.3 213.5 252.5L213.1 253L213.3 253.9L213.5 254.3L214 254.4H215.1L215.4 254ZM232.9 264.3C232.9 264.3 233.2 264.9 233.6 265H234.3C234.5 265 234.7 264.9 234.9 264.7L235.2 263.6L234.7 263L234.9 262.6C234.9 262.4 233.3 262.6 233.3 262.8C233.3 263 233.5 262.9 233.5 263.1L232.9 263.6V264.3Z",fill:"#E92736"}),g.jsx("path",{d:"M235 263.6V264.6L235.5 265.1H236.4L236.7 264.6L237.1 264L237 263.6C237.133 263.533 237.233 263.4 237.3 263.2C237.4 262.9 235.6 262.4 235.6 262.6L235.7 263C235.7 263 235.1 263.4 235.1 263.6H235Z",fill:"#E92736"}),g.jsx("path",{d:"M237.8 266C238 265.9 238.6 265.3 238.6 265L238.5 264.6L238.9 264.5C238.9 264.4 237.6 263.2 237.6 263.5C237.5 263.7 237.8 263.8 237.6 263.9H237.2L236.7 264.6L236.6 264.9L236.7 265.3L237.4 266H237.8ZM290.7 270.4C290.7 270.4 290.7 271 291 271.4L291.6 271.7H292.2C292.4 271.7 292.9 271 292.9 270.8V270.1L293.1 269.9C293.2 269.7 291.8 269 291.7 269.3V269.6L291 269.8L290.7 270.4Z",fill:"#E92736"}),g.jsx("path",{d:"M292.7 270.8L292.2 271.4V272.1L293.1 272.5L293.5 272.3C293.834 272.3 294.067 272.2 294.2 272V271.7L294.7 271.5C294.8 271.4 293.7 270.2 293.6 270.3V270.6L292.7 270.8Z",fill:"#E92736"}),g.jsx("path",{d:"M293.2 273.8H294.2L294.5 273.4L294.8 273.5C295 273.5 294.8 272 294.7 272.1C294.567 272.167 294.5 272.267 294.5 272.4C294.3 272.4 294.167 272.3 294.1 272.1L293.4 272.2C293.2 272.2 293.067 272.267 293 272.4L292.9 272.7V273.6L293.2 273.8Z",fill:"#E92736"}),g.jsx("path",{d:"M211.3 255.3C211.5 255.5 211.3 256.1 211.1 256.3C211 256.5 210.1 256.3 210.1 256.1V255.4C210.233 255.2 210.466 255.033 210.8 254.9C211.066 254.967 211.233 255.1 211.3 255.3ZM211.6 254.1C211.533 254.433 211.6 254.633 211.8 254.7C211.8 254.9 212.5 255 212.8 254.9C212.8 254.9 213.2 253.8 213 253.6C212.866 253.467 212.666 253.433 212.4 253.5L211.6 254.1ZM213.8 253.1V253.7C213.8 253.7 214.3 254.1 214.6 254.1C214.8 254.1 214.9 253.3 214.9 253.1C214.9 252.9 214.9 253 214.7 252.9L213.8 253.1ZM234.7 264.1C234.7 264.4 234.1 264.6 233.9 264.6C233.7 264.6 233.4 263.9 233.5 263.8C233.5 263.667 233.633 263.567 233.9 263.5H234.6L234.7 264.1ZM235.5 263.6C235.366 263.667 235.3 263.833 235.3 264.1C235.3 264.2 235.5 264.7 235.7 264.8C235.9 264.9 236.7 264.4 236.7 264.2L236.4 263.8L235.5 263.6ZM237.5 264.4C237.3 264.467 237.166 264.6 237.1 264.8L237.3 265.5C237.633 265.5 237.9 265.4 238.1 265.2V264.9L237.5 264.4ZM292.3 271H291.5C291.3 271 291.3 270.1 291.5 270.1L291.9 270C292.1 270 292.266 270.133 292.4 270.4L292.3 271ZM293.1 271L292.6 271.2V272C292.7 272.1 293.6 272.2 293.6 272C293.8 272 293.7 271.6 293.7 271.6L293.1 271ZM294 272.6H293.5L293.2 273.2C293.2 273.4 293.7 273.5 293.8 273.5C293.933 273.5 294.033 273.433 294.1 273.3L294 272.6Z",fill:"#F7E204"}),g.jsx("path",{d:"M287.658 276.891C288.324 277.629 290.06 277.146 291.535 275.813C293.011 274.48 293.666 272.802 293 272.064C292.333 271.326 290.597 271.809 289.122 273.142C287.647 274.475 286.991 276.154 287.658 276.891Z",fill:"url(#paint2_radial_4989_137735)"}),g.jsx("path",{d:"M228.6 223.4C228.6 223.4 225.6 223.7 223.4 223.4C221.4 223 221.8 217.5 221.7 217.4C221.7 217.2 220.4 215.9 220.7 214.7C220.9 213.5 224.7 210.3 225.3 210.1C225.7 210 226.5 210.3 226.5 210.3C226.5 210.3 227.5 209.3 227.8 209.3C228.1 209.3 228.5 209.9 228.4 210.1C228.2 210.4 226.9 211.1 226.8 211.8C226.8 212.4 226.667 213 226.4 213.6C226 214.2 225.3 215 225.2 215.5C225 216.1 225 216.467 225.2 216.6C225.6 216.8 226.9 216.6 228 216.1L229.7 215.1C229.9 215.1 229.1 216.4 227.9 216.9C226.7 217.4 225.9 218 225.2 217.9C225.2 217.9 224.6 219.5 226.6 219.6C228.7 219.7 229.9 219.2 229.9 219.2L228.6 223.4ZM216.6 236.2C216.6 236.2 218.3 236.8 218.3 238.6C218.3 240.4 216.5 241.9 216.6 245.1C216.6 248.3 217.1 248.3 221.3 251.7C221.4 251.7 222.3 252.7 222.5 253.7C222.8 254.7 223.5 260.7 227.5 260.7C231.5 260.7 232.1 258.2 232.1 258.2L230.4 255.7C230.4 255.7 229 256.1 228.2 255.9C227.797 255.761 227.427 255.538 227.117 255.244C226.806 254.951 226.562 254.595 226.4 254.2C225.9 253.2 225.8 250.9 225.1 249.9C223.4 247.4 220.4 246.9 220.4 244.3C220.4 241.6 222.3 241.3 221.7 238.2C221.1 235.1 217.4 233.5 217.4 233.5L215.9 232.9L215.4 236L216.6 236.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M227.8 214.1C229.1 213.8 228.3 210.3 228.3 210.3L227.4 211C227.4 211 228 211.8 228 212.6C228 213.4 227.8 214.1 227.8 214.1Z",fill:"#F1A720"}),g.jsx("path",{d:"M230.2 249.2L229.5 248.6C229.1 248.3 226.9 246.6 227.3 241.6C227.7 235.8 236 232.8 236.5 230.5C237.2 227.9 239.1 226.8 232.4 221.6L230.8 223.5L233.6 225.5C233.6 225.5 234.2 225.2 234.2 226C234.2 226.7 233.5 227.4 233.2 228C233.2 228.5 229 231.4 228.7 231.7L226.3 233.7C226.3 233.7 225.2 234.7 224.2 236.9C223.2 239.1 223.7 241.9 223.7 241.9C223.7 241.9 223.7 248.1 230.2 249.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M226.2 252.4L226.6 254.6L225.3 255.1H224.7L224.3 255.2L223.3 256.2H223L222.8 255.5L222.7 254.4L223.9 254.9H224.4L224.7 254.8L225.2 253.6L226.2 252.4ZM222.2 252.8L221.7 252L220.9 251.3L221.9 250.8H222.9L222.7 252L222.2 252.8ZM224.5 249.3C224.5 249.3 225.1 249.6 225.3 250.1L225.8 251.1L224.2 251L223.1 250.6L223.8 249.6L224.5 249.3ZM223.9 258.9C223.9 258.9 223.6 258.7 223.4 258.2L223.1 256.9L224.1 256.7L225.3 257.2H225.6L225.3 257.8L224.2 258.8L223.9 258.9ZM227.9 255.6C227.9 255.6 227.1 255.3 226.9 254.9L226.7 254.5L226.4 255.7L226 256.9L226.1 257.1L227.1 256.8L227.7 256.1L227.9 255.6ZM224.2 259.4L225.2 260L226.2 260.4L226.8 259.9L227.2 258.9L227.3 258.8L224.8 259L224.2 259.4ZM227.7 258.4L229.8 257.2L229.9 256.1L229.5 255.8H228.3L228 257.2L227.7 258.5V258.4ZM226.2 260.4C226.2 260.4 227.7 261.1 230.2 260.2C231.267 259.6 231.734 259.267 231.6 259.2L230.6 258.8L229.6 259.6L226.2 260.4ZM224.2 244.2L223.9 243.2L223.8 242.2L224.5 242.6L225.6 243.4L224.9 244L224.2 244.2ZM226 247.2L225.3 246.4L224.8 245.4L225.6 245.6L226.5 246.1L226.1 247.2H226Z",fill:"#78732E"}),g.jsx("path",{d:"M221.3 213.7C221.1 214.2 220.9 215.1 221.6 215.3C222 215.3 223.6 215.3 225.3 213.3C226.1 212.3 226.1 211.3 226.1 211.3L226.5 210.3C226.5 210.3 225.8 209.8 224.7 210.5L221.3 213.7Z",fill:"#C6C7A6"}),g.jsx("path",{d:"M226 211.2C226.166 211.2 226.3 211.066 226.3 210.9C226.3 210.734 226.166 210.6 226 210.6C225.835 210.6 225.7 210.734 225.7 210.9C225.7 211.066 225.835 211.2 226 211.2Z",fill:"#1C242F"}),g.jsx("path",{d:"M223.8 211.2C223 211.8 222.4 212.5 222.4 212.5C222.4 212.5 223.5 212.2 224.4 211.4C225.026 210.918 225.817 210.703 226.6 210.8C226.734 210.733 226.734 210.6 226.6 210.4C226.3 210.2 225.5 210.1 225.3 210.2C225.3 210.2 224.5 210.6 223.8 211.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M227.3 243.6V241.8L226.6 242.4L225.9 243.4L226.9 243.7L227.3 243.6ZM223.7 241.6V239.7C223.7 238.8 224.1 237.2 224.1 237.2L224.5 238.3L225.8 240.3L226.2 240.6L225.2 241.3L224 241.7L223.7 241.6ZM227.3 241L227.5 240.2L227.9 239.2L226.8 240.2L226.3 240.6L226.9 241.1L227.3 241ZM224.3 236.3C224.3 236.3 224.5 235.7 225 235L226.1 233.5L226.6 235.5L226.9 237.1V237.4L226.4 237.6C226.3 237.6 225.1 237.6 224.9 237.3L224.3 236.3ZM228.1 238.5L228.8 237.8L229.6 237L227 237.5L227.4 238.3L228.1 238.5ZM226.6 233.2L227.5 232.4C228.2 231.7 228.5 231.8 228.5 231.8L228.8 234.6L227.5 234.2L226.6 233.2ZM229.8 237L231.4 235.4L228.8 234.6L229.3 236.4L229.8 237ZM230.9 232.8L231.1 230.1L229.9 230.9L228.9 231.7L229.2 232.1L230.2 232.7L230.9 232.8ZM233.2 230.2V228.2L232.3 229.1L231.7 229.7L232.4 230.1L233.2 230.2ZM234.2 233L235.4 232L236.6 230.7L233.3 230.4L233.4 231.8L234.2 233ZM226.4 222V223.5H229.1L228.4 222.5L227.6 222L226.8 221.2L226.4 222ZM231.8 235L233 234L234 233.2L231.3 232.9L231.4 234.7L231.8 235ZM236.8 230.2C236.8 230.2 237.1 229.2 237.1 228.2L236.9 226.7L234.9 228L235.2 229L236 229.9L236.8 230.2Z",fill:"#78732E"}),g.jsx("path",{d:"M233.4 227.8C233.4 227.8 234 227.1 234.1 226.7V226.4H235.7L236.6 226.5L236.7 226.6L236 227.4L235 228L233.8 228.1L233.4 227.8ZM236.6 226.3L235.6 224.6L235 223.8L234.2 226V226.3H236.6Z",fill:"#78732E"}),g.jsx("path",{d:"M217.3 241.8L217 242.4C217 242.4 218 241.8 218.9 241.9C219.8 242 220.6 242.9 220.6 242.9L220.8 242.2C220.8 242.2 219.7 241.2 219 241.1C218.3 241.1 217.3 241.8 217.3 241.8ZM217.8 237.1L218.1 237.4C218.1 237.5 218.1 236.7 219.2 236.2C220.2 235.8 220.9 236.2 220.9 236.2C220.9 236.2 220.7 235.5 220.2 235.4C219.666 235.267 219.166 235.4 218.7 235.8C218.1 236.2 217.8 237.1 217.8 237.1ZM221.4 240.6C221.4 240.6 220.9 239.6 220 239.3C219.2 239.1 218.1 239.8 218.1 239.8L217.9 240.3C217.9 240.3 219.1 239.7 219.9 240C220.8 240.4 221.2 241.4 221.2 241.4L221.4 240.6ZM217.4 236.6L217.7 236.9C217.7 236.9 217.5 235.9 218.1 235.2L219 234.4L218.5 234.2C218.5 234.2 217.8 234.7 217.5 235.2C217.3 235.8 217.266 236.233 217.4 236.5V236.6ZM216.9 234.6C217.2 234.1 217.9 233.9 217.9 233.9L217.6 233.7H217.3C217.3 233.7 216.9 233.9 216.6 234.5C216.3 235.1 216.3 236.1 216.3 236.1L216.8 236.3C216.8 236.3 216.7 235.3 216.9 234.7V234.6ZM223.2 219.4C223.933 219.133 224.333 219.033 224.4 219.1C224.5 219.2 223.4 220.1 223.9 221.4C223.3 222.4 223.1 223.3 223.1 223.3H223.7L224 221.8C224.363 222.474 224.876 223.056 225.5 223.5H226.3C226.3 223.5 226.3 222.5 226.8 221.5C227.223 222.029 227.773 222.442 228.4 222.7V222.4C228.4 222.4 227.5 221.9 227 221.2V221.1C227.6 220.1 228.4 219.8 228.4 219.8L229 220.2L229.1 220.1L228.7 219.5H228.2L226.8 220.9L226.2 219.6H225.8C225.8 219.6 225 219.6 224.2 220.9C224.1 219.9 225.2 218.9 225.2 218.9L225.1 218.6L223.1 219C222.4 219.3 221.9 220 221.9 220V220.6C221.9 220.6 222.6 219.8 223.2 219.4ZM224.4 221.1C224.9 220.4 225.9 219.9 225.9 219.9C225.9 219.9 225.9 220.5 226.6 221.2C226.2 222 226 223.1 226 223.1C226 223.1 225.1 222.5 224.4 221.5L224.3 221.2V221.1H224.4ZM218.4 238V238.6C218.4 238.6 219 237.9 219.9 237.9C220.8 237.9 221.7 238.6 221.7 238.6V237.7C221.5 237.7 220.7 237.2 220 237.2C219.2 237.2 218.3 238 218.3 238H218.4ZM235.4 229L235.1 228.2L235.5 228L236.9 226.7L236.6 226.3H235.3L234.2 226.2L234.6 224.8L235 223.7L234.6 223.3C234.6 223.3 234.7 223.7 233.9 223.8L231.7 223.1V223.5L233.7 224L234.7 223.8L234.2 224.8L234 225.6L234.2 225.7L234.1 226.4L235.2 226.5L236.6 226.6C236.6 226.6 235.9 227.4 235.2 227.7L234.9 227.8L234.1 226.6V227L234.6 228L233.4 227.8L233.1 228.1V230.1L231.7 229.7L231.4 229.9L231.1 230.1C231.1 230.1 230.8 231.3 230.8 232.7C229.6 232.4 228.9 231.7 228.9 231.7L228.6 231.9C228.6 231.9 228.4 233.1 228.7 234.5C227.948 234.263 227.263 233.852 226.7 233.3L226.3 233.7L226.7 237.2L226.8 237.5H226.2C225.2 237.5 224.4 236.4 224.4 236.4L224.1 237.2C224.1 237.2 224.5 239.4 225.7 240.4L226 240.6C225 241.4 223.7 241.6 223.7 241.6L223.8 242.2L225.5 243.5L224.2 244.2L224.4 244.6L225.8 243.6L227.3 244V243.6L226.1 243.4V243.3C226.6 242.9 227.3 241.8 227.3 241.8V241C227.3 241 226.9 241 226.4 240.6C227.9 239.6 227.9 239.1 227.9 239.1L228.2 238.6C228.2 238.6 227.7 238.4 227.3 237.6L229.7 237.1L229.9 236.9C229.9 236.9 229.3 236 229 234.9L231.4 235.4L231.8 235C231.8 235 231.5 234.1 231.4 233L233.9 233.3L234.2 233C234.2 233 233.4 231.5 233.4 230.7V230.6H236.6L236.8 230.2C236.8 230.2 235.8 229.5 235.4 229ZM227 241.4C227 241.4 226.7 242.2 226 243L225.7 243.2L225.3 243C224.566 242.4 224.233 242.067 224.3 242L226.3 240.7L227 241.4ZM227.7 238.9L226.2 240.4L225.9 240C225.2 239.1 224.3 238.4 224.4 237C224.4 237 224.9 238 226.1 237.9L226.9 237.7C227.3 238.5 227.566 238.9 227.7 238.9ZM229.3 236.9L227.3 237.4L227.1 237.1C226.7 235.8 226.7 233.9 226.7 233.9C226.7 233.9 227.6 234.5 228.7 234.8L229.3 236.9ZM229 234.5C228.8 233.4 229 232.2 229 232.2C229 232.2 229.7 232.8 230.9 233L231.1 234.7L229 234.5ZM233.6 232.7C233.6 232.7 232.9 233 231.4 232.8V230L233.2 230.5V230.6L233.6 232.7ZM233.6 230.2H233.4V228.1C233.4 228.1 234.2 228.3 234.8 228.2C234.8 228.467 234.933 228.8 235.2 229.2C235.5 229.8 236.1 230.2 236.1 230.2C236.1 230.2 234.2 230.4 233.5 230.2H233.6ZM227.6 245.2L227.4 244.7C227.4 244.7 226.7 245.2 226.4 245.8H226.2L224.6 245.1L224.8 245.4L226.3 246L226 247.2L226.2 247.5C226.2 247.5 226.2 246.7 226.6 246.1H227.6L227.4 246.8L227.1 248L227.4 248.2H229.1L228.8 247.9H227.3L227.6 246.9L227.8 246.3L227.6 245.7L226.7 245.8L227.5 245.1L227.6 245.2ZM218.5 244.1C219.161 244.129 219.793 244.375 220.3 244.8V244.3C220.3 244.3 219.5 243.3 218.6 243.3C217.6 243.3 216.6 244.2 216.6 244.2V245.2C216.6 245.2 217.5 244.1 218.5 244.1ZM229.1 259.6C228.1 260.1 226.9 260.1 226.9 260.1L227.6 258.8C229.6 258.3 230 256.9 230 256.9L229.9 256.4C229.9 256.4 229.4 257.7 227.7 258.4L228.3 255.8L227.8 255.6C227.8 255.6 227 256.6 226.2 256.9C226.539 256.212 226.742 255.465 226.8 254.7L226.6 254.3C226.6 254.3 226 254.8 225.2 254.9H224.7C225.2 254.3 226.1 252.4 226.1 252.4L226 252C226 252 225.3 253.7 224.6 254.5L224.3 254.8L222.6 254V254.3C222.6 254.3 223.3 254.8 224.1 255.1L223.1 256.1V256.9L225.5 257.2C225.083 257.866 224.539 258.444 223.9 258.9L224.2 259.4C224.2 259.4 225.3 259.4 227.2 258.9L226.2 260.4C226.1 260.4 228 260.5 229.2 259.9C230.4 259.3 230.8 258.7 230.8 258.7L230.4 258.3C230.4 258.3 230.2 259.2 229.1 259.6ZM223.6 256.3L224.6 255.2C225.8 255.5 226.2 255.1 226.2 255.1C226.2 255.1 226.4 255.8 225.7 256.9L223.6 256.3ZM224.7 258.8L225.7 257.5L226 257.2C227.2 257.2 227.9 256.2 227.9 256.2C227.9 256.2 228 257.2 227.5 258.4C225.9 259 224.7 258.8 224.7 258.8ZM223.2 250.9C224.4 251 225.8 251.5 225.8 251.5L225.7 250.9L223.4 250.5C223.8 249.6 224.6 249.2 224.6 249.2L224.2 249C224.2 249 223.8 249 223.2 250.2L223 250.4H222.7C221.7 250.4 220.8 251 220.8 251L221 251.3C221 251.3 221.9 250.9 222.8 250.9L222.2 252.9L222.4 253.4L223.2 250.9ZM220.8 246L220.6 245.4C220.6 245.4 219.3 245 218.4 245.4C217.5 245.8 216.8 246.9 216.8 246.9L217.2 247.7C217.2 247.7 217.8 246.5 218.7 246.2C219.6 245.9 220.8 246 220.8 246ZM223.2 247.9L222.4 247.5C222.4 247.5 221.1 247.8 220.6 248.3C220.1 248.8 219.7 250 219.9 250.3C220.1 250.7 220.266 250.9 220.4 250.9C220.6 250.9 220.6 249.6 221.3 249C222 248.4 223.2 247.9 223.2 247.9ZM220.2 247.5C220.6 247 221.6 246.8 221.6 246.8L221.1 246.3C221.1 246.3 219.9 246.5 219.3 247L217.9 248.7L218.6 249.4L220.1 247.5H220.2ZM224.2 211.7C224.9 210.9 225.5 210.9 225.7 210.9H226.3L225.6 212.9C225.4 213.7 225.1 213.9 224.8 214.4C224.333 215.067 224 215.833 223.8 216.7C223.8 217.5 223.966 217.933 224.3 218C224.566 217.867 224.733 217.7 224.8 217.5C224.8 217.2 224.6 217.5 224.4 217.5C224.2 217.5 224.4 217.2 224.2 216.7C224.2 216.2 224.8 214.9 225 214.5C225.4 214.1 225.7 213.567 225.9 212.9C225.9 212.2 226.4 210.9 226.4 210.9C226.4 210.767 226.066 210.7 225.4 210.7C225.098 210.727 224.806 210.821 224.546 210.977C224.286 211.133 224.065 211.346 223.9 211.6C223.5 212.1 222.5 212.5 222.5 212.5C222.5 212.5 223.6 212.5 224.2 211.7Z",fill:"white"}),g.jsx("path",{d:"M228.2 219.6H226.2L226.7 221.1L228.2 219.6ZM225.8 219.6L225.4 219.2L225.1 218.9L224.4 219.4L224 220.9L224.2 221.1L225.8 219.5V219.6ZM225.5 223.6L224.1 221.4L223.3 223.1L223.7 223.3L224.7 223.4L225.5 223.5V223.6ZM231.5 259.3H231.4C230.276 260.06 228.956 260.477 227.6 260.5C226.733 260.5 225.833 260.267 224.9 259.8C224.346 259.445 223.925 258.918 223.7 258.3C223.3 257.367 223.033 256.333 222.9 255.2C222.746 254.149 222.408 253.133 221.9 252.2C221.233 251.267 220.233 250.4 218.9 249.6C218.267 249.086 217.746 248.449 217.368 247.727C216.989 247.004 216.762 246.213 216.7 245.4V244.8C216.747 243.551 217.053 242.324 217.6 241.2C218.133 240.133 218.433 239.2 218.5 238.4V238C218.233 237.4 217.833 236.9 217.3 236.5L216.3 235.9L215.5 235.6V235.9L216.2 236.1L217.2 236.8C217.733 237.2 218.067 237.633 218.2 238.1V238.4C218.2 239.067 217.9 239.967 217.3 241.1C216.74 242.255 216.433 243.517 216.4 244.8C216.368 245.765 216.57 246.724 216.988 247.594C217.405 248.464 218.027 249.221 218.8 249.8C220 250.8 221.2 251.4 221.8 252.4C222.267 253.467 222.6 254.8 222.8 256.4L223.4 258.4C223.667 259.067 224.133 259.6 224.8 260C225.653 260.493 226.615 260.767 227.6 260.8C229.9 260.8 231.6 259.5 231.6 259.5L231.5 259.3Z",fill:"#78732E"}),g.jsx("path",{d:"M229.7 255.4L228.7 255.6C228.172 255.593 227.669 255.377 227.3 255C226.767 254.467 226.467 253.867 226.4 253.2C226.333 252.533 226.1 251.633 225.7 250.5C225.033 249.433 224.067 248.467 222.8 247.6C221.8 246.7 220.7 245.8 220.5 244.9V244.4C220.5 243.6 220.7 242.733 221.1 241.8C221.5 240.867 221.767 239.8 221.9 238.6V238C221.7 236.4 220.4 235.2 219.3 234.4L217 233.3V233.5H217.1C217.5 233.7 218.6 234.2 219.6 235C220.667 235.667 221.333 236.667 221.6 238V238.6C221.6 239.8 221.367 240.833 220.9 241.7C220.433 242.567 220.2 243.467 220.2 244.4V244.9C220.667 245.967 221.5 246.933 222.7 247.8C223.8 248.7 225 249.6 225.4 250.6C225.8 251.733 226.033 252.6 226.1 253.2C226.236 253.948 226.583 254.642 227.1 255.2C227.7 255.667 228.233 255.9 228.7 255.9L229.9 255.6L229.7 255.4Z",fill:"#78732E"}),g.jsx("path",{d:"M237 249.3C237 249.3 238.5 249.6 238.4 250.7C238.4 251.9 237.8 253.4 237.8 253.4L235.8 251.7L236.9 250.7L237.3 250.2L237.1 249.2L237 249.3Z",fill:"#A8AC71"}),g.jsx("path",{d:"M213.1 235.6C213.1 235.6 211.7 236.1 211.4 235.5C211.267 234.9 211.233 234.5 211.3 234.3C211.3 234.2 210.4 234.1 210.5 233.3C210.6 232.5 211.5 232.6 211.8 232.6C212 232.6 212.1 231.4 212.8 231.4C213.5 231.4 213.8 232.3 213.8 232.3L213.1 235.6Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M214.6 236C214.6 236 213.5 236.6 213.1 236C212.7 235.4 213.1 234.7 213 234.6C212.8 234.5 212.1 234.2 212.3 233.6C212.3 232.8 213.1 233.1 213.3 232.9C213.6 232.8 213.8 231.8 214.6 231.9C215.3 232.1 215.4 232.7 215.4 232.7L214.6 236Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M216.6 236.3C216.6 236.3 216.3 237 215.4 236.8C214.5 236.6 214.9 235.5 214.7 235.3C214.5 235.1 214 234.9 214.1 234.1C214.2 233.3 215 233.5 215.3 233.4C215.6 233.3 215.8 232.1 216.3 232.3C216.8 232.5 217.5 233.1 217.3 233.4C217.3 233.4 216.2 233.8 216 234.6C215.8 235.4 216.6 236.3 216.6 236.3Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M235 249L233.2 246.9L231.4 244.7L229.6 243.8L228.4 241.9V239.7L228.8 238.4L229.5 237.4C229.5 237.4 225.8 238.8 227.7 245.9C228.5 248.9 230.5 249.3 230.5 249.3L233.9 249.1L234.9 249H235Z",fill:"#AF7029"}),g.jsx("path",{d:"M233.3 225.4C233.633 225.4 233.833 225.467 233.9 225.6L234 226.2V226.4L234.1 226.5C232.8 229.2 230.2 230.5 227.9 232.1C226.705 232.925 225.685 233.979 224.9 235.2C223.912 236.86 223.425 238.77 223.5 240.7C223.6 244.7 225.1 247 226.8 248.1C228.051 248.917 229.506 249.367 231 249.4H231.3L232.5 249.3L234.9 249.1L236.3 249.2C236.7 249.2 236.933 249.3 237 249.5L237.2 249.9C237.2 250.233 237.033 250.567 236.7 250.9L236 251.4V251.7L236.9 251.1C237.233 250.767 237.4 250.367 237.4 249.9L237.2 249.4C237 249.2 236.7 249.067 236.3 249L234.9 248.9L231.3 249.1H231.1C230.4 249.1 228.6 249.1 227 247.9C225.4 246.9 223.9 244.7 223.8 240.7V240.4C223.8 238.267 224.2 236.6 225 235.4C226.2 233.4 228 232.4 229.8 231.1C231.6 229.8 233.3 228.7 234.2 226.6C235.1 224.5 234.2 226.4 234.2 226.2L234.1 225.5C233.966 225.3 233.7 225.167 233.3 225.1V225.4Z",fill:"#816C2A"}),g.jsx("path",{d:"M238.3 250.1C238.3 250.1 237.3 251.7 237.1 251.8C236.9 251.9 237.9 252 238.1 252.4L237.9 252.8C237.9 252.8 236.9 252.1 236.4 252.1L236.3 251.5C236.3 251.5 236.8 251.3 237.2 250.9C237.5 250.6 237.9 249.8 237.9 249.6L238.3 250.1Z",fill:"white"}),g.jsx("path",{d:"M241.7 251.2L239.5 251.8L238.4 251.1C238.4 251.1 238.4 250.2 238 249.8C237.534 249.467 237.1 249.233 236.7 249.1C236.3 248.9 234.7 248.9 234.7 248.9L230.7 244.6L232.2 244.8L234.6 244.5L236.7 244.3L237.9 244.5L239.1 244.8L239.7 245.4L240.4 246L241.1 247L241.5 248.3L241.7 249.6V251.2Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M241.8 251C241.8 251 241 251.3 240 251.3C239 251.3 238.4 251.1 238.4 251.1L238.2 251.8L237.8 252.8V255.4L239.9 255.8L241 255.4L241.6 252.6L241.7 251.1L241.8 251Z",fill:"#AF7029"}),g.jsx("path",{d:"M241.2 250V251H241.7V250.2L241.2 250ZM239.2 226L239 224.3L238.3 223.1L237.4 221.9L236.5 220.9L236 220.4L235.8 220.1L233.5 220.2L232.3 221.6C232.3 221.6 235.3 223.8 236.6 226.2C237.666 226.6 238.4 227.067 238.8 227.6L238.9 227.4L239.2 226Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M237 228C237 229.667 236.8 230.667 236.4 231L237.8 229.4L238.8 227.6C238.179 226.978 237.428 226.5 236.6 226.2C236.867 226.8 237 227.4 237 228Z",fill:"#AF7029"}),g.jsx("path",{d:"M240.2 254.3L239.1 253L238.1 252.3L237.9 252.5H238L239 253.2L240 254.5L240.2 254.3Z",fill:"#816C2A"}),g.jsx("path",{d:"M241.6 252.4C241.6 252.4 241.4 253.2 240.6 253.9C239.8 254.6 238.8 255 238.8 255L241 255.9L242.5 254.5L241.5 252.4H241.6Z",fill:"#6F5B24"}),g.jsx("path",{d:"M241.9 254.3L241.7 254.5L241.3 254.9L241 255.3L241.6 252.9L242 253.6V254L241.9 254.3Z",fill:"#404118"}),g.jsx("path",{d:"M228.6 223.4C228.6 223.4 225.6 223.7 223.4 223.4C221.4 223 221.8 217.5 221.7 217.4C221.7 217.2 220.4 215.9 220.7 214.7C220.9 213.5 224.7 210.3 225.3 210.1C225.7 210 226.5 210.3 226.5 210.3C226.5 210.3 227.5 209.3 227.8 209.3C228.1 209.3 228.5 209.9 228.4 210.1C228.2 210.4 226.9 211.1 226.8 211.8C226.8 212.4 226.667 213 226.4 213.6C226 214.2 225.3 215 225.2 215.5C225 216.1 225 216.467 225.2 216.6C225.6 216.8 226.9 216.6 228 216.1L229.7 215.1C229.9 215.1 229.1 216.4 227.9 216.9C226.7 217.4 225.9 218 225.2 217.9C225.2 217.9 224.6 219.5 226.6 219.6C228.7 219.7 229.9 219.2 229.9 219.2L228.6 223.4Z",stroke:"#78732E",strokeWidth:"0.2"}),g.jsx("path",{d:"M255 200.5C255 200.5 249.3 199.5 249.4 204.1C249.4 205.433 249.9 206.2 250.9 206.4C252.1 206.7 254.5 206.9 256.5 208.7C258.5 210.5 258.7 211.8 258.7 212.9C258.7 213.9 258.2 214.9 258.2 214.9L259.5 221.1L260.7 225.7L264.5 223.5L266.8 216.7L263.9 204.5L255 200.5Z",fill:"#AB6D29",stroke:"#4D2A15",strokeWidth:"0.3"}),g.jsx("path",{d:"M260.5 224C260.5 224 262.5 223.2 263 221.6C263 221.2 261 219.3 261 219.3L262.5 220.3C263.1 220.833 263.434 221.033 263.5 220.9C263.8 220.9 264.7 218.8 264.3 218.3C263.9 217.8 263.4 216.8 262.6 216.3C261.8 215.8 260.7 215.8 260.7 215.8C260.7 215.8 262.2 215.3 263 215.8C263.7 216.1 263.8 216.6 263.9 216.4C263.905 215.379 263.736 214.364 263.4 213.4C263.134 212.733 262.6 212.367 261.8 212.3C260.8 212.1 259.9 212.2 259.9 212.2C259.9 212.2 261.2 211.4 262.2 211.7C263.2 211.9 263.2 212.4 263.2 212.3L262.5 210C262.056 209.376 261.474 208.863 260.8 208.5L259.4 208.3H258.9C258.9 208.3 259.6 207.8 260.6 207.9C261.6 208 261.6 208.3 261.7 208.3C261.9 208.3 261.667 208.1 261 207.7L257.6 206.1H255.1C255.1 206.1 255.1 205.4 255.8 205.3C256.467 205.3 256.767 205.267 256.7 205.2C256.7 205 254.5 204.5 254.5 204.5H252.8L250.4 204.8L250.9 204.1C251.3 203.833 251.667 203.667 252 203.6C252.9 203.4 251.6 202.7 251.6 202.7L252.2 201.7L255.4 201.9L261.9 205.8L265 208.4L267 213.4L266.4 222L262 225.6L260 225.8L260.5 224Z",fill:"#4D2A15"}),g.jsx("path",{d:"M254.8 202.7C254.8 202.7 254.6 202.1 254.6 201.3V200.6C254.6 200.6 252.6 200.3 251.1 201.5C249.5 202.7 250.4 204.8 250.4 204.8C250.4 204.8 251.1 204.2 251.9 203.8C252.8 203.5 254.3 203.6 254.3 203.6C254.5 203.4 254 202.8 253.4 202.7L251.7 202.6C251.7 202.6 252.4 202.1 253.5 202.2C254.5 202.4 254.933 202.567 254.8 202.7Z",fill:"#D2A567"}),g.jsx("path",{d:"M261.3 224.7L259.9 225.2L260.8 231.2L266.5 240.9L269.5 240.4L270.5 238.6L271.2 238.9C271.6 239.3 272.7 241.2 273.6 241.6C274.6 241.9 275 241.8 275.9 242.5C276.8 243.2 279.8 247.7 279.9 247.8C280.1 248 279.7 245.9 279.7 245.9L278.8 243.2L277.7 241.3L277.5 240.8H279L280 241.4L281.5 242.7L282.3 243.6L282.7 244.6L282.9 245.4L283.3 246.7L284.1 248.4L285.1 250.1L285.4 249.5L284.9 247.5L283.4 242.6L282.4 241L284 242C284.4 242 285.5 243.8 285.5 243.8L286.2 245.5L286.7 247.1L287.1 248.5L287.6 250L288.5 249.5L288.3 248.4L287.5 245L287.2 241.4C287.2 241.4 287.6 241.4 288.2 242C288.8 242.6 289.2 243.9 289.2 243.9L289.5 247.1L290 250.1L291 253.1L292 255.1L292.7 256.1V254.6L291.5 241.8L291.6 241.3C291.6 241.3 291.8 241.2 292.2 241.8L293.1 243.3L293.4 245.3L293.6 246.7L293.9 249.3L294.2 252.1L295.5 255.1L296.2 256.8L296.6 254.8L296 241.2L296.3 240.8L297.3 241.8L297.9 242.6L298.4 245.6L298.7 254.3L299 256.5L301.6 233.9L303.1 233.6L303.3 233.1L302.2 232.3L299.6 228.3L297.9 224.4L294.9 218.8L289.6 212.4L285.5 209L284 208L284.2 207.1L285.1 205.7H284.3L282.5 206L280.7 205.4L277.2 203L273.5 201.2L271.3 200.4L266 199.1L260.7 198.4H258.4L256.2 198.7C256.2 198.7 255.2 199.2 254.8 199.9C254.466 200.367 254.366 201.067 254.5 202C254.5 202.867 255.233 203.567 256.7 204.1C258.2 204.7 261.7 207.1 261.7 207.1L263.3 208.7L263.9 209.5L264 210.1L265.2 219.1L262.9 223.9L261.3 224.7Z",fill:"#8F4620"}),g.jsx("path",{d:"M267 238.6C267 238.6 268 240.2 269.3 238.9C270.7 237.7 268.7 234.1 268.8 233.9C268.9 233.7 269.4 233.6 269.4 233.6L270.4 235.5C270.4 235.5 271 236.5 270.7 238C270.5 239.6 269 241 269 241L267.3 240.5L267 238.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M300.2 259.4L299 255.8L298.6 253L298.3 245.5C298.2 244.5 298.3 243.2 298.1 243L296.8 241.2L296.3 240.7L296.6 240.4C296.6 240.4 297.1 240.9 297.2 240.7C297.334 240.367 297.167 239.167 296.7 237.1C296 234 293.7 230.4 293.7 230.4L293.9 230.7L294.6 231.4L296.1 232.6L299.4 233.8L301.1 234.1L302.3 236.4C302.3 236.4 303.1 240.3 303 242.3C303 244.3 302.9 245.9 302.1 247.9C301.3 249.9 301.1 256.1 301.1 257.1L300.6 259.1L300.2 259.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M300.2 249C300.2 249 300.9 248.1 301.2 247C301.5 246 301.6 237.1 300.6 236C299.658 235.146 298.527 234.529 297.3 234.2L298.1 237.1L298.8 238.1L299.3 239.6C299.3 240.3 300 242.1 300.1 244.4L300.2 249Z",fill:"#8F4620"}),g.jsx("path",{d:"M295.4 254.4C295.4 254.4 295.9 250.3 295.7 247.3C295.5 244.3 295.2 243.9 294.9 243.3C294.062 241.707 293.392 240.031 292.9 238.3C292.234 235.633 291.7 233.967 291.3 233.3C290.8 232.8 289.9 231.7 289.7 232C289.5 232.3 289.5 232.9 289.5 232.9L288.2 232.6L287.9 231.8L288.3 230.5V229.9L288.1 229L289.7 230.3L293 232.5L294.7 239.5L296.2 243.7L296.4 250.9L296.3 257.3L295.4 254.4ZM297.4 234.7L298.7 235.7C299.2 236.1 300.2 236.7 300 236.7L298.4 236.1L297.4 235.4V234.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M291 252.8C291 252.8 291.6 251.4 291.5 249.5C291.4 247.6 290.5 243.2 290.2 242.7C289.9 242.2 288.6 241.3 287.5 238.7C286.3 236.3 286.4 235.7 285.6 234.9L284 232.9L284.3 230.2L287.1 231.7L288.4 232.3L289.8 239.3L291.1 241.3L291.7 244L292.4 250.5L292.7 255.7L292.5 256.2L291 252.8ZM287.6 249.8C287.6 249.8 287.6 247.8 287.2 246C286.733 244.067 286.233 242.8 285.7 242.2C284.479 240.972 283.374 239.633 282.4 238.2L279.3 234.2V231.5L281 232.7L282.8 233.7L283.6 236.7L284.6 238.8L286 240.8L287 241.6L287.5 244.8L287.8 246.6L288.6 249.2L288.3 250.5L287.6 249.8ZM285.2 249.8L284.4 249.1C284.4 249.1 284.9 248.6 284.7 247.6L283.7 244.6C283.1 243.1 283.1 243 282.8 242.7L279.3 239.5L276.3 236.9C275.433 236.433 274.967 236.233 274.9 236.3L274.5 233.1C274.5 233.1 275.5 234.5 276.2 234.7L277.8 235.3L280.1 239.3L280.9 240.3L282.9 242L283.8 243.7L284.4 245.7L285.2 248.4L285.4 250.1L285.2 249.8ZM280.8 249C280.8 249 279.5 247.5 279.2 246.5C279 245.5 279.4 245.5 279 244.4C278.313 242.943 277.283 241.674 276 240.7C274.9 239.7 273.3 238.4 273.4 237.7C273.467 237.033 273.567 236.767 273.7 236.9L274.4 237.5L277.9 241.3L279 243.3L279.9 245.8L280.4 246.9L280.9 248.4L280.8 249ZM293.6 230.4C293.6 230.4 296.1 233.4 296.7 230.6C297 229.4 295.9 227 295.9 227L292.9 222L288.2 216.2L285.4 214.9L286.4 216.5C286.4 216.5 288.4 218.5 291.1 223.2C293.8 227.8 293.2 230.2 293.2 230.2L293.6 230.4ZM279.4 212C279.4 212 284.3 216.2 287.4 220.7C290.5 225.2 291.8 228.2 291.1 228.7C290.4 229.4 288.4 228.4 287.6 227.2C286.8 225.9 286.1 223.7 283.2 220.3C280.3 216.9 278.8 216.4 278.8 216.4L276.6 213L279.4 212ZM276.8 222C276.8 222 279.8 224.4 281.5 226.3L284.3 229.7L285.4 230.8C285.4 230.8 284.8 229.6 285.2 229.2C285.6 228.8 286 229 286 229L276.8 219.3V222ZM276.2 222.2C276.2 222.2 277.2 224 278.7 225.5L281.9 228.6L282.6 231C282.6 231 278.4 227.8 278.4 228.6C278.581 229.455 278.92 230.269 279.4 231L278.1 230.3L276.3 227.8L275.3 225.5L274.1 222.5L276.2 222.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M263.6 232.2C263.6 232.2 265.8 234.2 267 232.2C268.2 230.3 267.2 228.2 267.2 228.2C267.2 228.2 270.3 232.7 271.2 228.4C271.3 227.6 269.3 224.7 269.3 224.7L270 224L271.6 226.6C271.6 226.6 273.1 226 273.1 224.2C273.1 222.4 271.5 220 271.5 220L273 221.6C273 221.6 275.8 221.6 275.9 219.9C275.9 218.2 273.5 216.4 273.5 216.4C273.5 216.4 275.5 216.5 275.5 215.4C275.4 214.2 272.8 213.4 272.7 212.7C272.6 212 273.5 210.8 274.7 211.5C275.9 212.2 277.5 212.7 278.2 211.4C278.9 210.1 278.2 209.8 278.2 209.8L276.5 209.4L273.7 208L271.6 207.2L269.4 206.9L270.2 208.6L270.8 213.1V215.2L271.2 219.8L270.2 223.6L269.5 224.3L269.1 224.8L268.1 226.8L266.9 228.3L265.2 230.5L263.6 232.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M279 240.7C279 240.7 278.5 239.4 277.3 238.4C276.1 237.4 274.3 237.4 274.3 237.4L277.5 240.8L279 240.7ZM283.5 241.5C283.5 241.5 282.5 239.5 281.3 238.2C280.1 236.9 279.3 235.2 278.9 235.2L278.4 235.3L278.7 237.9L280.9 240.1C280.9 240.1 282.9 241.6 283.5 241.5ZM287.2 241.3C287.2 241.3 286.7 238.9 285.5 236.6C284.3 234.3 282.9 233.3 282.9 233.3L283.2 235.8L284.2 238.2L285.9 240.6L287.2 241.3ZM290.2 240C290.2 240 291.1 235 290.3 233.7C289.793 232.888 289.013 232.285 288.1 232L287.6 232.7L288.1 236.3L289.2 239L290.2 240ZM293.2 231.7C293.2 231.7 293.9 232.1 294.8 233.7C295.7 235.3 296.9 240.4 296.9 240.7C296.9 241 296.4 240.8 296.3 240.7L293.3 236L292.7 231.7H293.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M272.3 237.5C272.3 237.5 273.9 237.1 273.9 236.5C273.9 235.9 271.9 234.9 272.1 234C272.2 233.6 273.7 234.1 273.8 233.8C274 233.5 272.3 230.8 272.8 230.2C273.3 229.6 274.8 233.1 274.8 233.1C274.8 233.1 275.6 234.7 275.3 235.6C274.3 238.6 272.3 237.5 272.3 237.5ZM276 233.9C276 233.7 278.5 234.2 278.5 234C278.6 233.5 276.3 231.7 276.3 231.7C276.3 231.7 275.8 230.7 276 230.6C276.1 230.4 277.6 230.7 277.7 230.6C277.7 230.3 276 228 276 227.6C276 227.2 276.5 227.6 276.5 227.6C276.5 227.6 277.8 229 278.5 230.1C279.3 231.3 280 232.2 279.7 234.1C279.5 236.1 275.7 234.5 276 233.9ZM287 230.3C287 230.3 286.5 228.6 286.8 228.4L287.6 228C287.6 228 286.3 227.2 285.7 227.2C285.167 227.067 284.9 227.067 284.9 227.2C284.7 227.5 285.9 229.2 285.9 229.2L287 230.3Z",fill:"#D2A567"}),g.jsx("path",{d:"M279.6 231.5C279.6 231.5 283.3 232.5 283.4 232.2C283.6 231.9 280.4 229 280.4 229V228.3C280.4 228.1 281.7 228.1 282.1 228.4C282.5 228.7 282.1 229.4 282.1 229.6C282.3 229.8 283.5 231.6 283.7 231.3C283.9 231 283.5 228.8 283.6 228.7C283.6 228.5 285 229.9 285.3 230.2C285.7 230.4 287.8 232 288 231.2C288.2 230.5 288.3 230.4 288.3 229.9C288.2 229.5 288.9 232 288 232.3C287 232.7 285.9 232 285.9 232L285 231.3L284.5 230.8C284.5 230.8 285.1 232.8 284.5 233C283.9 233.2 283 233.1 283 233.1L281.5 232.9L279.5 231.5H279.6ZM288.1 229C288.1 229 292.1 231.4 292.4 231C292.8 230.5 291.4 225 291.6 224.4C291.8 223.8 294.8 230.7 293.4 231.6C292.2 232.3 291.7 231.8 291.7 231.8L289.7 230.8L288.1 229ZM299.1 239L300 239.4L300.5 239.6L299.4 239.8L299.1 239ZM295.3 225.9L295.9 226.2L296.4 226.4L295.9 226.6L295.6 226.5L295.3 225.9ZM294.1 223.9C294.1 223.9 294.5 224.1 295.1 223.8C295.7 223.5 295.6 223.1 295.6 223L294.4 222.6L294.2 222.1H293L294.1 223.9ZM297.6 235.5L299.2 236.2C299.5 236.2 300.1 236.6 300 236.7C299.9 236.8 299 236.9 298.6 236.7L298 236.5L297.6 235.5ZM291.1 217.4H292.1C292.3 217.6 292.1 218.4 291.8 218.7L291 219.1L289.7 217.3L291.1 217.4ZM285.4 212.4L286.6 212.3C287.067 212.367 287.467 212.533 287.8 212.8C288.2 213 288.5 215.4 288.3 215.8C288.1 216.3 285.5 214.3 285.4 214.1C285.4 213.9 284.2 212.1 284.2 212.1L285.4 212.4ZM282.9 211.2C282.9 211.2 284.9 211.4 284.7 210.2C284.612 209.465 284.256 208.788 283.7 208.3L281.3 210L282.9 211.2ZM277.7 209C277.7 209 278.2 209.2 278.8 209C279.4 208.8 280.9 206.8 282 206.6C283 206.333 283.533 206.333 283.6 206.6C283.8 206.8 283.6 208 283.4 208.3C283.2 208.6 279.9 210 279.9 210L278.7 209.8L277.7 209.5V209ZM277.1 205.4C276.6 204.2 275.7 203.8 275.4 203.8C275.1 203.9 276.5 205.1 276.7 206.6L276.9 209.4H277.6V208.9L277.8 208.4V208L277.7 207.2L277.5 206.6L277.4 206.1L277.1 205.4ZM272.5 203.7C271.276 202.383 269.773 201.358 268.1 200.7C267.9 200.7 271.3 202.7 272.1 204.1C272.8 205.3 272.8 207.1 273.1 207.3C273.4 207.5 273.8 207.3 273.8 207.2C273.933 207.067 274 206.9 274 206.7L273.8 205.8L273.3 205L273 204.4L272.5 203.7ZM268.1 201.9C265.782 200.206 262.969 199.327 260.1 199.4C257.2 199.4 255.8 199.6 256.2 201.2C256.6 202.667 257.933 203.367 260.2 203.3C262.6 203.3 263.2 203.1 264.4 203.5C265.733 203.967 266.7 204.5 267.3 205.1C267.7 205.5 266.3 203.9 265.2 203.1L263.2 201.6C263.2 201.6 263 201.1 264.6 201.4C266.2 201.7 268.4 202.6 268.9 204C269.5 205.3 269.4 206 269.4 206.4C269.4 206.6 270 206.2 270 206.2L270.2 205.5C270.2 205.5 270.3 205 270 204.5C269.7 203.8 269.6 203.6 268.9 202.8L268.1 201.9ZM260.4 224.7C261.6 224.7 264.2 222.5 264.6 219.3C264.587 215.836 263.908 212.407 262.6 209.2C262.1 208.5 263.3 208.9 264 209.5C264.7 210.1 266 214.7 266 218C266 221.3 265.2 222.3 263.5 224C261.7 225.6 260.3 225.5 260.3 225.5L260.4 224.7ZM264.5 234C264.5 234 265.1 234.7 265.7 234.5C266.9 234 268.8 233.1 268.8 231.5C268.8 230.3 267.4 229.3 267.3 228.9V228.1L268.6 228.4L268.9 230.2C268.9 230.2 269.4 230.7 269.9 230.5C270.4 230.3 271.9 229.2 271.8 228.1C271.7 227 270.1 225.8 270 225.3V224.3L271.2 224.5L271.6 226C271.6 226 271.9 226.6 272.6 226.4C273.3 226.2 274.6 225 274.3 224.4L273 222.3V221.6L273.5 221.9C273.5 221.9 273.9 222.1 274.9 221.8C275.9 221.5 276.7 220.8 276.7 220.2C276.7 219.6 276 219 275.9 218.6V218.1L276.5 218.2L277.3 219.2L277.5 220.2L277.2 221.2L276.1 222.5L274.9 222.9H274.6L275.3 224.1L275.1 225.7L274.1 226.7L272.7 227.4V228.9L271.9 230.5L270.2 231.5H269.7L269.5 232.5L268.5 234L266.5 235.3L265.2 235.5L264.4 234.4L264.5 234Z",fill:"#D2A567"}),g.jsx("path",{d:"M274.7 217.1C274.7 217.1 277.8 218.1 277.7 216.1C277.7 214.9 274.7 212.4 274.5 212C274.366 211.4 274.333 211.067 274.4 211L275.9 212.4C275.9 212.4 277.9 212.9 278.5 211.7C279 210.6 278.5 209.9 278.5 209.8H278.9L279.9 209.9L279.7 211.7L278.7 216.1C278.7 216.1 279 217.8 277.7 218C276.3 218 274.7 217.1 274.7 217.1ZM277.7 240.7C277.7 240.7 277.7 239.8 277 239.2C276.3 238.6 275 238 274.8 237.8L277 240.6L277.7 240.7ZM282.2 240.8L280.2 238.3C280 237.6 279.2 236.2 278.5 236.1C277.9 236.1 279.1 238.5 279.1 238.5L281.6 240.8H282.2ZM286.5 240.8L284.8 237.5C284.5 236.8 283.8 234.8 283 234.2C282.2 233.6 283 235.2 283 235.2L284 237.8L285.4 240.1L286.4 240.8H286.5ZM289.6 239C289.6 239 289.5 236.8 289.2 235.3C288.997 234.264 288.472 233.319 287.7 232.6L287.8 235.3L289.6 239ZM296.1 240.6L294.6 236.8L292.9 233.5L293.2 235.8L294.6 239.6L296.1 240.6ZM301.7 233.8C301.7 233.8 300.7 232.8 298.6 231.9C297.218 231.391 295.769 231.087 294.3 231L294.5 231.3L295.5 232.1L297.7 233.3L300.7 234L301.7 233.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M278.6 235C278.6 235 278.6 237 279.6 238.1L283.3 241.8C283.7 242.2 284.1 244.5 284.8 246.4L285.9 250.4C286.2 251 286.8 251.9 286.4 251.8C285.866 251.733 285.466 251.3 285.2 250.5C284.9 249.8 285 249.8 285.1 248.8C285.1 247.8 283.6 242.9 282.9 242.4C282.2 241.9 279 239.2 277.8 237.4C276.6 235.5 276.8 235.1 276.8 235.1L278.6 235Z",fill:"#202020"}),g.jsx("path",{d:"M283.7 247.5C283.1 246.033 282.767 244.867 282.7 244C281.779 242.639 280.588 241.482 279.2 240.6C278.7 240.4 277.7 240.7 277.2 240.4L274.3 237.2C274.3 237.2 274 237.6 274.1 237.7C274.2 237.8 276.8 240.7 277.8 241.5C278.8 242.5 279.3 244.5 280 246.1C280.6 247.7 280.4 247.3 280.4 248.1C280.6 248.9 280.934 249.3 281.4 249.3C282.067 249.3 282.234 249.2 281.9 249C281.147 248.194 280.568 247.241 280.2 246.2C279.6 244.8 279 242.2 278.2 241.3L277.9 241.1L278.9 241C279.6 241 282.3 243.4 282.5 244.1C282.7 244.8 282.5 245.1 283.5 247.5C284.7 249.9 285.2 250.5 285.2 250.5H285.4L283.7 247.5ZM279.6 231.5L282 232.9L283 233.1C283 233.1 283.3 236.6 284.7 238.6C286.1 240.6 287.3 241.3 287.3 241.3C287.3 241.3 287.3 245.1 288.3 247.7C289.114 249.695 289.456 251.851 289.3 254C289.1 254.5 288.3 252.5 287.7 250.7L286.2 245.7C285.791 244.374 285.11 243.148 284.2 242.1C283.5 241.6 284 241.7 284.4 242.1C285.323 243.1 286.007 244.297 286.4 245.6C287 247.6 287.3 249.6 287.6 249.6C288 249.6 288.2 249.367 288.2 248.9L287.5 245.6C287.1 243.6 286.767 242.367 286.5 241.9C286.2 241.3 285.7 241.3 284.5 239.1C283.633 237.805 282.959 236.39 282.5 234.9V233.9C282.2 233.7 282.1 233.9 281.1 233.4C280.1 232.9 279.6 231.5 279.6 231.5Z",fill:"#202020"}),g.jsx("path",{d:"M284.5 230.8C284.5 230.8 285.7 231.8 286.4 232C287 232.3 288 232.3 288 232.3C288 232.3 287.7 235.7 289 237.8C290.3 240 291.7 241.2 291.7 241.2C291.7 241.2 291.9 242 292.3 246.7L292.9 253.3C292.9 255.1 293 261.7 292.8 261.5C291.8 260.7 292.6 257.2 292.1 255.7C291.6 254.2 290.8 254 289.8 249.7C288.8 245.7 289.5 244.7 288.8 243.1C288.1 241.5 287.2 241.4 287.2 241.4C287.2 241.4 288.5 241.6 289 243C289.5 244.3 289.6 247.8 290 249.5C291 253.5 292.4 255.5 292.4 255.5C292.4 255.5 292.1 250.5 291.7 247.7C291.3 244.9 291.4 242.6 290.8 241.5C290.3 240.5 289.2 239.5 288.5 238.2C287.8 236.7 287.6 233.9 287.3 233.2C287 232.5 286.8 232.7 286.3 232.5C284.8 231.9 284.5 230.8 284.5 230.8Z",fill:"#202020"}),g.jsx("path",{d:"M288 229C288 229 289.1 230.2 290.6 231C292 231.9 292.8 231.6 293 231.8C293.2 232 292.7 234.9 294.2 237.6C295.7 240.4 296.2 240.4 296.3 240.8L296.8 251.8C297 254.6 297.2 263.8 296.1 263.8C295 263.8 296 257 295.4 255.4L294.4 253C293.9 251.7 293.8 246.8 293 243.8C292.3 241.6 291.7 241.2 291.7 241.2C291.7 241.2 292.7 241.8 293.3 243.7C293.8 245.5 293.9 251.7 294.5 252.6C295.233 253.733 295.767 254.733 296.1 255.6C296.3 256.6 296.1 244.1 295.7 243.3C295.5 242.5 293 238 292.7 235.5C292.6 233 292.5 232.7 292.3 232.5C292.1 232.3 291.3 232.5 290.1 231.4C288.9 230.3 288.1 229 288.1 229H288Z",fill:"#202020"}),g.jsx("path",{d:"M293.8 230.4C293.8 230.2 294.6 231.8 296.8 232.7C299 233.6 301.3 233.4 301.6 233.7C302.788 236.231 303.37 239.005 303.3 241.8C303.3 246.3 302.5 245.9 301.8 249.8C301.1 253.7 301.1 261.6 300.7 262.8C300.5 263.3 300.2 263.5 300 264.3C299.7 265 300.2 266.5 299.5 266.5C298.8 266.5 298.7 265.4 298.7 264.8C298.7 264.2 299.4 262 299.4 259.8C299.4 257.6 299 257.4 298.6 254.8C298.3 252.3 298.3 244.1 298 243.3C297.7 242.5 296.3 240.8 296.3 240.8C296.3 240.8 297.8 241.8 298.2 242.8C298.6 244 298.6 253.1 299 254.9C299.4 256.8 299.3 254.5 299.4 253.4C299.6 252.4 300.1 247.9 300.1 245.5C300 243.1 299 237.9 298.1 237.1L299.1 238.7L299.7 239.2L300.5 239.6L299.7 239.4L299.2 239.1C299.897 241.16 300.236 243.325 300.2 245.5C300.3 249.5 299.7 258.5 300.3 258.7C301 258.7 300.8 253.7 301.5 249.7C302.2 245.7 303.1 245.1 302.8 241.7C302.5 238.5 301.6 234.9 300.9 234.4C300.2 233.9 298.3 234.1 296.5 233C294.7 231.9 293.7 230.7 293.8 230.4ZM265.2 235C265.2 235 265.8 235.3 266.6 235C267.3 234.6 269.3 233 269.3 232.3V231C269.3 231 269.3 231.3 270 231.4C270.5 231.4 272.2 230.2 272.3 229.4V227C272 226.8 272.7 227.3 273.1 227C273.4 226.7 275 225.7 275 224.6C275 223.5 274 222.6 274 222.6H275.3C275.8 222.5 277.3 221.6 277.3 220.6C277.3 219.6 276.7 218.2 275.5 218.1C275.5 218.1 276.4 218.3 277.3 218.1C278.167 217.7 278.567 217.033 278.5 216.1C278.4 214.7 276.7 213.1 276.4 212.9C276.1 212.7 278.3 213.5 278.9 212.6C279.367 211.667 279.5 211 279.3 210.6C279.2 210.1 278.7 209.9 278.7 209.9C278.7 209.9 279.7 210.2 281 209.5C282.3 208.8 283.4 208 284 208C284.6 208 282.1 209.4 282 210.1C282 210.367 282.6 210.933 283.8 211.8L284 211.9C284.5 212.2 286.5 212.3 286.6 212.4C286.7 212.5 284.7 212.4 284.9 212.6C286.596 213.849 288.14 215.292 289.5 216.9C289.5 216.9 289.8 217.2 290.2 217.3L291.2 217.5H290L292.6 221.3C292.6 221.3 293 221.8 293.3 221.9L294.3 222.1C294.3 222.3 293.1 222.1 293.3 222.3L295.9 227.1C295.9 227.1 293.4 222.8 290.4 219.5C287.4 216.1 286.8 215.7 286.6 216C286.4 216.3 288.8 219.3 290.1 221.3C291.4 223.4 292.5 226 292.5 226C292.5 226 289.5 219.8 285.3 216C281.1 212.1 280.7 211.5 280.3 211.7C279.7 211.8 279.3 214.7 279.7 215.2C280 215.8 283 218.2 285.7 221.2C288.3 224.2 291.6 229.6 291.6 229.6C291.6 229.6 289.2 225.8 285.2 221.6C281.2 217.4 279.7 216.3 279.4 216.3C279.1 216.3 279 217.1 278.6 217.8C278.2 218.5 277.1 218.3 277.1 218.6C277.1 218.9 280.5 222 281.1 222.4C281.7 222.8 282.2 222.6 282.7 222.9L283.8 223.6L282.6 223.2C282 223 281.667 223 281.6 223.2C281.5 223.5 284.3 226.7 284.8 226.9L286.1 227.3C286.7 227.5 287.6 228.1 287.6 228.1L286 227.4C285.334 227.4 285 227.467 285 227.6C285 227.8 287.1 230.5 287 230.6C287 230.6 283.8 226.8 281.2 224.5C278.5 222.1 277.3 221.6 277.2 221.7C277.1 221.8 277.2 222.5 276.5 222.7C275.834 222.9 275.434 223.1 275.3 223.3C275.3 223.5 277.6 225.8 279.3 227.6L282.5 231.3L278.9 227.8C277.034 226.067 276.034 225.267 275.9 225.4C275.7 225.5 275.7 226.4 275.9 226.7C276 226.9 279.5 231 279.4 231.1C279.3 231.2 275.3 226.2 275 226.2C274.8 226.333 274.6 226.667 274.4 227.2C274.1 227.4 273 227.4 273 227.8C273 228.2 278.6 233.8 278.4 233.8C278.4 233.8 273.8 229.8 273.6 230.1C273.5 230.3 275.6 234.1 275.5 234.2C275.4 234.3 272.7 230.2 272.5 230.2C272.3 230.2 272.3 230.7 271.6 231.3C270.9 231.9 270.1 231.7 270.1 231.9C270.1 232.2 273.9 236.5 273.8 236.6C273.8 236.6 269.8 232.5 269.8 232.7C269.667 232.7 269.6 232.9 269.6 233.3C269.9 234.3 270.8 236.2 270.6 236.3C270.6 236.3 269.4 233.8 269.1 233.9C268.8 233.9 268.8 234.5 268.1 234.9C267.6 235.2 267.1 235.1 267.1 235.4C267.1 235.7 267.8 236.1 268.1 236.7C268.4 237.3 268.7 238.7 268.7 238.7C268.7 238.7 268.3 237.5 267.7 236.8C267.167 236.067 266.7 235.667 266.3 235.6C265.9 235.733 265.667 235.867 265.6 236L265.2 235Z",fill:"#202020"}),g.jsx("path",{d:"M301.6 233.7C301.6 233.7 302.8 233.6 303 233.3C303.2 233 302.5 233.3 301.4 232C300.2 230.8 297.4 222.3 294.1 218C288.9 211.1 284.1 208 284.1 208C284.1 208 289.8 211.3 294.3 217.9C298.9 224.5 300 229.8 301.3 231.1C302.6 232.5 303.8 232.7 303.7 233.1C303.7 233.5 303.467 233.767 303 233.9L301.3 234L301.5 233.7H301.6ZM263.2 231.8L263.4 231.9C263.7 231.9 265.3 230.4 265.2 229.9C265.067 229.9 264.634 229.633 263.9 229.1C263.3 228.5 263.2 227.6 263.2 227.6C263.2 227.6 263.7 228.6 264.2 228.9C264.734 229.233 265.2 229.333 265.6 229.2C265.8 228.9 268.1 227.2 268 226.6C267.867 226.667 267.4 226.5 266.6 226.1C265.4 225.5 265.8 224.5 265.8 224.5C265.8 224.5 266.2 225.4 266.9 225.7C267.7 225.967 268.234 225.967 268.5 225.7C268.7 225.4 270.2 223.3 270 222.7C269.867 222.767 269.4 222.633 268.6 222.3C267.9 221.8 267.5 220.6 267.5 220.6C267.5 220.6 268 221.6 268.9 221.8C269.834 221.867 270.4 221.533 270.6 220.8C270.8 220.2 271.3 217.8 270.6 217.2C270.6 217.2 269.4 217.6 268.6 217.2C267.8 216.8 267.5 215.7 267.5 215.7C267.5 215.7 268.1 216.7 269.1 216.7C270 216.9 270.4 216.4 270.5 216C270.7 215.7 270.7 214.3 270.5 213.6C270.3 212.9 269.6 212.9 269.5 211.8C269.567 211.933 269.067 212.067 268 212.2C266.4 212.4 266.2 210.9 266.2 210.9C266.2 210.9 267.2 211.8 268.1 211.7C269 211.6 269.3 210.9 269.4 210.3C269.267 209.7 269 209.1 268.6 208.5C268.4 207.9 268.3 207.2 268.2 207.3C268 207.3 267.8 207.9 266.6 207.7C265.4 207.5 265.1 206.7 265.1 206.7C265.1 206.7 266 207.3 266.6 207.3C267.334 207.3 267.734 207 267.8 206.4C267.8 206 267.5 205.1 266 203.8L263.2 201.6C263.2 201.6 265.2 202.7 266.5 203.8C267.8 204.8 268.5 205.9 268.5 205.9C268.5 205.9 269.9 206.4 270 205.9C270.267 205.5 270.167 204.833 269.7 203.9C269.3 203.2 268.1 201.9 268.1 201.9C268.1 201.9 269.3 202.9 269.9 204C270.5 205.1 270.3 205.9 270.3 206.1C270.3 206.3 273 207.4 273.6 207.1C274.067 206.633 274 205.967 273.4 205.1L272.4 203.7C272.4 203.7 273.1 204.4 273.6 205.2C274.134 206 274.334 206.567 274.2 206.9L273.7 207.6L275.5 208.6C276.4 209.1 277.4 209.6 277.5 209.3C277.7 209.033 277.767 208.433 277.7 207.5C277.6 206.7 277.1 205.4 277.1 205.4C277.1 205.4 277.7 206.6 277.8 207.5V209.5C278.1 209.7 278.8 209.8 278.8 209.8C278.8 209.8 278.2 210.2 277.1 209.8C275.9 209.5 270.9 207 270.7 207.2C270.5 207.5 273 209 274.2 210.2C275.4 211.2 275.9 212.4 275.9 212.4C275.9 212.4 275 211.6 274.1 211.1C273.2 210.6 270.6 209.3 270.4 209.5C270.3 209.7 271.4 209.9 271.5 210.1C271.6 210.3 270.7 211.1 270.7 211.5C270.7 211.9 274.5 214.5 274.4 214.7C274.2 215 273.4 215.7 273.2 215.7C273 215.7 271.2 214.2 271.2 214.4C271.2 214.7 272.2 215.6 272.2 215.8C272.2 216 271.6 216.4 271.7 216.8C271.8 217.2 273.8 218.9 273.7 219.5C273.7 220 272.7 220.5 272.9 220.9L274.1 222.5L272.6 221.4C272.3 221 271.6 220.2 271.5 220.3L270.7 222.3C270.7 222.7 271.7 223.2 271.8 224.1C271.9 225 271.7 226.1 271.6 226.1C271.6 226.1 270.3 224.4 270.1 224.4C269.767 224.333 269.5 224.5 269.3 224.9C269.1 225.3 268.3 226.6 268.5 226.9C268.5 227 269.8 227.3 269.8 228.3C269.8 229.3 269 230.2 268.9 230.2L267.3 228.2C267.1 228.2 265.5 230.1 265.5 230.2C265.5 230.5 266.5 231.3 266.4 231.6C266.2 232 265.4 231.6 264.9 231.8L263.6 232.3C263.4 232.3 263.2 231.8 263.2 231.8Z",fill:"#202020"}),g.jsx("path",{d:"M284 208C284 208 284.1 207.5 284.4 207.2C284.6 207 285.6 205.9 285.2 205.6C284.9 205.4 283.6 205.8 282.8 205.8C282 205.7 281.5 205.8 279.1 203.9C279.1 203.9 271.7 198.8 260.2 198.1C256.6 197.9 255 199.1 254.8 199.9C254.8 200 255.8 198.4 259.4 198.4C266.18 198.641 272.787 200.603 278.6 204.1C278.9 204.4 280.9 206.3 282.7 206.1C284.6 205.8 285 205.6 284.9 205.9L284.2 207.1L284 208ZM264 209.5C263.421 208.514 262.676 207.634 261.8 206.9C259.812 205.512 257.663 204.371 255.4 203.5C255.2 203.5 260.2 205.8 261.6 207.2L264 209.5Z",fill:"#202020"}),g.jsx("path",{d:"M264 217.8C264 217.8 263.6 217.3 262.6 216.6L260.6 215.7L263 216.3C263.6 216.9 264 217.8 264 217.8ZM263.3 213.5C263.3 213.5 263 213 261.6 212.5C260.334 212.167 259.767 212.067 259.9 212.2C260.1 212.4 261.2 211.6 262.2 212.2C262.487 212.31 262.744 212.485 262.952 212.71C263.16 212.935 263.313 213.206 263.4 213.5H263.3ZM262.5 209.9C262.5 209.9 262.2 209.3 261 208.9C259.667 208.433 258.967 208.233 258.9 208.3C258.8 208.4 260.2 208 261.4 208.5C262.7 209 262.5 209.9 262.5 209.9ZM261 207.7C261 207.7 260.7 207.2 258.3 206.7L255.1 206.1C255.2 206.2 258.4 205.8 259.3 206.1C260.2 206.5 261 207.7 261 207.7ZM256.7 205.2C256.7 205.2 255.3 204.8 253.9 204.7L250.4 204.8C250.4 204.8 254.4 204.2 255.4 204.4C256.4 204.8 256.834 205.067 256.7 205.2Z",fill:"#D2A567"}),g.jsx("path",{d:"M243.6 254.7C243.6 254.7 244.3 256 245.6 256C247.1 256 248.2 258 248.2 258L246.7 259.6L243 259.8L241.8 257.8L243.6 254.8V254.7ZM243.6 253.5C243.8 253.2 242.6 250.8 241.7 250.5C240.9 250 242 251.2 241.8 251.7C241.6 252.233 241.533 252.633 241.6 252.9C241.6 252.9 242.3 253.9 241.9 254.4C241.5 254.9 243.7 253.4 243.7 253.4L243.6 253.5Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M243 257.1C243 257.1 243.7 257.4 244.2 257.3C244.8 256.967 245.134 256.733 245.2 256.6M242.3 256.2C242.3 256.2 244.4 254.7 244.3 253.9C244.034 253.233 243.7 253 243.3 253.2L241.7 254.5L242.3 256.2Z",fill:"#F8C83C"}),g.jsx("path",{d:"M243 257.1C243 257.1 243.7 257.4 244.2 257.3C244.8 256.967 245.134 256.733 245.2 256.6M242.3 256.2C242.3 256.2 244.4 254.7 244.3 253.9C244.034 253.233 243.7 253 243.3 253.2L241.7 254.5L242.3 256.2Z",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M240.9 257.2C240.9 257.2 241.2 258.2 241.9 258.2C242.6 258.2 243.6 257.7 243.6 257.2C243.6 256.9 242.9 256.2 242.5 255.9C242 255.7 241 256.2 241 256.2L240.9 257.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M242.8 255.8C242.6 256.1 241.3 256.8 240.9 256.8C240.5 256.8 239.6 255.8 239.9 255.6L241.1 255.3C241.4 255.1 241.5 254.6 241.7 254.6C241.967 254.6 242.267 254.767 242.6 255.1C243.1 255.6 242.9 255.5 242.8 255.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M241.4 256.7C241.4 256.7 239.4 259.5 238.5 259.3C237.6 259.1 238.9 255.4 238.9 255.4L239.9 255.8C240.567 256 241.067 256.333 241.4 256.8V256.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M237.8 254.8C237.8 254.8 240.4 255.2 240.5 255.6C240.6 256 239.3 256.6 238.5 256.6C237.8 256.6 237.8 254.7 237.8 254.7V254.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231.2 258.7C231.2 258.7 231.6 260 232.7 260.1C233.8 260.2 234.9 258.9 234.9 258.9L232.2 257.9L231.2 258.7Z",fill:"#202220"}),g.jsx("path",{d:"M231.2 258.7L231.5 259.4C231.767 259.8 232.167 260.033 232.7 260.1H232.8C233.9 260.1 235 258.9 235 258.9L232.2 257.7L231.2 258.7ZM231.2 258.7L232.2 257.9L234.9 258.9L234.7 259C234.4 259.4 233.6 260 232.8 260C232.2 260 231.8 259.767 231.6 259.3L231.4 258.9L231.3 258.8L231.2 258.7Z",fill:"#4B4139"}),g.jsx("path",{d:"M232 258.4C232 258.4 232.4 259.4 234 259.4C235.4 259.4 236.6 258.2 236.6 258.2L234.2 256.3L232 258.4Z",fill:"#202220"}),g.jsx("path",{d:"M232 258.4C232 258.4 232.4 259.4 234 259.4C234.985 259.334 235.912 258.907 236.6 258.2L234.2 256.2L231.9 258.4H232ZM232 258.4L234.2 256.4L236.6 258.2H236.5C235.822 258.849 234.937 259.238 234 259.3C233.713 259.337 233.422 259.312 233.145 259.226C232.869 259.139 232.615 258.994 232.4 258.8L232.1 258.5L232 258.4Z",fill:"#4B4139"}),g.jsx("path",{d:"M232.2 258.6C232.2 258.6 232.8 259.1 233.6 259.2L235.4 259L234.4 259.3H233.2L232.7 259.1L232.3 258.8L232.2 258.6Z",fill:"#4B4139"}),g.jsx("path",{d:"M234 257.3C234 257.3 234.6 258.9 236 258.7C237.3 258.6 237.4 257.7 237.4 257.7L235.8 255.5L234 257.3Z",fill:"#202220"}),g.jsx("path",{d:"M234 257.3L234.4 258.1C234.734 258.5 235.234 258.733 235.9 258.8H236.1C236.767 258.667 237.167 258.467 237.3 258.2L237.5 257.8L235.9 255.4L233.9 257.3H234ZM234 257.3L236 255.6L237.4 257.8C237.4 257.9 237.3 258.5 236.1 258.7H235.9C235.367 258.633 234.9 258.4 234.5 258L234.2 257.5V257.3H234Z",fill:"#4B4139"}),g.jsx("path",{d:"M234.1 257.6C234.1 257.6 235 258.6 235.7 258.6C236.433 258.533 236.833 258.433 236.9 258.3V258.4L236.5 258.6L235.9 258.7H235.2L234.6 258.3L234.1 257.6ZM231.5 259.2C231.5 259.2 232.1 259.9 232.7 259.9C233.3 259.9 234.2 259.4 234.2 259.4H234.3L234.2 259.5L233.6 259.9L232.8 260.1L232.2 260L231.8 259.7L231.5 259.4V259.2Z",fill:"#4B4139"}),g.jsx("path",{d:"M237.6 254.6C238.2 254.6 239.6 256.3 239.6 257.2C239.6 258.1 239.2 259.4 238.6 259.3C237.9 259.3 236.4 258 236.1 257.3C235.633 256.633 235.5 256.167 235.7 255.9C235.9 255.5 237.7 254.6 237.7 254.6H237.6ZM231.2 254.8C231.2 254.8 230.2 254 229.7 254.4C229.2 254.8 229.4 256.2 229.7 256.4C230 256.8 231.2 255.8 231.2 255.8V254.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231 255.8C231 255.8 229.6 255.8 229.6 256.5C229.6 257.2 230.3 257.8 230.4 258C230.5 258.2 231.8 257.4 231.8 257.4L231 255.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231.6 256.9C231.6 256.9 230.1 257.3 230.1 257.9C230.1 258.3 230.8 259.2 231.2 259.2C231.6 259.2 232 258.3 232.2 258.2C232.4 258 231.6 256.9 231.6 256.9ZM232.3 252.8C232.3 252.8 232 252.4 231.4 252.6C230.8 252.8 230.1 253.5 230.3 254.4C230.433 255.467 230.566 256 230.7 256L232.8 255.3L232.3 252.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M232.4 254.4C232.4 254.4 230.6 255 230.5 255.7C230.5 256.567 230.833 257.1 231.5 257.3C231.9 257.4 233.5 255.9 233.5 255.9L232.4 254.4Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M234 257.4C234 257.4 232.2 258.6 232 258.6C231.7 258.6 231 257.6 231.2 257C231.4 256.4 232.6 255.9 233.1 255.7C233.6 255.5 234.1 257.4 234.1 257.4H234ZM235.6 250.8C235.6 250.8 235 250.4 233.9 250.4C232.9 250.5 232 251.9 231.9 252.7C231.8 253.5 231.9 254.7 232.3 254.9C232.7 255.1 235 253.3 235 253.3L235.6 250.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M233.4 256.2C232.6 256.2 232 255.1 232.1 254.4C232.2 253.7 233.7 252.6 234.5 252.8C235.3 252.8 235.1 254.8 235.1 254.8C235.1 254.8 234.1 256.3 233.4 256.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M235.8 256C235.8 256 235.4 257 234.7 257.3C233.9 257.633 233.334 257.467 233 256.8C232.5 256.1 233.2 255.8 233.5 255.5C233.9 255.2 234.9 255 234.9 255L235.8 256Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M234.6 253.8C234.6 253.8 233.7 254.4 234.2 255.2C234.667 255.867 235.167 256.267 235.7 256.4C236.233 256.533 236.733 256.3 237.2 255.7C237.9 254.8 238.4 254.8 238.3 254.1C238.3 253.367 238.033 252.867 237.5 252.6C237.1 252.4 235.8 252.6 234.5 253.7L234.6 253.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M237 250.4C237 250.4 236.1 250 235.4 250.4C234.733 250.867 234.366 251.533 234.3 252.4L234.4 254.1C234.4 254.1 235.4 253.9 235.9 253.4C236.4 252.9 236.7 252.7 236.6 252.4C236.466 252.4 236.366 252.1 236.3 251.5C236.3 250.5 237 250.4 237 250.4Z",fill:"#202220"}),g.jsx("path",{d:"M237 250.4C237 250.4 236 250.2 235.5 250.5C234.966 250.833 234.6 251.333 234.4 252C234.333 252.667 234.333 252.933 234.4 252.8C234.5 252.6 234.2 252.3 234.4 251.7C234.666 251.033 235.066 250.567 235.6 250.3L237 250.4Z",fill:"#4B4139"}),g.jsx("path",{d:"M263 269.6L264.3 269L265.9 268L266.2 269.8L264.8 270.8H263.6L262.9 270.3L263.1 269.6H263Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M261.1 269.7H262L263 269.6C263.2 269.6 263.5 270.6 263.5 270.6L263.1 271.1L261.9 271.8L260.9 271.2L260.8 269.8L261.1 269.7ZM270.8 269.2L270.1 268.3L268.4 266.8V270.8H270.2L271 269.5L270.8 269.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M261.1 269.7C261.1 269.7 260.8 269.3 260.1 269.4C259.167 269.6 258.6 270.033 258.4 270.7C258.4 271.2 258.4 272.7 258.8 273C259.2 273.333 259.8 273.433 260.6 273.3C261.4 273 265.6 270.4 265.6 270.4L264.6 270.7L263.4 270.5C263.4 270.5 262.9 271.2 262.2 271.3C261.6 271.3 261.267 271.1 261.2 270.7L261.1 269.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M264 271.1L263 271.5L262 272L262.3 273.3L264.1 273.7L265.2 272.7V271.5L264 271.1ZM272.3 270.2L271.7 269.6C271.3 269.2 271 269.067 270.8 269.2L269.8 270.3V271.2L270.8 271.7L271.5 271.8L272.5 271.2L272.3 270.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M266.1 269.6L264.9 270.3L263.9 271.1L264.9 272.1L265.8 272.3L267.8 270.9L267.6 269.6H266.1ZM273.7 271.2L273.3 270.6C272.9 270.333 272.567 270.2 272.3 270.2C272.1 270.2 271.3 271.4 271.3 271.4L271.2 271.7L271.9 272.5L273.2 272.8L274.1 272L273.7 271.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M270.4 272.6L271.4 272.8C271.4 272.8 271.3 273 271.6 273.2H271.9C271.9 273.1 271.9 274.2 272.9 274.9C272.9 274.9 274.1 275.3 274.6 274.9C275.2 274.6 275.1 275 275.1 275L276.7 273C276.7 273 276.7 272.6 276.3 272.6C276.3 272.6 276.6 271.4 275.6 271.1C274.6 270.8 273.7 271.2 273.7 271.2C273.7 271.2 272.9 272.7 272.5 272.5L271.9 272.1L271.3 271.4L270.6 271.2C270.2 271 269.9 270.3 269.9 270.3C269.9 270.3 269.3 270.3 269.1 270L268.6 269.4L267.1 270.4C267.1 270.4 267.1 270.9 266.2 271.5C265.334 272.1 264.867 272.333 264.8 272.2C264.7 272 264.6 273.5 263.6 273.2C262.6 273.1 262 272 262 272C262 272 261.3 271.9 260.9 272.5C260.5 273.1 260.2 273.3 260.2 273.9C260.267 274.567 260.5 275.133 260.9 275.6C261.2 275.9 262.2 276.6 263.3 276C264.5 275.4 264.1 274.5 264.1 274.5L264.7 274.1C265.434 273.433 266.1 272.967 266.7 272.7",fill:"#F8C83C"}),g.jsx("path",{d:"M270.4 272.6L271.4 272.8C271.4 272.8 271.3 273 271.6 273.2H271.9C271.9 273.1 271.9 274.2 272.9 274.9C272.9 274.9 274.1 275.3 274.6 274.9C275.2 274.6 275.1 275 275.1 275L276.7 273C276.7 273 276.7 272.6 276.3 272.6C276.3 272.6 276.6 271.4 275.6 271.1C274.6 270.8 273.7 271.2 273.7 271.2C273.7 271.2 272.9 272.7 272.5 272.5L271.9 272.1L271.3 271.4L270.6 271.2C270.2 271 269.9 270.3 269.9 270.3C269.9 270.3 269.3 270.3 269.1 270L268.6 269.4L267.1 270.4C267.1 270.4 267.1 270.9 266.2 271.5C265.334 272.1 264.867 272.333 264.8 272.2C264.7 272 264.6 273.5 263.6 273.2C262.6 273.1 262 272 262 272C262 272 261.3 271.9 260.9 272.5C260.5 273.1 260.2 273.3 260.2 273.9C260.267 274.567 260.5 275.133 260.9 275.6C261.2 275.9 262.2 276.6 263.3 276C264.5 275.4 264.1 274.5 264.1 274.5L264.7 274.1C265.434 273.433 266.1 272.967 266.7 272.7",stroke:"#977C2E",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M268.6 264.7V267.2C268.6 267.2 269 269.5 268.5 270.2C268 270.9 266.2 270.8 265.9 270.2C265.7 269.5 265.8 267.6 265.8 267.6L268.6 264.6V264.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M266.6 272.4C266.6 272.4 266.2 273.1 267.4 273.2L268.1 272.9C268.367 272.567 268.467 272.367 268.4 272.3C268.3 272.2 268.3 273.2 269.4 273.3C270.5 273.4 270.4 272.2 270.4 272.2",fill:"#F8C83C"}),g.jsx("path",{d:"M266.6 272.4C266.6 272.4 266.2 273.1 267.4 273.2L268.1 272.9C268.367 272.567 268.467 272.367 268.4 272.3C268.3 272.2 268.3 273.2 269.4 273.3C270.5 273.4 270.4 272.2 270.4 272.2",stroke:"#977C2E",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M257 274.5C257 274.5 256.3 273.4 257 273C257.8 272.6 258.3 273 258.7 273C259.2 273 259 271.8 258.9 271.6C258.833 271.2 258.667 270.867 258.4 270.6C258.2 270.6 255.6 270.8 255.7 272.5C255.8 274.2 257 274.5 257 274.5ZM261 278.6C261 278.6 260.2 277.4 260.6 276.7C261 276 261.4 276.5 261.6 276.4C261.867 276.4 261.867 275.967 261.6 275.1C261.2 273.8 260.7 274 260.4 273.9C260.1 273.8 258.6 275 258.9 276.5C259.3 278.3 260.9 278.6 260.9 278.6H261ZM275.5 277.2C275.5 277.2 278.3 278.4 278.5 275.5C278.6 274 277.2 273 276.8 273C276.6 273 276.267 273.267 275.8 273.8C275.2 274.4 274.967 274.8 275.1 275C275.3 275.3 276.1 274.8 276.5 275.7C277.1 277.2 275.5 277.2 275.5 277.2Z",fill:"#202220"}),g.jsx("path",{d:"M261 278.6C261 278.6 258.8 278.1 258.8 276C258.8 274.6 260.4 274 260.4 274C260.4 274 259 274.7 258.9 276C258.9 278.1 260.9 278.6 260.9 278.6H261ZM257 274.5C257 274.5 255.7 274.2 255.6 272.4C255.4 270.6 258.4 270.7 258.4 270.7C258.4 270.7 255.6 270.7 255.7 272.5C255.9 274.3 257 274.5 257 274.5ZM275.5 277.2C275.5 277.2 276.1 277.5 276.7 277.4C277.5 277.467 278.067 277.067 278.4 276.2C278.7 275.1 278.5 274.6 277.8 273.7C277.2 273.1 276.867 272.867 276.8 273C276.7 273.2 277.4 273.1 277.8 273.7C278.2 274.3 278.7 275 278.3 276.2C277.9 277.4 276.8 277.4 276.3 277.4L275.5 277.2Z",fill:"#4B4139"}),g.jsx("path",{d:"M242.1 217.9L241.6 217.8L242 216.9L243.4 216.4L244.9 216.3H246.4L247.1 216.7L247.9 218.6L245 220.3L244.5 220.5L244.4 219.7L243.9 218.6L242.1 217.9Z",fill:"#904720"}),g.jsx("path",{d:"M269.5 260.4L269.4 256L257.4 259.6L262.2 264L269.5 260.4Z",fill:"#202020"}),g.jsx("path",{d:"M247.6 252.7L246.6 251.9L245.5 251.3H244.5L244.4 251.5L244.5 251.9L245.6 253.2L247.4 254.2L248.1 254.7L248.5 254.9L247.6 252.7ZM247.3 254.6H248L248.6 255.5L249.1 256.3L249.6 257.3L249.8 258L248.5 257.7L244.6 256.5L245 255.6L245.6 255L246.2 254.8L247 254.6H247.3Z",fill:"#D2A567"}),g.jsx("path",{d:"M249.8 257.8L250.4 257.7L250.8 257.3L250.6 255.9L250.9 251.3L247.8 247.6L247.1 249.7L248.1 253.5L248.7 255.7L249.8 257.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M247.5 249.3C247.5 249.3 247.3 249.7 247.6 250.9C247.9 252.1 248.3 254.9 249.4 256.7C250.4 258.5 248.4 255.2 248.4 255.2C248.4 255.2 246.7 251.5 246.9 248.7C247.2 245.8 247.5 249.3 247.5 249.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M249.8 251.7C249.8 251.7 249.1 252.5 249 253.2V254.9C249 254.9 249 254.1 249.7 253.9C250.4 253.7 250.3 255.8 250.3 256L250.7 252.2L249.8 251.7ZM250.2 259.4L246.7 258.6C244.834 257.8 243.9 257.133 243.9 256.6C243.9 256.2 247.1 256.8 247.6 256.9C248.1 257 249.5 257.7 249.5 257.7H250.3L251.8 257.1L252 258.7L250.2 259.4ZM244.2 258.7C244.2 258.7 245.2 259.3 244.7 259.6C244.2 259.9 243.2 259.9 242.9 259.8L246.3 260.6L246.9 260L244.3 258.7H244.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M243.4 257.8C243.4 257.6 243.6 258.3 244.8 258.4C246 258.6 246.6 258.2 246.6 258.2L247.1 258.6L247.7 258.7L247.2 259.6L244.9 258.9L243.7 258.3L243.4 257.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.3 256.2L251.9 257.1L252.3 255.1V253.1L251 252.3L251.3 256.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M247.8 253L246.8 251.2L245.4 248.7L246.2 247.3L247.2 248.7C247.2 248.7 246.9 249.7 247.2 250.7C247.2 251.7 247.8 252.9 247.8 252.9V253Z",fill:"#4D2A15"}),g.jsx("path",{d:"M240.6 259.2C240.6 259.2 241.1 258.5 242.1 258.4L244.1 258.5L246.1 259.7L246.6 260.4L242.6 259.8L240.6 259.2Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.2 252L251.3 255.3C251.4 256 251.9 256.8 251.8 257.1C251.8 257.367 251.533 257.567 251 257.7C250.5 257.9 249.5 257.7 249.5 257.7C249.5 257.7 250.5 257.6 250.5 257.4L250.2 255.4C250.2 254.6 250.2 253.7 250 253.7C249.666 253.767 249.433 253.9 249.3 254.1C249.3 254.2 249.6 251.1 249.9 250.8C250.3 250.4 251.2 252.1 251.2 252.1V252Z",fill:"#8F4620"}),g.jsx("path",{d:"M243.8 258.4C243.8 258.4 243.4 258.1 243.4 257.8C243.4 257.5 243.8 259.1 246.1 259C248.3 258.9 248.1 258.8 248.1 258.8H249.2C249.2 258.8 249 259.8 248.8 259.9C248.6 259.9 247.1 261 247 261.1L246.5 261.4V261.2L246.2 259.5L244.3 258.8L243.8 258.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M247.8 253C247.8 253 245.2 250.2 244.3 248.5C243.4 246.8 244 244.3 244 244.3L246.4 247.5C246.4 247.5 246.1 248.1 246.2 249.1C246.3 250.1 247.8 252.9 247.8 252.9V253Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.1 262.6C246.1 262.4 245.9 261.8 246.4 261.2C247.945 259.729 249.786 258.603 251.8 257.9V260.3L246.8 262.7L246.1 262.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.4 260.8L247.5 259.8C247.5 259.533 246.933 259.333 245.8 259.2L243.8 258.4C243.8 258.4 245.1 259.5 245.7 259.7C246.1 259.9 246.233 260.1 246.1 260.3L246.4 260.8ZM253 261.4L252 259.7L251.8 257.9L251 258.5L249.5 259C249.5 259 251.1 259 251.1 259.5C251.1 260 248.7 260.3 248.7 260.4C248.7 260.5 250.6 260 250.5 260.4C250.3 260.9 249.5 260.9 248.5 261.4L246.1 262.6C246.1 262.6 246.5 262.9 247.3 262.8L249.6 262.4L252.6 261.2L253 261.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M253 261.4C253 261.4 252.2 261.1 251.6 257.5C251 253.9 251.1 253 251.1 253L252.6 254L253.9 256.3L253 261.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M253.5 255.4C253.5 255.4 252.8 257.4 252.8 258.6C252.8 259.733 252.866 260.667 253 261.4L254.5 263.2L255 262.7L255.3 261.1V258.4L253.5 255.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M255.5 258.2C255.5 258.2 255.9 263.2 254.5 263.3C254 263.4 253.1 261.4 253 261.3C253 261.3 254.1 263.3 254.6 263C255.4 262.7 255.1 257.8 255.1 257.8L255.5 258.2ZM253 261.4L252.5 260.7C252.1 260.1 252.5 261.2 249.7 262.2C246.9 263.2 246.1 262.6 246.1 262.6C246.1 262.6 247 263.3 249.7 262.5C252.4 261.7 252.2 261.5 252.5 261.5L253 261.4Z",fill:"#202020"}),g.jsx("path",{d:"M248 255C248 255 248.5 255.3 249 256.3L249.8 258L249.9 257.9L249.1 256.2L247.4 253.6L248 255Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.4 261.2C246.4 261.2 246.7 260.2 246.4 260.1L244 259.9L240.6 259.2C240.6 259.2 241.9 260 243.1 260.3L245.8 261H246.3L246.4 261.2Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.4 261.2L246.2 260.8C246 260.6 245.7 260.8 243.4 260.3L240.6 259.3C240.6 259.3 241.4 259.9 243.4 260.4L246.4 261.2Z",fill:"#202020"}),g.jsx("path",{d:"M247.4 254.6C247.4 254.6 245.7 254.6 245.2 255.1L243.9 256.7L245 256.8C245 256.8 244.9 255.8 245.4 255.3C245.9 254.8 246.7 254.7 247.4 254.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M244.2 251.4C244.2 251.4 244.9 252.3 245.6 252.6C246.4 252.867 246.967 253.2 247.3 253.6C247.7 253.9 248 255 248 255C248 255 245.6 253.9 245.2 253.4C244.7 252.8 244.2 251.4 244.2 251.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.6 252C246.6 252 246.3 251.6 245.6 251.3C245 251.033 244.566 251 244.3 251.2V251.4L245.1 252.7L245.6 252.6C245.6 252.6 244.3 251.8 244.6 251.6C245.2 251 246.6 251.9 246.6 251.9V252Z",fill:"#8F4620"}),g.jsx("path",{d:"M253 248.9L266.6 241.9L273 250.9L261.3 253.9L255.1 254.5L252.1 252.3L253 248.9Z",fill:"#202020"}),g.jsx("path",{d:"M271.2 252.7L288 267.3L286.2 268.6L282.2 267.5L274 259.4L271 256.3L271.2 252.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M292.8 264.4L283.1 257.1L271 248L271.3 252.3L285.2 265.1L289.8 267.3L292.1 266.6L293.3 265.4L292.8 264.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M271.1 254.1C271.1 254.1 276 259.6 279.7 262.4C283.4 265.2 286.9 268.2 287.7 267.8C288.5 267.4 288.1 266.9 288.1 266.9L271.1 253V254.1Z",fill:"#803F1D"}),g.jsx("path",{d:"M283 268.1L281.4 269.4L279.4 268.6L269 258L269.5 256L271 256.3L283 268.1Z",fill:"#4D2A15"}),g.jsx("path",{d:"M292.8 264.4C292.8 264.4 291.5 267.4 288.8 266.7C286.1 266 271.2 251.9 271.2 251.9V253.4C271.2 253.4 286.2 267.2 289.2 267.7C292.1 268.3 294.5 265.7 294.2 265.5L292.8 264.5V264.4Z",fill:"#202020"}),g.jsx("path",{d:"M269.5 256.3C269.5 256.3 274.3 262.5 276.8 264.7C279.4 267 281.6 268.8 282.6 268.6C283.6 268.4 282 267.2 282 267.2L274.7 260.1L271 256.3C271 256.3 269.5 255.7 269.5 256.3Z",fill:"#803F1D"}),g.jsx("path",{d:"M270.7 256.3C270.7 256.3 282.9 268.7 283.8 269C285.8 269.6 288.8 267.5 288.8 267.5L287.8 266.9L287.6 267.3C287.6 267.3 287.1 268.5 284.4 268C279.537 264.466 275.077 260.409 271.1 255.9L270.7 256.3Z",fill:"#202020"}),g.jsx("path",{d:"M275.3 268.2L270.8 263.1L269.8 261.4L269.6 259.2L278.4 268.2L277.2 269L276.1 268.6L275.3 268.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M283.3 268.4C283.3 268.4 282.3 270 280.8 269.7C279.894 269.513 279.082 269.018 278.5 268.3L270 260L269.8 258.7C269.8 258.7 279.1 268.6 280.8 269C282 269.3 282.8 267.8 282.8 267.8L283.3 268.4Z",fill:"#202020"}),g.jsx("path",{d:"M278.6 268.1C278.6 268.1 278.2 269.3 276.9 269.1C275.6 268.9 275.3 268.5 275.3 268.5L270.1 262.3L270 260.7C270 260.7 275.4 268.1 276.6 268.6C277.9 269 278.2 267.7 278.2 267.7L278.6 268.1Z",fill:"#202020"}),g.jsx("path",{d:"M273 251.9C273 251.9 278 256.2 278.5 256.4C279 256.6 280.7 256.7 280.8 257C280.9 257.3 279.6 257 279.5 257.2C279.5 257.5 282.1 259.6 282.5 259.7C282.9 259.7 285 259.7 285 260C285 260.3 283.5 260 283.5 260.3C283.5 260.6 285.7 262.5 286.2 262.5C286.6 262.6 289.2 262.6 289.2 262.9C289.2 263.2 287.1 262.9 287.2 263.3C287.2 263.7 290.8 266 290.7 266.3C290.6 266.6 286.3 263.5 286.2 263.6L285.7 265C285.4 265.1 285.7 263.6 285.5 263C285.3 262.4 282.8 260.5 282.5 260.7C282.2 260.9 282.5 262.1 282.3 262.1C282.1 262.1 282.3 260.7 282.1 260.2C281.9 259.7 279.5 257.8 279.2 257.8C278.9 257.8 279.1 258.8 278.9 259C278.7 259.2 278.7 257.8 278.4 257.4C278.1 257 272.8 252.2 273 251.9Z",fill:"#B07229"}),g.jsx("path",{d:"M264.4 265.9C264.4 265.9 264.4 267.8 263.6 268.1C262.8 268.4 261.1 264.6 261.1 264.6L260.7 261L263.2 263.4L264.4 265.9ZM271.1 264.9V263.9L270.9 262.7L270.7 260.7L270.3 259.5L269.9 258.6H269.3L268 259.6L267.6 260.9L268.3 263.3L268.9 265.4L269.9 265.8L271.1 264.9Z",fill:"#4D2A15"}),g.jsx("path",{d:"M269.4 268.3C269.7 268.1 269.1 265.5 269.1 265.5L267.6 261.7L267.1 260.3L265.9 259.8L265.1 260.8L265.2 262.3L267.1 265.8C267.6 266.6 268.9 268.4 269.4 268.2V268.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M268 260C268.5 260.4 269 261.4 269.1 262.1C269.1 262.1 270.1 265 270 265.2C269.9 265.4 269.2 265.5 269.2 265.5C269.2 265.5 270.6 267 271 266.8C271.4 266.6 271.3 265.2 271.1 264.9C270.9 264.6 270.6 264.9 270.4 264.5C270.2 264.2 269.7 262.3 269.7 261.2V259C269.9 258.7 270.9 261.3 270.9 262.7L271.4 263.3L270.9 260.7L270.4 258.9L270.6 257.7V256.9L271.3 257.3C271.567 257.367 271.767 256.833 271.9 255.7C272.1 254 271.8 250.9 271.8 250.9L266.4 258L268 260Z",fill:"#202020"}),g.jsx("path",{d:"M268 259.4C268 259.4 267.8 261.4 268.5 263.4C269.2 265.3 269.4 265.4 269.5 265.6C269.7 265.9 269.7 268 269.5 268.2C269.5 268.2 268 264.7 267.5 263C267 261.3 267 260.6 266.7 260.4L266.1 260.3L268 259.4Z",fill:"#202020"}),g.jsx("path",{d:"M267.5 269.6C267.6 269.6 267.5 268.8 267.5 268.8L267.3 267L265.4 263L263.4 261.2L262.3 259.5L262.1 262.7C262.1 262.7 263.6 265.9 264.6 266.9C265.6 267.9 267.2 269.7 267.5 269.6Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259.7 260.9C259.7 260.9 260.1 261.7 260.1 262.3V263.3L261.5 266.1C262.2 267.4 262.9 268.6 263.5 268.4C264 268.1 264.2 267.2 264.3 267.1C264.3 267 263.6 268.1 263.3 267.9C263 267.7 261.3 262.7 261.4 262.6L260.6 262L259.7 260.9ZM265.4 265.2L264 262.7C263.467 261.833 263.1 261.367 262.9 261.3C262.7 261.3 262.5 259.8 262.5 259.8C262.5 259.8 263 260.8 263.8 261.2C264.467 261.6 264.967 261.767 265.3 261.7L265.5 263.3L265.4 265.3V265.2Z",fill:"#202020"}),g.jsx("path",{d:"M262 262.6C262 262.6 262.3 263.7 263 264.8L264.9 267.1C264.9 267.1 263.6 265.9 262.9 264.9C262.2 263.9 261.8 262.6 261.8 262.6H261.9H262Z",fill:"#5C3A1D"}),g.jsx("path",{d:"M265.6 261.3C265.6 261.3 266 260.3 266.3 260.3L267.2 260.1C267.2 260.1 266.7 260 266.2 259.5L265.2 258.5L265.5 260L265.6 261.3ZM265.3 261.6L267.3 266C267.6 267.2 267.6 268.8 267.6 268.8L267 266.7C266.7 265.7 265.3 263 265.2 262.7C265.1 262.4 265.2 261.7 265.2 261.7L265.3 261.6Z",fill:"#202020"}),g.jsx("path",{d:"M267.4 259.5L267.8 254.7L267.4 252.9L265.2 248.1C265.2 248.1 265.1 248.8 264.5 248.8C263.572 248.542 262.738 248.021 262.1 247.3C261.664 248.555 261.595 249.907 261.9 251.2L266.2 259.1L267.4 259.5Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259 262.7C259 262.7 259.7 263.5 260 263.4C260.3 263.3 260.3 261.8 259.8 260.9C259.3 260 254.2 253.2 253.4 252.8C252.7 252.4 259 262.7 259 262.7Z",fill:"#8B441F"}),g.jsx("path",{d:"M262.5 259.9C262.6 260.2 263 262.4 262.1 262.6C260.9 262.8 255.2 255.1 254.4 254C254.4 254 250.8 251.8 250.8 251.2C250.8 250.6 254.6 252 254.6 252L262.1 259.2L262.5 259.9Z",fill:"#8B441F"}),g.jsx("path",{d:"M259 262.7C259 262.7 258.4 261.6 258.3 260.7C258.233 260.033 258.133 259.567 258 259.3L253.4 252.7L251.6 251.6L251.8 253.5C251.8 253.5 253.1 255.9 255 258.1L259 262.7Z",fill:"#202020"}),g.jsx("path",{d:"M265.3 261.6C265.8 261.3 265.6 259.4 265.3 258.8C265.2 258.2 261.8 251.2 261.8 251.2L260.8 251.6L258.9 250.1L257.9 249L258.2 251.5V252.8L260.8 257.4L265.3 261.6ZM269.1 257.4L269.9 256.4L269.4 252.9L267.2 245.3C267.2 245.3 266.7 245.5 266.2 245.1L265 244.1L265.5 248.6L267.8 255L268 256.9L269.1 257.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M262.1 259.2C262.1 259.2 259.9 256.8 259.1 255.6L257.8 253.2C257.8 253.2 257.2 253.5 256.4 253.2C255.7 252.8 254.6 251.7 254.6 251.7C254.6 251.7 254 252.9 257.2 256.2C260.9 259.9 262.2 259.2 262.2 259.2H262.1Z",fill:"#202020"}),g.jsx("path",{d:"M267.5 260C268.5 259.6 268.5 255.7 267.5 253C266.6 250.4 265.2 248 265.2 248C265.2 248 267 252.4 267.4 254C267.8 255.8 267.4 257 267.1 257C266.8 256.9 266.8 256 266.1 254.3C265.3 252.6 264.8 252.2 264.8 252.2C264.8 252.2 267.4 259.2 266.7 259.1C266 258.9 262.4 251.1 262.2 250.9C262.1 250.7 262 251.2 262 251.2C262 251.2 265.2 261 267.5 260Z",fill:"#8B441F"}),g.jsx("path",{d:"M269.6 241L271.2 244.4L271.7 247.9L271.8 250.9C271.8 250.9 271.9 256.9 271.2 256.9C270.5 257.1 270.1 256.4 270.1 256.2L268.7 249.6L267.3 242.8L267.8 242.4L268 241.4L269 241.3L269.6 241Z",fill:"#4D2A15"}),g.jsx("path",{d:"M265.3 261.6C265.9 261.6 265.3 260 265.3 260C265.3 260 264.8 260.7 264.3 260.2C263.8 259.7 263.3 257.7 263.3 257.7L262.9 256.5C262.9 256.5 262.4 257.8 261.9 257.8C261.2 257.8 258.2 252.7 258.2 252.7L257.8 253.2C257.8 253.2 262.1 262.1 265.3 261.6Z",fill:"#8B441F"}),g.jsx("path",{d:"M263.3 257.7C263.3 257.7 263.8 256.5 263.6 255.3C263.129 253.912 262.526 252.573 261.8 251.3L260.8 251.2L258.9 250.2C259.995 252.9 261.477 255.427 263.3 257.7ZM265.8 255.9C265.8 255.9 265.4 253.2 264.1 250.7C263.611 249.472 262.936 248.325 262.1 247.3V250.1C262.1 250.1 263.3 250.6 264.1 252.1L265.8 255.9ZM269.2 251.3C269.2 251.3 269 248.3 268.5 246.6L267.5 242.6L267.8 242.4H268.3C269 242.5 269.3 244.1 269.3 244.1L269.1 241.6L268.9 241.2H267.8C267.8 241.2 268 241.9 267.7 242.2C267.4 242.5 267.2 242.1 267.1 242L267 242.3L267.2 243.9V245.3C267.2 245.3 267.6 247 268.2 248.1L269.2 251.3ZM271.8 250.9C271.8 250.9 272.3 246.7 271.4 243.9C271.052 242.65 270.438 241.49 269.6 240.5L269.1 241.1C269.1 241.1 270.6 243.4 271.1 245.5C271.5 247.8 271.8 250.9 271.8 250.9ZM267.5 253.1C267.5 253.1 267.1 249.7 266.5 247.6L265.7 244.6L264.8 243.9C264.8 243.9 265.3 246.1 265.3 246.8L265.2 247.8C265.2 247.8 265.6 249 266.2 250C266.8 251 267.5 253 267.5 253V253.1Z",fill:"#202020"}),g.jsx("path",{d:"M269.8 258.3C270.6 258.3 269.8 253.5 269.5 252.3L267.2 245.3C267.2 245.3 269.6 253.5 269.4 253.9C269.1 254.5 268.2 251.4 268 251.5C267.8 251.5 269.8 257 269 257.1C268.4 257.1 268 255.9 268 255.9V257.1C268 257.1 268.5 258.3 269.8 258.3Z",fill:"#904720"}),g.jsx("path",{d:"M270.8 255.9C271.4 255.9 270.6 251.4 270.2 249.3L268.7 243.3C268.7 243.3 269.8 246.1 270.5 249.3C271.2 252.5 271.5 256.6 271 256.7C270.3 256.7 270 256.1 270 256.1V255.4C270 255.4 270.2 255.9 270.8 255.9Z",fill:"#904720"}),g.jsx("path",{d:"M263 261.2C263 261.5 263 263.1 262.2 263C261.4 262.9 259.9 261.5 259.6 260.5C259.6 260.5 261.4 262.5 262 262.5C262.6 262.5 262.6 260.5 262.5 259.9C262.5 259.4 263 261.2 263 261.2Z",fill:"#312317"}),g.jsx("path",{d:"M267.3 239.6C267.3 239.6 268.3 240.3 269.3 239.8C269.691 239.531 270.013 239.174 270.239 238.756C270.465 238.339 270.588 237.874 270.6 237.4C270.666 236.8 270.5 236.167 270.1 235.5C269.5 234.8 270.9 236.1 270.9 237.4C270.9 238.7 270.9 240.8 268.9 241.3C266.9 241.8 267.8 241.2 267.8 241.2L267.3 239.6Z",fill:"#D2A567"}),g.jsx("path",{d:"M265.7 235.8C265.7 235.8 267 237.8 267.5 239.8C267.967 241.533 267.967 242.4 267.5 242.4C267.234 242.4 267.1 242.167 267.1 241.7L265.7 235.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M243.3 238.3L251.7 250.6L262.4 238.6L255.7 231.8L243.3 238.3Z",fill:"#1E2121"}),g.jsx("path",{d:"M254 230.8L253.5 232.8L254.5 236L256.3 237.8L258.3 239.2L258.8 237.7L259.3 235.9L259.8 235.7L261.1 236.2L262 234.9L263.4 232.5L263.1 231.5L262.7 230.8L260.6 227.1L259.9 228.5L259.2 228.9L258 228.2L256.5 230.2L254.6 229.3L254 230.8Z",fill:"#4D2A15"}),g.jsx("path",{d:"M258.4 239.2C258.4 239.2 258.7 238.9 258.9 238C259 237 259.1 234 258.8 232.8C258.5 231.6 257.8 229.3 257.6 229.5C257.4 229.6 258.8 232 258.6 235C258.4 237.9 258.6 238.7 257.9 239C257.2 239.3 258.4 239.2 258.4 239.2Z",fill:"#5C3818"}),g.jsx("path",{d:"M258.8 234.3C258.8 234.3 260.2 236.3 260.9 235.5C261.6 234.8 261.2 232.3 260.9 231.3L259.9 228.8L260.3 228.4L261 231.1C261.3 232.2 262 235.3 261.1 235.9C260.2 236.5 258.9 234.7 258.9 234.7V234.3H258.8Z",fill:"#5C3818"}),g.jsx("path",{d:"M254.3 235.6C254.3 235.6 254.8 234.9 255.4 234.9C256.066 234.967 256.333 235.033 256.2 235.1L256.8 236.7L257.7 238.4L258.5 239.3L258.1 239.8H257.4L255.4 238.8L254.8 238L254.3 235.6Z",fill:"#8F4620"}),g.jsx("path",{d:"M257.6 253C257 253.4 255.5 252.7 254.6 251.9L249.2 246.5L248.6 244L250.4 244.4L253.4 243.1L254 242.1L257.7 240.1L259.7 239.1L264.2 238.9L265.2 236.8C265.2 236.8 266.8 239.4 267 240.4C267.2 241.4 267.2 244.7 266.8 244.9C266.4 245.1 265 243.9 264.8 243.9C264.5 243.9 265.8 248.5 264.8 248.7C263.7 248.8 261.8 246.9 261.8 246.9C261.8 246.9 262.6 251.1 261.8 251.1C260.8 251.1 258.6 250.1 257.7 249.1C257.7 249.1 258.7 252.5 257.7 253.1L257.6 253Z",fill:"#D2A567"}),g.jsx("path",{d:"M256.8 247.7L257.7 249.1C257.9 249.4 257.7 251.4 257.5 251.7C257.2 252.5 256.2 250.8 255.7 249.4L253.9 246.4C253.9 246 256.8 247.7 256.8 247.7ZM265.5 237.4C265.5 237.4 267 243.9 266.3 244.1C265.5 244.3 263.3 242.1 263.1 241.7L259.8 236.6L259.2 235.9L259.4 235.6L260.7 236.1L265.5 237.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.3 249.8C254 250.1 253.3 249 253 248.8L250.6 246.1C249.466 245.033 248.866 244.367 248.8 244.1C248.8 243.8 248.1 243.1 248.1 243.1L248.7 242.5L249.4 242.4C249.4 242.4 253.7 245.8 254 246.4C254.3 246.9 254.5 249.7 254.3 249.9V249.8ZM260.8 249.9C260.6 250.1 257.8 248 256.5 246.3C255.2 244.6 254.1 243.1 253.8 242.3L253.3 240.8L254.1 241C254.1 241 261.1 249.6 260.8 249.9ZM261.8 246.9C261.6 247.1 260.4 246.2 259.6 245.2C258.9 244.2 259.3 242.9 259.3 242.9C259.3 242.9 261.9 246.7 261.8 246.9ZM263.4 246.5C263 246.7 261.4 244.7 260 242.5C259 240.9 258.7 240.6 258.5 240.5L257.5 240.2L257.3 240L258 239.8L258.6 239.1L259.4 238.1L262.8 244.9C262.8 244.9 263.6 246.4 263.4 246.5Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.6 251.9C254.6 252.2 254.6 252.4 253.6 252.3C252.8 252.3 247.9 249.6 245.8 246.1L243.3 242.1L244.3 241L251.9 249.7L254.6 251.9Z",fill:"#AB6D29"}),g.jsx("path",{d:"M254.6 251.9C254.6 252.3 254.334 252.433 253.8 252.3C253.2 252.2 251.3 251.5 248.3 248.1C245.3 244.7 244 242.2 244 242.1L243.9 240.7L244.8 240.3L250 248.3L254.6 251.9Z",fill:"#8F4620"}),g.jsx("path",{d:"M259.7 248.5C259.7 248.5 258.1 247.3 257.1 246.1C256.1 244.9 254.1 242.1 254.1 241.5C254.1 240.9 255.1 241 255.1 241L255 239.5L255.2 239.1L256.7 239.7L258.6 242L259.3 243C259.3 243 260.5 245.8 260.3 246C260 246.4 258.3 244.5 258.1 244.7C257.9 244.9 260.1 248.2 259.7 248.5ZM256.7 247.7C256.7 247.7 257.3 248.5 257 249C256.7 249.5 256.6 249.9 255.8 248.7C255 247.5 254.1 246.2 254 246.3C254 246.4 254.1 248.1 253.7 248.1C253.3 248.1 252.1 246.7 251.3 245.5L249.3 242.5C249.3 242.5 249.5 242 249.4 240.7L249.3 238.7C249.3 238.7 249.3 239.1 249.5 239.4L249.9 240L252.7 243.3L253.5 242.8L255.2 246.1L256.7 247.7ZM245.9 242.7C245.9 242.7 248.1 246.7 250.2 248.8C251.452 250.108 252.947 251.161 254.6 251.9L248 244L246 242.8L245.9 242.7ZM262.9 245.1C262.8 245.1 261.4 243.7 260.5 242.4C259.722 241.197 259.242 239.826 259.1 238.4L259.3 235.6C259.3 235.6 261.6 238 262.1 239.1C262.5 240.1 263.4 241.7 263.2 241.9C263 242.1 261.5 240.9 261.3 241.1C261.1 241.4 263.1 244.9 262.9 245.1ZM265.5 242.6C265.2 242.7 264 241.4 263.7 240.6C263.4 239.6 263.3 238 263.3 238L262.3 235.6L262.4 233L263.4 232.8L264.9 234.9C264.9 234.9 265.5 236.2 265.5 237.9C265.5 239.8 265.8 242.4 265.5 242.6ZM247.5 249.1C245.5 246.6 244.2 244.1 244.2 244.1L243.5 241.9L243.9 242.2C243.9 242.2 244.5 244.8 247.6 247.9C250.8 251 251.5 251.3 251.5 251.3C251.5 251.3 252.1 253 251.8 253.6C251.8 253.6 249.5 251.6 247.5 249.1Z",fill:"#4D2A15"}),g.jsx("path",{d:"M250.9 252.7C250.9 252.7 248.2 250.3 246 247.7C243.9 244.9 242.5 242.3 242.5 242.3L243.5 241.4C243.5 241.4 245.3 245.6 246.5 247.3L250.9 252.7ZM254.6 251.9L250 247C249.03 245.937 248.19 244.762 247.5 243.5L248.8 244C248.8 244 249.3 245.4 250.5 246.8L254.6 251.9ZM254 246.3C254 246.3 252.3 244.3 251.5 242.9L249.8 239.9C249.8 239.9 252.1 242.6 252.8 242.7H253.5C253.3 242.6 253.2 243.7 253.5 244.5C253.6 245.3 254 246.3 254 246.3ZM254.7 237.9C254.7 237.9 255 239.3 254.8 240.2C254.6 241.1 254.1 241 254.1 241L255.6 242.8C256.1 243.4 257.4 244.3 257.4 244.3L255.9 242.1C255.5 241.4 254.9 240.5 255.2 239.8C255.4 239.1 256.8 240.3 257.2 240.6L259.2 242.9C259.2 242.9 258.7 240.9 257.8 240.2L254.8 237.9H254.7Z",fill:"#202020"}),g.jsx("path",{d:"M261.6 242.3L260.2 238.8L258.9 234.8V237C258.9 238 258.5 239.4 258.1 239.6C257.7 239.8 257.6 239.8 256.8 239.6C256.1 239.4 257.4 240 257.4 240C257.4 240 258.2 240 258.4 239.6C258.8 239.2 258.9 238.4 259.3 238.5C259.6 238.6 260 239.8 260.3 240.4L261.6 242.3Z",fill:"#202020"}),g.jsx("path",{d:"M259 234.7C259 234.7 260.6 236.6 261.3 235.7C262 234.8 261.6 232.6 261.6 232.6C261.6 232.6 262.6 232.9 262.9 232.6C263.2 232.3 263.1 231.6 263.1 231.6C263.1 231.6 264.9 234.1 265.7 235.8C266.6 237.4 267 240.4 267 240.4C267 240.4 265.5 238 264.8 235.8C264.1 233.6 263.1 232.8 262.9 233C262.7 233.2 262.5 234.6 262.7 235.4L263.9 238.1C264.4 239.2 264.9 240.9 264.9 240.9L263.5 238.9C262.967 238.233 262.5 237.8 262.1 237.6C261.8 237.3 261.3 236.6 260.8 236.5C260.3 236.4 259.3 235.8 259.3 236.2L259.1 235.4L259 234.7Z",fill:"#202020"}),g.jsx("path",{d:"M253.4 242.6L255 245.4L256.8 247.7C256.8 247.7 255.2 246.3 254.6 245.4C254 244.4 253.4 242.6 253.4 242.6Z",fill:"#171717"}),g.jsx("path",{d:"M264.1 243C263.9 243.2 263.1 242.9 263.1 243.2C263 243.5 263.5 244.5 264.1 245.1C264.566 245.633 264.866 245.8 265 245.6L264.8 244.5V243C264.7 242.8 264.1 243 264.1 243Z",fill:"#8F4620"}),g.jsx("path",{d:"M244.7 231.5L243.7 232.1L242.7 234.4L243 238.7L244.7 241.1C245.3 242.1 247.5 244.5 248 244.3C248.5 244.1 249.2 242.5 249.2 241.6L249.4 239C249.4 239 249.9 240 250.8 240.9C251.7 241.9 252.5 242.8 252.8 242.7C253.3 242.7 254.5 240.2 254.6 239.8C254.6 239.5 251.4 231.8 251.4 231.8L250 231.1L244.7 231.5Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.8 238L252.7 240.9C253 241.9 252.7 242.7 252.9 242.7C253 242.7 254.7 240.5 254.7 239.5C254.7 238.5 254.7 237.5 254.3 234.5C253.8 231.4 254.4 230.5 254.4 230.5L253.4 229.7L251.9 233L251.8 238ZM246.3 236.2L246.8 240.2C247 241.2 247.6 242.8 247.9 242.7C248.2 242.7 249.2 240.1 249.3 239.2C249.3 239.2 248.6 237.9 248.6 234.8C248.6 231.7 248.3 231.3 248.3 231.3L246.3 236.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M242 230C242 230 239.5 233.6 239.6 235.6C239.6 237.6 239.9 237.2 240.6 239C241.1 240.8 241.4 243.4 241.4 243.6C241.533 243.8 241.7 243.7 241.9 243.3L242 230Z",fill:"#45392D"}),g.jsx("path",{d:"M242 230.5C242 230.5 239.8 233.8 240 235.7C240.1 237.6 240.4 237.5 241 239.2C241.6 240.9 241.7 243.6 241.7 243.6C241.7 243.6 242.4 243.4 243.2 242.8L244.7 241.1L243.9 239.4L243.3 237.9L242.7 236.9L242.9 233.8L243.5 231.4V230.6L242 230.5Z",fill:"#AB6D29"}),g.jsx("path",{d:"M253.8 236.3L252.2 235.8C251.8 235.5 251.6 234.8 251.6 234.8L251.9 234.2L253.8 236.3Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M242.4 230.8C242.4 230.8 240.9 234.2 241 236.6C241.253 238.452 241.828 240.246 242.7 241.9V234.2L243.4 231.9V230.7L242.4 230.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M246.3 231.6V233C246.2 233.5 245.3 234 245 234.6L244.2 236.9C244.2 236.9 244.5 235.9 245.1 235.4C245.6 234.9 245.8 234.4 245.9 234.8C246 235.1 246.2 236.4 246.1 236.7C245.9 236.833 245.634 237.367 245.3 238.3C245.094 238.917 245.094 239.583 245.3 240.2L245.7 238.4C245.9 237.933 246.067 237.7 246.2 237.7L247.2 239.5V238C247.4 237.3 248.2 236.4 248.3 236.4C248.6 236.4 248.9 236.2 248.1 235.8C247.8 235.6 248 232.4 248.1 232.2C248.4 232.1 249.6 232.1 249.5 231.6L248.2 229.9L246.2 231.6H246.3Z",fill:"#8F4620"}),g.jsx("path",{d:"M253.6 238.5L252.4 238.3L252 237.8V237.3L253 237.8L253.6 238.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M243.6 238.9L243.1 240.1L242.8 241.3L242.5 238.7L242.2 236.8L241.7 237.3C241.7 237.3 241.7 236.1 241.9 235.5C242.234 234.767 242.3 234.233 242.1 233.9C241.834 233.9 241.567 234.1 241.3 234.5L240.7 235.5L241.2 234C241.5 233.6 242.6 232.3 242.9 231.7L243.1 230.7L243.9 230.6C243.9 230.6 244.8 231.3 244.8 231.9C244.8 232.2 243.9 232.5 243.9 232.6C243.9 232.7 243.2 232.6 243.1 235.2C242.9 237.9 243.6 237.7 243.6 238.9ZM251 231.9C251 231.9 251.2 233.4 251 233.9C250.867 234.3 250.6 234.733 250.2 235.2C249.8 235.8 249.9 237.2 249.9 237.2L250.3 236.2L250.8 235.3C251 235.3 251.234 235.733 251.5 236.6L252.1 238.6C252.1 238.6 251.9 237.6 252.1 237.6C252.3 237.6 252.5 237.6 252.9 237.9L253.6 238.5C253.6 238.5 253.6 238.1 253.1 237.5C252.6 236.9 252.3 237.1 252.1 236.4C251.967 235.6 251.934 235.033 252 234.7C252.067 234.5 252.3 234.667 252.7 235.2L253.9 236.3L253.4 235.5V233.2C253.4 232.333 253.467 231.733 253.6 231.4C253.9 231.2 254 230.2 253.8 230C253.8 229.8 251 232 251 232V231.9Z",fill:"#8F4620"}),g.jsx("path",{d:"M259.7 228.9C259.7 228.9 259.7 230.5 260 231.5L260.9 234.5C260.9 234.5 260 233 259.6 231.7C259.2 230.3 258.9 228.9 258.6 228.7C258.2 228.7 257.8 229.4 257.8 230C257.865 231.171 258.136 232.322 258.6 233.4C259.1 234.1 257.9 232.4 257.6 231.5L257 229.8C257 229.8 256.7 230.5 256.8 231.4C257 232.3 257.7 233.5 257.7 233.5L256.9 232.7L256.4 232.2C256.4 232.2 256.4 233.4 256.7 233.9L257.7 235.2L256.7 234.3L256.3 233.8C256.3 233.8 256.4 235.5 256.8 236.4L258 238.7C258 238.7 257 238 256.4 236.5C255.795 234.388 255.525 232.195 255.6 230L256.6 228.5C257 227.8 257.6 224.7 257.6 224.7C257.6 224.7 258.2 227.6 258.7 228.2L259.7 228.9ZM252.8 228L253.4 229.1L253.9 229.9C253.9 229.9 253 230.9 252.1 231.6C251.2 232.3 249.9 233.1 249.6 232.7C249.333 232.233 249.233 231.967 249.3 231.9L251.2 230.4C251.751 229.934 252.194 229.354 252.5 228.7L252.8 228ZM244.1 230.9C244.1 230.9 244.2 232.7 245 232.6C245.8 232.6 248 230.3 248.1 230.2C248.3 230.2 248.4 229.6 248.4 229.4V228.8C248.4 228.8 245.9 231.2 245.1 231.3C244.912 231.336 244.719 231.317 244.541 231.246C244.364 231.175 244.211 231.055 244.1 230.9ZM244.1 228.5L243.9 230.1L244.1 230.8C244.2 230.9 242.4 231.4 242.1 230.8C241.8 230.2 242 229.6 242 229.6L243.2 229.5C243.6 229.4 244.2 228.5 244.2 228.5H244.1ZM260.4 226C260.4 226 261.1 227.8 261.6 228.6L262.7 230.8L261.2 229.2L260.2 228.4L260.4 227.5V226Z",fill:"#1E2121"}),g.jsx("path",{d:"M241.7 229.6H242.7L243.4 229.5L244 228.5C244 228.5 243.7 229.6 244 230.5C244.267 231.167 244.533 231.467 244.8 231.4C245.499 231.289 246.137 230.935 246.6 230.4L248.3 229C248.3 229 248.1 230 248.5 231C248.833 232 249.433 232.167 250.3 231.5C251.1 230.8 251.9 229.7 252.3 229.2L252.9 228.4L253.8 227.7L254.6 223.3L254.1 222.7L253.1 223.3L251.7 222.7L251.3 222.2L250.5 223.5L249.7 224H249.3L248.3 224.3L247.9 223.4L247.7 222.8L247.2 222.6L245.2 224.6L244.2 224.5L243.1 226.2L242.3 227.2L241.5 229.2L241.7 229.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M251.1 225.2C251.1 225.2 251.3 226.2 250.7 228.1C250.1 230 249.4 231.1 249.4 231.1C249.4 231.1 251.4 230 252.3 227.9C253.3 225.7 253 223.3 253 223.3L251.1 225.2ZM253.5 223.2C253.5 223.2 253.7 223.5 253.5 225.2L252.9 228.4L253.4 229.3C253.6 229.8 254.3 230.7 254.8 230.6C255.334 230.467 255.9 229.867 256.5 228.8L257.5 226.5C257.767 226.367 257.9 226.433 257.9 226.7C257.9 226.7 258.1 227.7 258.6 228.1C259.1 228.5 259.6 229.1 260 228.9C260.334 228.633 260.5 228.3 260.5 227.9L259.5 224.7L258.2 221.5L257.4 220.3L255.1 220.5L253.5 223.2Z",fill:"#8F4620"}),g.jsx("path",{d:"M257.4 220.3C257.4 220.3 258 221.6 258.1 223.1C258.2 224.6 257.8 226.1 257.8 226.1V223.1C257.7 221.9 257.2 221.4 257.2 221.1L257.4 220.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M260.5 226V228C260.3 228.5 259.5 227.5 258.9 225.5C258.4 223.5 258.5 223.1 258.1 222.1L257.4 220.3L258.5 220.1L260.5 226ZM254.9 229.8C254.9 229.8 257.1 228.5 257.4 224.8C257.4 223.1 256.4 220.3 256.4 220.3C256.4 220.3 256.4 223.3 255.6 225.3L254.1 228.4L254.9 227.9L255.5 227V228.3L254.9 229.8ZM253 223.3C253 223.3 253 224.1 252 224.8C251.1 225.6 249.5 226.4 249.5 226.4C249.5 226.4 250.7 225.3 251.1 224.3C251.5 223.3 251.2 222.7 251.2 222.7C251.2 222.7 251.1 223.2 250.6 223.7C250.1 224.2 249.3 224.1 249.3 224.1C249.3 224.1 249.3 223.6 249.8 223.1L250 222.5C250.2 221.7 250.9 220.6 250.9 220.6C250.9 220.6 251.4 221.8 251.9 222.3L253 223.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259.8 218.9C259.8 218.9 260.3 220.2 260.5 222.1C260.7 223.9 260.5 226.1 260.5 226.1L259.1 223.6L258.6 221.3L257.7 220.5L256.9 220.4C256.9 220.4 257.6 220.1 257.6 219.5V218.7C258.3 218.972 259.062 219.041 259.8 218.9ZM254.9 226.7C254.9 226.7 256.1 225.1 256.4 223C256.7 221 256.4 220.3 256.4 220.3C256.4 220.3 255.9 220.2 255.4 219.8C254.9 219.4 254.4 218.4 254.4 218.4C254.4 218.4 254.6 219.4 254.4 220.8C254.2 222.2 253 223.3 253 223.3C253 223.3 253.6 223.5 254.2 223.2C255.4 222.5 255.2 221.2 255.2 221.2C255.2 221.2 255.5 221.4 255.5 223C255.5 224.6 254.9 226.7 254.9 226.7Z",fill:"#1E2121"}),g.jsx("path",{d:"M241 229.5C240.7 229.5 241.7 227.9 242.4 226.8L244.1 224.1C244.1 224.1 244.3 224.3 244.7 224.3C245.105 224.232 245.491 224.081 245.835 223.857C246.179 223.634 246.473 223.342 246.7 223L247.4 221C247.4 220.7 247.4 222.4 248.2 223.3C249 224.3 248.9 224.2 249.2 224.1C249.2 224.1 249.2 225.3 248.9 226.3L248.3 229C248.3 229 248.4 227 248.1 226.4C247.8 225.8 247.6 226.4 247.3 227.2C247 227.9 246.4 228.4 246.4 228.4L247.2 226.6C247.5 225.6 247.3 225.6 247.2 225.6L246.7 225.9C246.3 226.3 246.067 226.467 246 226.4C245.9 226.3 246.4 226.1 246.6 225.6C246.6 225.1 247.1 224.4 247.3 224.2L247.7 223.4C247.7 223.133 247.633 222.933 247.5 222.8C247.367 222.667 247 223 246.4 223.8C245.6 224.5 245.4 224.5 245.4 224.8L244.7 226.8L243.8 229.1L243.4 229.5L244 227.5C244.4 226.5 245 225 244.8 224.8C244.667 224.6 244.5 224.6 244.3 224.8C244.2 225 243.3 225.9 242.6 227C241.9 228.1 241.9 229.5 241.7 229.6L241 229.5Z",fill:"#8F4620"}),g.jsx("path",{d:"M260.5 217.7C260.5 217.8 260.6 218.7 259.8 218.9C259.141 219.097 258.435 219.061 257.8 218.8V217.6L260.5 217.7Z",fill:"#874F20"}),g.jsx("path",{d:"M244.8 220.3L244.2 222C243.7 223 243 223.7 243.1 223.8C243.2 223.9 243.6 224.4 244.3 224.3C245 224.2 245.1 220.5 245.1 220.5V220.3H244.8Z",fill:"#B27129"}),g.jsx("path",{d:"M254.8 218.2C254.8 218.2 254.4 223.2 253 223.2C251.6 223.2 251 220.7 251 220.7C251 220.7 250.8 224.2 249 224.2C248.1 224.2 247.3 221.5 247.4 221C247.4 221 247.1 222.8 246.2 223.5C244.5 224.9 243.4 224.2 243.4 224C243.3 223.8 244.8 222.3 245 220.3C245 220.433 245.234 220.267 245.7 219.8C246.1 219.133 246.434 218.767 246.7 218.7C247.2 218.7 249.3 217.8 249.3 217.8L250.3 216.5C250.3 216.5 250.5 216.9 251.3 216.4C251.763 216.041 252.111 215.554 252.3 215L254.5 216.8L254.7 218.2H254.8Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M249.1 213.3L251.3 216.3L251.8 215.9C252.066 216.3 252.166 216.633 252.1 216.9C251.8 217.6 251.1 218.7 251.6 219.9C251.533 219.833 251.6 219.333 251.8 218.4C252.066 217.6 252.3 217.267 252.5 217.4C252.7 217.4 253 222 253.3 222C253.6 222 254 219.9 254 218.4C254 216.9 254.3 218.1 254.5 218.4C254.6 218.7 255.9 220.8 257 220.4C258 220.2 258 218.2 257.9 217.8L257.1 214.8L252.2 211.8L251.8 213C251.5 213.8 249.1 213.3 249.1 213.3Z",fill:"#B27129"}),g.jsx("path",{d:"M256 212.8C256 212.8 256.3 213.1 256.8 214.3C257.3 215.5 257.3 219.4 256.8 219.4C256.1 219.4 254.8 218.7 254.6 218.1C254.4 217.6 254.7 215.7 254.3 215.1C253.841 214.43 253.503 213.686 253.3 212.9L253.4 211.4L254.5 211L256.1 212.8H256Z",fill:"#8F4620"}),g.jsx("path",{d:"M255.7 211.6L257.7 214.7L259.7 217.3L260.5 217.7C260.194 218.045 259.777 218.273 259.322 218.346C258.866 218.419 258.399 218.332 258 218.1C257.3 217.7 257.7 216.5 256.8 214.5C256.199 213.297 255.305 212.266 254.2 211.5L254.8 211L255.8 211.6H255.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M254.6 210C254.6 210 256.4 211.1 257.1 212.5L258.9 215.9C259.7 217.2 260.6 217.6 260.5 217.7C260.433 217.833 260.1 217.833 259.5 217.7L258.5 216.4L256.5 213C255.959 212.393 255.316 211.886 254.6 211.5L255.9 213.2C256.383 213.956 256.691 214.81 256.8 215.7L255.8 214.1C255.2 212.9 253.7 211.4 253.6 211.6L254.8 214L255.8 216.6L254.4 214.3C253.6 213 253.4 213.2 253.1 212.8L252 211.4C252 211.4 252.7 211.6 253.5 211.1C254.2 210.6 254.5 209.9 254.5 209.9L254.6 210Z",fill:"#1E2121"}),g.jsx("path",{d:"M249.8 213.3C249.8 213.3 251 213.6 251.7 213.5H252.6C252.6 213.5 253 214 253 214.6C253 215.2 252.5 216.3 252.4 216.4C252.2 216.4 252.2 215.4 251.9 215L249.9 213.3H249.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M250.5 216.5C250.5 216.5 250.9 217.8 250.5 219.5C250.3 221.4 249.2 223.2 249 223.2C248.7 223.2 248.8 221.2 248.7 220.2V219.8L248.2 221C248.2 220.9 248.6 219.1 248.5 219V218.3L249.8 216.7L250.5 216.5Z",fill:"#B27129"}),g.jsx("path",{d:"M248.2 217.8C247.8 218.3 247.2 218.1 246.8 218.3C246.3 218.4 246.1 219.2 246.1 219.2C246.1 219.2 246.5 218.9 246.7 219C246.9 219.1 247.1 219 246.7 220C246.3 220.8 244.9 222.3 245 222.4C245 222.4 246.6 221.1 247 220.4C247.6 219.6 247.5 219.2 247.6 218.9C247.7 218.6 248.3 218.3 248.5 218.3C248.634 218.167 248.8 218.367 249 218.9L249.4 220.9L250.1 218.9L250.2 216.6L249.7 216.5L248.5 215.8C248.5 215.8 248.7 217.2 248.2 217.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.6 208.6C254.6 208.6 255.1 209.9 254.1 210.7C253.833 210.967 253.467 211.133 253 211.2C252.4 211.2 251.6 210.7 251.6 210.7L248.5 209.4L246.8 208.9L246 208.7L246.1 207.8L248.6 207.9L251 208.9L252 209.2L253 209.3H253.6L254.2 209.2L254.5 208.9L254.6 208.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M254.6 208.6C254.7 208.8 254.4 209.6 254.2 209.6C254 209.8 253.467 209.833 252.6 209.7C251.6 209.5 250.7 208.9 249.6 208.7C248.667 208.3 247.833 208.1 247.1 208.1C246 208.1 246.6 207.7 246.6 207.7C246.6 207.7 248.5 207.5 250.1 208.1C251.7 208.7 252.4 209.1 253.2 209.1C254.4 209.1 254.6 208.6 254.6 208.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.1 207.7H246.8L247.3 207.5L247.2 208H246.2L246.1 207.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M252.2 211.5C252.2 211.5 253.3 212.5 253 213.5L251 212.5L247.5 211.1L245.7 210.5L245.4 210.2L246 209.6V209L248.3 209.3L250.7 210L252.2 211.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M249.9 213C249.9 213 251.9 215.5 251.4 216.4L246.9 213.4L245.2 216.1L241.5 214.3C241.5 214.3 244.5 212 244.9 211.5L245.2 210.9L246.9 211.3L249.6 212.1L249.9 213Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M248.8 209.3C248.8 209.3 250.4 209.7 251.5 210.3C252.5 210.7 253.9 210.9 253.9 210.9C253.9 210.9 253.3 211.5 252.2 211.5C251.733 211.367 251.2 211.033 250.6 210.5C249.7 209.7 248.6 209.7 248.6 209.7L248.8 209.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246 208.4L247.9 209C248.6 209.3 248.6 209.2 248.9 209.2L249 209C249 209 249.2 209.7 248.6 209.7C248 209.7 247.9 209.5 247.2 209.2C246.5 208.9 246 209.2 246 209.2V208.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M252.3 212.9C252.3 212.9 253.2 213.4 253 213.5C252.867 213.633 252.434 213.733 251.7 213.8C251.1 213.8 250.6 213.733 250.2 213.6C249.6 213.4 249.4 212.5 248.2 212L245.9 211.2L244.9 211L245.7 210.7L248.3 211.2L250.5 211.9L251.8 212.5L252.3 212.9ZM248 214.4L248.5 216.4L248.2 217.7L247.5 218.1L246.9 217.9L246.7 217.5C246.7 217.5 247 217 246.7 216.6C246.4 216.2 245.1 215.6 245.1 215.6C245.1 215.6 245.6 214.6 246.1 214.4C246.8 214.2 246.5 213.4 246.5 213.4L248 214.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M245.4 210.2C245.4 210.2 245.8 210.6 246.7 210.7L248.4 211C248.6 211.1 249.2 210.8 249.3 210.8L248.8 211.1L250.8 211.8C251.7 212.2 252.4 212.8 252.4 212.8L250.8 212.1L248.4 211.4C246.8 211.1 245.3 211.2 244.9 211.1C244.5 211 245.1 211 245.2 210.8C245.4 210.533 245.466 210.333 245.4 210.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M251.2 215.8C251.2 215.8 251.7 216.4 251.2 216.6C250.7 216.8 249.2 216.7 248.6 216L248.2 215C247.9 214.7 246.9 214 246.2 213.7C245.7 213.3 246.5 213.2 246.5 213.2L249.4 214.5C250.2 214.9 251.2 215.8 251.2 215.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M251.3 215.9C251.3 215.9 250.3 214.5 247.3 213.3L248.2 213.1H246.7L246 212.8C244.4 212.4 244.3 212.4 244.2 212.2C244.134 212.067 244 212.167 243.8 212.5L243.2 213.3C243.848 213.098 244.536 213.063 245.2 213.2C246 213.4 246.267 213.7 246 214.1C246 214.4 244.9 215.7 245 215.7C245.1 215.7 245.7 214.5 246.5 214.7C247.234 214.967 247.567 215.167 247.5 215.3L247.4 214.6C247.2 214.4 246.4 213.6 246.6 213.6C246.8 213.6 247.8 213.9 249.2 214.6C250.6 215.3 250.8 215.5 251.2 215.9H251.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M246.5 213.6C246.5 213.6 248.7 214.3 248.6 216.6C248.6 219 246.8 218.6 246.6 217.7C246.4 216.8 246.9 218.1 247.5 218C248.167 217.867 248.433 217.3 248.3 216.3C248.3 215.5 248.033 214.9 247.5 214.5L246.5 213.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M236.8 208C236.8 208 237.1 208 236.4 209.8C236.01 211.023 235.362 212.148 234.5 213.1C232.7 215.1 231.9 215.1 232.1 215.9C232.3 216.8 233 216.6 233.1 216.6C233.3 216.6 236.6 211.8 236.6 211.8L237.3 209L237.1 208.2L236.9 207.9L236.8 208Z",fill:"#6C3F18"}),g.jsx("path",{d:"M244.9 204.5C244.9 204.5 245.9 205.9 245.5 208.5C245.2 211.2 241.7 213.5 241.7 213.5L236.7 217.1L234.5 216.9H233.9L233.2 216.5C233 216.5 232.8 215.5 232.8 215.5L233.4 214.7L235.3 212.9L236.4 211.2C236.4 211.2 237 210.2 237 209.3L236.9 207.9L237.3 208.6L237.5 210L237.3 211.6L238.7 210.6L240.4 209.9C240.4 209.9 240.9 209.8 241.3 208.9C241.6 207.9 241.9 206.4 241.9 205.7V204.3H242.1C242.1 204.4 242.6 205.3 242.6 205.7L242.9 207.9L243.8 207.1L244.5 205.9L244.9 204.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M245.5 217.8C245.5 217.8 245.8 218 245.7 219C245.6 220 244.7 220.5 244.4 220.5V219.2L243.3 218.2L242.1 217.9L242.3 217.7C242.4 217.5 243.7 217 243.7 217L245.5 217.8Z",fill:"#904720"}),g.jsx("path",{d:"M244.6 217.8C244.6 217.8 244.9 218.1 245.5 218C246.1 217.9 246.3 217 246 216.6C245.7 216.2 245.8 217.4 245.5 217.6C245.1 217.6 244.7 216.6 244.2 216.6C243.7 216.4 242.9 216.8 242.7 217.1C242.5 217.4 243.5 217.1 243.5 217.1L244.1 217.3L244.5 217.4L244.6 217.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M237.2 214.1C237.2 214.1 237.9 214.3 238.6 214.2C239.3 214.1 241.1 213.4 241.1 213.4L242.5 212.4C243.1 211.7 245 210.6 245.2 208.2C245.4 205.9 244.9 204.5 244.9 204.5C244.9 204.5 247.7 207.5 245.2 211C243.6 213.3 242.2 214 242.2 214C242.2 214 245 213.2 245.2 213.9C245.4 214.5 245.1 215.5 245 215.7C245 215.7 246.5 216 246.8 216.8C246.9 217.3 245 216.3 243.6 216.6C242.829 216.792 242.132 217.21 241.6 217.8C241.6 217.8 241.3 217.4 240.1 217.4C238.8 217.4 238.2 218 237.5 217.9C236.8 217.8 234.5 217.4 234.1 216.8L235.6 215.1C236.3 213.8 237.2 214.1 237.2 214.1Z",fill:"#904720"}),g.jsx("path",{d:"M243 207.8C243 207.8 244.1 206.8 244.5 205.9L244.9 204.5C244.9 204.5 245 205.3 244.4 206.3L243 207.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M242.7 205.4C242.7 205.4 243.7 208.8 242.7 210.3C241.7 211.7 237.6 213.5 237.6 213.5C237.6 213.5 240.7 211.8 241.6 209.9C242.6 207.9 242.6 206.3 242.6 206.3L242.7 205.4Z",fill:"#904720"}),g.jsx("path",{d:"M238.6 214.2C238.6 214.2 239.9 214.2 240.6 213.7C241.4 213.3 242.5 212.3 242.5 212.3C242.5 212.3 241.5 213.2 241.2 213.2C240.866 213.067 240.733 212.8 240.8 212.4C240.8 212.4 240.6 213.1 240 213.5L238.6 214.2ZM241.6 209.9C241.6 209.9 242.8 208.7 242.8 206.3C242.8 203.9 241.8 204.3 241.8 204.3C241.8 204.3 242.6 204.9 242.4 206.7C242.3 208.6 241.7 209.9 241.7 209.9H241.6ZM243 210.1C243 210.1 244.3 209.8 244.7 209.1C245.2 208.3 245.2 206.9 245.2 206.9C245.2 206.9 245 208.2 244.7 208.7C244.3 209.2 243 210.1 243 210.1ZM242.3 217.7C242.3 217.7 242.9 216.5 243.7 216.7C244.6 217.1 244.6 217.7 244.6 217.7C244.6 217.7 244.3 217.3 243.6 217.2L242.3 217.7ZM239.9 215.5L242.9 214.7L245.2 213.9C245.2 213.9 244.3 214.9 243 215.8C241.466 216.467 240.633 216.733 240.5 216.6C240.3 216.4 243 215.5 243.2 215C243.2 215 240.8 215.7 239.9 215.5Z",fill:"#1E2121"}),g.jsx("path",{d:"M237 212.7C237.464 213.018 237.782 213.508 237.886 214.061C237.989 214.614 237.868 215.186 237.55 215.65C237.231 216.114 236.742 216.433 236.189 216.536C235.635 216.639 235.064 216.518 234.6 216.2",fill:"white"}),g.jsx("path",{d:"M236.9 212.9C237.192 213.225 237.364 213.64 237.385 214.076C237.407 214.512 237.278 214.942 237.02 215.295C236.762 215.647 236.39 215.899 235.968 216.009C235.545 216.12 235.098 216.081 234.7 215.9",fill:"#F16E16"}),g.jsx("path",{d:"M236 214C236.152 213.986 236.305 214.016 236.44 214.086C236.576 214.156 236.689 214.263 236.765 214.395C236.842 214.527 236.879 214.678 236.873 214.83C236.866 214.983 236.816 215.13 236.729 215.255C236.641 215.38 236.52 215.478 236.379 215.536C236.238 215.594 236.083 215.611 235.933 215.584C235.783 215.557 235.643 215.488 235.531 215.385C235.419 215.281 235.339 215.148 235.3 215",fill:"black"}),g.jsx("path",{d:"M236.2 214.9C236.187 214.966 236.148 215.025 236.092 215.062C236.035 215.1 235.967 215.113 235.9 215.1C235.834 215.087 235.776 215.048 235.738 214.991C235.701 214.935 235.687 214.866 235.7 214.8C235.695 214.763 235.7 214.725 235.716 214.69C235.731 214.656 235.756 214.627 235.787 214.606C235.819 214.585 235.855 214.573 235.893 214.572C235.931 214.571 235.968 214.581 236 214.6C236 214.6 236.2 214.7 236.2 214.9Z",fill:"#D5D3CA"}),g.jsx("path",{d:"M237.5 211.3C237.5 211.3 238.7 210.1 239 208.5V206L239.7 206.7L240 207.9L239.6 209.9L240.9 209.3C241.66 207.748 242.005 206.025 241.9 204.3C241.9 204.3 242.2 205 241.7 207.3C241.2 209.6 240.8 209.9 239.1 210.9C237.808 211.693 236.767 212.838 236.1 214.2L234.2 216.7C234.2 216.7 235.1 215.5 235.5 214.5C236.3 213.1 236.767 212.367 236.9 212.3L237.5 211.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M236.9 212.3C236.9 212.3 237.4 210.7 237.4 209.8C237.4 208.9 236.8 207.9 236.8 207.9C236.8 207.9 237.6 207.9 237.7 209.7C237.7 211.7 237.4 211.7 236.9 212.3Z",fill:"#904720"}),g.jsx("path",{d:"M239.3 210.3C239.3 210.3 239.9 208.8 239.9 207.9C239.9 206.9 239.1 206 239.1 206C239.1 206 240.1 206.2 240.1 208C240.1 209.7 239.9 209.7 239.3 210.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M233.7 216.8C233.7 216.8 233.2 216.2 233.3 215.8C233.4 215.4 233.3 215.2 234.4 214C235.21 213.293 235.888 212.446 236.4 211.5C236.7 210.9 237.6 209.2 236.9 207.9C236.9 207.9 237.4 209.9 236.3 211.3C235.561 212.434 234.65 213.447 233.6 214.3C232.6 215 232.6 215.3 232.6 215.7C232.6 216.1 232.7 216.367 232.9 216.5L233.7 216.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M244.4 220.5C244.4 220.5 244.6 220.5 244.8 220.2C244.933 219.933 244.833 219.533 244.5 219C244.168 218.552 243.717 218.206 243.2 218L241.6 217.8C241.6 217.8 241.9 218.4 242.6 218.8C243 219 243.6 218.8 244 219.1C244.3 219.5 244.4 220.5 244.4 220.5Z",fill:"#6C4119"}),g.jsx("path",{d:"M244.4 220.5C244.4 220.5 245.6 220.1 245.7 218.9L245.6 217.9C245.6 217.9 245.8 218.3 246.3 218.5L246.7 218.3C246.7 218.3 246 220.6 244.4 220.5Z",fill:"#6C4119"}),g.jsx("path",{d:"M235.8 220.3L236.5 220.9L237.2 221.6L240.2 220.8L241.2 219.9L240.3 218.6H238.2L235.8 220.3Z",fill:"#BF802D"}),g.jsx("path",{d:"M243 219.3L242.5 218.5C242.5 218.5 242.3 218.2 241.9 218C241.5 217.8 239.7 217.8 239.7 217.8L238.4 218C238.4 218 238 218.4 237.4 218.2L235.2 217.5L233.8 216.8C233.8 216.8 232.7 216.4 232.4 216.5C232.2 216.5 231.4 217.5 231.4 217.5C231.4 217.5 231.1 218.1 231.5 218.1C231.8 218.1 231 218.3 231 218.3C231 218.3 228.7 219.5 228.4 221.7C228.1 223.9 232.1 227.2 233.6 225.5C233.6 225.5 231.4 223.9 231.8 222.5C232.2 221.167 233.266 220.4 235 220.2C236.7 220.2 236.8 219.9 237.6 219.4C238.3 218.8 239.7 218.5 240.8 219.6C241.8 220.7 236.8 221.7 236.8 221.7L237.4 222.5C237.4 222.5 243.5 220.4 243 219.3Z",fill:"#F9C83A",stroke:"#8F4620",strokeWidth:"0.3"}),g.jsx("path",{d:"M231.5 224.5C231.5 224.5 229 223.9 229.2 221.6C229.31 220.869 229.621 220.183 230.098 219.619C230.574 219.054 231.198 218.632 231.9 218.4C232.3 218.3 232.2 217.1 232.6 217C233 216.9 233.8 217 234.2 217.3C234.5 217.7 235.3 218 235.3 218C235.3 218 230.9 220 230.8 222.5C230.8 224.2 231.5 224.5 231.5 224.5Z",fill:"#FCF3D8"}),g.jsx("path",{d:"M243 219C243 219 242.7 219.2 242.6 219C242.2 218.2 241.1 218 240.2 218C239.1 218 238.3 218.4 237.5 218.4L236.1 218.2C235.1 218.2 233.3 216.8 232.8 216.9C232.4 217.167 232.233 217.5 232.3 217.9C232.3 218.1 231.5 218.2 231.3 217.9C231.1 217.6 232 216.5 232.8 216.5C234.9 216.5 236.5 217.9 237.5 217.9C238.5 217.9 238.8 217.4 240.2 217.4C241.6 217.4 243 218 243 219Z",fill:"#FDEAAF"}),g.jsx("path",{d:"M236.2 220.7L237.9 220.1L239.7 219.5L238.1 220.5L236.4 220.9L236.2 220.7Z",fill:"#513625"}),g.jsx("path",{d:"M232.6 225.8C232.466 226 231.666 225.7 230.2 224.9C228 223.7 228.4 222.4 228.4 222.4C228.4 222.4 228.1 220.9 229.6 219.4C231 217.8 231.2 218.3 231.3 218.4V218.5L230 219.5L229.3 220.6L228.8 221.6V222.6L229.5 223.8L231.5 225.1L232.6 225.8Z",fill:"#F9C83A"}),g.jsx("path",{d:"M231.9 217.2V217L231.7 217.1L231.9 217.2ZM231.9 217.2H231.7V217.3L231.9 217.2ZM231.9 217.2H231.7L231.3 217.7L231.1 218.2C231.1 218.4 231.2 218.567 231.4 218.7H232.6V218.4L232.4 218.3H231.6V218L231.9 217.6V217.2ZM231.9 217.2V217L231.8 216.8C231.762 216.795 231.724 216.8 231.69 216.816C231.655 216.831 231.626 216.856 231.605 216.887C231.584 216.919 231.573 216.955 231.572 216.993C231.571 217.03 231.58 217.068 231.6 217.1L231.9 217.2Z",fill:"#8B5122"}),g.jsx("path",{d:"M236.1 219.3L233.1 220.2C232.8 220.4 234 220.2 234.9 220.2H236.7C237.9 219.7 240.3 218.8 240.5 219.8C240.7 220.8 237.2 221.5 237.2 221.5V221.8L240 221.1L241.4 220.4L241.9 219.6L240.5 218.6H238.5L237.5 218.9L236.1 219.3Z",fill:"#F9C83A"}),g.jsx("path",{d:"M231.8 223.6C232 224.2 232.5 225.1 233 225.4C233 225.667 232.567 225.733 231.7 225.6C230.7 225.3 229.3 224.9 228.4 222.3V222.8L228.9 223.8L229.9 224.8L231.3 225.8L232.3 226L233.2 225.8L233.6 225.5L232.7 224.7L231.7 222.9V223.6H231.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M241.7 250.1V251.1H241.1L241.2 249.8L241.7 250.1ZM237.9 222.6L236.9 221.5H236.3L237.3 222.9L237.9 222.6Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M241.6 252.4L240.3 251.6L238.3 251.1V251.4H238.5L240.2 251.9L241.5 252.6L241.6 252.4ZM241.6 249.9H239.4C238.6 250.167 238.2 250.367 238.2 250.5L238.3 250.7C238.899 250.243 239.649 250.029 240.4 250.1H241.5L241.6 249.9ZM241.3 247.8L239.3 248.8L237.9 249.8L238.1 250L238.5 249.7L239.4 249.1L241.4 248.1L241.3 247.8ZM239.9 245.6L239.7 246.6L239.2 247.2L237.9 248.6L237.2 249.3L237.3 249.5L238.5 248.3L239.4 247.3L239.9 246.7C240.166 246.1 240.266 245.767 240.2 245.7H239.9V245.6ZM238.2 244.6C238.352 245.196 238.317 245.824 238.1 246.4L237.3 248.1L236.9 248.9L236.8 249.2H237C237 249.2 238 247.5 238.3 246.5L238.5 245.3V244.6H238.2ZM236.5 244.4V245.4L236.4 246.7L235.9 248.2L235.6 249H235.8L236.6 246.8C236.8 246.333 236.866 245.833 236.8 245.3V244.4H236.5ZM235.2 244.4V245.4L235.1 246.9L234.7 248.9H234.9L235 248.3L235.3 247C235.5 246.1 235.5 244.4 235.5 244.4H235.2ZM233.9 244.7V246.9C233.6 247.7 233.5 248.9 233.5 248.9H233.8L234.1 247V244.6L233.9 244.7ZM232.8 244.7V244.9L232.5 246.7L232.1 248.2L231.9 249L232.1 249.1L232.8 246.8L233 244.9V244.8H232.8V244.7ZM231.5 244.8V245.3C231.5 245.833 231.4 246.4 231.2 247C230.933 247.533 230.6 247.933 230.2 248.2L229.5 248.7H229.4L229.5 248.9C229.5 248.9 230.9 248.1 231.5 247.1C231.779 246.367 231.881 245.58 231.8 244.8H231.5ZM230.8 244.6V244.7L230 246.2L229 247.2L228.5 247.4L228.3 247.5L228.4 247.8C228.4 247.8 229.6 247.1 230.2 246.4C230.7 245.7 231 244.6 231 244.6H230.8ZM229.6 244V244.1L229.2 244.6C229.2 244.8 229.1 244.967 228.9 245.1L228.1 245.6L227.6 245.9L227.7 246.1L228.2 245.8L229 245.3L229.6 244.6L229.8 244.1L229.6 244ZM229 243.2L228.8 243.5L228.1 244.2L227.7 244.6L227.4 244.8V245L228 244.7L229.2 243.4L229 243.2ZM228.8 242.7L228.6 242.9L227.9 243.3L227.2 243.6V243.9C227.4 243.9 227.566 243.833 227.7 243.7L228.9 242.9L228.8 242.7ZM228.5 242.2L227.9 242.5L227.5 242.7L227.1 242.9V243.1L227.6 243L228.6 242.4L228.5 242.2ZM228.3 241.1L227.8 241.5L227.1 241.8V242C227.5 242 227.833 241.867 228.1 241.6L228.5 241.3L228.3 241.1ZM228.3 239.3L227.9 239.7L227.3 240.5L227.2 240.6V240.9L227.4 240.8L227.5 240.6C227.5 240.4 227.7 240.167 228.1 239.9L228.4 239.7L228.5 239.5L228.3 239.3ZM236.9 229.1H238.2V229L238.1 229.1V229H238V228.9H238.1H236.9V229.1ZM236.9 228.3L237.5 228.2L238.3 227.7L238.6 227.4H238.9V227.1L238.4 227.3L237.6 227.8L236.9 228.1V228.3ZM236.9 227.1L237.4 226.9L238.4 226.3L239.1 226V225.7L238.6 225.9L237.6 226.5L236.8 226.9V227.1H236.9ZM236.4 226.1L237.6 225.1L238.9 224.2L238.8 224L237.5 225L236.3 225.8L236.4 226.1ZM235.6 224.8L238.2 222.9L238 222.7L235.4 224.6L235.6 224.8ZM234.4 223.5L235.9 222.5L237.1 221.7L237 221.5L235.8 222.3L234.3 223.3L234.4 223.5ZM233.6 222.8L235.7 221.3L236.3 220.9V220.7L235.6 221L233.4 222.6L233.6 222.8Z",fill:"#816C2A"}),g.jsx("path",{d:"M235.6 220.3L237.6 222.3C238.467 223.367 238.933 224.467 239 225.6V226C238.727 227.496 238.033 228.884 237 230C235.5 231.9 233.2 233.5 231.4 235.1C230.5 235.831 229.693 236.67 229 237.6C228.39 238.41 228.042 239.387 228 240.4V240.5C228 241.567 228.333 242.467 229 243.2C229.597 244.034 230.492 244.607 231.5 244.8H232.1C233.5 244.8 235.1 244.3 236.6 244.3C237.8 244.233 238.967 244.733 240.1 245.8C241.1 246.9 241.4 248.7 241.4 250.4L241.1 253.7L240.8 255.2H241C241 255.2 241.7 252.9 241.7 250.4C241.7 248.7 241.3 246.8 240.3 245.6C239.819 245.109 239.243 244.723 238.606 244.465C237.97 244.207 237.287 244.082 236.6 244.1C235 244.1 233.5 244.5 232.1 244.5H231.5C231.034 244.462 230.583 244.316 230.184 244.073C229.785 243.829 229.448 243.496 229.2 243.1C228.663 242.335 228.351 241.434 228.3 240.5V240.4C228.3 239.133 228.833 237.967 229.9 236.9C231.3 235.3 233.5 233.7 235.4 231.9C237.4 230.3 239 228.4 239.3 225.9V225.6C239.3 224.2 238.3 222.8 237.4 221.7L235.6 220V220.3Z",fill:"#78732E"}),g.jsx("path",{d:"M233.7 222.8L233.4 222.5L233.1 222.6L233.6 223L233.7 222.8ZM234.5 223.5L234.3 223.3H234.1L234.3 223.6L234.5 223.5Z",fill:"#A8AC71"}),g.jsx("path",{d:"M235.6 224.8L235.4 224.5L235.3 224.7L235.6 224.8ZM236.4 226V225.8H236.1L236.4 226.1V226ZM236.9 227.2V226.9H236.8L236.9 227.2ZM227.2 241L227.3 240.4C227.4 240.1 227.1 240.5 227.1 240.5V240.9H227.2V241Z",fill:"#78732E"}),g.jsx("path",{d:"M227.1 241.7V242.1H227.2L227.1 241.7Z",fill:"white"}),g.jsx("path",{d:"M227.2 243.1V242.8H227V243.3L227.2 243.1Z",fill:"#78732E"}),g.jsx("path",{d:"M227.3 243.9V243.6H227.1V243.9H227.3ZM227.8 246.2L227.6 245.8V246.2H227.8Z",fill:"white"}),g.jsx("path",{d:"M228.5 247.8L228.4 247.5H228.2L228.5 247.8ZM229.7 248.9L229.3 248.6C229.1 248.4 229.2 248.8 229.2 248.8L229.5 249L229.7 248.9ZM237.5 249.5L237.2 249.3L237.4 249.6V249.5H237.5Z",fill:"#A8AC71"}),g.jsx("path",{d:"M238.2 250L237.9 249.8V250H238.1H238.2Z",fill:"white"}),g.jsx("path",{d:"M238.3 250.3L238.1 250.5L238.4 250.7L238.3 250.3Z",fill:"#A8AC71"}),g.jsx("path",{d:"M238 252.6V252.3L237.8 252.6H238ZM226 210.9C226 210.9 226.5 210.8 226.1 211.3L226.4 210.9L226.2 210.8L226 210.9Z",fill:"white"}),g.jsx("path",{d:"M235.7 220L236 220.3L235.6 220.2L235.7 220Z",fill:"#F9C83A"}),g.jsx("path",{d:"M236 220.3H235.4L235.6 220.2L236 220.3Z",fill:"#8F4620"}),g.jsx("path",{d:"M240.7 255.3C240.7 255.3 241.1 255.3 241.2 255C241.4 254.8 241.2 255.3 241.2 255.3L240.9 255.4L240.7 255.3Z",fill:"#977C2E"})]}),g.jsxs("defs",{children:[g.jsxs("radialGradient",{id:"paint0_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(2.78573 1.17983 -1.15213 2.79993 234.885 267.814)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsxs("radialGradient",{id:"paint1_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(-0.27566 -2.98743 2.7721 -0.263226 214.229 257.819)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsxs("radialGradient",{id:"paint2_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(1.00364 1.19767 -2.32347 2.00377 290.391 274.461)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsx("clipPath",{id:"clip0_4989_137735",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})]})]}),gxe=t=>g.jsxs("svg",{width:"256",height:"256",viewBox:"0 0 256 256",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("g",{clipPath:"url(#clip0_4989_137730)",children:g.jsxs("g",{clipPath:"url(#clip1_4989_137730)",children:[g.jsx("path",{d:"M-65.3379 -3.625H434.837V259.625H-65.3379",fill:"#B31942"}),g.jsx("path",{d:"M-65.3379 26.75H434.837ZM434.837 67.25H-65.3379ZM-65.3379 107.75H434.837ZM434.837 148.25H-65.3379ZM-65.3379 188.75H434.837ZM434.837 229.25H-65.3379Z",fill:"black"}),g.jsx("path",{d:"M-65.3379 26.75H434.837M434.837 67.25H-65.3379M-65.3379 107.75H434.837M434.837 148.25H-65.3379M-65.3379 188.75H434.837M434.837 229.25H-65.3379",stroke:"white",strokeWidth:"20.25"}),g.jsx("path",{d:"M-65.3379 -3.625H134.732V138.125H-65.3379",fill:"#0A3161"}),g.jsx("path",{d:"M1.352 16.625L6.11306 31.278L-6.35156 22.2219H9.05555L-3.40906 31.278L1.352 16.625Z",fill:"white"}),g.jsx("path",{d:"M1.352 44.975L6.11306 59.628L-6.35156 50.5719H9.05555L-3.40906 59.628L1.352 44.975Z",fill:"white"}),g.jsx("path",{d:"M1.352 73.325L6.11306 87.978L-6.35156 78.9219H9.05555L-3.40906 87.978L1.352 73.325Z",fill:"white"}),g.jsx("path",{d:"M1.352 101.675L6.11306 116.328L-6.35156 107.272H9.05555L-3.40906 116.328L1.352 101.675Z",fill:"white"}),g.jsx("path",{d:"M18.0248 2.44998L22.7859 17.103L10.3213 8.04694H25.7284L13.2638 17.103L18.0248 2.44998Z",fill:"white"}),g.jsx("path",{d:"M18.0248 30.8L22.7859 45.453L10.3213 36.3969H25.7284L13.2638 45.453L18.0248 30.8Z",fill:"white"}),g.jsx("path",{d:"M18.0248 59.15L22.7859 73.803L10.3213 64.7469H25.7284L13.2638 73.803L18.0248 59.15Z",fill:"white"}),g.jsx("path",{d:"M18.0248 87.5L22.7859 102.153L10.3213 93.0969H25.7284L13.2638 102.153L18.0248 87.5Z",fill:"white"}),g.jsx("path",{d:"M18.0248 115.85L22.7859 130.503L10.3213 121.447H25.7284L13.2638 130.503L18.0248 115.85Z",fill:"white"}),g.jsx("path",{d:"M34.6977 16.625L39.4588 31.278L26.9941 22.2219H42.4013L29.9366 31.278L34.6977 16.625Z",fill:"white"}),g.jsx("path",{d:"M34.6977 44.975L39.4588 59.628L26.9941 50.5719H42.4013L29.9366 59.628L34.6977 44.975Z",fill:"white"}),g.jsx("path",{d:"M34.6977 73.325L39.4588 87.978L26.9941 78.9219H42.4013L29.9366 87.978L34.6977 73.325Z",fill:"white"}),g.jsx("path",{d:"M34.6977 101.675L39.4588 116.328L26.9941 107.272H42.4013L29.9366 116.328L34.6977 101.675Z",fill:"white"}),g.jsx("path",{d:"M51.3696 2.44992L56.1306 17.103L43.666 8.04688H59.0731L46.6085 17.103L51.3696 2.44992Z",fill:"white"}),g.jsx("path",{d:"M51.3696 30.7999L56.1306 45.453L43.666 36.3969H59.0731L46.6085 45.453L51.3696 30.7999Z",fill:"white"}),g.jsx("path",{d:"M51.3696 59.1499L56.1306 73.803L43.666 64.7469H59.0731L46.6085 73.803L51.3696 59.1499Z",fill:"white"}),g.jsx("path",{d:"M51.3696 87.4999L56.1306 102.153L43.666 93.0969H59.0731L46.6085 102.153L51.3696 87.4999Z",fill:"white"}),g.jsx("path",{d:"M51.3696 115.85L56.1306 130.503L43.666 121.447H59.0731L46.6085 130.503L51.3696 115.85Z",fill:"white"}),g.jsx("path",{d:"M68.0424 16.625L72.8035 31.278L60.3389 22.2219H75.746L63.2814 31.278L68.0424 16.625Z",fill:"white"}),g.jsx("path",{d:"M68.0424 44.9749L72.8035 59.628L60.3389 50.5719H75.746L63.2814 59.628L68.0424 44.9749Z",fill:"white"}),g.jsx("path",{d:"M68.0424 73.325L72.8035 87.978L60.3389 78.9219H75.746L63.2814 87.978L68.0424 73.325Z",fill:"white"}),g.jsx("path",{d:"M68.0424 101.675L72.8035 116.328L60.3389 107.272H75.746L63.2814 116.328L68.0424 101.675Z",fill:"white"}),g.jsx("path",{d:"M84.7143 2.44998L89.4754 17.103L77.0107 8.04694H92.4179L79.9532 17.103L84.7143 2.44998Z",fill:"white"}),g.jsx("path",{d:"M84.7143 30.8L89.4754 45.453L77.0107 36.3969H92.4179L79.9532 45.453L84.7143 30.8Z",fill:"white"}),g.jsx("path",{d:"M84.7143 59.15L89.4754 73.803L77.0107 64.7469H92.4179L79.9532 73.803L84.7143 59.15Z",fill:"white"}),g.jsx("path",{d:"M84.7143 87.5L89.4754 102.153L77.0107 93.0969H92.4179L79.9532 102.153L84.7143 87.5Z",fill:"white"}),g.jsx("path",{d:"M84.7143 115.85L89.4754 130.503L77.0107 121.447H92.4179L79.9532 130.503L84.7143 115.85Z",fill:"white"}),g.jsx("path",{d:"M101.387 16.625L106.148 31.278L93.6836 22.2219H109.091L96.6261 31.278L101.387 16.625Z",fill:"white"}),g.jsx("path",{d:"M101.387 44.975L106.148 59.628L93.6836 50.5719H109.091L96.6261 59.628L101.387 44.975Z",fill:"white"}),g.jsx("path",{d:"M101.387 73.325L106.148 87.978L93.6836 78.9219H109.091L96.6261 87.978L101.387 73.325Z",fill:"white"}),g.jsx("path",{d:"M101.387 101.675L106.148 116.328L93.6836 107.272H109.091L96.6261 116.328L101.387 101.675Z",fill:"white"}),g.jsx("path",{d:"M118.06 2.44995L122.821 17.103L110.356 8.04691H125.764L113.299 17.103L118.06 2.44995Z",fill:"white"}),g.jsx("path",{d:"M118.06 30.8L122.821 45.453L110.356 36.3969H125.764L113.299 45.453L118.06 30.8Z",fill:"white"}),g.jsx("path",{d:"M118.06 59.15L122.821 73.803L110.356 64.7469H125.764L113.299 73.803L118.06 59.15Z",fill:"white"}),g.jsx("path",{d:"M118.06 87.4999L122.821 102.153L110.356 93.0969H125.764L113.299 102.153L118.06 87.4999Z",fill:"white"}),g.jsx("path",{d:"M118.06 115.85L122.821 130.503L110.356 121.447H125.764L113.299 130.503L118.06 115.85Z",fill:"white"})]})}),g.jsxs("defs",{children:[g.jsx("clipPath",{id:"clip0_4989_137730",children:g.jsx("rect",{width:"256",height:"256",rx:"128",fill:"white"})}),g.jsx("clipPath",{id:"clip1_4989_137730",children:g.jsx("rect",{width:"500.175",height:"263.25",fill:"white",transform:"translate(-65.3379 -3.625)"})})]})]}),bTe={usd:{symbol:"$",name:"US Dollar",icon:g.jsx(gxe,{})},eur:{symbol:"€",name:"Euro",icon:g.jsx(fxe,{})},gbp:{symbol:"£",name:"British Pound",icon:g.jsx(pxe,{})},mxn:{symbol:"$",name:"Mexican Peso",icon:g.jsx(mxe,{})},brl:{symbol:"R$",name:"Brazilian Real",icon:g.jsx(hxe,{})}},vTe={usd:[["asset","Currency"],["bank_beneficiary_name","Beneficiary name"],["bank_beneficiary_address","Beneficiary address"],["bank_account_number","Account number"],["bank_routing_number","Routing number"],["bank_name","Bank name"],["bank_address","Bank address"]],eur:[["asset","Currency"],["account_holder_name","Account holder"],["iban","IBAN"],["bic","BIC / SWIFT"],["bank_name","Bank name"],["bank_address","Bank address"]],mxn:[["asset","Currency"],["account_holder_name","Account holder"],["clabe","CLABE"],["bank_name","Bank name"],["bank_address","Bank address"]],brl:[["asset","Currency"],["account_holder_name","Account holder"],["br_code","PIX code"],["bank_name","Bank name"],["bank_address","Bank address"]],gbp:[["asset","Currency"],["account_holder_name","Account holder"],["account_number","Account number"],["sort_code","Sort code"],["bank_name","Bank name"],["bank_address","Bank address"]]};async function Aa(t,e){const n=e||{},r={};let i;n.body&&typeof n.body=="object"&&(r["Content-Type"]="application/json",i=JSON.stringify(n.body));const s=new AbortController;let a=null;(n.timeoutMs||0)>0&&(a=setTimeout(()=>s.abort(),n.timeoutMs));let o;try{o=await fetch(t,{method:n.method||"GET",headers:r,body:i,signal:s.signal})}catch(l){throw l?.name==="AbortError"&&(n.timeoutMs||0)>0?new Error(`Request timed out (${n.timeoutMs}ms)`):l}finally{a&&clearTimeout(a)}const c=await o.json().catch(()=>null);if(!o.ok){const l=(c?.error||c?.message||"Request failed")+" ("+o.status+")";throw new Error(l)}return c}const yxe=5*60*1e3,wxe=1200,bxe=4800,vxe=18;let Q2=null;function gj(t,e,n){const r=t.trim()||"Deliver deterministic, verifiable outcomes.",i=e||"enclagent_profile";return{summary:`Objective mapped to a deterministic setup plan for ${i} (${n||"general"}).`,mermaid:`graph TD
  A[User Objective] --> B[Policy Synthesis]
  B --> C[Config Validation]
  C --> D[Identity and Signature]
  D --> E[Provisioning]
  E --> F[Runtime Verification]
  B --> G[Mission and Personality Seeding]`,identityMarkdown:`# IDENTITY

## Name
${i}

## Personality
- Precise, deterministic, and audit-focused
- Security-first with explicit policy gates
- Clear error handling and operational discipline

## Operating Style
- Prefer verifiable outputs over speculative behavior
- Preserve signer and policy constraints at all times`,missionMarkdown:`# MISSION

## Core Mission
${r}

## Success Criteria
- Deterministic policy execution
- Verifiable receipts and evidence links
- Safe fallback behavior under degraded dependencies

## Constraints
- No live execution without explicit signer authorization
- Preserve privacy and module governance boundaries`}}function _xe(t){const e=String(t||"").replace(/```mermaid|```/gi,"").trim();if(!e)return`graph TD
  A[User Objective] --> B[Policy Synthesis]
  B --> C[Config Validation]
  C --> D[Identity and Signature]
  D --> E[Provisioning]
  E --> F[Runtime Verification]
  B --> G[Mission and Personality Seeding]`;if(/^(graph|flowchart)\s+TD\b/i.test(e)){const n=e.split(/\r?\n/).map(s=>s.trimEnd()).filter(s=>s.trim().length>0),r=n[0]||"graph TD",i=n.slice(1,1+vxe);return i.length===0?`graph TD
  A[Launch Objective] --> B[Policy Synthesis]`:[r,...i].join(`
`)}return/^(graph|flowchart)\s+/i.test(e)?`graph TD
  A[Launch Objective] --> B[Policy Synthesis]`:`graph TD
  A[Launch Objective] --> B[${e.replace(/\n+/g," ").slice(0,120)}]`}function rA(t,e,n){const r=String(t||"").trim();return r?/^#\s+/m.test(r)?r:`# ${e}

${r}`:`# ${e}

${n}`}function Cxe(t){const e=String(t||"").trim();if(!e)return null;try{const s=JSON.parse(e);if(s&&typeof s=="object"&&!Array.isArray(s))return s}catch{}const n=e.match(/```json\s*([\s\S]*?)```/i);if(n?.[1])try{const s=JSON.parse(n[1].trim());if(s&&typeof s=="object"&&!Array.isArray(s))return s}catch{}const r=e.indexOf("{"),i=e.lastIndexOf("}");if(r>=0&&i>r){const s=e.slice(r,i+1);try{const a=JSON.parse(s);if(a&&typeof a=="object"&&!Array.isArray(a))return a}catch{return null}}return null}function Exe(t){const e=t.toLowerCase();return e.includes("claude")||e.includes("anthropic")||e.includes("minimax")||e.includes("m2.5")}function iA(t){const e=t.toLowerCase();return e.includes("minimax")&&e.includes("m2.5")?100:e.includes("minimax")?95:e.includes("claude")?90:e.includes("anthropic")?80:e.includes("gpt")?20:10}function xxe(t){const e=t.map(r=>String(r||"").trim()).filter(Boolean);return e.length===0?null:[...e].sort((r,i)=>iA(i)-iA(r))[0]||null}async function Axe(){const t=Date.now();if(Q2&&Q2.expiresAt>t)return Q2.models;try{const n=((await Aa("/v1/models",{timeoutMs:wxe}))?.data||[]).map(r=>String(r?.id||"").trim()).filter(Boolean);return n.length>0&&(Q2={models:n,expiresAt:t+yxe}),n}catch{return Q2?.models?.length?Q2.models:[]}}function Lxe(t){return["Create a launchpad setup blueprint for an Enclagent frontdoor provisioning flow.","Return strict JSON with keys: summary, mermaid, identity_markdown, mission_markdown.","The mermaid value must be a valid `graph TD` flow with at least 6 nodes.","The identity_markdown and mission_markdown should be high-quality seed docs.",`objective: ${t.objective}`,`profile_name: ${t.profile_name}`,`profile_domain: ${t.profile_domain}`,`custody_mode: ${t.custody_mode}`,`verification_backend: ${t.verification_backend}`,`runtime_decision_title: ${t.decision_title}`,`runtime_decision_reason: ${t.decision_reason}`].join(`
`)}async function sA(t,e){const r=await Aa("/v1/chat/completions",{method:"POST",timeoutMs:bxe,body:{model:t,temperature:.25,max_tokens:700,messages:[{role:"system",content:"You generate launchpad setup blueprints. Output valid JSON only with keys summary, mermaid, identity_markdown, mission_markdown."},{role:"user",content:Lxe(e)}]}}),i=String(r?.choices?.[0]?.message?.content||"").trim(),s=Cxe(i);if(!s)return null;const a=gj(e.objective,e.profile_name,e.profile_domain),o=String(s.summary||a.summary).trim()||a.summary,c=_xe(String(s.mermaid||a.mermaid)),l=rA(String(s.identity_markdown||a.identityMarkdown),"IDENTITY","Deterministic, security-first, verifiable agent profile."),u=rA(String(s.mission_markdown||a.missionMarkdown),"MISSION",e.objective||"Deliver deterministic outcomes."),d=String(r?.model||t||"unknown-model");return{summary:o,mermaid:c,identityMarkdown:l,missionMarkdown:u,model:d,anthropicCompatibleSelected:Exe(d)}}function Sxe(t){const n=String(t?.message||t||"").match(/active model is '([^']+)'/i);return n?.[1]?String(n[1]).trim():null}const ai={async suggestConfig(t){return Aa("/api/frontdoor/suggest-config",{method:"POST",body:t})},async challenge(t){return Aa("/api/frontdoor/challenge",{method:"POST",body:t})},async verify(t){return Aa("/api/frontdoor/verify",{method:"POST",body:t})},async getSession(t){return Aa("/api/frontdoor/session/"+encodeURIComponent(t))},async getSessionTimeline(t){return Aa("/api/frontdoor/session/"+encodeURIComponent(t)+"/timeline")},async getOnboardingState(t){return Aa("/api/frontdoor/onboarding/state?session_id="+encodeURIComponent(t))},async postOnboardingChat(t,e){return(await Aa("/api/frontdoor/onboarding/chat",{method:"POST",body:{session_id:t,message:e}}))?.state||{}},async generateLaunchpadBlueprint(t){const e=gj(t.objective,t.profile_name,t.profile_domain),n=await Axe(),r=xxe(n)||"";if(!r)return{...e,model:"fallback:no-llm-model",anthropicCompatibleSelected:!1};try{const i=await sA(r,t);if(i)return i}catch(i){const s=Sxe(i);if(s&&s!==r)try{const a=await sA(s,t);if(a)return a}catch{}}return{...e,model:"fallback:deterministic-launchpad",anthropicCompatibleSelected:!1}}},Ixe=["identity","objective","config","decision","signature","provisioning"],Cp=160,aA=900,Ep={wallet:{label:"Wallet",title:"Wallet Sign-In",summary:"Connect an external wallet or use Privy embedded wallet.",details:["Uses wallet address as identity context for launch sessions.","Signature challenge runs against the active Ethereum signer.","Embedded wallet is auto-provisioned for users without one."]},email:{label:"Email",title:"Email OTP Sign-In",summary:"Authenticate by one-time code and then continue with embedded wallet.",details:["Email verifies identity before wallet challenge flow begins.","Privy provisions embedded wallet for signature operations.","No browser extension is required for first-time setup."]},google:{label:"Google",title:"Google OAuth Sign-In",summary:"Authenticate with Google and continue using Privy wallet flow.",details:["OAuth identity maps to a Privy user profile.","Wallet signer setup remains deterministic for challenge verification.","Embedded wallet fallback stays available if external wallet is absent."]}};function Txe(t){const e=t,n=Array.isArray(e?.linkedAccounts)?e.linkedAccounts:[];for(const r of n){const i=String(r?.type||"").trim().toLowerCase(),s=String(r?.provider||"").trim().toLowerCase();if(i==="google_oauth"||i==="google"||s==="google")return"google";if(i==="email")return"email";if(i==="wallet")return"wallet"}return null}function lr(t){const e=String(t||"").trim();return/^0x[a-fA-F0-9]{40}$/.test(e)?e.toLowerCase():""}function el(t){return!!t&&typeof t=="object"&&typeof t.request=="function"}function C4(t){if(typeof t=="number"&&Number.isFinite(t)&&t>0)return"0x"+t.toString(16);if(typeof t!="string")return"";const e=t.trim();return e?/^0x[0-9a-fA-F]+$/.test(e)?"0x"+parseInt(e,16).toString(16):/^\d+$/.test(e)?"0x"+parseInt(e,10).toString(16):"":""}function kxe(t){const e=C4(t);if(!e)return null;const n=parseInt(e,16);return Number.isFinite(n)&&n>0?n:null}function oA(t){const e=String(t?.message||t||"").toLowerCase();return e.includes("already")&&e.includes("wallet")}function yj(t){const e=t;if(!e?.linkedAccounts)return"";for(const n of e.linkedAccounts)if(n?.type==="wallet"&&(n.walletClientType==="privy"||n.wallet_client_type==="privy")&&(n.chainType==="ethereum"||n.chain_type==="ethereum")&&typeof n.address=="string"){const r=String(n.address).trim();if(/^0x[a-fA-F0-9]{40}$/.test(r))return r}return""}function xg(t){const e=t;if(!e)return"";const n=yj(e);if(n)return n;const r=e.linkedAccounts||e.linked_accounts||[];for(const i of r)if(i?.address&&/^0x[a-fA-F0-9]{40}$/.test(String(i.address)))return String(i.address).trim();return e.wallet?.address&&/^0x[a-fA-F0-9]{40}$/.test(String(e.wallet.address))?String(e.wallet.address).trim():e.wallet_address&&/^0x[a-fA-F0-9]{40}$/.test(String(e.wallet_address))?String(e.wallet_address).trim():""}function Ag(t,e){const n=t;return n?.id?String(n.id).trim():n?.user_id?String(n.user_id).trim():n?.did?String(n.did).trim():e?`wallet:${lr(e)}`:""}function Pxe(t){return!t||t.length<=8?t||"-":t.slice(0,4)+"..."+t.slice(-4)}function Oxe(){const t="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789",e=new Uint8Array(32);crypto.getRandomValues(e);let n="";for(let r=0;r<e.length;r++)n+=t[e[r]%t.length];return n}function Rxe(){const t=String(window.location.hostname||"").toLowerCase();return!t||t==="localhost"||t==="127.0.0.1"?"Local":/stage|staging|-stg/.test(t)?"Staging":"Production"}function $xe(t){const e=String(t.status||"").toLowerCase(),n=String(t.event_type||"").toLowerCase();return e.includes("failed")||e.includes("error")?"error":e==="ready"||n.includes("ready")?"success":"info"}function Mxe(t){const e=String(t.detail||"").trim();let n=String(t.actor||t.event_type||"system"),r=String(t.event_type||"event"),i=e||t.event_type||"event";const s=e.match(/^\[([^/\]]+)\/([^\]]+)\]\s*(.*)$/);if(s)n=String(s[1]||n).trim().toLowerCase(),r=String(s[2]||r).trim().toLowerCase(),i=String(s[3]||"").trim()||i;else if(t.event_type!=="provision_log"){const a=String(t.event_type||"").trim();i=a?`${a}: ${i}`:i}return{seqId:Number(t.seq_id||0),createdAt:String(t.created_at||""),source:n||"system",stream:r||"event",level:$xe(t),text:i}}function Nxe(t){const e=new Date(t);return Number.isNaN(e.getTime())?"--:--:--":e.toLocaleTimeString([],{hour12:!1})}function Dxe(t,e){const n={...t},r=n.domain_overrides||{};return n.domain_overrides={...r,agent_seed_identity_md:e.identityMarkdown,agent_seed_mission_md:e.missionMarkdown,launchpad_setup_mermaid:e.mermaid,launchpad_blueprint_summary:e.summary,launchpad_blueprint_model:e.model},n}function jxe(t,e){return["Configuration and setup blueprint are ready.",t.anthropicCompatibleSelected?`Blueprint model: ${t.model} (Anthropic-compatible)`:`Blueprint model: ${t.model}`,t.summary,"```mermaid",t.mermaid,"```","Core markdown seeds generated and attached to launch config:","- `IDENTITY.md`","- `MISSION.md`",`Runtime decision: ${e.title}. ${e.reason}`,"Reply continue to issue your challenge and sign."].join(`
`)}function Uxe(t){const e=String(t||""),n=[],r=/```mermaid\s*([\s\S]*?)```/gi;let i=0;for(const a of e.matchAll(r)){const o=a[0],c=a[1]||"",l=a.index??-1;if(l<0)continue;if(l>i){const d=e.slice(i,l).trim();d&&n.push({type:"text",content:d})}const u=c.trim();u&&n.push({type:"mermaid",content:u}),i=l+o.length}const s=e.slice(i).trim();return s&&n.push({type:"text",content:s}),n.length>0?n:[{type:"text",content:e}]}function Bxe({code:t}){const[e,n]=R.useState(""),[r,i]=R.useState(!1),s=R.useId(),a=R.useRef(0);return R.useEffect(()=>{let o=!0;return(async()=>{i(!1),n("");try{const l=a.current+1;a.current=l;const d=(await _e(()=>import("./launchpad-mermaid.core-BGISQ57D.js").then(p=>p.bC),__vite__mapDeps([167,1]))).default;d.initialize({startOnLoad:!1,securityLevel:"strict",theme:"dark"});const h=`lp-mermaid-${s.replace(/[:]/g,"")}-${l}`,f=await d.render(h,t);if(!o)return;n(String(f.svg||""))}catch{if(!o)return;i(!0)}})(),()=>{o=!1}},[t,s]),r?g.jsx("pre",{className:"lp-mermaid-fallback",children:t}):e?g.jsx("div",{className:"lp-mermaid-graph",dangerouslySetInnerHTML:{__html:e}}):g.jsx("div",{className:"lp-mermaid-loading",children:"Rendering graph..."})}function Fxe({text:t}){const e=R.useMemo(()=>Uxe(t),[t]);return g.jsx(g.Fragment,{children:e.map((n,r)=>n.type==="mermaid"?g.jsx("div",{className:"lp-mermaid-card",children:g.jsx(Bxe,{code:n.content})},`m-${r}`):g.jsx("div",{className:"lp-msg-text",children:n.content},`t-${r}`))})}function zxe({bootstrap:t}){const n=!!String(t.privy_app_id||"").trim(),r=fO(),{wallets:i,ready:s}=mk(),a=r?.user??null,o=!!r?.ready,c=!!a,[l,u]=R.useState(null),d=R.useMemo(()=>a?yj(a):"",[a]),h=R.useCallback(async K=>{if(!el(K))return"";try{const se=await K.request({method:"eth_accounts"});if(Array.isArray(se)&&se.length>0)return lr(String(se[0]||""))}catch{return""}return""},[]),f=R.useCallback(async K=>{if(!s||!Array.isArray(i)||i.length===0)return null;const se=lr(K),Pe=lr(d),De=[...i.filter(A=>{const S=String(A.chainType||A.chain_type||"").trim().toLowerCase();if(S&&S!=="ethereum")return!1;const z=String(A.walletClientType||A.wallet_client_type||"").trim().toLowerCase();if(z==="privy")return!0;if(z)return!1;const F=lr(String(A.address||""));return!!Pe&&F===Pe})];se&&De.sort((A,S)=>{const z=lr(String(A.address||""))===se,F=lr(String(S.address||""))===se;return z===F?0:z?-1:1});for(const A of De)if(typeof A.getEthereumProvider=="function")try{const S=await A.getEthereumProvider();if(!el(S))continue;const z=await S.request({method:"eth_chainId"}).catch(()=>""),F=await h(S);return{provider:S,walletAddress:F||lr(String(A.address||""))||se,chainId:C4(z)}}catch{continue}return null},[d,h,i,s]),{login:p}=HQ({onComplete:async K=>{const se=K?.user||null,Pe=xg(se)||K.walletAddress||"",ce=lr(Pe),De=Ag(se,ce),A=K.identityToken||"",S=K.accessToken||"",z=C4(K.chainId||""),F=el(K.ethereumProvider)?K.ethereumProvider:null,H=await f(ce),G=await h(F),te=H?.walletAddress||G||ce,re=!!F&&!!G&&(!te||G===te);Rr({walletAddress:te,privyUserId:De,identityToken:A,accessToken:S,chainId:z||H?.chainId||"",ethereumProvider:H?.provider||(re?F:null)})},onError:K=>{const se=String(K?.message??K);se.includes("exited_auth_flow")||se.includes("user_cancelled")||fe("error","Privy login failed: "+se)}}),[m,y]=R.useState({phase:"await_identity",walletAddress:"",chainId:"",sessionId:"",challengeMessage:"",objective:"",config:null,decision:null,gatewayAuthKey:"",privyUserId:"",privyIdentityToken:"",privyAccessToken:"",ethereumProvider:null,pollingTimer:null,latestSessionStatus:"",redirectAttempted:!1}),C=d||xg(a)||m.walletAddress,L=lr(C),[w,b]=R.useState(()=>({identity:{status:"active",detail:"Waiting for Privy login."},objective:{status:"pending",detail:"Waiting for your goal."},config:{status:"pending",detail:"Not generated yet."},decision:{status:"pending",detail:"No decision yet."},signature:{status:"pending",detail:"Awaiting challenge issue."},provisioning:{status:"pending",detail:"No instance yet."}})),[x,_]=R.useState([]),[I,M]=R.useState(!1),[N,U]=R.useState(null),[B,P]=R.useState(""),[T,j]=R.useState({}),[v,E]=R.useState({}),[O,k]=R.useState([]),$=R.useRef(!1),D=R.useRef(""),W=R.useRef(""),q=R.useRef(!1),X=R.useRef(""),J=R.useRef(""),Q=R.useRef(null),he=R.useRef(!1),de=R.useRef(""),Ce=R.useRef(!1),oe=R.useRef(null),V=R.useRef(null),je=R.useRef(0),Fe=R.useRef(m),fe=R.useCallback((K,se)=>{_(Pe=>{const ce=[...Pe,{role:K,text:se}];return ce.length>Cp?ce.slice(ce.length-Cp):ce})},[]),$e=R.useCallback((K,se)=>{_(Pe=>{const ce=Pe[Pe.length-1];if(ce&&ce.role===K&&ce.text===se)return Pe;const De=[...Pe,{role:K,text:se}];return De.length>Cp?De.slice(De.length-Cp):De})},[]),ye=R.useCallback(K=>{if(!Array.isArray(K)||K.length===0)return;const se=K.filter(ce=>Number(ce.seq_id||0)>je.current).sort((ce,De)=>Number(ce.seq_id||0)-Number(De.seq_id||0));if(se.length===0)return;je.current=Number(se[se.length-1]?.seq_id||je.current);const Pe=se.map(Mxe);k(ce=>{const De=[...ce,...Pe];return De.length>aA?De.slice(De.length-aA):De})},[]),ge=R.useCallback((K,se,Pe)=>{b(ce=>({...ce,[K]:{status:se,detail:Pe}}))},[]),{createWallet:vs}=hO({onSuccess:()=>{$e("system","Embedded wallet provisioned. Finalizing identity."),ge("identity","active","Embedded wallet provisioned. Finalizing identity.")},onError:K=>{oA(K)||$e("error","Embedded wallet provisioning failed: "+String(K||"unknown_error"))}}),Pr=R.useCallback(async()=>{if(!q.current){q.current=!0,ge("identity","active","Provisioning Privy embedded wallet..."),$e("system","No wallet detected yet. Provisioning embedded wallet via Privy.");try{await vs()}catch(K){oA(K)||$e("error","Embedded wallet provisioning failed: "+String(K?.message||K))}finally{q.current=!1}}},[$e,vs,ge]);R.useEffect(()=>{X.current=m.sessionId},[m.sessionId]),R.useEffect(()=>{J.current=m.latestSessionStatus},[m.latestSessionStatus]),R.useEffect(()=>{Ce.current=m.redirectAttempted},[m.redirectAttempted]),R.useEffect(()=>{Fe.current=m},[m]);const ze=R.useCallback(()=>{Q.current&&(clearInterval(Q.current),Q.current=null),he.current=!1,y(K=>K.pollingTimer?{...K,pollingTimer:null}:K)},[]),Or=R.useCallback(async()=>{const K=X.current;if(K&&!he.current){he.current=!0;try{const se=await ai.getSession(K),Pe=await ai.getSessionTimeline(K).catch(()=>null),ce=String(se.status||"");if(j(se),Pe?.events?.length&&ye(Pe.events),ce&&ce!==J.current&&(J.current=ce,y(De=>De.latestSessionStatus===ce?De:{...De,latestSessionStatus:ce}),fe("system",`Session status: ${ce} - ${se.detail||""}`)),ce==="ready"){ze(),y(A=>({...A,phase:"ready"})),ge("provisioning","done","Instance ready."),fe("assistant","Your enclave is ready. Use the session links to open the runtime and verification surface.");const De=se.instance_url||se.verify_url||"";De&&!Ce.current&&(Ce.current=!0,y(A=>A.redirectAttempted?A:{...A,redirectAttempted:!0}),fe("system","Session ready. Redirecting to runtime..."),window.parent!==window&&window.parent.postMessage({source:"enclagent:launchpad",type:"session_ready_redirect",url:De,session_id:se.session_id||""},window.location.origin),setTimeout(()=>window.location.assign(De),200)),M(!1),U(null)}["failed","error","verification_failed"].includes(ce)&&(ze(),y(De=>({...De,phase:"await_launch_confirmation"})),ge("provisioning","error","Provisioning failed."),fe("error","Provisioning failed: "+(se.error||se.detail||"Unknown")),M(!0),U({label:"Retry Launch",kind:"retry_launch"}))}finally{he.current=!1}}},[fe,ye,ze,ge]),ia=R.useCallback(()=>{ze();const K=Math.max(1200,t.poll_interval_ms||1500),se=setInterval(()=>{Or()},K);Q.current=se,y(Pe=>({...Pe,pollingTimer:se})),Or()},[t.poll_interval_ms,ze,Or]);R.useEffect(()=>()=>ze(),[ze]),R.useEffect(()=>{const K=oe.current;K&&K.scrollTo({top:K.scrollHeight,behavior:"smooth"})},[x,N]),R.useEffect(()=>{const K=oe.current;if(!K)return;let se=0;const Pe=()=>{cancelAnimationFrame(se),se=requestAnimationFrame(()=>{K.scrollTop=K.scrollHeight})},ce=new MutationObserver(()=>Pe());return ce.observe(K,{childList:!0,subtree:!0,characterData:!0}),()=>{ce.disconnect(),cancelAnimationFrame(se)}},[]),R.useEffect(()=>{const K=V.current;K&&K.scrollTo({top:K.scrollHeight,behavior:"auto"})},[O]),R.useEffect(()=>{m.phase==="planning"&&_e(()=>import("./launchpad-mermaid.core-BGISQ57D.js").then(K=>K.bC),__vite__mapDeps([167,1])).catch(()=>{})},[m.phase]);const Rr=R.useCallback(K=>{const se=K.walletAddress?lr(K.walletAddress):"",Pe=el(K.ethereumProvider)?K.ethereumProvider:null,ce=K.privyUserId||(se?`wallet:${se}`:""),De=`${ce}|${se}`,A=De!=="|"&&D.current===De;if(y(S=>{const z=ce||S.privyUserId,F=K.identityToken||"",H=K.accessToken||"",G=se||S.walletAddress,te=K.chainId||S.chainId,re=Pe??S.ethereumProvider;return S.privyUserId===z&&S.privyIdentityToken===F&&S.privyAccessToken===H&&S.walletAddress===G&&S.chainId===te&&S.ethereumProvider===re?S:{...S,privyUserId:z,privyIdentityToken:F,privyAccessToken:H,walletAddress:G,chainId:te,ethereumProvider:re}}),!A){if(De!=="|"&&(D.current=De),!se){const S=!se||!d;ge("identity","active",S?"Privy authenticated. Provisioning embedded wallet.":"Privy authenticated. Resolving wallet signer."),M(!1),U(null),$e("assistant",S?"Privy login complete. Provisioning your embedded wallet.":"Privy login complete. Finalizing wallet signer.");return}if(!Pe){ge("identity","done","Privy identity connected. Wallet signer pending."),U(null),ge("objective","active","Tell me what you want this agent to do."),y(S=>({...S,phase:"await_objective"})),M(!0),$e("assistant","Identity confirmed. Tell me what you want the agent to do. Signer finalization will continue in the background.");return}ge("identity","done","Privy identity connected."),U(null),ge("objective","active","Tell me what you want this agent to do."),y(S=>({...S,phase:"await_objective"})),M(!0),$e("assistant","Identity confirmed. Tell me what you want the agent to do.")}},[$e,d,ge]);R.useEffect(()=>{if(!n||!o||!c||!a)return;const K=lr(xg(a)||d),se=Ag(a,K),Pe=`${se}|${K}`;if(Pe&&de.current===Pe)return;Pe&&(de.current=Pe);const ce=r,De=ce?.getIdentityToken,A=ce?.getAccessToken;(async()=>{let S="",z="";typeof De=="function"&&(S=await De()||""),typeof A=="function"&&(z=await A()||""),Rr({walletAddress:K,privyUserId:se,identityToken:S,accessToken:z,chainId:"",ethereumProvider:null})})()},[n,o,c,a,d,Rr]),R.useEffect(()=>{if(!o||!c||!a||lr(d))return;const K=Ag(a,"")||String(a.id||"").trim();if(!K||W.current===K)return;W.current=K;const se=setTimeout(()=>{Pr()},700);return()=>clearTimeout(se)},[o,c,a,d,Pr]),R.useEffect(()=>{$.current||($.current=!0,$e("assistant","Welcome. First step: sign up or log in with Privy and connect your wallet."))},[$e]);const Fn=R.useCallback(async()=>{ze(),r?.logout&&await r.logout(),y({phase:"await_identity",walletAddress:"",chainId:"",sessionId:"",challengeMessage:"",objective:"",config:null,decision:null,gatewayAuthKey:"",privyUserId:"",privyIdentityToken:"",privyAccessToken:"",ethereumProvider:null,pollingTimer:null,latestSessionStatus:"",redirectAttempted:!1}),b({identity:{status:"active",detail:"Waiting for Privy login."},objective:{status:"pending",detail:"Waiting for your goal."},config:{status:"pending",detail:"Not generated yet."},decision:{status:"pending",detail:"No decision yet."},signature:{status:"pending",detail:"Awaiting challenge issue."},provisioning:{status:"pending",detail:"No instance yet."}}),E({}),j({}),k([]),M(!1),U(null),D.current="",$.current=!1,W.current="",q.current=!1,de.current="",X.current="",J.current="",he.current=!1,Ce.current=!1,je.current=0,fe("system","Logged out. Sign in again to continue.")},[r,fe,ze]),wr=async K=>{fe("user",K);const se=Fe.current;if(se.phase==="await_identity"){fe("assistant","Complete Privy login first.");return}if(se.phase==="await_objective"){await Zi(K);return}if(se.phase==="await_launch_confirmation"){/^(continue|launch|proceed|yes|y|confirm)$/i.test(K.trim())?await wn():fe("assistant","Type continue when ready.");return}(se.phase==="provisioning"||se.phase==="ready")&&fe("assistant","Provisioning in progress or session ready.")},Zi=async K=>{const se=L||lr(m.walletAddress);if(!se){fe("error","Wallet not ready yet. Finish Privy wallet setup, then retry."),y(Pe=>({...Pe,phase:"await_identity"})),M(!1);return}y(Pe=>({...Pe,objective:K,phase:"planning"})),ge("objective","done","Objective captured."),ge("config","active","Generating configuration and launch blueprint..."),M(!1),U(null);try{const Pe=Oxe();y(F=>({...F,walletAddress:se,gatewayAuthKey:Pe}));const ce=await ai.suggestConfig({wallet_address:se,intent:K,gateway_auth_key:Pe}),De=sa(ce?.config||{},se,Pe),A=At(K,De),S=await ai.generateLaunchpadBlueprint({objective:K,profile_name:String(De.profile_name||""),profile_domain:String(De.profile_domain||""),custody_mode:String(De.custody_mode||""),verification_backend:String(De.verification_backend||""),decision_title:A.title,decision_reason:A.reason}),z=Dxe(De,S);y(F=>({...F,config:z,decision:A,phase:"await_launch_confirmation"})),E(z),ge("config","done","Config and markdown seeds drafted."),ge("decision","done",A.title),ge("signature","active","Pending challenge and signature."),fe("assistant",jxe(S,A)),M(!0),U({label:"Continue to Signature",kind:"launch_signature"})}catch(Pe){ge("config","error","Config draft failed."),y(ce=>({...ce,phase:"await_objective"})),M(!0),fe("error","Failed to draft configuration: "+String(Pe?.message||Pe))}},sa=(K,se,Pe)=>{const ce={...K};return ce.profile_name=ce.profile_name||"ironclaw_profile_"+Date.now(),ce.profile_domain=ce.profile_domain||"general",ce.custody_mode=ce.custody_mode||"user_wallet",ce.verification_backend=ce.verification_backend||"eigencloud_primary",ce.gateway_auth_key=ce.gateway_auth_key||Pe,ce.accept_terms=!0,ce.user_wallet_address=ce.user_wallet_address||se,ce.symbol_allowlist=Array.isArray(ce.symbol_allowlist)||ce.symbol_allowlist?ce.symbol_allowlist:["BTC","ETH"],ce.enable_memory=ce.enable_memory??!0,ce},At=(K,se)=>{const Pe=K.toLowerCase();return/(live|execution|execute|trade|production|autonomous|deploy|24\/7)/.test(Pe)||String(se.paper_live_policy||"").toLowerCase()==="live_allowed"?{mode:"dedicated",title:"Dedicated Enclaved IronClaw Instance",reason:"Objective indicates continuous or execution-sensitive behavior."}:{mode:"shared",title:"Shared Runtime First",reason:"Objective indicates research/planning posture."}},wn=async()=>{const K=Fe.current;let se=L||lr(K.walletAddress);const Pe=K.config;if(!Pe||!se){fe("error","Cannot launch: missing config or wallet.");return}K.walletAddress!==se&&y(S=>({...S,walletAddress:se}));let ce=el(K.ethereumProvider)?K.ethereumProvider:null,De=K.chainId;if(!ce){const S=await f(se);if(!S?.provider){fe("error","Wallet signer unavailable. Open Privy wallet once, then retry launch.");return}ce=S.provider,De=De||S.chainId||"",y(z=>({...z,ethereumProvider:S.provider,chainId:z.chainId||S.chainId||""})),$e("system","Wallet signer finalized. Proceeding to challenge.")}const A=await h(ce);A&&A!==se&&(se=A,y(S=>({...S,walletAddress:A})),$e("system","Using Privy signer wallet for challenge and verification.")),J.current="",Ce.current=!1,je.current=0,k([]),y(S=>({...S,phase:"launching",redirectAttempted:!1})),M(!1),U(null),ge("signature","active","Issuing challenge..."),ge("provisioning","active","Waiting for verification...");try{const S=kxe(De),z=await ai.challenge({wallet_address:se,privy_user_id:K.privyUserId||null,chain_id:S}),F=String(z.session_id||""),H=String(z.message||"");X.current=F,y(te=>({...te,sessionId:F,challengeMessage:H})),j({session_id:F,status:"challenge_issued",provisioning_source:"pending",runtime_state:"pending"}),await br(F,Pe,K.objective);const G=await ni(H,ce,se);await ai.verify({session_id:F,wallet_address:se,privy_user_id:K.privyUserId||null,privy_identity_token:K.privyIdentityToken||null,privy_access_token:K.privyAccessToken||null,message:H,signature:G,config:Pe}),ge("signature","done","Signature accepted."),ge("provisioning","active","Provisioning started. Polling..."),fe("assistant","Signature verified. Provisioning has started."),y(te=>({...te,phase:"provisioning"})),ia()}catch(S){ge("signature","error","Challenge/signature failed."),ge("provisioning","error","Provisioning did not start."),y(z=>({...z,phase:"await_launch_confirmation"})),M(!0),U({label:"Retry Signature",kind:"retry_signature"}),fe("error","Launch failed: "+String(S?.message||S))}},br=async(K,se,Pe)=>{let ce=await ai.getOnboardingState(K);const De=Pe.trim()||`Launch profile ${se.profile_name||"frontdoor_profile"} with deterministic verification.`,A=`profile_name=${String(se.profile_name||"frontdoor_profile").replace(/[\n\r,;=]/g,"_")}, gateway_auth_key=__from_config__, accept_terms=true`;if(ce.objective||(ce=await ai.postOnboardingChat(K,De)),Array.isArray(ce.missing_fields)&&ce.missing_fields.length>0&&(ce=await ai.postOnboardingChat(K,A)),ce.current_step!=="ready_to_sign"&&!ce.completed&&(ce=await ai.postOnboardingChat(K,"confirm plan")),Array.isArray(ce.missing_fields)&&ce.missing_fields.length>0&&(ce=await ai.postOnboardingChat(K,A),ce=await ai.postOnboardingChat(K,"confirm plan")),Array.isArray(ce.missing_fields)&&ce.missing_fields.length>0)throw new Error("Onboarding required variables unresolved: "+ce.missing_fields.join(", "));if(ce.current_step!=="ready_to_sign"&&!ce.completed&&(ce=await ai.postOnboardingChat(K,"confirm sign")),ce.current_step!=="ready_to_sign"&&!ce.completed)throw new Error("Onboarding did not reach ready_to_sign state.")},ni=async(K,se,Pe)=>{const ce=lr(Pe||L||m.walletAddress),De=se??m.ethereumProvider;if(!el(De))throw new Error("Wallet provider unavailable.");const S=[await h(De),ce].filter((F,H,G)=>!!F&&G.indexOf(F)===H);if(S.length===0)throw new Error("Wallet address unavailable.");const z="0x"+Array.from(new TextEncoder().encode(K)).map(F=>F.toString(16).padStart(2,"0")).join("");for(const F of S){const H=[[z,F],[K,F],[F,z],[F,K]];for(const te of H)try{const re=await De.request({method:"personal_sign",params:te});if(typeof re=="string"&&re)return re}catch{}const G=[[F,z],[F,K]];for(const te of G)try{const re=await De.request({method:"eth_sign",params:te});if(typeof re=="string"&&re)return re}catch{}}throw new Error("Wallet signature failed.")},et=K=>{K.preventDefault();const se=B.trim();se&&(P(""),wr(se))},rt=R.useCallback(()=>{N&&(N.kind==="launch_signature"||N.kind==="retry_launch"||N.kind==="retry_signature")&&wn()},[N,wn]),Te=!c||!L,ft=n&&o,zn=m.phase==="launching"||m.phase==="provisioning",Sn=R.useMemo(()=>Txe(a),[a]),st=l||Sn||"wallet",we=Ep[st];return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"lp-bg lp-bg-a"}),g.jsx("div",{className:"lp-bg lp-bg-b"}),g.jsxs("main",{className:"lp-shell",children:[g.jsxs("header",{className:"lp-header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"lp-eyebrow",children:"Enclagent Gateway Launchpad"}),g.jsx("h1",{children:"Enclagent Setup"})]}),g.jsxs("div",{className:"lp-header-right",children:[g.jsx("div",{className:"lp-environment",children:Rxe()}),g.jsxs("div",{className:`lp-auth-popover ${Te?"":"is-authenticated"}`,onMouseLeave:()=>u(null),children:[Te?g.jsx("button",{type:"button",className:"lp-action-btn lp-auth-btn",onClick:()=>{if(!ft){$e("system","Privy is still initializing. Retry in a moment.");return}p()},disabled:!n,children:ft?"Sign Up / Connect Wallet":"Initializing Privy..."}):g.jsx("button",{type:"button",className:"lp-action-btn lp-auth-btn",onClick:Fn,children:"Logout"}),Te&&g.jsxs("div",{className:"lp-auth-hovercard",children:[g.jsx("p",{className:"lp-auth-hovercard-title",children:"Privy Embedded Sign-In"}),g.jsx("p",{className:"lp-auth-hovercard-subtitle",children:"Hover a method to inspect how identity and wallet setup will run."}),g.jsx("div",{className:"lp-auth-method-list",role:"list",children:Object.keys(Ep).map(K=>{const se=Ep[K],Pe=K===st;return g.jsx("button",{type:"button",className:`lp-auth-method-chip ${Pe?"is-active":""}`,onMouseEnter:()=>u(K),onFocus:()=>u(K),"aria-pressed":Pe,children:se.label},K)})}),g.jsxs("div",{className:"lp-auth-method-detail",children:[g.jsx("p",{className:"lp-auth-method-title",children:we.title}),g.jsx("p",{className:"lp-auth-method-summary",children:we.summary}),g.jsx("ul",{className:"lp-auth-method-points",children:we.details.map((K,se)=>g.jsx("li",{children:K},`${st}-${se}`))}),Sn&&g.jsxs("p",{className:"lp-auth-method-detected",children:["Active account method: ",Ep[Sn].label]})]})]})]})]})]}),g.jsxs("section",{className:"lp-grid",children:[zn?g.jsxs("article",{className:"lp-chat-card lp-terminal-card",children:[g.jsxs("div",{className:"lp-chat-head lp-terminal-head",children:[g.jsx("h2",{children:"Provisioning Terminal"}),g.jsx("p",{children:"Streaming live provisioning logs from Railway and eCloud runtimes."})]}),g.jsx("div",{className:"lp-terminal-stream",ref:V,children:O.length===0?g.jsx("div",{className:"lp-terminal-empty",children:"Waiting for provisioning output..."}):O.map(K=>g.jsxs("div",{className:`lp-terminal-line level-${K.level}`,children:[g.jsx("span",{className:"lp-terminal-time",children:Nxe(K.createdAt)}),g.jsx("span",{className:`lp-terminal-source source-${K.source}`,children:K.source}),g.jsx("span",{className:"lp-terminal-channel",children:K.stream}),g.jsx("span",{className:"lp-terminal-text",children:K.text})]},K.seqId))}),g.jsxs("div",{className:"lp-terminal-footer",children:[g.jsxs("span",{children:["Session: ",m.sessionId||"-"]}),g.jsxs("span",{children:["Status: ",T.status||m.latestSessionStatus||"starting"]})]})]}):g.jsxs("article",{className:"lp-chat-card",children:[g.jsxs("div",{className:"lp-chat-head",children:[g.jsx("h2",{children:"Launchpad Chat"}),g.jsx("p",{children:"Identity, objective, policy, signature, provisioning."})]}),g.jsxs("div",{className:"lp-chat-stream",ref:oe,children:[x.map((K,se)=>g.jsx("div",{className:`lp-msg ${K.role}`,children:g.jsx(Fxe,{text:K.text})},se)),N&&g.jsxs("div",{className:"lp-msg assistant lp-msg-action",children:[g.jsx("p",{className:"lp-msg-action-label",children:"Next interactive step"}),g.jsx("button",{type:"button",className:"lp-action-btn lp-action-btn-inline",onClick:rt,children:N.label})]})]}),g.jsxs("form",{className:"lp-chat-compose",onSubmit:et,children:[g.jsx("textarea",{rows:1,placeholder:"Describe what you want this agent to do...",disabled:!I,value:B,onChange:K=>P(K.target.value)}),g.jsx("button",{type:"submit",disabled:!I,children:"Send"})]})]}),g.jsxs("aside",{className:"lp-side-card",children:[g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Step Progress"}),g.jsx("div",{className:"lp-steps",children:Ixe.map(K=>g.jsxs("div",{className:`lp-step ${w[K]?.status==="active"?"is-active":""} ${w[K]?.status==="done"?"is-done":""} ${w[K]?.status==="error"?"is-error":""}`,"data-step":K,children:[g.jsx("span",{className:"lp-step-dot"}),g.jsxs("div",{children:[g.jsxs("p",{className:"lp-step-title",children:[K==="identity"&&"1. Privy Signup",K==="objective"&&"2. Objective",K==="config"&&"3. Config Draft",K==="decision"&&"4. Runtime Decision",K==="signature"&&"5. Signature",K==="provisioning"&&"6. Provisioning"]}),g.jsx("p",{className:"lp-step-desc",children:w[K]?.detail||"-"})]})]},K))})]}),g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Configuration Summary"}),g.jsxs("div",{className:"lp-kv",children:[g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Profile"}),g.jsx("strong",{children:v.profile_name||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Domain"}),g.jsx("strong",{children:v.profile_domain||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Custody"}),g.jsx("strong",{children:v.custody_mode||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Verification"}),g.jsx("strong",{children:v.verification_backend||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Gateway Auth Key"}),g.jsx("strong",{children:Pxe(v.gateway_auth_key||"")})]})]})]}),g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Session Status"}),g.jsxs("div",{className:"lp-kv",children:[g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Session"}),g.jsx("strong",{children:T.session_id||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Status"}),g.jsx("strong",{children:T.status||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Provisioning Source"}),g.jsx("strong",{children:T.provisioning_source||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Runtime"}),g.jsx("strong",{children:T.runtime_state||"-"})]})]}),g.jsxs("div",{className:"lp-links",children:[T.instance_url&&g.jsx("a",{href:T.instance_url,target:"_blank",rel:"noopener noreferrer",children:"Open Runtime"}),T.verify_url&&g.jsx("a",{href:T.verify_url,target:"_blank",rel:"noopener noreferrer",children:"Open Verify"})]})]})]})]})]})]})}function Wxe({bootstrap:t}){const e=String(t.privy_app_id||"").trim(),n=String(t.privy_client_id||"").trim()||void 0;return g.jsx(dxe,{appId:e,clientId:n,config:{loginMethods:["wallet","email"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}},appearance:{theme:"dark"}},children:g.jsx(zxe,{bootstrap:t})})}function Vxe(){const[t,e]=ke.useState(null),[n,r]=ke.useState(null);return ke.useEffect(()=>{fetch("/api/frontdoor/bootstrap").then(s=>s.json()).then(e).catch(s=>r(String(s?.message||s)))},[]),n?g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load: ",n]})}):t?t.enabled?String(t.privy_app_id||"").trim()?g.jsx(Wxe,{bootstrap:t}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{style:{color:"var(--danger)"},children:"Privy launch is required but no Privy App ID is configured."})}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{style:{color:"var(--danger)"},children:"Launchpad is disabled. Enable GATEWAY_FRONTDOOR_ENABLED=true."})}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{className:"lp-eyebrow",children:"Loading..."})})}const _Te=Object.freeze(Object.defineProperty({__proto__:null,default:Vxe},Symbol.toStringTag,{value:"Module"}));export{T4 as $,NA as A,ee as B,hL as C,Vd as D,Kg as E,KW as F,YW as G,MB as H,tS as I,fL as J,Dg as K,Rz as L,$z as M,e0 as N,I4 as O,Zd as P,U4 as Q,xu as R,bV as S,a8 as T,Fz as U,cl as V,Qc as W,jg as X,lF as Y,fd as Z,zg as _,Qp as a,AB as a$,Jc as a0,Wg as a1,Vg as a2,oF as a3,aF as a4,xB as a5,SB as a6,OB as a7,gn as a8,BA as a9,Bg as aA,Rd as aB,Wd as aC,Qr as aD,E1 as aE,Dd as aF,jd as aG,Xr as aH,D4 as aI,zA as aJ,fF as aK,FA as aL,TB as aM,Az as aN,Hd as aO,e7 as aP,Xd as aQ,kz as aR,lL as aS,uL as aT,Ud as aU,Hg as aV,Fd as aW,Gd as aX,Uh as aY,Nz as aZ,RB as a_,dF as aa,qh as ab,cF as ac,uH as ad,PB as ae,hF as af,Yo as ag,Sz as ah,kB as ai,IB as aj,Nd as ak,NB as al,dH as am,$d as an,Iz as ao,ou as ap,Tz as aq,$B as ar,hH as as,Bd as at,Dl as au,Gz as av,Md as aw,$c as ax,Fg as ay,Ug as az,DA as b,du as b$,qd as b0,jl as b1,sAe as b2,zd as b3,PZ as b4,wl as b5,uV as b6,Pz as b7,Kh as b8,Qs as b9,EL as bA,CL as bB,aS as bC,Vz as bD,eS as bE,ZW as bF,tc as bG,P1 as bH,y7 as bI,Nh as bJ,mr as bK,hV as bL,TAe as bM,m7 as bN,GW as bO,Gq as bP,Cz as bQ,B4 as bR,M4 as bS,Zr as bT,fs as bU,Bh as bV,r8 as bW,Qa as bX,cL as bY,v2 as bZ,Nn as b_,c8 as ba,qV as bb,ZV as bc,W4 as bd,V4 as be,wF as bf,WA as bg,dz as bh,hz as bi,yn as bj,ja as bk,fz as bl,$h as bm,sW as bn,SL as bo,pr as bp,YF as bq,Wi as br,fS as bs,kZ as bt,TZ as bu,Dh as bv,_z as bw,t0 as bx,dV as by,nc as bz,_8 as c,aV as c$,Xc as c0,_1 as c1,GF as c2,Mh as c3,RL as c4,CS as c5,Ez as c6,mH as c7,u8 as c8,xS as c9,o0 as cA,mL as cB,jz as cC,Wz as cD,N1 as cE,tI as cF,l8 as cG,fH as cH,LL as cI,Gt as cJ,Ko as cK,tL as cL,$g as cM,Vc as cN,$l as cO,Ln as cP,OL as cQ,lW as cR,Da as cS,XA as cT,Ye as cU,lH as cV,Ha as cW,_L as cX,mi as cY,_S as cZ,IZ as c_,ES as ca,_t as cb,pF as cc,Ar as cd,gi as ce,dAe as cf,Mt as cg,zh as ch,xr as ci,jn as cj,gV as ck,Zz as cl,S1 as cm,Bl as cn,Xg as co,bF as cp,ue as cq,b2 as cr,uF as cs,qo as ct,RA as cu,jb as cv,Ub as cw,K4 as cx,az as cy,cH as cz,Xn as d,sSe as d$,i0 as d0,iH as d1,xs as d2,v7 as d3,Hl as d4,wi as d5,eo as d6,X1 as d7,rc as d8,ne as d9,zx as dA,M0 as dB,b4 as dC,eSe as dD,Rs as dE,bQ as dF,Jp as dG,ULe as dH,CSe as dI,ls as dJ,A0 as dK,p1 as dL,$Ee as dM,CLe as dN,Uo as dO,S8 as dP,Awe as dQ,ZEe as dR,MLe as dS,ih as dT,DLe as dU,Ro as dV,ySe as dW,zEe as dX,VEe as dY,WLe as dZ,Qh as d_,mk as da,QLe as db,MEe as dc,Z as dd,IQ as de,_k as df,ELe as dg,gTe as dh,GN as di,hK as dj,ore as dk,CQ as dl,iSe as dm,rj as dn,w4 as dp,jt as dq,Q1 as dr,MQ as ds,oTe as dt,_Le as du,XEe as dv,oh as dw,ZLe as dx,fu as dy,cre as dz,Rh as e,fV as e$,vSe as e0,nSe as e1,pSe as e2,yQ as e3,Lve as e4,X7e as e5,K7e as e6,zY as e7,LLe as e8,ALe as e9,fSe as eA,jQ as eB,Xx as eC,yTe as eD,QU as eE,Oh as eF,x4 as eG,au as eH,ZU as eI,E4 as eJ,Ph as eK,kh as eL,Th as eM,QEe as eN,qEe as eO,REe as eP,nB as eQ,y1 as eR,wSe as eS,fTe as eT,hTe as eU,dTe as eV,OEe as eW,BK as eX,Y6 as eY,N4 as eZ,M1 as e_,ILe as ea,SLe as eb,BQ as ec,XCe as ed,xLe as ee,cTe as ef,FI as eg,sl as eh,uTe as ei,Pb as ej,ej as ek,tj as el,TSe as em,ISe as en,ut as eo,kSe as ep,OZ as eq,R0 as er,vQ as es,nl as et,Qx as eu,lSe as ev,lTe as ew,ZCe as ex,GCe as ey,RQ as ez,JB as f,tSe as f$,Zh as f0,Xt as f1,wTe as f2,pTe as f3,mTe as f4,Oe as f5,eTe as f6,QIe as f7,J7e as f8,HY as f9,mn as fA,T9e as fB,zD as fC,iTe as fD,sTe as fE,ave as fF,hve as fG,rTe as fH,aTe as fI,eO as fJ,bTe as fK,vTe as fL,A4 as fM,lLe as fN,uLe as fO,Dy as fP,le as fQ,Vt as fR,ESe as fS,VQ as fT,JLe as fU,Ck as fV,Ik as fW,WQ as fX,UQ as fY,xQ as fZ,DEe as f_,O2 as fa,Y9e as fb,Y7e as fc,Ave as fd,nTe as fe,O9e as ff,tTe as fg,nL as fh,JF as fi,mAe as fj,cu as fk,kAe as fl,j1 as fm,fO as fn,li as fo,XLe as fp,VY as fq,is as fr,bre as fs,_2 as ft,zLe as fu,s9e as fv,vu as fw,dc as fx,y9e as fy,b9e as fz,XB as g,Gy as g$,hSe as g0,uSe as g1,dSe as g2,mSe as g3,gSe as g4,Sk as g5,pA as g6,mA as g7,gA as g8,wA as g9,yie as gA,DO as gB,kO as gC,OSe as gD,uw as gE,c3 as gF,Pie as gG,cs as gH,uie as gI,Lie as gJ,lie as gK,Ere as gL,kie as gM,Zie as gN,jre as gO,bie as gP,Nie as gQ,W0 as gR,CO as gS,FSe as gT,Oa as gU,BSe as gV,RO as gW,OO as gX,rSe as gY,aSe as gZ,Ht as g_,yA as ga,bA as gb,a3 as gc,Tt as gd,af as ge,$Se as gf,MSe as gg,ei as gh,Are as gi,ra as gj,Gr as gk,NSe as gl,RSe as gm,Nre as gn,of as go,qi as gp,bs as gq,Kf as gr,Rre as gs,Ma as gt,Js as gu,Gre as gv,USe as gw,SO as gx,Jre as gy,Ga as gz,F1 as h,Ni as h$,Et as h0,cv as h1,Cd as h2,gte as h3,SSe as h4,Ae as h5,s0 as h6,gs as h7,jh as h8,ta as h9,ihe as hA,gw as hB,Wse as hC,lR as hD,Ld as hE,w5 as hF,hf as hG,m2e as hH,a2e as hI,mre as hJ,ghe as hK,vi as hL,S3e as hM,ss as hN,T2 as hO,tb as hP,ume as hQ,eb as hR,M3 as hS,xh as hT,mw as hU,$_ as hV,A$ as hW,ode as hX,Ho as hY,$3 as hZ,js as h_,Jz as ha,iI as hb,Nt as hc,ea as hd,j4 as he,qa as hf,hu as hg,eN as hh,F3e as hi,z3e as hj,VC as hk,dS as hl,Jd as hm,Yg as hn,whe as ho,nd as hp,h2 as hq,Ka as hr,W3e as hs,H3e as ht,I2 as hu,uR as hv,ji as hw,Kr as hx,ve as hy,u2 as hz,QB as i,Ds as i0,TN as i1,L0 as i2,uJ as i3,hJ as i4,_Te as i5,eF as j,Bb as k,jA as l,Fb as m,tF as n,nF as o,Rl as p,UA as q,rF as r,xz as s,Yd as t,Ul as u,bL as v,vL as w,lV as x,Kd as y,sF as z};
