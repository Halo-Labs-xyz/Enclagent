const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["launchpad-ccip-B05BltCi.js","launchpad.js","launchpad-core-DjWw8DfU.js","launchpad-index-B8ckVHWO.js","launchpad-parseSignature-BJW6IudF.js","launchpad-TurnstileWrapper-Co-t5mTh-DpQbCh7W.js","launchpad-HCaptchaWrapper-CUi9LJsp-d9WQjF88.js","launchpad-AccountNotFoundScreen-CeH1-Vk6-D8uOxCsW.js","launchpad-ScreenLayout-Ca6ml9wY-tWBwodfe.js","launchpad-ModalHeader-JjfRejxC-CtYe7KE2.js","launchpad-Screen-DE3ldE_X-Bg_Q5Z_h.js","launchpad-index-Dq_xe9dz-DPq0PTtR.js","launchpad-createLucideIcon-BSOjrqRH.js","launchpad-AffirmativeConsentScreen-CXITm_N9-L61A1JN0.js","launchpad-shouldProceedtoEmbeddedWalletCreationFlow-BsPl2jCD-4dyd-DVQ.js","launchpad-external-link-BZ_UzR-j.js","launchpad-AllowlistRejectionScreen-lgFXWCYE-cAykV7zJ.js","launchpad-lock-DOKCRgid.js","launchpad-AuthenticateWithWalletScreen-m06-fuCA-yCkdfBuH.js","launchpad-ConnectWalletView-DMLO1g28-Q1vGWOy2.js","launchpad-CopyableText-BCytXyJL-DZ2F4uJ7.js","launchpad-check-C5kCRahI.js","launchpad-copy-DYa4Op8P.js","launchpad-Link-DJ5gq9Di-BKKz1BOp.js","launchpad-QrCode-VCBMkqqq-CccYvGLK.js","launchpad-dijkstra-D_NXgYpA.js","launchpad-EmailInputForm-Dgoii4vf-C3j96MW0.js","launchpad-ErrorMessage-D8VaAP5m-BxUDDoNF.js","launchpad-useI18n-BdIAB9oU-4i9AKw3U.js","launchpad-WalletCards-DH1rqayz-Bac_TB-X.js","launchpad-AwaitingEvmToSolBridgingScreen-CckTG9KA-D6Qk3TrF.js","launchpad-CheckCircleIcon-D2sCnQx5.js","launchpad-Layouts-BlFm53ED-C7q8tWPJ.js","launchpad-ScreenHeader-CHmc4-Lu-B284yZ5R.js","launchpad-FundWalletMethodHeader-DRH4o4R5-WL1628h4.js","launchpad-useGetTokenPrice-PWP-Uiot-V0RLikON.js","launchpad-useGetSolPrice-DwwjjGbd-BEBGHXwL.js","launchpad-analytics-mkkvFRju-DOXuftJB.js","launchpad-reservoir-0wfhnc0j-CPufrqb_.js","launchpad-getChainName-DjpPdUSc-c2urPd0g.js","launchpad-transaction-CnfuREWo-BX0tihxo.js","launchpad-getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","launchpad-BridgeNetworkSelectionView-C74EH50n-BwENHH_2.js","launchpad-getErc20Balance-DA4dGV9O-CmHoS_yx.js","launchpad-Value-tcJV9e0L-D71e5n-9.js","launchpad-LoadingSkeleton-U6-3yFwI-C2YhYO2U.js","launchpad-Subtitle-CV-2yKE4-DzKjSC5T.js","launchpad-Title-BnzYV3Is-D2KM1MN-.js","launchpad-WalletIcon-CmQNtWKM.js","launchpad-Chip-D2-wZOHJ-BUhC-lY9.js","launchpad-TransferOrBridgeLoadingScreen-BKmOAmlN-DfMxSdqV.js","launchpad-InjectedWalletIcon-DLcYOGDj-DM-O-Fpn.js","launchpad-Address-D-q_5it9-CEPVIheL.js","launchpad-GlobeAltIcon-DfBLgGP6.js","launchpad-shared-FM0rljBt-DH-prbl1.js","launchpad-ChevronDownIcon-D09uGFR6.js","launchpad-formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","launchpad-ethers-VWEScvge-CDamq4Ed.js","launchpad-styles-Dr0J8BuN-BTd1VTPA.js","launchpad-LinkPasskeyScreen-BfLq2-Q5-DEl3FY6W.js","launchpad-TodoList-CgrU7uwu-BTz0vFlH.js","launchpad-circle-check-big-Bg8vqBbP.js","launchpad-fingerprint-pattern-eZF4302v.js","launchpad-formatters-Ci5UKeAj.js","launchpad-custom-CEAlFtXp.js","launchpad-AwaitingExternalEthereumTransferScreen-eF2GWu8M-DZ5LrsXB.js","launchpad-transfer-6YztDh-t-DU6hH7CZ.js","launchpad-parseEther-C_fw9aAj.js","launchpad-AwaitingPasswordlessCodeScreen-BOBPSamI-C5NWm0VI.js","launchpad-EnvelopeIcon-IX6JTo8v.js","launchpad-PhoneIcon-C1ddPHdQ.js","launchpad-AwaitingSolToEvmBridgingScreen-P3cpg0C5-BuoktSRg.js","launchpad-CaptchaScreen-B3Ykiq24-BXnfMx_2.js","launchpad-circle-x-DddvhjMS.js","launchpad-CoinbaseOnrampStatusScreen-w23Wg5d9-CnBDPJlF.js","launchpad-ArrowsRightLeftIcon-B31GRfZT.js","launchpad-CheckCircleIcon-BvqP64EM.js","launchpad-ConnectLedgerScreen-CeefF4eo-BNP4D1hE.js","launchpad-ConnectOnlyLandingScreen-DsUmsQqW-DmiRR8ZT.js","launchpad-ConnectOnlyStatusScreen-BWSDA11j-BN5QW1jt.js","launchpad-ConnectionStatusScreen-DC1viuqC-BrtL5EFR.js","launchpad-ConnectOrCreateScreen-2uZYB3jh-D3dz2FgC.js","launchpad-CustomLandingScreenView-JGe-GePA-D1xAKSls.js","launchpad-ConnectEmailForm-DQUiQNyc-Cp_d_2hK.js","launchpad-mail-C5wDGb2q.js","launchpad-farcaster-DPlSjvF5-CknmVXgZ.js","launchpad-FingerPrintIcon-CpCeQsPn.js","launchpad-ConnectPhoneForm-DTZTENXQ-Djy6FR4a.js","launchpad-twitch-5IOe4sIQ-Bed50buk.js","launchpad-telegram-B-JqnkqZ-B2ok6_jI.js","launchpad-WalletOverflowButton-DJthXlpc-CHLbszCd.js","launchpad-CrossAppAuthScreen-BBpfShQF-B_QBoFZS.js","launchpad-DelegatedActionsConsentScreen-BcanXrk2-DlIkkrP7.js","launchpad-WalletInfoCard-CuZCmvHw-CXLpfV91.js","launchpad-LabelXs-oqZNqbm_-UAiqAEGh.js","launchpad-circle-alert-l7t-nY5R.js","launchpad-DelegatedActionsRevokeScreen-CEToWbrk-PZ_te_wC.js","launchpad-EmbeddedWalletConnectingScreen-CTdp8K5o-eASJQvsN.js","launchpad-EmbeddedWalletCreatedScreen-BEBjX0Mt-BskPRNzS.js","launchpad-EmbeddedWalletKeyExportScreen-DdviAcYq-LHQ7u_iU.js","launchpad-WarningBanner-c8L53pJ2-Di6f77Un.js","launchpad-ExclamationTriangleIcon-DS9jnCFw.js","launchpad-EmbeddedWalletOnAccountCreateScreen-eKriq-Nq-BWKvcaGA.js","launchpad-RecoveryPasswordCreateScreen-BRb1syw7-D-Stc79N.js","launchpad-SetWalletPasswordForm-C2hZtfwu-CVQpVFn-.js","launchpad-shared-BcHk2XA3-Dedc-zDW.js","launchpad-Checkbox-BhNoOKjX-DH1QEOI4.js","launchpad-EmbeddedWalletPasswordUpdateScreen-BAlUIAfz-BqDouKsQ.js","launchpad-EmbeddedWalletPasswordUpdateSplashScreen-DX_WQZdd-BOiE5M_s.js","launchpad-ErrorScreen-V8ec2dKP-D_hRhYgC.js","launchpad-FarcasterConnectStatusScreen-BB7egF78-CsQ1GbXX.js","launchpad-OpenLink-DZHy38vr-Dmk-sJBI.js","launchpad-FarcasterSignerStatusScreen-DE_ssKid-UQW6BP08.js","launchpad-CopyToClipboard-DSTf_eKU-C5attl0r.js","launchpad-FundSolWalletWithExternalSolanaWallet-DAhHczol-D_QMSqkN.js","launchpad-useSolanaRpcClient-ign2YXAl-CIko8pHi.js","launchpad-getUsdcMintAddress-DFI1hv05-DwqfiN48.js","launchpad-FundWithBankDepositScreen-wFJhtxMV-hGUT1FrH.js","launchpad-InfoBanner-DkQEPd77-BZ0gBA_1.js","launchpad-FundingEditAmountScreen-kwQjuyb9-BFsjAcNz.js","launchpad-FundingMethodSelectionScreen-CbxUWw1v-Cb7Jmxhm.js","launchpad-ErrorBanner-CQERa7bL-DglzmpVC.js","launchpad-ExclamationCircleIcon-DuVuT9M1.js","launchpad-getErc20TokenInfo-1Q6w1Ibq-BJNrMQb3.js","launchpad-index-BpieExSM-aq_bMrTs.js","launchpad-InAppBrowserLoginNotPossible-BR9y7vrg-R_p18n6e.js","launchpad-InstallWalletScreen-DkaJ2iZK-VgGP5flO.js","launchpad-LandingScreen-BtCc-4_K-Rz7lbMgE.js","launchpad-LinkConflictScreen-CSZu5Mc7-DMbK-AH4.js","launchpad-StackedContainer-B2vaEl56-s1vNZunq.js","launchpad-capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","launchpad-LinkEmailScreen-CMX1b5QU---EwhCfx.js","launchpad-LinkPhoneScreen-CGYAeavW-BHAmoJJv.js","launchpad-LoginFailedScreen-DpfFaY7V-CsMczcEr.js","launchpad-ManualTransferScreen-D3CPPofR-Dd-PUmj2.js","launchpad-useWalletBalance-CDyi5_iR-CyTmk2cZ.js","launchpad-MfaAuthEnrollmentFlowScreen-YWkK-71P-DJ-Lj4zx.js","launchpad-ShieldCheckIcon-CP_2fGKU.js","launchpad-EnrollTotp-COmXYzq5-DYZ9Trgl.js","launchpad-PinInput-3SLvbnQa-DvIAHfmw.js","launchpad-MfaAuthVerifyFlowScreen-BIGip6ll-Dsl12tBP.js","launchpad-to-ui-error-CmP4i4IC-Baxzvz78.js","launchpad-TransactionDetails-DkPozym_-BN43LfeN.js","launchpad-WalletLink-B12jNftF-piDAEyat.js","launchpad-MfaEnrollmentFlowScreen-XrdyfmmI-HBRnpVuD.js","launchpad-MoonpayStatusScreen-CqsI_vjN-C71QfAri.js","launchpad-OAuthStatusScreen-DB8OcP_K-D6pLGvWk.js","launchpad-PasskeySelectSignupOrLogin-DCaGA7kA-JgNkOwrz.js","launchpad-PasskeyStatusScreen-5cLO3m8F-C19ChpQd.js","launchpad-PasswordRecoveryScreen-Bfqx2sWJ-DJ_UNTXD.js","launchpad-RecoveryOAuthStatusScreen-CScuB-aG-CL7GzpD_.js","launchpad-styles-BsotlekN-CT8HbVkl.js","launchpad-RecoverySelectionScreen-DfHkr07F-D86UclQl.js","launchpad-LockClosedIcon-BqF5SfBd.js","launchpad-index-BAAWn9Kv-9OOPAor6.js","launchpad-JsonTree-aPaJmPx7-Cy5MSHnf.js","launchpad-TransactionErrorView-f1bQRoCZ-C8Jwa7RN.js","launchpad-SetAutomaticRecoveryScreen-Ol789UQM-ZcVyVaPX.js","launchpad-SignRequestScreen-CUMcsLye-BPDxVlrE.js","launchpad-StandardSignAndSendTransactionScreen-C8nW4u5b-DmR2XjzA.js","launchpad-TelegramAuthScreen-jb192MAl-DiAFuiz7.js","launchpad-TransferFromWalletScreen-B8AzQgyG-DLt3zcq3.js","launchpad-UpdateEmailScreen-deteEdyS-B8-I0ztj.js","launchpad-UpdatePhoneScreen-D3RSZlDk-CfBjYHzj.js","launchpad-UserLimitReachedScreen-QT4sbDev-COj4sqBi.js","launchpad-WalletInterstitialScreen-DPTs9K3X-Buv7lhB1.js","launchpad-MfaVerifyFlowScreen-2H1EX_qQ-Bi-VY2eS.js","launchpad-mermaid.core-eRiVWycB.js"])))=>i.map(i=>d[i]);
var _j=Object.defineProperty;var Cj=(t,e,n)=>e in t?_j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var q3=(t,e,n)=>Cj(t,typeof e!="symbol"?e+"":e,n);import{_ as we,g as y2,c as lA,r as R,j as g,t as Te,a as Ej,b as Rb,d as uA}from"./launchpad.js";const xj={path:"/api/v1/analytics_events",method:"POST"},Aj={path:"/api/v1/apps/:app_id",method:"GET"},Lj={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},Sj={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},Ij={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},Tj={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},kj={path:"/api/v1/custom_jwt_account/link",method:"POST"},Pj={path:"/api/v1/farcaster/init",method:"POST"},Oj={path:"/api/v1/farcaster/authenticate",method:"POST"},Rj={path:"/api/v1/farcaster/link",method:"POST"},$j={path:"/api/v1/farcaster/unlink",method:"POST"},Mj={path:"/api/v1/farcaster/status",method:"GET"},Nj={path:"/api/v2/farcaster/init",method:"POST"},Dj={path:"/api/v2/farcaster/authenticate",method:"POST"},jj={path:"/api/v1/guest/authenticate",method:"POST"},Uj={path:"/api/v1/mfa/passkeys/init",method:"POST"},Bj={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},Fj={path:"/api/v1/oauth/authenticate",method:"POST"},zj={path:"/api/v1/oauth/init",method:"POST"},Wj={path:"/api/v1/oauth/link",method:"POST"},Vj={path:"/api/v1/oauth/unlink",method:"POST"},Hj={path:"/api/v1/passkeys/link",method:"POST"},qj={path:"/api/v1/passkeys/authenticate",method:"POST"},Zj={path:"/api/v1/passkeys/register",method:"POST"},Gj={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Kj={path:"/api/v1/passkeys/register/init",method:"POST"},Yj={path:"/api/v1/passkeys/link/init",method:"POST"},Jj={path:"/api/v1/passwordless/authenticate",method:"POST"},Xj={path:"/api/v1/passwordless/init",method:"POST"},Qj={path:"/api/v1/passwordless/link",method:"POST"},eU={path:"/api/v1/passwordless/unlink",method:"POST"},tU={path:"/api/v1/passwordless/update",method:"POST"},nU={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},rU={path:"/api/v1/passwordless_sms/init",method:"POST"},iU={path:"/api/v1/passwordless_sms/link",method:"POST"},sU={path:"/api/v1/passwordless_sms/unlink",method:"POST"},aU={path:"/api/v1/passwordless_sms/update",method:"POST"},oU={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},cU={path:"/api/v1/recovery/oauth/init",method:"POST"},lU={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},uU={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},dU={path:"/api/v1/recovery/configuration_icloud",method:"POST"},hU=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,$b={path:"/api/v1/sessions",method:"POST"},fU={path:"/api/v1/sessions/logout",method:"POST"},pU={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},dA={path:"/api/v1/siwe/init",method:"POST"},mU={path:"/api/v1/siwe/authenticate",method:"POST"},gU={path:"/api/v1/siwe/link",method:"POST"},yU={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},wU={path:"/api/v1/siwe/unlink",method:"POST"},bU={path:"/api/v1/siws/init",method:"POST"},vU={path:"/api/v1/siws/authenticate",method:"POST"},_U={path:"/api/v1/siws/link",method:"POST"},CU={path:"/api/v1/siws/unlink",method:"POST"},EU={path:"/api/v1/users/me/accept_terms",method:"POST"},xU={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},AU={path:"/api/v1/wallets",method:"POST"},Z3={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},LU={path:"/api/v1/wallets/revoke",method:"POST"};let SU=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(pU,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const IU=new TextEncoder,hA=new TextDecoder,TU=t=>{let e=t;typeof e=="string"&&(e=IU.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},kU=t=>TU(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),PU=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},OU=t=>{let e=t;e instanceof Uint8Array&&(e=hA.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return PU(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class RU extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class dc extends RU{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function $U(t){return typeof t=="object"&&t!==null}function MU(t){if(!$U(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Gc=kU,NU=OU;function Lg(t){if(typeof t!="string")throw new dc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new dc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new dc("Invalid JWT");if(!e)throw new dc("JWTs must contain a payload");let r;try{r=NU(e)}catch{throw new dc("Failed to base64url decode the payload")}let i;try{i=JSON.parse(hA.decode(r))}catch{throw new dc("Failed to parse the decoded payload as JSON")}if(!MU(i))throw new dc("Invalid JWT Claims Set");return i}let el=class fA{static parse(e){try{return new fA(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Lg(e)}},pA=class Sg{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=Sg.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=Sg.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new el(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Ij,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};pA.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let DU=class{async revoke(){await this._privyInternal.fetch(LU,{})}constructor(e){this._privyInternal=e}};function jU(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const Ih={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},mA={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Th={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},gA={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},kh={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},yA={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},UU={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},BU={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},E4={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},FU={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},zU={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},WU={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},VU={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},HU={id:43419,name:"Gunz Mainnet",network:"gunz",nativeCurrency:{name:"GUN",symbol:"GUN",decimals:18},rpcUrls:{privy:{http:["https://gunz-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]},public:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]}},blockExplorers:{default:{name:"Gunz Explorer",url:"https://gunzscan.io"}}},qU={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},ZU={id:13371,name:"Immutable zkEVM",network:"immutable-zkevm",nativeCurrency:{name:"Immutable Coin",symbol:"IMX",decimals:18},rpcUrls:{privy:{http:["https://immutable-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.immutable.com"]},public:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com"}}},GU={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},KU={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},YU={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},su={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},x4={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},wA={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Ph={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},bA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},JU={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},vA={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},XU={id:1868,name:"Soneium Mainnet",network:"soneium",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://soneium-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.soneium.org"]},public:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com"}}},QU={id:130,name:"Unichain",network:"unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://unichain-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.unichain.org"]},public:{http:["https://mainnet.unichain.org"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz"}}},eB={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{privy:{http:["https://zora-mainnet.rpc.privy.systems"]},default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},tB={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},nB={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},w1=[su,vA,qU,Ih,mA,x4,wA,Ph,bA,E4,FU,zU,WU,kh,yA,UU,BU,HU,ZU,YU,GU,KU,Th,gA,XU,QU,eB,nB,tB,JU,VU],rB=new Set(w1.map(t=>t.id)),_A=t=>t.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=w1.find(i=>i.id===e.id),r=n?.rpcUrls.privy?.http[0];return r?jU(e,r):e}),iB={id:999},A4={id:143};let G3=class extends Error{constructor({error:e,code:n,status:r}){super(e),this.name="PrivyApiError",this.error=e,this.code=n,this.status=r}},gt=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},sB=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const Lo=t=>!!t.id&&t.recovery_method==="privy-v2";let aB=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Lo(this._account))throw new gt({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new gt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new gt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const oB=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Pr;(Pr={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Pr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Pr.INVALID_DATA="invalid_data",Pr.LINKED_TO_ANOTHER_USER="linked_to_another_user",Pr.ALLOWLIST_REJECTED="allowlist_rejected",Pr.OAUTH_USER_DENIED="oauth_user_denied",Pr.UNKNOWN_AUTH_ERROR="unknown_auth_error",Pr.USER_EXITED_AUTH_FLOW="exited_auth_flow",Pr.MUST_BE_AUTHENTICATED="must_be_authenticated",Pr.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Pr.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Pr.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Pr.INVALID_CREDENTIALS="invalid_credentials";let cB=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Ap=class extends Error{constructor(e,n){super(n),this.type=e}},CA=class extends cB{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Mb=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const tl={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Don’t see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function lB(t){let e=t.type;return typeof e=="string"&&oB.includes(e)}function L4(t){return lB(t)&&t.type==="wallet_not_on_device"}async function Ig(t,{request:e,headers:n}){return await t.fetchPrivyRoute(AU,{body:e,headers:n})}async function K3({context:t,chainType:e,idempotencyKey:n}){return{wallet:await Ig(t,{request:{chain_type:e,owner_id:void 0},headers:n?{"privy-idempotency-key":n}:void 0})}}const uB="1.2.3";let Zr=class Tg extends Error{constructor(e,n={}){const r=n.cause instanceof Tg?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Tg&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${uB}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Ga(t,e){return t.exec(e)?.groups}const EA=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xA=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,AA=/^\(.+?\).*?$/,Nb=/^tuple(?<array>(\[(\d*)\])*)$/;function kg(t){let e=t.type;if(Nb.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=kg(s),i<n-1&&(e+=", ")}const r=Ga(Nb,t.type);return e+=`)${r?.array||""}`,kg({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function nl(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=kg(i),r!==n-1&&(e+=", ")}return e}function Qp(t){return t.type==="function"?`function ${t.name}(${nl(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${nl(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${nl(t.inputs)})`:t.type==="error"?`error ${t.name}(${nl(t.inputs)})`:t.type==="constructor"?`constructor(${nl(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const LA=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dB(t){return LA.test(t)}function hB(t){return Ga(LA,t)}const SA=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fB(t){return SA.test(t)}function pB(t){return Ga(SA,t)}const IA=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function mB(t){return IA.test(t)}function gB(t){return Ga(IA,t)}const TA=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function b1(t){return TA.test(t)}function yB(t){return Ga(TA,t)}const kA=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function wB(t){return kA.test(t)}function bB(t){return Ga(kA,t)}const PA=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vB(t){return PA.test(t)}function _B(t){return Ga(PA,t)}const CB=/^receive\(\) external payable$/;function EB(t){return CB.test(t)}const Db=new Set(["memory","indexed","storage","calldata"]),xB=new Set(["indexed"]),Pg=new Set(["calldata","memory","storage"]);class AB extends Zr{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class LB extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class SB extends Zr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class IB extends Zr{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class TB extends Zr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class kB extends Zr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class PB extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class OB extends Zr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class RB extends Zr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class au extends Zr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class $B extends Zr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class MB extends Zr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class NB extends Zr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class DB extends Zr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function jB(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const Y3=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Og(t,e={}){if(mB(t))return UB(t,e);if(fB(t))return BB(t,e);if(dB(t))return FB(t,e);if(wB(t))return zB(t,e);if(vB(t))return WB(t);if(EB(t))return{type:"receive",stateMutability:"payable"};throw new $B({signature:t})}function UB(t,e={}){const n=gB(t);if(!n)throw new au({signature:t,type:"function"});const r=li(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ba(r[o],{modifiers:Pg,structs:e,type:"function"}));const a=[];if(n.returns){const o=li(n.returns),c=o.length;for(let l=0;l<c;l++)a.push(Ba(o[l],{modifiers:Pg,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function BB(t,e={}){const n=pB(t);if(!n)throw new au({signature:t,type:"event"});const r=li(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ba(r[a],{modifiers:xB,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function FB(t,e={}){const n=hB(t);if(!n)throw new au({signature:t,type:"error"});const r=li(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ba(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function zB(t,e={}){const n=bB(t);if(!n)throw new au({signature:t,type:"constructor"});const r=li(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ba(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function WB(t){const e=_B(t);if(!e)throw new au({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const VB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,HB=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,qB=/^u?int$/;function Ba(t,e){const n=jB(t,e?.type,e?.structs);if(Y3.has(n))return Y3.get(n);const r=AA.test(t),i=Ga(r?HB:VB,t);if(!i)throw new TB({param:t});if(i.name&&GB(i.name))throw new kB({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let c,l={};if(r){c="tuple";const d=li(i.type),h=[],f=d.length;for(let p=0;p<f;p++)h.push(Ba(d[p],{structs:o}));l={components:h}}else if(i.type in o)c="tuple",l={components:o[i.type]};else if(qB.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,e?.type!=="struct"&&!OA(c))throw new SB({type:c});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new PB({param:t,type:e?.type,modifier:i.modifier});if(Pg.has(i.modifier)&&!KB(c,!!i.array))throw new OB({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...a,...l};return Y3.set(n,u),u}function li(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],o=t.slice(s+1);switch(a){case",":return r===0?li(o,[...e,n.trim()]):li(o,e,`${n}${a}`,r);case"(":return li(o,e,`${n}${a}`,r+1);case")":return li(o,e,`${n}${a}`,r-1);default:return li(o,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new DB({current:n,depth:r});return e.push(n.trim()),e}function OA(t){return t==="address"||t==="bool"||t==="function"||t==="string"||EA.test(t)||xA.test(t)}const ZB=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function GB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||EA.test(t)||xA.test(t)||ZB.test(t)}function KB(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function S4(t){const e={},n=t.length;for(let a=0;a<n;a++){const o=t[a];if(!b1(o))continue;const c=yB(o);if(!c)throw new au({signature:o,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const m=Ba(p,{type:"struct"});u.push(m)}if(!u.length)throw new MB({signature:o});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[o,c]=i[a];r[o]=RA(c,e)}return r}const YB=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function RA(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(AA.test(a.type))r.push(a);else{const c=Ga(YB,a.type);if(!c?.type)throw new RB({abiParameter:a});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new NB({type:u});r.push({...a,type:`tuple${l??""}`,components:RA(e[u],e,new Set([...n,u]))})}else if(OA(u))r.push(a);else throw new LB({type:u})}}return r}function $A(t){const e=S4(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];b1(s)||n.push(Og(s,e))}return n}function jb(t){let e;if(typeof t=="string")e=Og(t);else{const n=S4(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!b1(s)){e=Og(s,n);break}}}if(!e)throw new AB({signature:t});return e}function Ub(t){const e=[];if(typeof t=="string"){const n=li(t),r=n.length;for(let i=0;i<r;i++)e.push(Ba(n[i],{modifiers:Db}))}else{const n=S4(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(b1(s))continue;const a=li(s),o=a.length;for(let c=0;c<o;c++)e.push(Ba(a[c],{modifiers:Db,structs:n}))}}if(e.length===0)throw new IB({params:t});return e}function Ce(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function cs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new lF(t.type);return`${t.name}(${v1(t.inputs,{includeName:e})})`}function v1(t,{includeName:e=!1}={}){return t?t.map(n=>JB(n,{includeName:e})).join(e?", ":","):""}function JB(t,{includeName:e}){return t.type.startsWith("tuple")?`(${v1(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function vr(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Ht(t){return vr(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const MA="2.46.3";let J3={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${MA}`},te=class Rg extends Error{constructor(e,n={}){const r=n.cause instanceof Rg?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Rg&&n.cause.docsPath||n.docsPath,s=J3.getDocsUrl?.({...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...J3.version?[`Version: ${J3.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=MA}walk(e){return NA(this,e)}};function NA(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?NA(t.cause,e):e?null:t}class DA extends te{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class e0 extends te{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class jA extends te{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${v1(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Oh extends te{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class XB extends te{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class QB extends te{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ht(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class eF extends te{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class tF extends te{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Bb extends te{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class UA extends te{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class nF extends te{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class rF extends te{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Fb extends te{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Ol extends te{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class BA extends te{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class iF extends te{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class sF extends te{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${cs(e.abiItem)}\`, and`,`\`${n.type}\` in \`${cs(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let aF=class extends te{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class t0 extends te{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${v1(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class I4 extends te{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${cs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class oF extends te{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cF extends te{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let FA=class extends te{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class lF extends te{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class oAe extends te{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class uF extends te{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let zA=class extends te{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},WA=class extends te{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class zb extends te{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function w2(t,{dir:e,size:n=32}={}){return typeof t=="string"?zo(t,{dir:e,size:n}):dF(t,{dir:e,size:n})}function zo(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new WA({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function dF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new WA({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let T4=class extends te{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},hF=class extends te{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class fF extends te{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let pF=class extends te{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function di(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ji(t,{size:e}){if(Ht(t)>e)throw new pF({givenSize:Ht(t),maxSize:e})}function vt(t,e={}){const{signed:n}=e;e.size&&ji(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function mF(t,e={}){let n=t;if(e.size&&(ji(n,{size:e.size}),n=di(n)),di(n)==="0x00")return!1;if(di(n)==="0x01")return!0;throw new fF(n)}function hi(t,e={}){const n=vt(t,e),r=Number(n);if(!Number.isSafeInteger(r))throw new T4({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${n}n`});return r}function fAe(t,e={}){let n=_r(t);return e.size&&(ji(n,{size:e.size}),n=di(n,{dir:"right"})),new TextDecoder().decode(n)}const gF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ze(t,e={}){return typeof t=="number"||typeof t=="bigint"?oe(t,e):typeof t=="string"?Rl(t,e):typeof t=="boolean"?VA(t,e):fn(t,e)}function VA(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ji(n,{size:e.size}),w2(n,{size:e.size})):n}function fn(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gF[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(ji(r,{size:e.size}),w2(r,{dir:"right",size:e.size})):r}function oe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const c=typeof t=="bigint"?"n":"";throw new T4({max:s?`${s}${c}`:void 0,min:`${a}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?w2(o,{size:r}):o}const yF=new TextEncoder;function Rl(t,e={}){const n=yF.encode(t);return fn(n,e)}const wF=new TextEncoder;function Ra(t,e={}){return typeof t=="number"||typeof t=="bigint"?vF(t,e):typeof t=="boolean"?bF(t,e):vr(t)?_r(t,e):Wc(t,e)}function bF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ji(n,{size:e.size}),w2(n,{size:e.size})):n}const na={zero:48,nine:57,A:65,F:70,a:97,f:102};function Wb(t){if(t>=na.zero&&t<=na.nine)return t-na.zero;if(t>=na.A&&t<=na.F)return t-(na.A-10);if(t>=na.a&&t<=na.f)return t-(na.a-10)}function _r(t,e={}){let n=t;e.size&&(ji(n,{size:e.size}),n=w2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const c=Wb(r.charCodeAt(o++)),l=Wb(r.charCodeAt(o++));if(c===void 0||l===void 0)throw new te(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);s[a]=c*16+l}return s}function vF(t,e){const n=oe(t,e);return _r(n)}function Wc(t,e={}){const n=wF.encode(t);return typeof e.size=="number"?(ji(n,{size:e.size}),w2(n,{dir:"right",size:e.size})):n}const Tf=BigInt(2**32-1),Vb=BigInt(32);function _F(t,e=!1){return e?{h:Number(t&Tf),l:Number(t>>Vb&Tf)}:{h:Number(t>>Vb&Tf)|0,l:Number(t&Tf)|0}}function CF(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=_F(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const EF=(t,e,n)=>t<<n|e>>>32-n,xF=(t,e,n)=>e<<n|t>>>32-n,AF=(t,e,n)=>e<<n-32|t>>>64-n,LF=(t,e,n)=>t<<n-32|e>>>64-n,R2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Kc(t,...e){if(!SF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function IF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");kd(t.outputLen),kd(t.blockLen)}function $l(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HA(t,e){Kc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function TF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ml(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function X3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bs(t,e){return t<<32-e|t>>>e}const kF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function OF(t){for(let e=0;e<t.length;e++)t[e]=PF(t[e]);return t}const Hb=kF?t=>t:OF;function RF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _1(t){return typeof t=="string"&&(t=RF(t)),Kc(t),t}function $F(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Kc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let k4=class{};function qA(t){const e=r=>t().update(_1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function MF(t=32){if(R2&&typeof R2.getRandomValues=="function")return R2.getRandomValues(new Uint8Array(t));if(R2&&typeof R2.randomBytes=="function")return Uint8Array.from(R2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const NF=BigInt(0),Cu=BigInt(1),DF=BigInt(2),jF=BigInt(7),UF=BigInt(256),BF=BigInt(113),ZA=[],GA=[],KA=[];for(let t=0,e=Cu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ZA.push(2*(5*r+n)),GA.push((t+1)*(t+2)/2%64);let i=NF;for(let s=0;s<7;s++)e=(e<<Cu^(e>>jF)*BF)%UF,e&DF&&(i^=Cu<<(Cu<<BigInt(s))-Cu);KA.push(i)}const YA=CF(KA,!0),FF=YA[0],zF=YA[1],qb=(t,e,n)=>n>32?AF(t,e,n):EF(t,e,n),Zb=(t,e,n)=>n>32?LF(t,e,n):xF(t,e,n);function WF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=qb(l,u,1)^n[o],h=Zb(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=GA[a],c=qb(i,s,o),l=Zb(i,s,o),u=ZA[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=FF[r],t[1]^=zF[r]}Ml(n)}let VF=class JA extends k4{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,kd(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=TF(this.state)}clone(){return this._cloneInto()}keccak(){Hb(this.state32),WF(this.state32,this.rounds),Hb(this.state32),this.posOut=0,this.pos=0}update(e){$l(this),e=_1(e),Kc(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$l(this,!1),Kc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ml(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new JA(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const HF=(t,e,n)=>qA(()=>new VF(e,t,n)),XA=HF(1,136,256/8);function On(t,e){const n=e||"hex",r=XA(vr(t,{strict:!1})?Ra(t):t);return n==="bytes"?r:Ze(r)}const qF=t=>On(Ra(t));function ZF(t){return qF(t)}function GF(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!s)throw new te("Unable to normalize signature.");return i}const KF=t=>{const e=typeof t=="string"?t:Qp(t);return GF(e)};function QA(t){return ZF(KF(t))}const C1=QA;let hn=class extends te{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},ou=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Q3=new ou(8192);function Rh(t,e){if(Q3.has(`${t}.${e}`))return Q3.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=On(Wc(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return Q3.set(`${t}.${e}`,s),s}function kn(t,e){if(!Pt(t,{strict:!1}))throw new hn({address:t});return Rh(t,e)}const YF=/^0x[a-fA-F0-9]{40}$/,e6=new ou(8192);function Pt(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(e6.has(r))return e6.get(r);const i=YF.test(t)?t.toLowerCase()===t?!0:n?Rh(t)===t:!0:!1;return e6.set(r,i),i}function lr(t){return typeof t[0]=="string"?Ui(t):JF(t)}function JF(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ui(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Ho(t,e,n,{strict:r}={}){return vr(t,{strict:!1})?$g(t,e,n,{strict:r}):nL(t,e,n,{strict:r})}function eL(t,e){if(typeof e=="number"&&e>0&&e>Ht(t)-1)throw new zA({offset:e,position:"start",size:Ht(t)})}function tL(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ht(t)!==n-e)throw new zA({offset:n,position:"end",size:Ht(t)})}function nL(t,e,n,{strict:r}={}){eL(t,e);const i=t.slice(e,n);return r&&tL(i,e,n),i}function $g(t,e,n,{strict:r}={}){eL(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&tL(i,e,n),i}const yAe=/^(.*)\[([0-9]*)\]$/,XF=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Jo(t,e){if(t.length!==e.length)throw new eF({expectedLength:t.length,givenLength:e.length});const n=QF({params:t,values:e}),r=O4(n);return r.length===0?"0x":r}function QF({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(P4({param:t[r],value:e[r]}));return n}function P4({param:t,value:e}){const n=R4(t.type);if(n){const[r,i]=n;return tz(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return az(e,{param:t});if(t.type==="address")return ez(e);if(t.type==="bool")return rz(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=rL.exec(t.type)??[];return iz(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return nz(e,{param:t});if(t.type==="string")return sz(e);throw new oF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function O4(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=Ht(o)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(n.push(oe(e+i,{size:32})),r.push(o),i+=Ht(o)):n.push(o)}return lr([...n,...r])}function ez(t){if(!Pt(t))throw new hn({address:t});return{dynamic:!1,encoded:zo(t.toLowerCase())}}function tz(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new FA(t);if(!r&&t.length!==e)throw new XB({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const o=P4({param:n,value:t[a]});o.dynamic&&(i=!0),s.push(o)}if(r||i){const a=O4(s);if(r){const o=oe(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?lr([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:lr(s.map(({encoded:a})=>a))}}function nz(t,{param:e}){const[,n]=e.type.split("bytes"),r=Ht(t);if(!n){let i=t;return r%32!==0&&(i=zo(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:lr([zo(oe(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new QB({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:zo(t,{dir:"right"})}}function rz(t){if(typeof t!="boolean")throw new te(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:zo(VA(t))}}function iz(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new T4({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:oe(t,{size:32,signed:e})}}function sz(t){const e=Rl(t),n=Math.ceil(Ht(e)/32),r=[];for(let i=0;i<n;i++)r.push(zo(Ho(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:lr([zo(oe(Ht(e),{size:32})),...r])}}function az(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,o=P4({param:s,value:t[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?O4(r):lr(r.map(({encoded:i})=>i))}}function R4(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const $h=t=>Ho(QA(t),0,4);function b2(t){const{abi:e,args:n=[],name:r}=t,i=vr(r,{strict:!1}),s=e.filter(o=>i?o.type==="function"?$h(o)===r:o.type==="event"?C1(o)===r:!1:"name"in o&&o.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in o&&o.inputs[u];return d?Mg(l,d):!1})){if(a&&"inputs"in a&&a.inputs){const l=iL(o.inputs,a.inputs,n);if(l)throw new sF({abiItem:o,type:l[0]},{abiItem:a,type:l[1]})}a=o}}return a||s[0]}function Mg(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Pt(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>n==="object"&&Mg(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Mg(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function iL(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return iL(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Pt(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Pt(n[r],{strict:!1}):!1)return a}}const Gb="/docs/contract/encodeEventTopics";function Mh(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const c=b2({abi:e,name:n});if(!c)throw new Fb(n,{docsPath:Gb});i=c}if(i.type!=="event")throw new Fb(void 0,{docsPath:Gb});const s=cs(i),a=C1(s);let o=[];if(r&&"inputs"in i){const c=i.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(u=>r[u.name])??[]:[];l.length>0&&(o=c?.map((u,d)=>Array.isArray(l[d])?l[d].map((h,f)=>Kb({param:u,value:l[d][f]})):typeof l[d]<"u"&&l[d]!==null?Kb({param:u,value:l[d]}):null)??[])}return[a,...o]}function Kb({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return On(Ra(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new uF(t.type);return Jo([t],[e])}function E1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:s,transport:a})=>{s==="success"&&e===r&&(n[i]=a.request)}),r=>n[r]||t.request}async function sL(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:a,strict:o,toBlock:c}=e,l=E1(t,{method:"eth_newFilter"}),u=s?Mh({abi:r,args:i,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?oe(a):a,toBlock:typeof c=="bigint"?oe(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!o,type:"event"}}function Ot(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Yb="/docs/contract/encodeFunctionData";function oz(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=b2({abi:e,args:n,name:r});if(!s)throw new Ol(r,{docsPath:Yb});i=s}if(i.type!=="function")throw new Ol(void 0,{docsPath:Yb});return{abi:[i],functionName:$h(cs(i))}}function ur(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:oz(t),i=n[0],s=r,a="inputs"in i&&i.inputs?Jo(i.inputs,e??[]):void 0;return Ui([s,a??"0x"])}const cz={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},aL={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},lz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Jb=class extends te{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},oL=class extends te{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},uz=class extends te{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const dz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new uz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new oL({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Jb({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Jb({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function $4(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(dz);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function hz(t,e={}){typeof e.size<"u"&&ji(t,{size:e.size});const n=fn(t,e);return vt(n,e)}function fz(t,e={}){let n=t;if(typeof e.size<"u"&&(ji(n,{size:e.size}),n=di(n)),n.length>1||n[0]>1)throw new hF(n);return!!n[0]}function $a(t,e={}){typeof e.size<"u"&&ji(t,{size:e.size});const n=fn(t,e);return hi(n,e)}function pz(t,e={}){let n=t;return typeof e.size<"u"&&(ji(n,{size:e.size}),n=di(n,{dir:"right"})),new TextDecoder().decode(n)}function Nh(t,e){const n=typeof e=="string"?_r(e):e,r=$4(n);if(Ht(n)===0&&t.length>0)throw new Oh;if(Ht(e)&&Ht(e)<32)throw new jA({data:typeof e=="string"?e:fn(e),params:t,size:Ht(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const o=t[a];r.setPosition(i);const[c,l]=gl(r,o,{staticPosition:0});i+=l,s.push(c)}return s}function gl(t,e,{staticPosition:n}){const r=R4(e.type);if(r){const[i,s]=r;return gz(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return vz(t,e,{staticPosition:n});if(e.type==="address")return mz(t);if(e.type==="bool")return yz(t);if(e.type.startsWith("bytes"))return wz(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return bz(t,e);if(e.type==="string")return _z(t,{staticPosition:n});throw new cF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Xb=32,Ng=32;function mz(t){const e=t.readBytes(32);return[Rh(fn(nL(e,-20))),32]}function gz(t,e,{length:n,staticPosition:r}){if(!n){const a=$a(t.readBytes(Ng)),o=r+a,c=o+Xb;t.setPosition(o);const l=$a(t.readBytes(Xb)),u=Pd(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,m]=gl(t,e,{staticPosition:c});d+=m,h.push(p)}return t.setPosition(r+32),[h,32]}if(Pd(e)){const a=$a(t.readBytes(Ng)),o=r+a,c=[];for(let l=0;l<n;++l){t.setPosition(o+l*32);const[u]=gl(t,e,{staticPosition:o});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[o,c]=gl(t,e,{staticPosition:r+i});i+=c,s.push(o)}return[s,i]}function yz(t){return[fz(t.readBytes(32),{size:32}),32]}function wz(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=$a(t.readBytes(32));t.setPosition(n+a);const o=$a(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(o);return t.setPosition(n+32),[fn(c),32]}return[fn(t.readBytes(Number.parseInt(i,10),32)),32]}function bz(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?hz(i,{signed:n}):$a(i,{signed:n}),32]}function vz(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(Pd(e)){const a=$a(t.readBytes(Ng)),o=n+a;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(o+s);const[u,d]=gl(t,l,{staticPosition:o});s+=d,i[r?c:l?.name]=u}return t.setPosition(n+32),[i,32]}for(let a=0;a<e.components.length;++a){const o=e.components[a],[c,l]=gl(t,o,{staticPosition:n});i[r?a:o?.name]=c,s+=l}return[i,s]}function _z(t,{staticPosition:e}){const n=$a(t.readBytes(32)),r=e+n;t.setPosition(r);const i=$a(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=pz(di(s));return t.setPosition(e+32),[a,32]}function Pd(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Pd);const n=R4(t.type);return!!(n&&Pd({...t,type:n[1]}))}function Cz(t){const{abi:e,data:n}=t,r=Ho(n,0,4);if(r==="0x")throw new Oh;const s=[...e||[],aL,lz].find(a=>a.type==="error"&&r===$h(cs(a)));if(!s)throw new UA(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Nh(s.inputs,Ho(n,4)):void 0,errorName:s.name}}const _n=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function cL({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?_n(e[s]):e[s]}`).join(", ")})`}const Ez={gwei:9,wei:18},xz={ether:-9,wei:9};function lL(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function M4(t,e="wei"){return lL(t,Ez[e])}function Wr(t,e="wei"){return lL(t,xz[e])}class Az extends te{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Lz extends te{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Qb(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function Sz(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=Qb(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=Qb(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Dh(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class Iz extends te{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Tz extends te{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Dh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class kz extends te{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Pz extends te{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=Dh({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Wr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Wr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Wr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class uL extends te{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let a="Transaction";r&&s!==void 0&&(a=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(a=`Transaction at block number "${n}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class dL extends te{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hL extends te{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class Oz extends te{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Rz=t=>t,N4=t=>t;class fL extends te{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){const p=n?Ot(n):void 0;let m=Dh({from:p?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Wr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Wr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Wr(l)} gwei`,nonce:u});f&&(m+=`
${Sz(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class pL extends te{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:a,sender:o}){const c=b2({abi:n,args:r,name:a}),l=c?cL({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?cs(c,{includeName:!0}):void 0,d=Dh({address:i&&Rz(i),function:u,args:l&&l!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=o}}class Dg extends te{constructor({abi:e,data:n,functionName:r,message:i}){let s,a,o,c;if(n&&n!=="0x")try{a=Cz({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=a;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=cz[f]}else{const f=u?cs(u,{includeName:!0}):void 0,p=u&&h?cL({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;o=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof UA&&(l=s.signature,o=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=c,this.signature=l}}class $z extends te{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Mz extends te{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x1 extends te{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class hd extends te{constructor({body:e,cause:n,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${N4(a)}`,e&&`Request body: ${_n(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class D4 extends te{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${N4(r)}`,`Request body: ${_n(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class e7 extends te{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${N4(n)}`,`Request body: ${_n(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Nz=-1;class Gr extends te{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof D4?e.code:n??Nz}}class Kr extends Gr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Od extends Gr{constructor(e){super(e,{code:Od.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Od,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Rd extends Gr{constructor(e){super(e,{code:Rd.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $d extends Gr{constructor(e,{method:n}={}){super(e,{code:$d.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Md extends Gr{constructor(e){super(e,{code:Md.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Md,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Yc extends Gr{constructor(e){super(e,{code:Yc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Yc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class qo extends Gr{constructor(e){super(e,{code:qo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Nd extends Gr{constructor(e){super(e,{code:Nd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Nd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Dd extends Gr{constructor(e){super(e,{code:Dd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Dd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class jd extends Gr{constructor(e){super(e,{code:jd.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Rc extends Gr{constructor(e,{method:n}={}){super(e,{code:Rc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Rc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Nl extends Gr{constructor(e){super(e,{code:Nl.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ud extends Gr{constructor(e){super(e,{code:Ud.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ud,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class yl extends Kr{constructor(e){super(e,{code:yl.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(yl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Bd extends Kr{constructor(e){super(e,{code:Bd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Bd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Fd extends Kr{constructor(e,{method:n}={}){super(e,{code:Fd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class zd extends Kr{constructor(e){super(e,{code:zd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Wd extends Kr{constructor(e){super(e,{code:Wd.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vd extends Kr{constructor(e){super(e,{code:Vd.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Dl extends Kr{constructor(e){super(e,{code:Dl.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Dl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Hd extends Kr{constructor(e){super(e,{code:Hd.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class qd extends Kr{constructor(e){super(e,{code:qd.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Zd extends Kr{constructor(e){super(e,{code:Zd.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Gd extends Kr{constructor(e){super(e,{code:Gd.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Kd extends Kr{constructor(e){super(e,{code:Kd.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class jl extends Kr{constructor(e){super(e,{code:jl.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(jl,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Yd extends Kr{constructor(e){super(e,{code:Yd.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});class Dz extends Gr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const jz=3;function Jc(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:a}){const o=t instanceof x1?t:t instanceof te?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=o,f=t instanceof Oh?new $z({functionName:s}):[jz,Yc.code].includes(c)&&(l||u||d||h)||c===qo.code&&u==="execution reverted"&&l?new Dg({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:o instanceof D4?u:h??d}):t;return new pL(f,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:a})}function mL(t){const e=On(`0x${t.substring(4)}`).substring(26);return Rh(`0x${e}`)}async function Uz({hash:t,signature:e}){const n=vr(t)?t:Ze(t),{secp256k1:r}=await we(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>bq);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=t7(f);return new r.Signature(vt(l),vt(u)).addRecoveryBit(p)}const a=vr(e)?e:Ze(e);if(Ht(a)!==65)throw new Error("invalid signature length");const o=hi(`0x${a.slice(130)}`),c=t7(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function t7(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function gL({hash:t,signature:e}){return mL(await Uz({hash:t,signature:e}))}function Fa(t,e="hex"){const n=yL(t),r=$4(new Uint8Array(n.length));return n.encode(r),e==="hex"?fn(r.bytes):r.bytes}function yL(t){return Array.isArray(t)?Bz(t.map(e=>yL(e))):Fz(t)}function Bz(t){const e=t.reduce((i,s)=>i+s.length,0),n=wL(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Fz(t){const e=typeof t=="string"?_r(t):t,n=wL(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function wL(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new te("Length is too large.")}function bL(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=On(Ui(["0x05",Fa([e?oe(e):"0x",i,n?oe(n):"0x"])]));return r==="bytes"?_r(s):s}async function A1(t){const{authorization:e,signature:n}=t;return gL({hash:bL(e),signature:n??e})}class zz extends te{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){const f=Dh({from:n?.address,to:d,value:typeof h<"u"&&`${M4(h)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Wr(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Wr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Wr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ol extends te{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ol,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Xc extends te{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Wr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Xc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class jg extends te{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Wr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(jg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ug extends te{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ug,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Bg extends te{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Bg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Fg extends te{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Fg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class zg extends te{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(zg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Wg extends te{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Wg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Vg extends te{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Vg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Hg extends te{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Hg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Jd extends te{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Wr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Wr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Jd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class jh extends te{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function L1(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof te?t.walk(i=>i?.code===ol.code):t;return r instanceof te?new ol({cause:t,message:r.details}):ol.nodeMessage.test(n)?new ol({cause:t,message:t.details}):Xc.nodeMessage.test(n)?new Xc({cause:t,maxFeePerGas:e?.maxFeePerGas}):jg.nodeMessage.test(n)?new jg({cause:t,maxFeePerGas:e?.maxFeePerGas}):Ug.nodeMessage.test(n)?new Ug({cause:t,nonce:e?.nonce}):Bg.nodeMessage.test(n)?new Bg({cause:t,nonce:e?.nonce}):Fg.nodeMessage.test(n)?new Fg({cause:t,nonce:e?.nonce}):zg.nodeMessage.test(n)?new zg({cause:t}):Wg.nodeMessage.test(n)?new Wg({cause:t,gas:e?.gas}):Vg.nodeMessage.test(n)?new Vg({cause:t,gas:e?.gas}):Hg.nodeMessage.test(n)?new Hg({cause:t}):Jd.nodeMessage.test(n)?new Jd({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new jh({cause:t})}function Wz(t,{docsPath:e,...n}){const r=(()=>{const i=L1(t,n);return i instanceof jh?t:i})();return new zz(r,{docsPath:e,...n})}function cu(t,{format:e}){if(!e)return{};const n={};function r(s){const a=Object.keys(s);for(const o of a)o in t&&(n[o]=t[o]),s[o]&&typeof s[o]=="object"&&!Array.isArray(s[o])&&r(s[o])}const i=e(t||{});return r(i),n}function S1(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const a=e(i,s);if(n)for(const o of n)delete a[o];return{...a,...r(i,s)}},type:t})}const Vz={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ka(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=qz(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>fn(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=oe(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=oe(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=oe(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=oe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=oe(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=oe(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=Vz[t.type]),typeof t.value<"u"&&(n.value=oe(t.value)),n}const Hz=S1("transactionRequest",Ka);function qz(t){return t.map(e=>({address:e.address,r:e.r?oe(BigInt(e.r)):e.r,s:e.s?oe(BigInt(e.s)):e.s,chainId:oe(e.chainId),nonce:oe(e.nonce),...typeof e.yParity<"u"?{yParity:oe(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:oe(e.v)}:{}}))}function n7(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new zb({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new zb({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Zz(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=oe(e)),n!==void 0&&(a.nonce=oe(n)),r!==void 0&&(a.state=n7(r)),i!==void 0){if(a.state)throw new Lz;a.stateDiff=n7(i)}return a}function j4(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Pt(n,{strict:!1}))throw new hn({address:n});if(e[n])throw new Az({address:n});e[n]=Zz(r)}return e}const Gz=2n**16n-1n,I1=2n**256n-1n;function Ks(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?Ot(e):void 0;if(s&&!Pt(s.address))throw new hn({address:s.address});if(i&&!Pt(i))throw new hn({address:i});if(n&&n>I1)throw new Xc({maxFeePerGas:n});if(r&&n&&r>n)throw new Jd({maxFeePerGas:n,maxPriorityFeePerGas:r})}class vL extends te{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class U4 extends te{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Kz extends te{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Wr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class _L extends te{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const CL={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Uh(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?hi(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?hi(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?CL[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Yz(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const EL=S1("transaction",Uh);function Yz(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function B4(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Uh(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const xL=S1("block",B4);async function ns(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,a=n!==void 0?oe(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]},{dedupe:!!a}),!o)throw new _L({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||B4)(o,"getBlock")}async function F4(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Jz(t,e){return AL(t,e)}async function AL(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const o=n||await Ce(t,ns,"getBlock")({}),c=await s({block:o,client:t,request:i});if(c===null)throw new Error;return c}if(typeof s<"u")return s;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return vt(a)}catch{const[s,a]=await Promise.all([n?Promise.resolve(n):Ce(t,ns,"getBlock")({}),Ce(t,F4,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new U4;const o=a-s.baseFeePerGas;return o<0n?0n:o}}async function Xz(t,e){return qg(t,e)}async function qg(t,e){const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new vL;const c=10**(a.toString().split(".")[1]?.length??0),l=h=>h*BigInt(Math.ceil(a*c))/BigInt(c),u=n||await Ce(t,ns,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(h!==null)return h}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new U4;const h=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await AL(t,{block:u,chain:r,request:i}),f=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??f+h,maxPriorityFeePerGas:h}}return{gasPrice:i?.gasPrice??l(await Ce(t,F4,"getGasPrice")({}))}}async function z4(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?oe(r):n]},{dedupe:!!r});return hi(i)}function W4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>_r(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>fn(s))}function V4(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>_r(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>_r(a)):t.commitments,s=[];for(let a=0;a<r.length;a++){const o=r[a],c=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(o,c)))}return n==="bytes"?s:s.map(a=>fn(a))}function Qz(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function eW(t,e,n){return t&e^~t&n}function tW(t,e,n){return t&e^t&n^e&n}let nW=class extends k4{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=X3(this.buffer)}update(e){$l(this),e=_1(e),Kc(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=X3(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$l(this),HA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Ml(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;Qz(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=X3(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Xa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rW=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qa=new Uint32Array(64);let iW=class extends nW{constructor(e=32){super(64,e,8,!1),this.A=Xa[0]|0,this.B=Xa[1]|0,this.C=Xa[2]|0,this.D=Xa[3]|0,this.E=Xa[4]|0,this.F=Xa[5]|0,this.G=Xa[6]|0,this.H=Xa[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Qa[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Qa[d-15],f=Qa[d-2],p=bs(h,7)^bs(h,18)^h>>>3,m=bs(f,17)^bs(f,19)^f>>>10;Qa[d]=m+Qa[d-7]+p+Qa[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=bs(o,6)^bs(o,11)^bs(o,25),f=u+h+eW(o,c,l)+rW[d]+Qa[d]|0,m=(bs(r,2)^bs(r,13)^bs(r,22))+tW(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Ml(Qa)}destroy(){this.set(0,0,0,0,0,0,0,0),Ml(this.buffer)}};const LL=qA(()=>new iW),sW=LL;function SL(t,e){const n=e||"hex",r=sW(vr(t,{strict:!1})?Ra(t):t);return n==="bytes"?r:Ze(r)}function aW(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=SL(e,"bytes");return i.set([n],0),r==="bytes"?i:fn(i)}function IL(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(aW({commitment:s,to:r,version:n}));return i}const r7=6,TL=32,H4=4096,kL=TL*H4,i7=kL*r7-1-1*H4*r7,PL=1;class oW extends te{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class OL extends te{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class cW extends te{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class lW extends te{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${PL}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function uW(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?_r(t.data):t.data,r=Ht(n);if(!r)throw new OL;if(r>i7)throw new oW({maxSize:i7,size:r});const i=[];let s=!0,a=0;for(;s;){const o=$4(new Uint8Array(kL));let c=0;for(;c<H4;){const l=n.slice(a,a+(TL-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),s=!1;break}c++,a+=31}i.push(o)}return e==="bytes"?i.map(o=>o.bytes):i.map(o=>fn(o.bytes))}function RL(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??uW({data:e,to:r}),s=t.commitments??W4({blobs:i,kzg:n,to:r}),a=t.proofs??V4({blobs:i,commitments:s,kzg:n,to:r}),o=[];for(let c=0;c<i.length;c++)o.push({blob:i[c],commitment:s[c],proof:a[c]});return o}function $L(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Tz({transaction:t})}function Bh(t,{docsPath:e,...n}){const r=(()=>{const i=L1(t,n);return i instanceof jh?t:i})();return new Pz(r,{docsPath:e,...n})}async function Ys(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return hi(e)}async function q4(t,e){const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:a,blobs:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:m,to:y,type:C,value:L,...w}=e,b=await(async()=>{if(!n||!m||typeof p<"u")return p;const M=Ot(n),D=s?s.id:await Ce(t,Ys,"getChainId")({});return await m.consume({address:M.address,chainId:D,client:t})})();Ks(e);const A=s?.formatters?.transactionRequest?.format,I=(A||Ka)({...cu(w,{format:A}),account:n?Ot(n):void 0,accessList:r,authorizationList:i,blobs:o,blobVersionedHashes:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:b,to:y,type:C,value:L},"fillTransaction");try{const M=await t.request({method:"eth_fillTransaction",params:[I]}),B=(s?.formatters?.transaction?.format||Uh)(M.tx);delete B.blockHash,delete B.blockNumber,delete B.r,delete B.s,delete B.transactionIndex,delete B.v,delete B.yParity,B.data=B.input,B.gas&&(B.gas=e.gas??B.gas),B.gasPrice&&(B.gasPrice=e.gasPrice??B.gasPrice),B.maxFeePerBlobGas&&(B.maxFeePerBlobGas=e.maxFeePerBlobGas??B.maxFeePerBlobGas),B.maxFeePerGas&&(B.maxFeePerGas=e.maxFeePerGas??B.maxFeePerGas),B.maxPriorityFeePerGas&&(B.maxPriorityFeePerGas=e.maxPriorityFeePerGas??B.maxPriorityFeePerGas),B.nonce&&(B.nonce=e.nonce??B.nonce);const W=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const v=await Ce(t,ns,"getBlock")({});return s.fees.baseFeeMultiplier({block:v,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(W<1)throw new vL;const T=10**(W.toString().split(".")[1]?.length??0),U=v=>v*BigInt(Math.ceil(W*T))/BigInt(T);return B.maxFeePerGas&&!e.maxFeePerGas&&(B.maxFeePerGas=U(B.maxFeePerGas)),B.gasPrice&&!e.gasPrice&&(B.gasPrice=U(B.gasPrice)),{raw:M.raw,transaction:{from:I.from,...B}}}catch(M){throw Bh(M,{...e,chain:t.chain})}}const Z4=["blobVersionedHashes","chainId","fees","gas","nonce","type"],s7=new Map,t6=new ou(128);async function lu(t,e){let n=e;n.account??(n.account=t.account),n.parameters??(n.parameters=Z4);const{account:r,chain:i=t.chain,nonceManager:s,parameters:a}=n,o=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:i?i.id:(c=await Ce(t,Ys,"getChainId")({}),c))}const u=r&&Ot(r);let d=n.nonce;if(a.includes("nonce")&&typeof d>"u"&&u&&s){const b=await l();d=await s.consume({address:u.address,chainId:b,client:t})}o?.fn&&o.runAt?.includes("beforeFillTransaction")&&(n=await o.fn({...n,chain:i},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const f=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||t6.get(t.uid)===!1||!["fees","gas"].some(A=>a.includes(A))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof d!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await Ce(t,q4,"fillTransaction")({...n,nonce:d}).then(b=>{const{chainId:A,from:_,gas:I,gasPrice:M,nonce:D,maxFeePerBlobGas:B,maxFeePerGas:W,maxPriorityFeePerGas:P,type:T,...U}=b.transaction;return t6.set(t.uid,!0),{...n,..._?{from:_}:{},...T?{type:T}:{},...typeof A<"u"?{chainId:A}:{},...typeof I<"u"?{gas:I}:{},...typeof M<"u"?{gasPrice:M}:{},...typeof D<"u"?{nonce:D}:{},...typeof B<"u"?{maxFeePerBlobGas:B}:{},...typeof W<"u"?{maxFeePerGas:W}:{},...typeof P<"u"?{maxPriorityFeePerGas:P}:{},..."nonceKey"in U&&typeof U.nonceKey<"u"?{nonceKey:U.nonceKey}:{}}}).catch(b=>{const A=b;return A.name!=="TransactionExecutionError"||A.walk?.(I=>{const M=I;return M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError"})&&t6.set(t.uid,!1),n}):n;d??(d=f.nonce),n={...f,...u?{from:u?.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:m,kzg:y,type:C}=n;o?.fn&&o.runAt?.includes("beforeFillParameters")&&(n=await o.fn({...n,chain:i},{phase:"beforeFillParameters"}));let L;async function w(){return L||(L=await Ce(t,ns,"getBlock")({blockTag:"latest"}),L)}if(a.includes("nonce")&&typeof d>"u"&&u&&!s&&(n.nonce=await Ce(t,z4,"getTransactionCount")({address:u.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&p&&y){const b=W4({blobs:p,kzg:y});if(a.includes("blobVersionedHashes")){const A=IL({commitments:b,to:"hex"});n.blobVersionedHashes=A}if(a.includes("sidecars")){const A=V4({blobs:p,commitments:b,kzg:y}),_=RL({blobs:p,commitments:b,proofs:A,to:"hex"});n.sidecars=_}}if(a.includes("chainId")&&(n.chainId=await l()),(a.includes("fees")||a.includes("type"))&&typeof C>"u")try{n.type=$L(n)}catch{let b=s7.get(t.uid);typeof b>"u"&&(b=typeof(await w())?.baseFeePerGas=="bigint",s7.set(t.uid,b)),n.type=b?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const b=await w(),{maxFeePerGas:A,maxPriorityFeePerGas:_}=await qg(t,{block:b,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<_)throw new Kz({maxPriorityFeePerGas:_});n.maxPriorityFeePerGas=_,n.maxFeePerGas=A}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new U4;if(typeof n.gasPrice>"u"){const b=await w(),{gasPrice:A}=await qg(t,{block:b,chain:i,request:n,type:"legacy"});n.gasPrice=A}}return a.includes("gas")&&typeof m>"u"&&(n.gas=await Ce(t,G4,"estimateGas")({...n,account:u,prepare:u?.type==="local"?[]:["blobVersionedHashes"]})),o?.fn&&o.runAt?.includes("afterFillParameters")&&(n=await o.fn({...n,chain:i},{phase:"afterFillParameters"})),Ks(n),delete n.parameters,n}async function G4(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?Ot(n):void 0,s=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await A1({authorization:e.authorizationList[0]}).catch(()=>{throw new te("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:o,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,value:b,stateOverride:A,..._}=r?await lu(t,{...e,parameters:s,to:a}):e;if(p&&e.gas!==p)return p;const M=(typeof d=="bigint"?oe(d):void 0)||h,D=j4(A);Ks(e);const B=t.chain?.formatters?.transactionRequest?.format,P=(B||Ka)({...cu(_,{format:B}),account:i,accessList:o,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:a,value:b},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:D?[P,M??t.experimental_blockTag??"latest",D]:M?[P,M]:[P]}))}catch(a){throw Wz(a,{...e,account:i,chain:t.chain})}}async function dW(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,...o}=e,c=ur({abi:n,args:i,functionName:s});try{return await Ce(t,G4,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...o})}catch(l){const u=o.account?Ot(o.account):void 0;throw Jc(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u?.address})}}function Fh(t,e){if(!Pt(t,{strict:!1}))throw new hn({address:t});if(!Pt(e,{strict:!1}))throw new hn({address:e});return t.toLowerCase()===e.toLowerCase()}function ls(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const a7="/docs/contract/decodeEventLog";function n0(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[a,...o]=i;if(!a)throw new nF({docsPath:a7});const c=e.find(C=>C.type==="event"&&a===C1(cs(C)));if(!(c&&"name"in c)||c.type!=="event")throw new rF(a,{docsPath:a7});const{name:l,inputs:u}=c,d=u?.some(C=>!("name"in C&&C.name)),h=d?[]:{},f=u.map((C,L)=>[C,L]).filter(([C])=>"indexed"in C&&C.indexed),p=[];for(let C=0;C<f.length;C++){const[L,w]=f[C],b=o[C];if(!b){if(s)throw new I4({abiItem:c,param:L});p.push([L,w]);continue}h[d?w:L.name||w]=hW({param:L,value:b})}const m=u.filter(C=>!("indexed"in C&&C.indexed)),y=s?m:[...p.map(([C])=>C),...m];if(y.length>0){if(n&&n!=="0x")try{const C=Nh(y,n);if(C){let L=0;if(!s)for(const[w,b]of p)h[d?b:w.name||b]=C[L++];if(d)for(let w=0;w<u.length;w++)h[w]===void 0&&L<C.length&&(h[w]=C[L++]);else for(let w=0;w<m.length;w++)h[m[w].name]=C[L++]}}catch(C){if(s)throw C instanceof jA||C instanceof oL?new t0({abiItem:c,data:n,params:y,size:Ht(n)}):C}else if(s)throw new t0({abiItem:c,data:"0x",params:y,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function hW({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Nh([t],e)||[])[0]}function K4(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})(),a=e.filter(o=>o.type==="event").map(o=>({abi:o,selector:C1(o)}));return r.map(o=>{const c=typeof o.blockNumber=="string"?ls(o):o,l=a.filter(h=>c.topics[0]===h.selector);if(l.length===0)return null;let u,d;for(const h of l)try{u=n0({...c,abi:[h.abi],strict:!0}),d=h;break}catch{}if(!u&&!i){d=l[0];try{u=n0({data:c.data,topics:c.topics,abi:[d.abi],strict:!1})}catch{const h=d.abi.inputs?.some(f=>!("name"in f&&f.name));return{...c,args:h?[]:{},eventName:d.abi.name}}}return!u||!d||s&&!s.includes(u.eventName)||!fW({args:u.args,inputs:d.abi.inputs,matchArgs:n})?null:{...u,...c}}).filter(Boolean)}function fW(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,a,o){try{return s.type==="address"?Fh(a,o):s.type==="string"||s.type==="bytes"?On(Ra(a))===o:a===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const o=n[a];return o?(Array.isArray(s)?s:[s]).some(l=>i(o,l,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const o=n.find(l=>l.name===s);return o?(Array.isArray(a)?a:[a]).some(l=>i(o,l,e[s])):!1}):!1}async function Y4(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:a,args:o,strict:c}={}){const l=c??!1,u=a??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(m=>Mh({abi:[m],eventName:m.name,args:a?void 0:o}))],s&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?oe(r):r,toBlock:typeof i=="bigint"?oe(i):i}]});const f=h.map(p=>ls(p));return u?K4({abi:u,args:o,logs:f,strict:l}):f}async function ML(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:a,fromBlock:o,toBlock:c,strict:l}=e,u=a?b2({abi:n,name:a}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return Ce(t,Y4,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:o,toBlock:c,strict:l})}const n6="/docs/contract/decodeFunctionResult";function Xo(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const o=b2({abi:e,args:n,name:r});if(!o)throw new Ol(r,{docsPath:n6});s=o}if(s.type!=="function")throw new Ol(void 0,{docsPath:n6});if(!s.outputs)throw new BA(s.name,{docsPath:n6});const a=Nh(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J4=BigInt(0),Zg=BigInt(1);function zh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function X4(t){if(!zh(t))throw new Error("Uint8Array expected")}function Xd(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function kf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function NL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?J4:BigInt("0x"+t)}const DL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",pW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Qd(t){if(X4(t),DL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=pW[t[n]];return e}const ra={_0:48,_9:57,A:65,F:70,a:97,f:102};function o7(t){if(t>=ra._0&&t<=ra._9)return t-ra._0;if(t>=ra.A&&t<=ra.F)return t-(ra.A-10);if(t>=ra.a&&t<=ra.f)return t-(ra.a-10)}function r0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(DL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=o7(t.charCodeAt(s)),o=o7(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function Vc(t){return NL(Qd(t))}function jL(t){return X4(t),NL(Qd(Uint8Array.from(t).reverse()))}function Wh(t,e){return r0(t.toString(16).padStart(e*2,"0"))}function UL(t,e){return Wh(t,e).reverse()}function Ii(t,e,n){let r;if(typeof e=="string")try{r=r0(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(zh(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function i0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];X4(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const r6=t=>typeof t=="bigint"&&J4<=t;function Q4(t,e,n){return r6(t)&&r6(e)&&r6(n)&&e<=t&&t<n}function wl(t,e,n,r){if(!Q4(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function mW(t){let e;for(e=0;t>J4;t>>=Zg,e+=1);return e}const T1=t=>(Zg<<BigInt(t))-Zg,i6=t=>new Uint8Array(t),c7=t=>Uint8Array.from(t);function gW(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=i6(t),i=i6(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...d)=>n(i,r,...d),c=(d=i6(0))=>{i=o(c7([0]),d),r=o(),d.length!==0&&(i=o(c7([1]),d),r=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=o();const f=r.slice();h.push(f),d+=r.length}return i0(...h)};return(d,h)=>{a(),c(d);let f;for(;!(f=h(l()));)c();return a(),f}}const yW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||zh(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function k1(t,e,n={}){const r=(i,s,a)=>{const o=yW[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function l7(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const wW="0.1.1";function bW(){return wW}let rt=class fa extends Error{static setStaticOptions(e){fa.prototype.docsOrigin=e.docsOrigin,fa.prototype.showVersion=e.showVersion,fa.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof fa){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof fa&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??fa.prototype.docsOrigin,a=`${s}${i??""}`,o=!!(n.version??fa.prototype.showVersion),c=n.version??fa.prototype.version,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||o?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,o?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=o,this.version=c}walk(e){return BL(this,e)}};Object.defineProperty(rt,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${bW()}`}});rt.setStaticOptions(rt.defaultStaticOptions);function BL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?BL(t.cause,e):e?null:t}function Vh(t,e){if(cl(t)>e)throw new NW({givenSize:cl(t),maxSize:e})}const ia={zero:48,nine:57,A:65,F:70,a:97,f:102};function u7(t){if(t>=ia.zero&&t<=ia.nine)return t-ia.zero;if(t>=ia.A&&t<=ia.F)return t-(ia.A-10);if(t>=ia.a&&t<=ia.f)return t-(ia.a-10)}function vW(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new DW({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function FL(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function P1(t,e){if(fi(t)>e)throw new WW({givenSize:fi(t),maxSize:e})}function _W(t,e){if(typeof e=="number"&&e>0&&e>fi(t)-1)throw new YL({offset:e,position:"start",size:fi(t)})}function CW(t,e,n){if(typeof e=="number"&&typeof n=="number"&&fi(t)!==n-e)throw new YL({offset:n,position:"end",size:fi(t)})}function zL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new VW({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const EW="#__bigint";function WL(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+EW:i,n)}const xW=new TextDecoder,AW=new TextEncoder;function LW(t){return t instanceof Uint8Array?t:typeof t=="string"?VL(t):SW(t)}function SW(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function VL(t,e={}){const{size:n}=e;let r=t;n&&(P1(t,n),r=e2(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=u7(i.charCodeAt(c++)),u=u7(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new rt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);a[o]=l<<4|u}return a}function IW(t,e={}){const{size:n}=e,r=AW.encode(t);return typeof n=="number"?(Vh(r,n),TW(r,n)):r}function TW(t,e){return vW(t,{dir:"right",size:e})}function cl(t){return t.length}function kW(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function PW(t,e={}){const{size:n}=e;typeof n<"u"&&Vh(t,n);const r=ds(t,e);return ZL(r,e)}function OW(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Vh(r,n),r=HL(r)),r.length>1||r[0]>1)throw new MW(r);return!!r[0]}function Ma(t,e={}){const{size:n}=e;typeof n<"u"&&Vh(t,n);const r=ds(t,e);return GL(r,e)}function RW(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Vh(r,n),r=$W(r)),xW.decode(r)}function HL(t){return FL(t,{dir:"left"})}function $W(t){return FL(t,{dir:"right"})}class MW extends rt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let NW=class extends rt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},DW=class extends rt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const jW=new TextEncoder,UW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function BW(t,e={}){const{strict:n=!1}=e;if(!t)throw new d7(t);if(typeof t!="string")throw new d7(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new h7(t);if(!t.startsWith("0x"))throw new h7(t)}function us(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function FW(t){return t instanceof Uint8Array?ds(t):Array.isArray(t)?ds(new Uint8Array(t)):t}function qL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(P1(n,e.size),Qc(n,e.size)):n}function ds(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=UW[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(P1(r,e.size),e2(r,e.size)):r}function br(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new KL({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?Qc(c,r):c}function e8(t,e={}){return ds(jW.encode(t),e)}function Qc(t,e){return zL(t,{dir:"left",size:e})}function e2(t,e){return zL(t,{dir:"right",size:e})}function Us(t,e,n,r={}){const{strict:i}=r;_W(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&CW(s,e,n),s}function fi(t){return Math.ceil((t.length-2)/2)}function ZL(t,e={}){const{signed:n}=e;e.size&&P1(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return r<=a?r:r-s-1n}function GL(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:ZL(t,e))}function zW(t,e={}){const{strict:n=!1}=e;try{return BW(t,{strict:n}),!0}catch{return!1}}let KL=class extends rt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},d7=class extends rt{constructor(e){super(`Value \`${typeof e=="object"?WL(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},h7=class extends rt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},WW=class extends rt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},YL=class extends rt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},VW=class extends rt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function HW(t){return{address:t.address,amount:br(t.amount),index:br(t.index),validatorIndex:br(t.validatorIndex)}}function JL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:br(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:br(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:br(t.gasLimit)},...typeof t.number=="bigint"&&{number:br(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:br(t.prevRandao)},...typeof t.time=="bigint"&&{time:br(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(HW)}}}const Ul=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Gg=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],XL=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],QL=[...XL,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],qW=[...XL,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],f7=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],p7=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],eS=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],m7=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],PAe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],ZW="0x82ad56cb",tS="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",GW="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",KW="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",t8="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Kg extends te{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class YW extends te{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class JW extends te{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class nS extends te{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Hh extends te{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const s6="/docs/contract/encodeDeployData";function O1(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new DA({docsPath:s6});if(!("inputs"in i))throw new e0({docsPath:s6});if(!i.inputs||i.inputs.length===0)throw new e0({docsPath:s6});const s=Jo(i.inputs,n);return Ui([r,s])}function uu({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new Kg({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Kg({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function rS(t,{docsPath:e,...n}){const r=(()=>{const i=L1(t,n);return i instanceof jh?t:i})();return new fL(r,{docsPath:e,...n})}function n8(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const a6=new Map;function iS({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();a();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p?.([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p?.(h)}})},a=()=>a6.delete(e),o=()=>c().map(({args:u})=>u),c=()=>a6.get(e)||[],l=u=>a6.set(e,[...c(),u]);return{flush:a,async schedule(u){const{promise:d,resolve:h,reject:f}=n8();return n?.([...o(),u])&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,r),d)}}}async function qh(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:b,value:A,stateOverride:_,...I}=e,M=n?Ot(n):void 0;if(u&&(h||f))throw new te("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&b)throw new te("Cannot provide both `code` & `to` as parameters.");const D=u&&d,B=h&&f&&b&&d,W=D||B,P=D?sS({code:u,data:d}):B?eV({data:d,factory:h,factoryData:f,to:b}):d;try{Ks(e);const U=(typeof s=="bigint"?oe(s):void 0)||a,v=l?JL(l):void 0,E=j4(_),O=t.chain?.formatters?.transactionRequest?.format,$=(O||Ka)({...cu(I,{format:O}),accessList:o,account:M,authorizationList:r,blobs:c,data:P,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:C,maxPriorityFeePerGas:L,nonce:w,to:W?void 0:b,value:A},"call");if(i&&XW({request:$})&&!E&&!v)try{return await QW(t,{...$,blockNumber:s,blockTag:a})}catch(Z){if(!(Z instanceof nS)&&!(Z instanceof Kg))throw Z}const j=(()=>{const Z=[$,U];return E&&v?[...Z,E,v]:E?[...Z,E]:v?[...Z,{},v]:Z})(),V=await t.request({method:"eth_call",params:j});return V==="0x"?{data:void 0}:{data:V}}catch(T){const U=tV(T),{offchainLookup:v,offchainLookupSignature:E}=await we(async()=>{const{offchainLookup:O,offchainLookupSignature:k}=await import("./launchpad-ccip-B05BltCi.js");return{offchainLookup:O,offchainLookupSignature:k}},__vite__mapDeps([0,1]));if(t.ccipRead!==!1&&U?.slice(0,10)===E&&b)return{data:await v(t,{data:U,to:b})};throw W&&U?.slice(0,10)==="0x101bb98d"?new Mz({factory:h}):rS(T,{...e,account:M,chain:t.chain})}}function XW({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(ZW)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function QW(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:o,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return uu({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new nS})(),d=(typeof s=="bigint"?oe(s):void 0)||a,{schedule:h}=iS({id:`${t.uid}.${d}`,wait:i,shouldSplitBatch(m){return m.reduce((C,{data:L})=>C+(L.length-2),0)>n*2},fn:async m=>{const y=m.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),C=ur({abi:Ul,args:[y],functionName:"aggregate3"}),L=await t.request({method:"eth_call",params:[{...l===null?{data:sS({code:t8,data:C})}:{to:l,data:C}},d]});return Xo({abi:Ul,args:[y],functionName:"aggregate3",data:L||"0x"})}}),[{returnData:f,success:p}]=await h({data:o,to:c});if(!p)throw new x1({data:f});return f==="0x"?{data:void 0}:{data:f}}function sS(t){const{code:e,data:n}=t;return O1({abi:$A(["constructor(bytes, bytes)"]),bytecode:tS,args:[e,n]})}function eV(t){const{data:e,factory:n,factoryData:r,to:i}=t;return O1({abi:$A(["constructor(address, bytes, address, bytes)"]),bytecode:GW,args:[i,e,n,r]})}function tV(t){if(!(t instanceof te))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function hs(t,e){const{abi:n,address:r,args:i,functionName:s,...a}=e,o=ur({abi:n,args:i,functionName:s});try{const{data:c}=await Ce(t,qh,"call")({...a,data:o,to:r});return Xo({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw Jc(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function nV(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,...o}=e,c=o.account?Ot(o.account):t.account,l=ur({abi:n,args:i,functionName:s});try{const{data:u}=await Ce(t,qh,"call")({batch:!1,data:`${l}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),d=Xo({abi:n,args:i,functionName:s,data:u||"0x"}),h=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:h,address:r,args:i,dataSuffix:a,functionName:s,...o,account:c}}}catch(u){throw Jc(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}const o6=new Map,g7=new Map;let rV=0;function za(t,e,n){const r=++rV,i=()=>o6.get(t)||[],s=()=>{const u=i();o6.set(t,u.filter(d=>d.id!==r))},a=()=>{const u=i();if(!u.some(h=>h.id===r))return;const d=g7.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}s()},o=i();if(o6.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return a;const c={};for(const u in e)c[u]=(...d)=>{const h=i();if(h.length!==0)for(const f of h)f.fns[u]?.(...d)};const l=n(c);return typeof l=="function"&&g7.set(t,l),a}async function Yg(t){return new Promise(e=>setTimeout(e,t))}function du(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:s}));const c=await n?.(o)??r;await Yg(c);const l=async()=>{i&&(await t({unpoll:s}),await Yg(r),l())};l()})(),s}const iV=new Map,sV=new Map;function aV(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),n=e(t,iV),r=e(t,sV);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function oV(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=aV(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const cV=t=>`blockNumber.${t}`;async function Zh(t,{cacheTime:e=t.cacheTime}={}){const n=await oV(()=>t.request({method:"eth_blockNumber"}),{cacheKey:cV(t.uid),cacheTime:e});return BigInt(n)}async function R1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>ls(s));return!("abi"in e)||!e.abi?i:K4({abi:e.abi,logs:i,strict:n})}async function $1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function lV(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:a,fromBlock:o,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=h??!1,C=_n(["watchContractEvent",r,i,s,t.uid,a,d,y,o]);return za(C,{onLogs:l,onError:c},L=>{let w;o!==void 0&&(w=o-1n);let b,A=!1;const _=du(async()=>{if(!A){try{b=await Ce(t,sL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:a,strict:y,fromBlock:o})}catch{}A=!0;return}try{let I;if(b)I=await Ce(t,R1,"getFilterChanges")({filter:b});else{const M=await Ce(t,Zh,"getBlockNumber")({});w&&w<M?I=await Ce(t,ML,"getContractEvents")({abi:n,address:r,args:i,eventName:a,fromBlock:w+1n,toBlock:M,strict:y}):I=[],w=M}if(I.length===0)return;if(s)L.onLogs(I);else for(const M of I)L.onLogs([M])}catch(I){b&&I instanceof qo&&(A=!1),L.onError?.(I)}},{emitOnBegin:!0,interval:d});return async()=>{b&&await Ce(t,$1,"uninstallFilter")({filter:b}),_()}})})():(()=>{const y=h??!1,C=_n(["watchContractEvent",r,i,s,t.uid,a,d,y]);let L=!0,w=()=>L=!1;return za(C,{onLogs:l,onError:c},b=>((async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const M=t.transport.transports.find(D=>D.config.type==="webSocket"||D.config.type==="ipc");return M?M.value:t.transport}return t.transport})(),_=a?Mh({abi:n,eventName:a,args:i}):[],{unsubscribe:I}=await A.subscribe({params:["logs",{address:r,topics:_}],onData(M){if(!L)return;const D=M.result;try{const{eventName:B,args:W}=n0({abi:n,data:D.data,topics:D.topics,strict:h}),P=ls(D,{args:W,eventName:B});b.onLogs([P])}catch(B){let W,P;if(B instanceof t0||B instanceof I4){if(h)return;W=B.abiItem.name,P=B.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const T=ls(D,{args:P?[]:{},eventName:W});b.onLogs([T])}},onError(M){b.onError?.(M)}});w=I,L||w()}catch(A){c?.(A)}})(),()=>w()))})()}class Js extends te{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Hc extends te{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Gh({chain:t,currentChainId:e}){if(!t)throw new JW;if(e!==t.id)throw new YW({chain:t,currentChainId:e})}async function M1(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const c6=new ou(128);async function Kh(t,e){const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:a,blobs:o,data:c,dataSuffix:l=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,type:y,value:C,...L}=e;if(typeof n>"u")throw new Js({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Ot(n):null;try{Ks(e);const b=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await A1({authorization:a[0]}).catch(()=>{throw new te("`to` is required. Could not infer from `authorizationList`.")})})();if(w?.type==="json-rpc"||w===null){let A;i!==null&&(A=await Ce(t,Ys,"getChainId")({}),r&&Gh({currentChainId:A,chain:i}));const _=t.chain?.formatters?.transactionRequest?.format,M=(_||Ka)({...cu(L,{format:_}),accessList:s,account:w,authorizationList:a,blobs:o,chainId:A,data:c&&lr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,to:b,type:y,value:C},"sendTransaction"),D=c6.get(t.uid),B=D?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:B,params:[M]},{retryCount:0})}catch(W){if(D===!1)throw W;const P=W;if(P.name==="InvalidInputRpcError"||P.name==="InvalidParamsRpcError"||P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(T=>(c6.set(t.uid,!0),T)).catch(T=>{const U=T;throw U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"?(c6.set(t.uid,!1),P):U});throw P}}if(w?.type==="local"){const A=await Ce(t,lu,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:a,blobs:o,chain:i,data:c&&lr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:w.nonceManager,parameters:[...Z4,"sidecars"],type:y,value:C,...L,to:b}),_=i?.serializers?.transaction,I=await w.signTransaction(A,{serializer:_});return await Ce(t,M1,"sendRawTransaction")({serializedTransaction:I})}throw w?.type==="smart"?new Hc({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Hc({docsPath:"/docs/actions/wallet/sendTransaction",type:w?.type})}catch(b){throw b instanceof Hc?b:Bh(b,{...e,account:w,chain:e.chain||void 0})}}async function Bl(t,e){return Bl.internal(t,Kh,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:a,account:o=n.account,address:c,args:l,functionName:u,...d}=s;if(typeof o>"u")throw new Js({docsPath:"/docs/contract/writeContract"});const h=o?Ot(o):null,f=ur({abi:a,args:l,functionName:u});try{return await Ce(n,r,i)({data:f,to:c,account:h,...d})}catch(p){throw Jc(p,{abi:a,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:u,sender:h?.address})}}t.internal=e})(Bl||(Bl={}));class uV extends te{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function s0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:o=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:o,error:l}):e;u&&await Yg(u),a({count:o+1})};try{const l=await t();i(l)}catch(l){if(o<n&&await r({count:o,error:l}))return c({error:l});s(l)}};a()})}const aS={"0x0":"reverted","0x1":"success"};function r8(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>ls(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?hi(t.transactionIndex):null,status:t.status?aS[t.status]:null,type:t.type?CL[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const oS=S1("transactionReceipt",r8),cS="0x5792579257925792579257925792579257925792579257925792579257925792",lS=oe(0,{size:32});async function uS(t,e){const{account:n=t.account,chain:r=t.chain,experimental_fallback:i,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:o,version:c="2.0.0"}=e,l=n?Ot(n):null;let u=e.capabilities;t.dataSuffix&&!e.capabilities?.dataSuffix&&(typeof t.dataSuffix=="string"?u={...e.capabilities,dataSuffix:{value:t.dataSuffix,optional:!0}}:u={...e.capabilities,dataSuffix:{value:t.dataSuffix.value,...t.dataSuffix.required?{}:{optional:!0}}});const d=e.calls.map(h=>{const f=h,p=f.abi?ur({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?lr([p,f.dataSuffix]):p,to:f.to,value:f.value?oe(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:u,chainId:oe(r.id),from:l?.address,id:o,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(u&&Object.values(u).some(L=>!L.optional)){const L="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Dl(new te(L,{details:L}))}if(a&&d.length>1){const C="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new jl(new te(C,{details:C}))}const p=[];for(const C of d){const L=Kh(t,{account:l,chain:r,data:C.data,to:C.to,value:C.value?vt(C.value):void 0});p.push(L),s>0&&await new Promise(w=>setTimeout(w,s))}const m=await Promise.allSettled(p);if(m.every(C=>C.status==="rejected"))throw m[0].reason;const y=m.map(C=>C.status==="fulfilled"?C.value:lS);return{id:lr([...y,oe(r.id,{size:32}),cS])}}throw Bh(h,{...e,account:l,chain:e.chain})}}async function dS(t,e){async function n(u){if(u.endsWith(cS.slice(2))){const h=di($g(u,-64,-32)),f=$g(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(y=>lS.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:hi(h),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:a="2.0.0",...o}=await n(e.id),[c,l]=(()=>{const u=o.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...o,atomic:r,chainId:i?hi(i):void 0,receipts:s?.map(u=>({...u,blockNumber:vt(u.blockNumber),gasUsed:vt(u.gasUsed),status:aS[u.status]}))??[],statusCode:l,status:c,version:a}}async function hS(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:a=({count:m})=>~~(1<<m)*200,timeout:o=6e4,throwOnFailure:c=!1}=e,l=_n(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:h}=n8();let f;const p=za(l,{resolve:d,reject:h},m=>{const y=du(async()=>{const C=L=>{clearTimeout(f),y(),L(),p()};try{const L=await s0(async()=>{const w=await Ce(t,dS,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new uV(w);return w},{retryCount:s,delay:a});if(!i(L))return;C(()=>m.resolve(L))}catch(L){C(()=>m.reject(L))}},{interval:r,emitOnBegin:!0});return y});return f=o?setTimeout(()=>{p(),clearTimeout(f),h(new dV({id:n}))},o):void 0,await u}class dV extends te{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Jg=256;let Pf=Jg,Of;function fS(t=11){if(!Of||Pf+t>Jg*2){Of="",Pf=0;for(let e=0;e<Jg;e++)Of+=(256+Math.random()*256|0).toString(16).substring(1)}return Of.substring(Pf,Pf+++t)}function pS(t){const{batch:e,chain:n,ccipRead:r,dataSuffix:i,key:s="base",name:a="Base Client",type:o="base"}=t,c=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),l=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=t.pollingInterval??u,h=t.cacheTime??d,f=t.account?Ot(t.account):void 0,{config:p,request:m,value:y}=t.transport({account:f,chain:n,pollingInterval:d}),C={...p,...y},L={account:f,batch:e,cacheTime:h,ccipRead:r,chain:n,dataSuffix:i,key:s,name:a,pollingInterval:d,request:m,transport:C,type:o,uid:fS(),...c?{experimental_blockTag:c}:{}};function w(b){return A=>{const _=A(b);for(const M in L)delete _[M];const I={...b,..._};return Object.assign(I,{extend:w(I)})}}return Object.assign(L,{extend:w(L)})}function i8(t){if(!(t instanceof te))return!1;const e=t.walk(n=>n instanceof Dg);return e instanceof Dg?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function hV(t){const{abi:e,data:n}=t,r=Ho(n,0,4),i=e.find(s=>s.type==="function"&&r===$h(cs(s)));if(!i)throw new iF(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Nh(i.inputs,Ho(n,4)):void 0}}const l6="/docs/contract/encodeErrorResult";function y7(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=b2({abi:e,args:r,name:n});if(!c)throw new Bb(n,{docsPath:l6});i=c}if(i.type!=="error")throw new Bb(void 0,{docsPath:l6});const s=cs(i),a=$h(s);let o="0x";if(r&&r.length>0){if(!i.inputs)throw new tF(i.name,{docsPath:l6});o=Jo(i.inputs,r)}return Ui([a,o])}const u6="/docs/contract/encodeFunctionResult";function fV(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const a=b2({abi:e,name:n});if(!a)throw new Ol(n,{docsPath:u6});i=a}if(i.type!=="function")throw new Ol(void 0,{docsPath:u6});if(!i.outputs)throw new BA(i.name,{docsPath:u6});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new FA(r)})();return Jo(i.outputs,s)}const N1="x-batch-gateway:true";async function pV(t){const{data:e,ccipRequest:n}=t,{args:[r]}=hV({abi:Gg,data:e}),i=[],s=[];return await Promise.all(r.map(async(a,o)=>{try{s[o]=a.urls.includes(N1)?await pV({data:a.data,ccipRequest:n}):await n(a),i[o]=!1}catch(c){i[o]=!0,s[o]=mV(c)}})),fV({abi:Gg,functionName:"query",result:[i,s]})}function mV(t){return t.name==="HttpRequestError"&&t.status?y7({abi:Gg,errorName:"HttpError",args:[t.status,t.shortMessage]}):y7({abi:[aL],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function mS(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return vr(e)?e:null}function Xg(t){let e=new Uint8Array(32).fill(0);if(!t)return fn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=mS(n[r]),s=i?Ra(i):On(Wc(n[r]),"bytes");e=On(lr([e,s]),"bytes")}return fn(e)}function gV(t){return`[${t.slice(2)}]`}function yV(t){const e=new Uint8Array(32).fill(0);return t?mS(t)||On(Wc(t)):fn(e)}function s8(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Wc(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=Wc(i[s]);a.byteLength>255&&(a=Wc(gV(yV(i[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function wV(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return uu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;const d=i!=null?[Xg(s),BigInt(i)]:[Xg(s)];try{const h=ur({abi:p7,functionName:"addr",args:d}),f={address:l,abi:QL,functionName:"resolveWithGateways",args:[Ze(s8(s)),h,a??[N1]],blockNumber:n,blockTag:r},m=await Ce(t,hs,"readContract")(f);if(m[0]==="0x")return null;const y=Xo({abi:p7,args:d,functionName:"addr",data:m[0]});return y==="0x"||di(y)==="0x00"?null:y}catch(h){if(o)throw h;if(i8(h))return null;throw h}}class bV extends te{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Eu extends te{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class a8 extends te{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class vV extends te{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const _V=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,CV=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,EV=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,xV=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function AV(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function w7(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function gS({uri:t,gatewayUrls:e}){const n=EV.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=w7(e?.ipfs,"https://ipfs.io"),i=w7(e?.arweave,"https://arweave.net"),s=t.match(_V),{protocol:a,subpath:o,target:c,subtarget:l=""}=s?.groups||{},u=a==="ipns:/"||o==="ipns/",d=a==="ipfs:/"||o==="ipfs/"||CV.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e?.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(xV,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new a8({uri:t})}function yS(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new bV({data:t});return t.image||t.image_url||t.image_data}async function LV({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await o8({gatewayUrls:t,uri:yS(n)})}catch{throw new a8({uri:e})}}async function o8({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=gS({uri:e,gatewayUrls:t});if(r||await AV(n))return n;throw new a8({uri:e})}function SV(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,a]=n.split(":"),[o,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Eu({reason:"Only EIP-155 supported"});if(!a)throw new Eu({reason:"Chain ID not found"});if(!c)throw new Eu({reason:"Contract address not found"});if(!i)throw new Eu({reason:"Token ID not found"});if(!o)throw new Eu({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:c,tokenID:i}}async function IV(t,{nft:e}){if(e.namespace==="erc721")return hs(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return hs(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new vV({namespace:e.namespace})}async function TV(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?kV(t,{gatewayUrls:e,record:n}):o8({uri:n,gatewayUrls:e})}async function kV(t,{gatewayUrls:e,record:n}){const r=SV(n),i=await IV(t,{nft:r}),{uri:s,isOnChain:a,isEncoded:o}=gS({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=o?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return o8({uri:yS(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),LV({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function wS(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return uu({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>s.endsWith(d)))return null;try{const d={address:l,abi:QL,args:[Ze(s8(s)),ur({abi:f7,functionName:"text",args:[Xg(s),i]}),a??[N1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},f=await Ce(t,hs,"readContract")(d);if(f[0]==="0x")return null;const p=Xo({abi:f7,functionName:"text",data:f[0]});return p===""?null:p}catch(d){if(o)throw d;if(i8(d))return null;throw d}}async function PV(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:a,universalResolverAddress:o}){const c=await Ce(t,wS,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:s,strict:a});if(!c)return null;try{return await TV(t,{record:c,gatewayUrls:r})}catch{return null}}async function OV(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:o}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return uu({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:qW,args:[n,s,a??[N1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=Ce(t,hs,"readContract"),[h]=await d(u);return h||null}catch(u){if(o)throw u;if(i8(u))return null;throw u}}async function RV(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return uu({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),o=s?.ensTlds;if(o&&!o.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${o?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await Ce(t,hs,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ze(s8(i))],blockNumber:n,blockTag:r});return c}async function bS(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f,...p}=e,m=n?Ot(n):void 0;try{Ks(e);const C=(typeof r=="bigint"?oe(r):void 0)||i,L=t.chain?.formatters?.transactionRequest?.format,b=(L||Ka)({...cu(p,{format:L}),account:m,blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f},"createAccessList"),A=await t.request({method:"eth_createAccessList",params:[b,C]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(y){throw rS(y,{...e,account:m,chain:t.chain})}}async function $V(t){const e=E1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function vS(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:a,toBlock:o}={}){const c=i??(r?[r]:void 0),l=E1(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>Mh({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?oe(s):s,toBlock:typeof o=="bigint"?oe(o):o,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!a,toBlock:o,type:"event"}}async function _S(t){const e=E1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function MV(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){if(t.batch?.multicall&&t.chain?.contracts?.multicall3){const a=t.chain.contracts.multicall3.address,o=ur({abi:Ul,functionName:"getEthBalance",args:[e]}),{data:c}=await Ce(t,qh,"call")({to:a,data:o,blockNumber:n,blockTag:r});return Xo({abi:Ul,functionName:"getEthBalance",args:[e],data:c||"0x"})}const i=typeof n=="bigint"?oe(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function NV(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function DV(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?oe(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),hi(s)}async function a0(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?oe(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}async function jV(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=await a0(t,{address:e,...n!==void 0?{blockNumber:n}:{blockTag:r}});if(i&&Ht(i)===23&&i.startsWith("0xef0100"))return kn(Ho(i,3,23))}class UV extends te{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function BV(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,a,o,c,l,u,d]=await Ce(t,hs,"readContract")({abi:FV,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:o,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new UV({address:n}):a}}const FV=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function zV(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function WV(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?oe(n):void 0,a=await t.request({method:"eth_feeHistory",params:[oe(e),s||r,i]},{dedupe:!!s});return zV(a)}async function VV(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>ls(s));return e.abi?K4({abi:e.abi,logs:i,strict:n}):i}function HV(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Pt(i))throw new hn({address:i});if(r<0)throw new Hh({chainId:r})}c8(t)}function qV(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new OL;for(const n of e){const r=Ht(n),i=hi(Ho(n,0,1));if(r!==32)throw new cW({hash:n,size:r});if(i!==PL)throw new lW({hash:n,version:i})}}c8(t)}function c8(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Hh({chainId:e});if(i&&!Pt(i))throw new hn({address:i});if(r&&r>I1)throw new Xc({maxFeePerGas:r});if(n&&r&&n>r)throw new Jd({maxFeePerGas:r,maxPriorityFeePerGas:n})}function ZV(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new Hh({chainId:e});if(s&&!Pt(s))throw new hn({address:s});if(n||i)throw new te("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>I1)throw new Xc({maxFeePerGas:r})}function GV(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Pt(s))throw new hn({address:s});if(typeof e<"u"&&e<=0)throw new Hh({chainId:e});if(n||i)throw new te("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>I1)throw new Xc({maxFeePerGas:r})}function D1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new kz({storageKey:i[s]});if(!Pt(r,{strict:!1}))throw new hn({address:r});e.push([r,i])}return e}function l8(t,e){const n=$L(t);return n==="eip1559"?JV(t,e):n==="eip2930"?XV(t,e):n==="eip4844"?YV(t,e):n==="eip7702"?KV(t,e):QV(t,e)}function KV(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:a,value:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;HV(t);const h=D1(u),f=eH(n);return Ui(["0x04",Fa([oe(r),s?oe(s):"0x",l?oe(l):"0x",c?oe(c):"0x",i?oe(i):"0x",a??"0x",o?oe(o):"0x",d??"0x",h,f,...Yh(t,e)])])}function YV(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;qV(t);let h=t.blobVersionedHashes,f=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof f>"u")){const w=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(_=>fn(_)),b=t.kzg,A=W4({blobs:w,kzg:b});if(typeof h>"u"&&(h=IL({commitments:A})),typeof f>"u"){const _=V4({blobs:w,commitments:A,kzg:b});f=RL({blobs:w,commitments:A,proofs:_})}}const p=D1(u),m=[oe(n),i?oe(i):"0x",l?oe(l):"0x",c?oe(c):"0x",r?oe(r):"0x",s??"0x",a?oe(a):"0x",d??"0x",p,o?oe(o):"0x",h??[],...Yh(t,e)],y=[],C=[],L=[];if(f)for(let w=0;w<f.length;w++){const{blob:b,commitment:A,proof:_}=f[w];y.push(b),C.push(A),L.push(_)}return Ui(["0x03",Fa(f?[m,y,C,L]:m)])}function JV(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:l,data:u}=t;c8(t);const d=D1(l),h=[oe(n),i?oe(i):"0x",c?oe(c):"0x",o?oe(o):"0x",r?oe(r):"0x",s??"0x",a?oe(a):"0x",u??"0x",d,...Yh(t,e)];return Ui(["0x02",Fa(h)])}function XV(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:a,value:o,accessList:c,gasPrice:l}=t;ZV(t);const u=D1(c),d=[oe(n),s?oe(s):"0x",l?oe(l):"0x",r?oe(r):"0x",a??"0x",o?oe(o):"0x",i??"0x",u,...Yh(t,e)];return Ui(["0x01",Fa(d)])}function QV(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:a,value:o,gasPrice:c}=t;GV(t);let l=[s?oe(s):"0x",c?oe(c):"0x",r?oe(r):"0x",a??"0x",o?oe(o):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new Iz({v:e.v});return f})(),d=di(e.r),h=di(e.s);l=[...l,oe(u),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(l=[...l,oe(n),"0x","0x"]);return Fa(l)}function Yh(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=di(n.r),a=di(n.s);return[typeof i=="number"?i?oe(1):"0x":r===0n?"0x":r===1n?oe(1):r===27n?"0x":oe(1),s==="0x00"?"0x":s,a==="0x00"?"0x":a]}function eH(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,a=n.address;e.push([r?Ze(r):"0x",a,i?Ze(i):"0x",...Yh({},s)])}return e}async function tH({address:t,authorization:e,signature:n}){return Fh(kn(t),await A1({authorization:e,signature:n}))}const Rf=new ou(8192);function nH(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Rf.get(n))return Rf.get(n);const r=t().finally(()=>Rf.delete(n));return Rf.set(n,r),r}function rH(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:o=3,uid:c}={...e,...r},{method:l}=n;if(s?.exclude?.includes(l))throw new Rc(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new Rc(new Error("method not supported"),{method:l});const u=i?Rl(`${c}.${_n(n)}`):void 0;return nH(()=>s0(async()=>{try{return await t(n)}catch(d){const h=d;switch(h.code){case Od.code:throw new Od(h);case Rd.code:throw new Rd(h);case $d.code:throw new $d(h,{method:n.method});case Md.code:throw new Md(h);case Yc.code:throw new Yc(h);case qo.code:throw new qo(h);case Nd.code:throw new Nd(h);case Dd.code:throw new Dd(h);case jd.code:throw new jd(h);case Rc.code:throw new Rc(h,{method:n.method});case Nl.code:throw new Nl(h);case Ud.code:throw new Ud(h);case yl.code:throw new yl(h);case Bd.code:throw new Bd(h);case Fd.code:throw new Fd(h);case zd.code:throw new zd(h);case Wd.code:throw new Wd(h);case Vd.code:throw new Vd(h);case Dl.code:throw new Dl(h);case Hd.code:throw new Hd(h);case qd.code:throw new qd(h);case Zd.code:throw new Zd(h);case Gd.code:throw new Gd(h);case Kd.code:throw new Kd(h);case jl.code:throw new jl(h);case 5e3:throw new yl(h);case Yd.code:throw new Yd(h);default:throw d instanceof te?d:new Dz(h)}}},{delay:({count:d,error:h})=>{if(h&&h instanceof hd){const f=h?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f,10)*1e3}return~~(1<<d)*a},retryCount:o,shouldRetry:({error:d})=>iH(d)}),{enabled:i,id:u})}}function iH(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Nl.code||t.code===Yc.code:t instanceof hd&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Gn(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,a={...r,...s};return Object.assign(a,{extend:n(a)})}}return Object.assign(e,{extend:n(e)})}function sH(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let a;try{const o=new AbortController;n>0&&(a=setTimeout(()=>{r&&o.abort()},n)),i(await t({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&s(e),s(o)}finally{clearTimeout(a)}})()})}function aH(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const b7=aH();function oH(t,e={}){const{url:n,headers:r}=cH(t);return{async request(i){const{body:s,fetchFn:a=e.fetchFn??fetch,onRequest:o=e.onRequest,onResponse:c=e.onResponse,timeout:l=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:d,method:h,signal:f}=u;try{const p=await sH(async({signal:y})=>{const C={...u,body:Array.isArray(s)?_n(s.map(A=>({jsonrpc:"2.0",id:A.id??b7.take(),...A}))):_n({jsonrpc:"2.0",id:s.id??b7.take(),...s}),headers:{...r,"Content-Type":"application/json",...d},method:h||"POST",signal:f||(l>0?y:null)},L=new Request(n,C),w=await o?.(L,C)??{...C,url:n};return await a(w.url??n,w)},{errorInstance:new e7({body:s,url:n}),timeout:l,signal:!0});c&&await c(p);let m;if(p.headers.get("Content-Type")?.startsWith("application/json"))m=await p.json();else{m=await p.text();try{m=JSON.parse(m||"{}")}catch(y){if(p.ok)throw y;m={error:m}}}if(!p.ok)throw new hd({body:s,details:_n(m.error)||p.statusText,headers:p.headers,status:p.status,url:n});return m}catch(p){throw p instanceof hd||p instanceof e7?p:new hd({body:s,cause:p,url:n})}}}}function cH(t){try{const e=new URL(t),n=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...n}}catch{return{url:t}}}const lH=`Ethereum Signed Message:
`;function uH(t){const e=typeof t=="string"?Rl(t):typeof t.raw=="string"?t.raw:fn(t.raw),n=Rl(`${lH}${Ht(e)}`);return lr([n,e])}function u8(t,e){return On(uH(t),e)}class dH extends te{constructor({domain:e}){super(`Invalid domain "${_n(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class hH extends te{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class fH extends te{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function pH(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},o=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return _n({domain:a,message:o,primaryType:r,types:i})}function CS(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(a,o)=>{for(const c of a){const{name:l,type:u}=c,d=o[l],h=u.match(rL);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,y,C]=h;oe(d,{signed:y==="int",size:Number.parseInt(C,10)/8})}if(u==="address"&&typeof d=="string"&&!Pt(d))throw new hn({address:d});const f=u.match(XF);if(f){const[m,y]=f;if(y&&Ht(d)!==Number.parseInt(y,10))throw new aF({expectedSize:Number.parseInt(y,10),givenSize:Ht(d)})}const p=i[u];p&&(mH(u),s(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new dH({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new hH({primaryType:r,types:i})}function ES({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function mH(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new fH({type:t})}function xS(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:ES({domain:e}),...t.types};CS({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(gH({domain:e,types:i})),r!=="EIP712Domain"&&s.push(AS({data:n,primaryType:r,types:i})),On(lr(s))}function gH({domain:t,types:e}){return AS({data:t,primaryType:"EIP712Domain",types:e})}function AS({data:t,primaryType:e,types:n}){const r=LS({data:t,primaryType:e,types:n});return On(r)}function LS({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[yH({primaryType:e,types:n})];for(const s of n[e]){const[a,o]=IS({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(a),i.push(o)}return Jo(r,i)}function yH({primaryType:t,types:e}){const n=Ze(wH({primaryType:t,types:e}));return On(n)}function wH({primaryType:t,types:e}){let n="";const r=SS({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return n}function SS({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])SS({primaryType:s.type,types:e},n);return n}function IS({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},On(LS({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},On(r)];if(n==="string")return[{type:"bytes32"},On(Ze(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>IS({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},On(Jo(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}const OAe="0x6492649264926492649264926492649264926492649264926492649264926492",v7="0x0000000000000000000000000000000000000000000000000000000000000000";let bH=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const vH={checksum:new bH(8192)},d6=vH.checksum;let TS=class extends k4{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,IF(e);const r=_1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Ml(s)}update(e){return $l(this),this.iHash.update(e),this}digestInto(e){$l(this),Kc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const kS=(t,e,n)=>new TS(t,e).update(n).digest();kS.create=(t,e)=>new TS(t,e);function PS(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=XA(LW(t));return n==="Bytes"?r:ds(r)}const _H=/^0x[a-fA-F0-9]{40}$/;function j1(t,e={}){const{strict:n=!0}=e;if(!_H.test(t))throw new _7({address:t,cause:new CH});if(n){if(t.toLowerCase()===t)return;if(OS(t)!==t)throw new _7({address:t,cause:new EH})}}function OS(t){if(d6.has(t))return d6.get(t);j1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=PS(IW(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return d6.set(t,i),i}function Qg(t,e={}){const{strict:n=!0}=e??{};try{return j1(t,{strict:n}),!0}catch{return!1}}let _7=class extends rt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},CH=class extends rt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},EH=class extends rt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const xH=/^(.*)\[([0-9]*)\]$/,AH=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,RS=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,C7=2n**256n-1n;function bl(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=f8(e.type);if(s){const[a,o]=s;return SH(t,{...e,type:o},{checksumAddress:r,length:a,staticPosition:i})}if(e.type==="tuple")return PH(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return LH(t,{checksum:r});if(e.type==="bool")return IH(t);if(e.type.startsWith("bytes"))return TH(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return kH(t,e);if(e.type==="string")return OH(t,{staticPosition:i});throw new m8(e.type)}const E7=32,ey=32;function LH(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?OS(s):s)(ds(kW(r,-20))),32]}function SH(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Ma(t.readBytes(ey)),l=s+c,u=l+E7;t.setPosition(l);const d=Ma(t.readBytes(E7)),h=eh(e);let f=0;const p=[];for(let m=0;m<d;++m){t.setPosition(u+(h?m*32:f));const[y,C]=bl(t,e,{checksumAddress:r,staticPosition:u});f+=C,p.push(y)}return t.setPosition(s+32),[p,32]}if(eh(e)){const c=Ma(t.readBytes(ey)),l=s+c,u=[];for(let d=0;d<i;++d){t.setPosition(l+d*32);const[h]=bl(t,e,{checksumAddress:r,staticPosition:l});u.push(h)}return t.setPosition(s+32),[u,32]}let a=0;const o=[];for(let c=0;c<i;++c){const[l,u]=bl(t,e,{checksumAddress:r,staticPosition:s+a});a+=u,o.push(l)}return[o,a]}function IH(t){return[OW(t.readBytes(32),{size:32}),32]}function TH(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Ma(t.readBytes(32));t.setPosition(n+a);const o=Ma(t.readBytes(32));if(o===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(o);return t.setPosition(n+32),[ds(c),32]}return[ds(t.readBytes(Number.parseInt(i,10),32)),32]}function kH(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?PW(i,{signed:n}):Ma(i,{signed:n}),32]}function PH(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),a=s?[]:{};let o=0;if(eh(e)){const c=Ma(t.readBytes(ey)),l=i+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+o);const[h,f]=bl(t,d,{checksumAddress:r,staticPosition:l});o+=f,a[s?u:d?.name]=h}return t.setPosition(i+32),[a,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=bl(t,l,{checksumAddress:r,staticPosition:i});a[s?c:l?.name]=u,o+=d}return[a,o]}function OH(t,{staticPosition:e}){const n=Ma(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ma(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=RW(HL(s));return t.setPosition(e+32),[a,32]}function RH({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(d8({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function d8({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=f8(r.type);if(i){const[s,a]=i;return MH(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if(r.type==="tuple")return BH(n,{checksumAddress:t,parameter:r});if(r.type==="address")return $H(n,{checksum:t});if(r.type==="bool")return DH(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,a="256"]=RS.exec(r.type)??[];return jH(n,{signed:s,size:Number(a)})}if(r.type.startsWith("bytes"))return NH(n,{type:r.type});if(r.type==="string")return UH(n);throw new m8(r.type)}function h8(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=fi(o)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(n.push(br(e+i,{size:32})),r.push(o),i+=fi(o)):n.push(o)}return us(...n,...r)}function $H(t,e){const{checksum:n=!1}=e;return j1(t,{strict:n}),{dynamic:!1,encoded:Qc(t.toLowerCase())}}function MH(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new KH(t);if(!s&&t.length!==r)throw new GH({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1;const o=[];for(let c=0;c<t.length;c++){const l=d8({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(a=!0),o.push(l)}if(s||a){const c=h8(o);if(s){const l=br(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?us(l,c):l}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:us(...o.map(({encoded:c})=>c))}}function NH(t,{type:e}){const[,n]=e.split("bytes"),r=fi(t);if(!n){let i=t;return r%32!==0&&(i=e2(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:us(Qc(br(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new MS({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:e2(t)}}function DH(t){if(typeof t!="boolean")throw new rt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Qc(qL(t))}}function jH(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new KL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:br(t,{size:32,signed:e})}}function UH(t){const e=e8(t),n=Math.ceil(fi(e)/32),r=[];for(let i=0;i<n;i++)r.push(e2(Us(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:us(e2(br(fi(e),{size:32})),...r)}}function BH(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let a=0;a<r.components.length;a++){const o=r.components[a],c=Array.isArray(t)?a:o.name,l=d8({checksumAddress:n,parameter:o,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?h8(s):us(...s.map(({encoded:a})=>a))}}function f8(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function eh(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(eh);const n=f8(t.type);return!!(n&&eh({...t,type:n[1]}))}const FH={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new VH({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new WH({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new x7({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new x7({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function zH(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(FH);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class x7 extends rt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class WH extends rt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class VH extends rt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function HH(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?VL(e):e,a=zH(s);if(cl(s)===0&&t.length>0)throw new ZH;if(cl(s)&&cl(s)<32)throw new qH({data:typeof e=="string"?e:ds(e),parameters:t,size:cl(s)});let o=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];a.setPosition(o);const[d,h]=bl(a,u,{checksumAddress:i,staticPosition:0});o+=h,r==="Array"?c.push(d):c[u.name??l]=d}return c}function p8(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new NS({expectedLength:t.length,givenLength:e.length});const i=RH({checksumAddress:r,parameters:t,values:e}),s=h8(i);return s.length===0?"0x":s}function ty(t,e){if(t.length!==e.length)throw new NS({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(ty.encode(i,s))}return us(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return j1(c),Qc(c.toLowerCase(),i?32:0)}if(n==="string")return e8(r);if(n==="bytes")return r;if(n==="bool")return Qc(qL(r),i?32:1);const s=n.match(RS);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return br(r,{size:i?32:d,signed:l==="int"})}const a=n.match(AH);if(a){const[c,l]=a;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new MS({expectedSize:Number.parseInt(l,10),value:r});return e2(r,i?32:0)}const o=n.match(xH);if(o&&Array.isArray(r)){const[c,l]=o,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":us(...u)}throw new m8(n)}t.encode=e})(ty||(ty={}));function $S(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Ub(t):t}class qH extends rt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${nl(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ZH extends rt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class GH extends rt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class MS extends rt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${fi(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class NS extends rt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class KH extends rt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class m8 extends rt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Br=BigInt(0),Cr=BigInt(1),$c=BigInt(2),YH=BigInt(3),DS=BigInt(4),jS=BigInt(5),US=BigInt(8);function Nr(t,e){const n=t%e;return n>=Br?n:e+n}function bi(t,e,n){let r=t;for(;e-- >Br;)r*=r,r%=n;return r}function ny(t,e){if(t===Br)throw new Error("invert: expected non-zero number");if(e<=Br)throw new Error("invert: expected positive modulus, got "+e);let n=Nr(t,e),r=e,i=Br,s=Cr;for(;n!==Br;){const o=r/n,c=r%n,l=i-s*o;r=n,n=c,i=s,s=l}if(r!==Cr)throw new Error("invert: does not exist");return Nr(i,e)}function BS(t,e){const n=(t.ORDER+Cr)/DS,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function JH(t,e){const n=(t.ORDER-jS)/US,r=t.mul(e,$c),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,$c),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function XH(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Cr,n=0;for(;e%$c===Br;)e/=$c,n++;let r=$c;const i=g8(t);for(;A7(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return BS;let s=i.pow(r,e);const a=(e+Cr)/$c;return function(c,l){if(c.is0(l))return l;if(A7(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,a);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=Cr<<BigInt(u-p-1),C=c.pow(d,y);u=p,d=c.sqr(C),h=c.mul(h,d),f=c.mul(f,C)}return f}}function QH(t){return t%DS===YH?BS:t%US===jS?JH:XH(t)}const eq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=eq.reduce((r,i)=>(r[i]="function",r),e);return k1(t,n)}function nq(t,e,n){if(n<Br)throw new Error("invalid exponent, negatives unsupported");if(n===Br)return t.ONE;if(n===Cr)return e;let r=t.ONE,i=e;for(;n>Br;)n&Cr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Cr;return r}function FS(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function A7(t,e){const n=(t.ORDER-Cr)/$c,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function zS(t,e){e!==void 0&&kd(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function g8(t,e,n=!1,r={}){if(t<=Br)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=zS(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:T1(i),ZERO:Br,ONE:Cr,create:c=>Nr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Br<=c&&c<t},is0:c=>c===Br,isOdd:c=>(c&Cr)===Cr,neg:c=>Nr(-c,t),eql:(c,l)=>c===l,sqr:c=>Nr(c*c,t),add:(c,l)=>Nr(c+l,t),sub:(c,l)=>Nr(c-l,t),mul:(c,l)=>Nr(c*l,t),pow:(c,l)=>nq(o,c,l),div:(c,l)=>Nr(c*ny(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ny(c,t),sqrt:r.sqrt||(c=>(a||(a=QH(t)),a(o,c))),toBytes:c=>n?UL(c,s):Wh(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?jL(c):Vc(c)},invertBatch:c=>FS(o,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(o)}function WS(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function VS(t){const e=WS(t);return e+Math.ceil(e/2)}function rq(t,e,n=!1){const r=t.length,i=WS(e),s=VS(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?jL(t):Vc(t),o=Nr(a,e-Cr)+Cr;return n?UL(o,i):Wh(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L7=BigInt(0),ry=BigInt(1);function h6(t,e){const n=e.negate();return t?n:e}function HS(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function f6(t,e){HS(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=T1(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function S7(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=ry);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function iq(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function sq(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const p6=new WeakMap,qS=new WeakMap;function m6(t){return qS.get(t)||1}function aq(t,e){return{constTimeNegate:h6,hasPrecomputes(n){return m6(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>L7;)r&ry&&(i=i.add(s)),s=s.double(),r>>=ry;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=f6(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=f6(n,e);for(let c=0;c<o.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=S7(i,c,o);i=l,d?a=a.add(h6(f,r[p])):s=s.add(h6(h,r[u]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=f6(n,e);for(let o=0;o<a.windows&&i!==L7;o++){const{nextN:c,offset:l,isZero:u,isNeg:d}=S7(i,o,a);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=p6.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&p6.set(r,i(s))),s},wNAFCached(n,r,i){const s=m6(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=m6(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){HS(r,e),qS.set(n,r),p6.delete(n)}}}function oq(t,e,n,r){iq(n,t),sq(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=mW(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=T1(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function ZS(t){return tq(t.Fp),k1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zS(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I7(t){t.lowS!==void 0&&Xd("lowS",t.lowS),t.prehash!==void 0&&Xd("prehash",t.prehash)}function cq(t){const e=ZS(t);k1(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let lq=class extends Error{constructor(e=""){super(e)}};const Ca={Err:lq,_tlv:{encode:(t,e)=>{const{Err:n}=Ca;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=kf(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?kf(i.length/2|128):"";return kf(t)+s+i+e},decode(t,e){const{Err:n}=Ca;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Ca;if(t<Sa)throw new e("integer: negative integers are not allowed");let n=kf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ca;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Vc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ca,i=Ii("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ca,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function g6(t,e){return Qd(Wh(t,e))}const Sa=BigInt(0),In=BigInt(1);BigInt(2);const y6=BigInt(3),uq=BigInt(4);function dq(t){const e=cq(t),{Fp:n}=e,r=g8(e.n,e.nBitLength),i=e.toBytes||((w,b,A)=>{const _=b.toAffine();return i0(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(w=>{const b=w.subarray(1),A=n.fromBytes(b.subarray(0,n.BYTES)),_=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:A,y:_}});function a(w){const{a:b,b:A}=e,_=n.sqr(w),I=n.mul(_,w);return n.add(n.add(I,n.mul(w,b)),A)}function o(w,b){const A=n.sqr(b),_=a(w);return n.eql(A,_)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,y6),uq),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Q4(w,In,e.n)}function d(w){const{allowedPrivateKeyLengths:b,nByteLength:A,wrapPrivateKey:_,n:I}=e;if(b&&typeof w!="bigint"){if(zh(w)&&(w=Qd(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(A*2,"0")}let M;try{M=typeof w=="bigint"?w:Vc(Ii("private key",w,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof w)}return _&&(M=Nr(M,I)),wl("private key",M,In,I),M}function h(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const f=l7((w,b)=>{const{px:A,py:_,pz:I}=w;if(n.eql(I,n.ONE))return{x:A,y:_};const M=w.is0();b==null&&(b=M?n.ONE:n.inv(I));const D=n.mul(A,b),B=n.mul(_,b),W=n.mul(I,b);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}),p=l7(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:A}=w.toAffine();if(!n.isValid(b)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!o(b,A))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,A,_){if(b==null||!n.isValid(b))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=b,this.py=A,this.pz=_,Object.freeze(this)}static fromAffine(b){const{x:A,y:_}=b||{};if(!b||!n.isValid(A)||!n.isValid(_))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const I=M=>n.eql(M,n.ZERO);return I(A)&&I(_)?m.ZERO:new m(A,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const A=FS(n,b.map(_=>_.pz));return b.map((_,I)=>_.toAffine(A[I])).map(m.fromAffine)}static fromHex(b){const A=m.fromAffine(s(Ii("pointHex",b)));return A.assertValidity(),A}static fromPrivateKey(b){return m.BASE.multiply(d(b))}static msm(b,A){return oq(m,r,b,A)}_setWindowSize(b){L.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:A,py:_,pz:I}=this,{px:M,py:D,pz:B}=b,W=n.eql(n.mul(A,B),n.mul(M,I)),P=n.eql(n.mul(_,B),n.mul(D,I));return W&&P}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:A}=e,_=n.mul(A,y6),{px:I,py:M,pz:D}=this;let B=n.ZERO,W=n.ZERO,P=n.ZERO,T=n.mul(I,I),U=n.mul(M,M),v=n.mul(D,D),E=n.mul(I,M);return E=n.add(E,E),P=n.mul(I,D),P=n.add(P,P),B=n.mul(b,P),W=n.mul(_,v),W=n.add(B,W),B=n.sub(U,W),W=n.add(U,W),W=n.mul(B,W),B=n.mul(E,B),P=n.mul(_,P),v=n.mul(b,v),E=n.sub(T,v),E=n.mul(b,E),E=n.add(E,P),P=n.add(T,T),T=n.add(P,T),T=n.add(T,v),T=n.mul(T,E),W=n.add(W,T),v=n.mul(M,D),v=n.add(v,v),T=n.mul(v,E),B=n.sub(B,T),P=n.mul(v,U),P=n.add(P,P),P=n.add(P,P),new m(B,W,P)}add(b){h(b);const{px:A,py:_,pz:I}=this,{px:M,py:D,pz:B}=b;let W=n.ZERO,P=n.ZERO,T=n.ZERO;const U=e.a,v=n.mul(e.b,y6);let E=n.mul(A,M),O=n.mul(_,D),k=n.mul(I,B),$=n.add(A,_),j=n.add(M,D);$=n.mul($,j),j=n.add(E,O),$=n.sub($,j),j=n.add(A,I);let V=n.add(M,B);return j=n.mul(j,V),V=n.add(E,k),j=n.sub(j,V),V=n.add(_,I),W=n.add(D,B),V=n.mul(V,W),W=n.add(O,k),V=n.sub(V,W),T=n.mul(U,j),W=n.mul(v,k),T=n.add(W,T),W=n.sub(O,T),T=n.add(O,T),P=n.mul(W,T),O=n.add(E,E),O=n.add(O,E),k=n.mul(U,k),j=n.mul(v,j),O=n.add(O,k),k=n.sub(E,k),k=n.mul(U,k),j=n.add(j,k),E=n.mul(O,j),P=n.add(P,E),E=n.mul(V,j),W=n.mul($,W),W=n.sub(W,E),E=n.mul($,O),T=n.mul(V,T),T=n.add(T,E),new m(W,P,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return L.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:A,n:_}=e;wl("scalar",b,Sa,_);const I=m.ZERO;if(b===Sa)return I;if(this.is0()||b===In)return this;if(!A||L.hasPrecomputes(this))return L.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:M,k1:D,k2neg:B,k2:W}=A.splitScalar(b),P=I,T=I,U=this;for(;D>Sa||W>Sa;)D&In&&(P=P.add(U)),W&In&&(T=T.add(U)),U=U.double(),D>>=In,W>>=In;return M&&(P=P.negate()),B&&(T=T.negate()),T=new m(n.mul(T.px,A.beta),T.py,T.pz),P.add(T)}multiply(b){const{endo:A,n:_}=e;wl("scalar",b,In,_);let I,M;if(A){const{k1neg:D,k1:B,k2neg:W,k2:P}=A.splitScalar(b);let{p:T,f:U}=this.wNAF(B),{p:v,f:E}=this.wNAF(P);T=L.constTimeNegate(D,T),v=L.constTimeNegate(W,v),v=new m(n.mul(v.px,A.beta),v.py,v.pz),I=T.add(v),M=U.add(E)}else{const{p:D,f:B}=this.wNAF(b);I=D,M=B}return m.normalizeZ([I,M])[0]}multiplyAndAddUnsafe(b,A,_){const I=m.BASE,M=(B,W)=>W===Sa||W===In||!B.equals(I)?B.multiplyUnsafe(W):B.multiply(W),D=M(this,A).add(M(b,_));return D.is0()?void 0:D}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:A}=e;if(b===In)return!0;if(A)return A(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:A}=e;return b===In?this:A?A(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return Xd("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return Xd("isCompressed",b),Qd(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:C}=e,L=aq(m,y?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function hq(t){const e=ZS(t);return k1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function fq(t){const e=hq(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,o=2*n.BYTES+1;function c(v){return Nr(v,r)}function l(v){return ny(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=dq({...e,toBytes(v,E,O){const k=E.toAffine(),$=n.toBytes(k.x),j=i0;return Xd("isCompressed",O),O?j(Uint8Array.from([E.hasEvenY()?2:3]),$):j(Uint8Array.from([4]),$,n.toBytes(k.y))},fromBytes(v){const E=v.length,O=v[0],k=v.subarray(1);if(E===a&&(O===2||O===3)){const $=Vc(k);if(!Q4($,In,n.ORDER))throw new Error("Point is not on curve");const j=h($);let V;try{V=n.sqrt(j)}catch(J){const ee=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+ee)}const Z=(V&In)===In;return(O&1)===1!==Z&&(V=n.neg(V)),{x:$,y:V}}else if(E===o&&O===4){const $=n.fromBytes(k.subarray(0,n.BYTES)),j=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:$,y:j}}else{const $=a,j=o;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+j+", got "+E)}}});function p(v){const E=r>>In;return v>E}function m(v){return p(v)?c(-v):v}const y=(v,E,O)=>Vc(v.slice(E,O));class C{constructor(E,O,k){wl("r",E,In,r),wl("s",O,In,r),this.r=E,this.s=O,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(E){const O=i;return E=Ii("compactSignature",E,O*2),new C(y(E,0,O),y(E,O,2*O))}static fromDER(E){const{r:O,s:k}=Ca.toSig(Ii("DER",E));return new C(O,k)}assertValidity(){}addRecoveryBit(E){return new C(this.r,this.s,E)}recoverPublicKey(E){const{r:O,s:k,recovery:$}=this,j=I(Ii("msgHash",E));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const V=$===2||$===3?O+e.n:O;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=$&1?"03":"02",X=u.fromHex(Z+g6(V,n.BYTES)),J=l(V),ee=c(-j*J),ue=c(k*J),le=u.BASE.multiplyAndAddUnsafe(X,ee,ue);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return r0(this.toDERHex())}toDERHex(){return Ca.hexFromSig(this)}toCompactRawBytes(){return r0(this.toCompactHex())}toCompactHex(){const E=i;return g6(this.r,E)+g6(this.s,E)}}const L={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=VS(e.n);return rq(e.randomBytes(v),e.n)},precompute(v=8,E=u.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}};function w(v,E=!0){return u.fromPrivateKey(v).toRawBytes(E)}function b(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const O=Ii("key",v).length,k=n.BYTES,$=k+1,j=2*k+1;if(!(e.allowedPrivateKeyLengths||i===$))return O===$||O===j}function A(v,E,O=!0){if(b(v)===!0)throw new Error("first arg must be private key");if(b(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(v)).toRawBytes(O)}const _=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const E=Vc(v),O=v.length*8-s;return O>0?E>>BigInt(O):E},I=e.bits2int_modN||function(v){return c(_(v))},M=T1(s);function D(v){return wl("num < 2^"+s,v,Sa,M),Wh(v,i)}function B(v,E,O=W){if(["recovered","canonical"].some(se=>se in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:$}=e;let{lowS:j,prehash:V,extraEntropy:Z}=O;j==null&&(j=!0),v=Ii("msgHash",v),I7(O),V&&(v=Ii("prehashed msgHash",k(v)));const X=I(v),J=d(E),ee=[D(J),D(X)];if(Z!=null&&Z!==!1){const se=Z===!0?$(n.BYTES):Z;ee.push(Ii("extraEntropy",se))}const ue=i0(...ee),le=X;function Ee(se){const q=_(se);if(!f(q))return;const Ne=l(q),je=u.BASE.multiply(q).toAffine(),ce=c(je.x);if(ce===Sa)return;const Re=c(Ne*c(le+ce*J));if(Re===Sa)return;let pe=(je.x===ce?0:2)|Number(je.y&In),fe=Re;return j&&p(Re)&&(fe=m(Re),pe^=1),new C(ce,fe,pe)}return{seed:ue,k2sig:Ee}}const W={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function T(v,E,O=W){const{seed:k,k2sig:$}=B(v,E,O),j=e;return gW(j.hash.outputLen,j.nByteLength,j.hmac)(k,$)}u.BASE._setWindowSize(8);function U(v,E,O,k=P){const $=v;E=Ii("msgHash",E),O=Ii("publicKey",O);const{lowS:j,prehash:V,format:Z}=k;if(I7(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const X=typeof $=="string"||zh($),J=!X&&!Z&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!X&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,ue;try{if(J&&(ee=new C($.r,$.s)),X){try{Z!=="compact"&&(ee=C.fromDER($))}catch(pe){if(!(pe instanceof Ca.Err))throw pe}!ee&&Z!=="der"&&(ee=C.fromCompact($))}ue=u.fromHex(O)}catch{return!1}if(!ee||j&&ee.hasHighS())return!1;V&&(E=e.hash(E));const{r:le,s:Ee}=ee,se=I(E),q=l(Ee),Ne=c(se*q),je=c(le*q),ce=u.BASE.multiplyAndAddUnsafe(ue,Ne,je)?.toAffine();return ce?c(ce.x)===le:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:A,sign:T,verify:U,ProjectivePoint:u,Signature:C,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pq(t){return{hash:t,hmac:(e,...n)=>kS(t,e,$F(...n)),randomBytes:MF}}function mq(t,e){const n=r=>fq({...t,...pq(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GS=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),T7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gq=BigInt(0),yq=BigInt(1),iy=BigInt(2),k7=(t,e)=>(t+e/iy)/e;function wq(t){const e=GS,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=bi(u,n,e)*u%e,h=bi(d,n,e)*u%e,f=bi(h,iy,e)*l%e,p=bi(f,i,e)*f%e,m=bi(p,s,e)*p%e,y=bi(m,o,e)*m%e,C=bi(y,c,e)*y%e,L=bi(C,o,e)*m%e,w=bi(L,n,e)*u%e,b=bi(w,a,e)*p%e,A=bi(b,r,e)*l%e,_=bi(A,iy,e);if(!sy.eql(sy.sqr(_),t))throw new Error("Cannot find square root");return _}const sy=g8(GS,void 0,void 0,{sqrt:wq}),U1=mq({a:gq,b:BigInt(7),Fp:sy,n:T7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=T7,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=k7(s*t,e),c=k7(-r*t,e);let l=Nr(t-o*n-c*i,e),u=Nr(-o*r-c*s,e);const d=l>a,h=u>a;if(d&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},LL),bq=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:U1},Symbol.toStringTag,{value:"Module"}));function KS(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new w6({signature:t});if(typeof t.s>"u")throw new w6({signature:t});if(n&&typeof t.yParity>"u")throw new w6({signature:t});if(t.r<0n||t.r>C7)throw new Lq({value:t.r});if(t.s<0n||t.s>C7)throw new Sq({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new w8({value:t.yParity})}function vq(t){return YS(ds(t))}function YS(t){if(t.length!==130&&t.length!==132)throw new Aq({signature:t});const e=BigInt(Us(t,0,32)),n=BigInt(Us(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return y8(i)}catch{throw new w8({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function _q(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Cq(t)}function Cq(t){const e=typeof t=="string"?YS(t):t instanceof Uint8Array?vq(t):typeof t.r=="string"?xq(t):t.v?Eq(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return KS(e),e}function Eq(t){return{r:t.r,s:t.s,yParity:y8(t.v)}}function xq(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=y8(n)),typeof r!="number")throw new w8({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function y8(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Iq({value:t})}let Aq=class extends rt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${fi(FW(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class w6 extends rt{constructor({signature:e}){super(`Signature \`${WL(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Lq extends rt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Sq extends rt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let w8=class extends rt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},Iq=class extends rt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function Tq(t,e={}){return typeof t.chainId=="string"?kq(t):{...t,...e.signature}}function kq(t){const{address:e,chainId:n,nonce:r}=t,i=_q(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const Pq="0x8010801080108010801080108010801080108010801080108010801080108010",Oq=$S("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function JS(t){if(typeof t=="string"){if(Us(t,-32)!==Pq)throw new Mq(t)}else KS(t.authorization)}function Rq(t){JS(t);const e=GL(Us(t,-64,-32)),n=Us(t,-e-64,-64),r=Us(t,0,-e-64),[i,s,a]=HH(Oq,n);return{authorization:Tq({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...a&&a!=="0x"?{data:a,to:s}:{}}}function $q(t){try{return JS(t),!0}catch{return!1}}let Mq=class extends rt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Nq(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Dq(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?hi(t.nonce):void 0,storageProof:t.storageProof?Nq(t.storageProof):void 0}}async function jq(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",a=n!==void 0?oe(n):void 0,o=await t.request({method:"eth_getProof",params:[e,i,a||s]});return Dq(o)}async function Uq(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?oe(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function b8(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:a,nonce:o}){const c=r||"latest",l=n!==void 0?oe(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,oe(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,oe(s)]},{dedupe:!!l}):a&&typeof o=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,oe(o)]},{dedupe:!0})),!u)throw new uL({blockHash:e,blockNumber:n,blockTag:c,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||Uh)(u,"getTransaction")}async function Bq(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Ce(t,Zh,"getBlockNumber")({}),e?Ce(t,b8,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function Lp(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new dL({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||r8)(n,"getTransactionReceipt")}async function Fq(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:o,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},h=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return uu({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let p=0,m=0;for(let L=0;L<l.length;L++){const{abi:w,address:b,args:A,functionName:_}=l[L];try{const I=ur({abi:w,args:A,functionName:_});m+=(I.length-2)/2,u>0&&m>u&&f[p].length>0&&(p++,m=(I.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:I,target:b}]}catch(I){const M=Jc(I,{abi:w,address:b,args:A,docsPath:"/docs/contract/multicall",functionName:_,sender:n});if(!i)throw M;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:b}]}}const y=await Promise.allSettled(f.map(L=>Ce(t,hs,"readContract")({...h===null?{code:t8}:{address:h},abi:Ul,account:n,args:[L],authorizationList:r,blockNumber:s,blockOverrides:a,blockTag:o,functionName:"aggregate3",stateOverride:c}))),C=[];for(let L=0;L<y.length;L++){const w=y[L];if(w.status==="rejected"){if(!i)throw w.reason;for(let A=0;A<f[L].length;A++)C.push({status:"failure",error:w.reason,result:void 0});continue}const b=w.value;for(let A=0;A<b.length;A++){const{returnData:_,success:I}=b[A],{callData:M}=f[L][A],{abi:D,address:B,functionName:W,args:P}=l[C.length];try{if(M==="0x")throw new Oh;if(!I)throw new x1({data:_});const T=Xo({abi:D,args:P,data:_,functionName:W});C.push(i?{result:T,status:"success"}:T)}catch(T){const U=Jc(T,{abi:D,address:B,args:P,docsPath:"/docs/contract/multicall",functionName:W});if(!i)throw U;C.push({error:U,result:void 0,status:"failure"})}}}if(C.length!==l.length)throw new te("multicall results mismatch");return C}async function ay(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:o}=e;try{const c=[];for(const h of i){const f=h.blockOverrides?JL(h.blockOverrides):void 0,p=h.calls.map(y=>{const C=y,L=C.account?Ot(C.account):void 0,w=C.abi?ur(C):C.data,b={...C,account:L,data:C.dataSuffix?lr([w||"0x",C.dataSuffix]):w,from:C.from??L?.address};return Ks(b),Ka(b)}),m=h.stateOverrides?j4(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?oe(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:a,validation:o},u]})).map((h,f)=>({...B4(h),calls:h.calls.map((p,m)=>{const{abi:y,args:C,functionName:L,to:w}=i[f].calls[m],b=p.error?.data??p.returnData,A=BigInt(p.gasUsed),_=p.logs?.map(B=>ls(B)),I=p.status==="0x1"?"success":"failure",M=y&&I==="success"&&b!=="0x"?Xo({abi:y,data:b,functionName:L}):null,D=(()=>{if(I==="success")return;let B;if(b==="0x"?B=new Oh:b&&(B=new x1({data:b})),!!B)return Jc(B,{abi:y??[],address:w??"0x",args:C,functionName:L??"<unknown>"})})();return{data:b,gasUsed:A,logs:_,status:I,...I==="success"?{result:M}:{error:D}}})}))}catch(c){const l=c,u=L1(l,{});throw u instanceof jh?l:u}}function oy(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=o,n+=o}}if(!s)throw new rt("Unable to normalize signature.");return i}function cy(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Qg(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>cy(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>cy(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function XS(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return XS(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Qg(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Qg(n[r],{strict:!1}):!1)return a}}function QS(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?jb(t):t;return{...r,...n?{hash:ll(r)}:{}}}function B1(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=zW(e,{strict:!1}),a=t.filter(l=>s?l.type==="function"||l.type==="error"?eI(l)===Us(e,0,4):l.type==="event"?ll(l)===e:!1:"name"in l&&l.name===e);if(a.length===0)throw new o0({name:e});if(a.length===1)return{...a[0],...i?{hash:ll(a[0])}:{}};let o;for(const l of a){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:ll(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const f="inputs"in l&&l.inputs[h];return f?cy(d,f):!1})){if(o&&"inputs"in o&&o.inputs){const d=XS(l.inputs,o.inputs,r);if(d)throw new Wq({abiItem:l,type:d[0]},{abiItem:o,type:d[1]})}o=l}}const c=(()=>{if(o)return o;const[l,...u]=a;return{...l,overloads:u}})();if(!c)throw new o0({name:e});return{...c,...i?{hash:ll(c)}:{}}}function eI(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return B1(n,r)}return t[0]})();return Us(ll(e),0,4)}function zq(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return B1(r,i)}return t[0]})(),n=typeof e=="string"?e:Qp(e);return oy(n)}function ll(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return B1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:PS(e8(zq(e)))}class Wq extends rt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${oy(Qp(e.abiItem))}\`, and`,`\`${n.type}\` in \`${oy(Qp(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class o0 extends rt{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Vq(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[qq(s),a]}return t})(),{bytecode:r,args:i}=n;return us(r,e.inputs?.length&&i?.length?p8(e.inputs,i):"0x")}function Hq(t){return QS(t)}function qq(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new o0({name:"constructor"});return e}function Zq(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[P7(l,u,{args:d}),d]}const[o,c]=t;return[o,c]})(),{overloads:r}=e,i=r?P7([e,...r],e.name,{args:n}):e,s=Gq(i),a=n.length>0?p8(i.inputs,n):void 0;return a?us(s,a):s}function $2(t,e={}){return QS(t,e)}function P7(t,e,n){const r=B1(t,e,n);if(r.type!=="function")throw new o0({name:e,type:"function"});return r}function Gq(t){return eI(t)}const Kq="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",vs="0x0000000000000000000000000000000000000000",Yq="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Jq(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:o,validation:c}=e,l=e.account?Ot(e.account):void 0;if(a&&!l)throw new te("`account` is required when `traceAssetChanges` is true");const u=l?Vq(Hq("constructor(bytes, bytes)"),{bytecode:tS,args:[Yq,Zq($2("function getBalance(address)"),[l.address])]}):void 0,d=a?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:$}=await bS(t,{account:l.address,...k,data:k.abi?ur(k):k.data});return $.map(({address:j,storageKeys:V})=>V.length>0?j:null)})).then(k=>k.flat().filter(Boolean)):[],h=await ay(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((k,$)=>({abi:[$2("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:vs,nonce:$})),stateOverrides:[{address:vs,nonce:0}]}]:[],{calls:[...i,{}].map(k=>({...k,from:l?.address})),stateOverrides:s},...a?[{calls:[{data:u}]},{calls:d.map((k,$)=>({abi:[$2("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:vs,nonce:$})),stateOverrides:[{address:vs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[$2("function decimals() returns (uint256)")],functionName:"decimals",from:vs,nonce:$})),stateOverrides:[{address:vs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[$2("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:vs,nonce:$})),stateOverrides:[{address:vs,nonce:0}]},{calls:d.map((k,$)=>({to:k,abi:[$2("function symbol() returns (string)")],functionName:"symbol",from:vs,nonce:$})),stateOverrides:[{address:vs,nonce:0}]}]:[]],traceTransfers:o,validation:c}),f=a?h[2]:h[0],[p,m,,y,C,L,w,b]=a?h:[],{calls:A,..._}=f,I=A.slice(0,-1)??[],M=p?.calls??[],D=m?.calls??[],B=[...M,...D].map(k=>k.status==="success"?vt(k.data):null),W=y?.calls??[],P=C?.calls??[],T=[...W,...P].map(k=>k.status==="success"?vt(k.data):null),U=(L?.calls??[]).map(k=>k.status==="success"?k.result:null),v=(b?.calls??[]).map(k=>k.status==="success"?k.result:null),E=(w?.calls??[]).map(k=>k.status==="success"?k.result:null),O=[];for(const[k,$]of T.entries()){const j=B[k];if(typeof $!="bigint"||typeof j!="bigint")continue;const V=U[k-1],Z=v[k-1],X=E[k-1],J=k===0?{address:Kq,decimals:18,symbol:"ETH"}:{address:d[k-1],decimals:X||V?Number(V??1):void 0,symbol:Z??void 0};O.some(ee=>ee.token.address===J.address)||O.push({token:J,value:{pre:j,post:$,diff:$-j}})}return{assetChanges:O,block:_,results:I}}const tI="0x6492649264926492649264926492649264926492649264926492649264926492";function Xq(t){if(Us(t,-32)!==tI)throw new tZ(t)}function Qq(t){const{data:e,signature:n,to:r}=t;return us(p8($S("address, bytes, bytes"),[r,e,n]),tI)}function eZ(t){try{return Xq(t),!0}catch{return!1}}class tZ extends rt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function nI({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new U1.Signature(vt(t),vt(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:_r(a)}async function F1(t,e){const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??r?.contracts?.multicall3?.address}=e;if(r?.verifyHash)return await r.verifyHash(t,e);const o=(()=>{const c=e.signature;return vr(c)?c:typeof c=="object"&&"r"in c&&"s"in c?nI(c):fn(c)})();try{return $q(o)?await nZ(t,{...e,multicallAddress:a,signature:o}):await rZ(t,{...e,verifierAddress:s,signature:o})}catch(c){try{if(Fh(kn(n),await gL({hash:i,signature:o})))return!0}catch{}if(c instanceof t2)return!1;throw c}}async function nZ(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:o,data:c,signature:l,to:u}=Rq(e.signature);if(await a0(t,{address:n,blockNumber:r,blockTag:i})===Ui(["0xef0100",o.address]))return await iZ(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const h={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:oe(o.r,{size:32}),s:oe(o.s,{size:32}),yParity:o.yParity};if(!await tH({address:n,authorization:h}))throw new t2;const p=await Ce(t,hs,"readContract")({...a?{address:a}:{code:t8},authorizationList:[h],abi:Ul,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:ur({abi:eS,functionName:"isValidSignature",args:[s,l]})}]]});if(p[p.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new t2}async function rZ(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:a,verifierAddress:o,...c}=e,l=await(async()=>!r&&!i||eZ(a)?a:Qq({data:i,signature:a,to:r}))(),u=o?{to:o,data:ur({abi:m7,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:O1({abi:m7,args:[n,s,l],bytecode:KW}),...c},{data:d}=await Ce(t,qh,"call")(u).catch(h=>{throw h instanceof fL?new t2:h});if(mF(d??"0x0"))return!0;throw new t2}async function iZ(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:a}=e;if((await Ce(t,hs,"readContract")({address:n,abi:eS,args:[s,a],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof pL?new t2:c})).startsWith("0x1626ba7e"))return!0;throw new t2}class t2 extends Error{}async function sZ(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...a}){const o=u8(n);return Ce(t,F1,"verifyHash")({address:e,factory:r,factoryData:i,hash:o,signature:s,...a})}async function aZ(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:a,primaryType:o,types:c,domain:l,...u}=e,d=xS({message:a,primaryType:o,types:c,domain:l});return Ce(t,F1,"verifyHash")({address:n,factory:r,factoryData:i,hash:d,signature:s,...u})}function rI(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const o=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const d=_n(["watchBlockNumber",t.uid,e,n,a]);return za(d,{onBlockNumber:r,onError:i},h=>du(async()=>{try{const f=await Ce(t,Zh,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(f===c)return;if(f-c>1&&n)for(let p=c+1n;p<f;p++)h.onBlockNumber(p,c),c=p}(c===void 0||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){h.onError?.(f)}},{emitOnBegin:e,interval:a}))})():(()=>{const d=_n(["watchBlockNumber",t.uid,e,n]);return za(d,{onBlockNumber:r,onError:i},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(C){if(!f)return;const L=vt(C.result?.number);h.onBlockNumber(L,c),c=L},onError(C){h.onError?.(C)}});p=y,f||p()}catch(m){i?.(m)}})(),()=>p()})})()}async function iI(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:o=({count:A})=>~~(1<<A)*200,timeout:c=18e4}=e,l=_n(["waitForTransactionReceipt",t.uid,i]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let d,h,f,p=!1,m,y;const{promise:C,resolve:L,reject:w}=n8(),b=c?setTimeout(()=>{y?.(),m?.(),w(new Oz({hash:i}))},c):void 0;return m=za(l,{onReplaced:s,resolve:L,reject:w},async A=>{if(f=await Ce(t,Lp,"getTransactionReceipt")({hash:i}).catch(()=>{}),f&&r<=1){clearTimeout(b),A.resolve(f),m?.();return}y=Ce(t,rI,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(_){const I=D=>{clearTimeout(b),y?.(),D(),m?.()};let M=_;if(!p)try{if(f){if(r>1&&(!f.blockNumber||M-f.blockNumber+1n<r))return;I(()=>A.resolve(f));return}if(n&&!d&&(p=!0,await s0(async()=>{d=await Ce(t,b8,"getTransaction")({hash:i}),d.blockNumber&&(M=d.blockNumber)},{delay:o,retryCount:a}),p=!1),f=await Ce(t,Lp,"getTransactionReceipt")({hash:i}),r>1&&(!f.blockNumber||M-f.blockNumber+1n<r))return;I(()=>A.resolve(f))}catch(D){if(D instanceof uL||D instanceof dL){if(!d){p=!1;return}try{h=d,p=!0;const B=await s0(()=>Ce(t,ns,"getBlock")({blockNumber:M,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:T})=>T instanceof _L});p=!1;const W=B.transactions.find(({from:T,nonce:U})=>T===h.from&&U===h.nonce);if(!W||(f=await Ce(t,Lp,"getTransactionReceipt")({hash:W.hash}),r>1&&(!f.blockNumber||M-f.blockNumber+1n<r)))return;let P="replaced";W.to===h.to&&W.value===h.value&&W.input===h.input?P="repriced":W.from===W.to&&W.value===0n&&(P="cancelled"),I(()=>{A.onReplaced?.({reason:P,replacedTransaction:h,transaction:W,transactionReceipt:f}),A.resolve(f)})}catch(B){I(()=>A.reject(B))}}else I(()=>A.reject(D))}}})}),C}function oZ(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:a,poll:o,pollingInterval:c=t.pollingInterval}){const l=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=a??!1;let d;return l?(()=>{const p=_n(["watchBlocks",t.uid,e,n,r,u,c]);return za(p,{onBlock:i,onError:s},m=>du(async()=>{try{const y=await Ce(t,ns,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let C=d?.number+1n;C<y.number;C++){const L=await Ce(t,ns,"getBlock")({blockNumber:C,includeTransactions:u});m.onBlock(L,d),d=L}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&Ce(t,ns,"getBlock")({blockTag:e,includeTransactions:u}).then(w=>{p&&m&&(i(w,void 0),m=!1)}).catch(s);const C=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:L}=await C.subscribe({params:["newHeads"],async onData(w){if(!p)return;const b=await Ce(t,ns,"getBlock")({blockNumber:w.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(b,d),m=!1,d=b)},onError(w){s?.(w)}});y=L,p||y()}catch(C){s?.(C)}})(),()=>y()})()}function cZ(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:a,onError:o,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=d??!1;return h?(()=>{const y=_n(["watchEvent",e,n,r,t.uid,i,u,a]);return za(y,{onLogs:c,onError:o},C=>{let L;a!==void 0&&(L=a-1n);let w,b=!1;const A=du(async()=>{if(!b){try{w=await Ce(t,vS,"createEventFilter")({address:e,args:n,event:i,events:s,strict:f,fromBlock:a})}catch{}b=!0;return}try{let _;if(w)_=await Ce(t,R1,"getFilterChanges")({filter:w});else{const I=await Ce(t,Zh,"getBlockNumber")({});L&&L!==I?_=await Ce(t,Y4,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:L+1n,toBlock:I}):_=[],L=I}if(_.length===0)return;if(r)C.onLogs(_);else for(const I of _)C.onLogs([I])}catch(_){w&&_ instanceof qo&&(b=!1),C.onError?.(_)}},{emitOnBegin:!0,interval:u});return async()=>{w&&await Ce(t,$1,"uninstallFilter")({filter:w}),A()}})})():(()=>{let y=!0,C=()=>y=!1;return(async()=>{try{const L=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),w=s??(i?[i]:void 0);let b=[];w&&(b=[w.flatMap(I=>Mh({abi:[I],eventName:I.name,args:n}))],i&&(b=b[0]));const{unsubscribe:A}=await L.subscribe({params:["logs",{address:e,topics:b}],onData(_){if(!y)return;const I=_.result;try{const{eventName:M,args:D}=n0({abi:w??[],data:I.data,topics:I.topics,strict:f}),B=ls(I,{args:D,eventName:M});c([B])}catch(M){let D,B;if(M instanceof t0||M instanceof I4){if(d)return;D=M.abiItem.name,B=M.abiItem.inputs?.some(P=>!("name"in P&&P.name))}const W=ls(I,{args:B?[]:{},eventName:D});c([W])}},onError(_){o?.(_)}});C=A,y||C()}catch(L){o?.(L)}})(),()=>C()})()}function lZ(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=_n(["watchPendingTransactions",t.uid,e,s]);return za(l,{onTransactions:r,onError:n},u=>{let d;const h=du(async()=>{try{if(!d)try{d=await Ce(t,_S,"createPendingTransactionFilter")({});return}catch(p){throw h(),p}const f=await Ce(t,R1,"getFilterChanges")({filter:d});if(f.length===0)return;if(e)u.onTransactions(f);else for(const p of f)u.onTransactions([p])}catch(f){u.onError?.(f)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await Ce(t,$1,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n?.(h)}});u=d,l||u()}catch(d){n?.(d)}})(),()=>u()})()}function uZ(t){const{scheme:e,statement:n,...r}=t.match(dZ)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:c,...l}=t.match(hZ)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const dZ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hZ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function fZ(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:a=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!Pt(r.address,{strict:!1})||e&&!Fh(r.address,e))return!1}catch{return!1}return!0}async function pZ(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:a,signature:o,time:c=new Date,...l}=e,u=uZ(i);if(!u.address||!fZ({address:n,domain:r,message:u,nonce:s,scheme:a,time:c}))return!1;const h=u8(i);return F1(t,{address:u.address,hash:h,signature:o,...l})}async function v8(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,r]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||r8)(i);if(a.status==="reverted"&&n)throw new hL({receipt:a});return a}function c0(t){return{call:e=>qh(t,e),createAccessList:e=>bS(t,e),createBlockFilter:()=>$V(t),createContractEventFilter:e=>sL(t,e),createEventFilter:e=>vS(t,e),createPendingTransactionFilter:()=>_S(t),estimateContractGas:e=>dW(t,e),estimateGas:e=>G4(t,e),getBalance:e=>MV(t,e),getBlobBaseFee:()=>NV(t),getBlock:e=>ns(t,e),getBlockNumber:e=>Zh(t,e),getBlockTransactionCount:e=>DV(t,e),getBytecode:e=>a0(t,e),getChainId:()=>Ys(t),getCode:e=>a0(t,e),getContractEvents:e=>ML(t,e),getDelegation:e=>jV(t,e),getEip712Domain:e=>BV(t,e),getEnsAddress:e=>wV(t,e),getEnsAvatar:e=>PV(t,e),getEnsName:e=>OV(t,e),getEnsResolver:e=>RV(t,e),getEnsText:e=>wS(t,e),getFeeHistory:e=>WV(t,e),estimateFeesPerGas:e=>Xz(t,e),getFilterChanges:e=>R1(t,e),getFilterLogs:e=>VV(t,e),getGasPrice:()=>F4(t),getLogs:e=>Y4(t,e),getProof:e=>jq(t,e),estimateMaxPriorityFeePerGas:e=>Jz(t,e),fillTransaction:e=>q4(t,e),getStorageAt:e=>Uq(t,e),getTransaction:e=>b8(t,e),getTransactionConfirmations:e=>Bq(t,e),getTransactionCount:e=>z4(t,e),getTransactionReceipt:e=>Lp(t,e),multicall:e=>Fq(t,e),prepareTransactionRequest:e=>lu(t,e),readContract:e=>hs(t,e),sendRawTransaction:e=>M1(t,e),sendRawTransactionSync:e=>v8(t,e),simulate:e=>ay(t,e),simulateBlocks:e=>ay(t,e),simulateCalls:e=>Jq(t,e),simulateContract:e=>nV(t,e),verifyHash:e=>F1(t,e),verifyMessage:e=>sZ(t,e),verifySiweMessage:e=>pZ(t,e),verifyTypedData:e=>aZ(t,e),uninstallFilter:e=>$1(t,e),waitForTransactionReceipt:e=>iI(t,e),watchBlocks:e=>oZ(t,e),watchBlockNumber:e=>rI(t,e),watchContractEvent:e=>lV(t,e),watchEvent:e=>cZ(t,e),watchPendingTransactions:e=>lZ(t,e)}}function _8(t){const{key:e="public",name:n="Public Client"}=t;return pS({...t,key:e,name:n,type:"publicClient"}).extend(c0)}async function mZ(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:oe(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function gZ(t,e){const{abi:n,args:r,bytecode:i,...s}=e,a=O1({abi:n,args:r,bytecode:i});return Kh(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function yZ(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Rh(n))}async function wZ(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Ot(n):void 0,s=r?[i?.address,[oe(r)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:s}),o={};for(const[c,l]of Object.entries(a)){o[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),o[Number(c)][u]=d}return typeof r=="number"?o[r]:o}async function bZ(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function sI(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Js({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Ot(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Ot(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof o.chainId>"u"&&(o.chainId=t.chain?.id??await Ce(t,Ys,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Ce(t,z4,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a?.address&&Fh(a.address,s.address))&&(o.nonce+=1)),o}async function vZ(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>kn(n))}async function _Z(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function CZ(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await Ce(t,uS,"sendCalls")(e);return await Ce(t,hS,"waitForCallsStatus")({...e,id:i.id,timeout:r})}const b6=new ou(128);async function aI(t,e){const{account:n=t.account,assertChainId:r=!0,chain:i=t.chain,accessList:s,authorizationList:a,blobs:o,data:c,dataSuffix:l=typeof t.dataSuffix=="string"?t.dataSuffix:t.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,pollingInterval:y,throwOnReceiptRevert:C,type:L,value:w,...b}=e,A=e.timeout??Math.max((i?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Js({docsPath:"/docs/actions/wallet/sendTransactionSync"});const _=n?Ot(n):null;try{Ks(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await A1({authorization:a[0]}).catch(()=>{throw new te("`to` is required. Could not infer from `authorizationList`.")})})();if(_?.type==="json-rpc"||_===null){let M;i!==null&&(M=await Ce(t,Ys,"getChainId")({}),r&&Gh({currentChainId:M,chain:i}));const D=t.chain?.formatters?.transactionRequest?.format,W=(D||Ka)({...cu(b,{format:D}),accessList:s,account:_,authorizationList:a,blobs:o,chainId:M,data:c&&lr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,to:I,type:L,value:w},"sendTransaction"),P=b6.get(t.uid),T=P?"wallet_sendTransaction":"eth_sendTransaction",U=await(async()=>{try{return await t.request({method:T,params:[W]},{retryCount:0})}catch(E){if(P===!1)throw E;const O=E;if(O.name==="InvalidInputRpcError"||O.name==="InvalidParamsRpcError"||O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[W]},{retryCount:0}).then(k=>(b6.set(t.uid,!0),k)).catch(k=>{const $=k;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(b6.set(t.uid,!1),O):$});throw O}})(),v=await Ce(t,iI,"waitForTransactionReceipt")({checkReplacement:!1,hash:U,pollingInterval:y,timeout:A});if(C&&v.status==="reverted")throw new hL({receipt:v});return v}if(_?.type==="local"){const M=await Ce(t,lu,"prepareTransactionRequest")({account:_,accessList:s,authorizationList:a,blobs:o,chain:i,data:c&&lr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:_.nonceManager,parameters:[...Z4,"sidecars"],type:L,value:w,...b,to:I}),D=i?.serializers?.transaction,B=await _.signTransaction(M,{serializer:D});return await Ce(t,v8,"sendRawTransactionSync")({serializedTransaction:B,throwOnReceiptRevert:C,timeout:e.timeout})}throw _?.type==="smart"?new Hc({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Hc({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(I){throw I instanceof Hc?I:Bh(I,{...e,account:_,chain:e.chain||void 0})}}async function EZ(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function xZ(t,e){const{account:n=t.account}=e;if(!n)throw new Js({docsPath:"/docs/eip7702/signAuthorization"});const r=Ot(n);if(!r.signAuthorization)throw new Hc({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await sI(t,e);return r.signAuthorization(i)}async function AZ(t,{account:e=t.account,message:n}){if(!e)throw new Js({docsPath:"/docs/actions/wallet/signMessage"});const r=Ot(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Rl(n):n.raw instanceof Uint8Array?Ze(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function oI(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Js({docsPath:"/docs/actions/wallet/signTransaction"});const s=Ot(n);Ks({account:s,...e});const a=await Ce(t,Ys,"getChainId")({});r!==null&&Gh({currentChainId:a,chain:r});const c=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Ka;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:oe(a),from:s.address}]},{retryCount:0})}async function cI(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Js({docsPath:"/docs/actions/wallet/signTypedData"});const a=Ot(n),o={EIP712Domain:ES({domain:r}),...e.types};if(CS({domain:r,message:i,primaryType:s,types:o}),a.signTypedData)return a.signTypedData({domain:r,message:i,primaryType:s,types:o});const c=pH({domain:r,message:i,primaryType:s,types:o});return t.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}async function LZ(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:oe(e)}]},{retryCount:0})}async function SZ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function IZ(t,e){return Bl.internal(t,aI,"sendTransactionSync",e)}function TZ(t){return{addChain:e=>mZ(t,e),deployContract:e=>gZ(t,e),fillTransaction:e=>q4(t,e),getAddresses:()=>yZ(t),getCallsStatus:e=>dS(t,e),getCapabilities:e=>wZ(t,e),getChainId:()=>Ys(t),getPermissions:()=>bZ(t),prepareAuthorization:e=>sI(t,e),prepareTransactionRequest:e=>lu(t,e),requestAddresses:()=>vZ(t),requestPermissions:e=>_Z(t,e),sendCalls:e=>uS(t,e),sendCallsSync:e=>CZ(t,e),sendRawTransaction:e=>M1(t,e),sendRawTransactionSync:e=>v8(t,e),sendTransaction:e=>Kh(t,e),sendTransactionSync:e=>aI(t,e),showCallsStatus:e=>EZ(t,e),signAuthorization:e=>xZ(t,e),signMessage:e=>AZ(t,e),signTransaction:e=>oI(t,e),signTypedData:e=>cI(t,e),switchChain:e=>LZ(t,e),waitForCallsStatus:e=>hS(t,e),watchAsset:e=>SZ(t,e),writeContract:e=>Bl(t,e),writeContractSync:e=>IZ(t,e)}}function kZ(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return pS({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(TZ)}function PZ({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:a,type:o},c){const l=fS();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:a,type:o},request:rH(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}class OZ extends te{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function z1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:h,retryCount:f,timeout:p})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},C=e.retryCount??f,L=p??e.timeout??1e4,w=t||h?.rpcUrls.default.http[0];if(!w)throw new OZ;const b=oH(w,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:L});return PZ({key:s,methods:a,name:o,async request({method:A,params:_}){const I={method:A,params:_},{schedule:M}=iS({id:w,wait:y,shouldSplitBatch(P){return P.length>m},fn:P=>b.request({body:P}),sort:(P,T)=>P.id-T.id}),D=async P=>n?M(P):[await b.request({body:P})],[{error:B,result:W}]=await D(I);if(d)return{error:B,result:W};if(B)throw new D4({body:I,error:B,url:w});return W},retryCount:C,retryDelay:u,timeout:L,type:"http"},{fetchOptions:i,url:w})}}const O7=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new CA(`Unsupported chainId ${t}`,4901);return _8({transport:z1(RZ(s,n,r.appId)),chain:s})},RZ=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new CA(`No RPC url found for ${i}`);return r};function $Z({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function MZ(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let NZ=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function DZ(t,e,n,r,i=!1,s,a){let o=i,c=async u=>{if(o){u===(i?0:1)?r():n.current?.reject(new Ap("missing_or_invalid_mfa","MFA verification failed, retry."));let d=await new Promise((h,f)=>{e.current={resolve:h,reject:f},setTimeout(()=>{let p=new Ap("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(p),f(p)},a)});return await t(d)}return await t()},l=null;for(let u=0;u<s;u++)try{l=await c(u),n.current?.resolve(void 0);break}catch(d){if(d.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),d;o=!0}if(l===null){let u=new Ap("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(u),u}return l}var R7;let jZ=(R7=0,()=>"id-"+R7++),UZ=(t,e)=>typeof e=="bigint"?e.toString():e,eo=async(t,{ms:e,msg:n})=>{let r,i=new Promise((s,a)=>{r=setTimeout(()=>{a(Error(n))},e??15e3)});try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},$7=new NZ,M7=class{invokeWithMfa(e,n){return eo(DZ(r=>eo(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return eo(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return eo(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return eo(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return eo(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return eo(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return eo(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=$7.dequeue(e.event,e.id);return e.error!==void 0?n(new Ap(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await MZ(150)})}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,UZ)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,a)=>{let o=jZ();$7.enqueue(o,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:o,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var lI={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function a(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,h,f,p){var m=n?n+l:l;if(!this._events[m])return!1;var y=this._events[m],C=arguments.length,L,w;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),C){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(w=1,L=new Array(C-1);w<C;w++)L[w-1]=arguments[w];y.fn.apply(y.context,L)}else{var b=y.length,A;for(w=0;w<b;w++)switch(y[w].once&&this.removeListener(l,y[w].fn,void 0,!0),C){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!L)for(A=1,L=new Array(C-1);A<C;A++)L[A-1]=arguments[A];y[w].fn.apply(y[w].context,L)}}return!0},o.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var m=0,y=[],C=p.length;m<C;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[f]=y.length===1?y[0]:y:a(this,f)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(lI);var BZ=lI.exports;const v2=y2(BZ);let v6={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const uI={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let M2=t=>t!==void 0?BigInt(t):void 0;function l0(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(l=>Array.isArray(l)?{address:l[0],storageKeys:l[1]}:l):r.accessList&&(e=Object.entries(r.accessList).map(l=>({address:l[0],storageKeys:l[1]})));let i=Number(r.chainId??1),s=vr(r.data)?r.data:r.data?Ze(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,o={chainId:i,data:s,nonce:a,value:M2(r.value),gas:M2(r.gas??r.gasLimit)},c=Number(n);if(c===0)return{...r,type:v6[c],...o,gasPrice:M2(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===1)return{...r,type:v6[c],...o,gasPrice:M2(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===2)return{...r,type:v6[c],...o,nonce:a,accessList:e,maxFeePerGas:M2(r.maxFeePerGas),maxPriorityFeePerGas:M2(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const u0=t=>/^0x[0-9a-fA-F]*$/.test(t),d0=t=>Buffer.from(t,"utf8"),th=t=>`0x${t.toString("hex")}`;var FZ=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const zZ=y2(FZ);async function WZ(t,e){let n=zZ(e);if(n===void 0)throw new gt({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function es(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(Z3,{params:{wallet_id:n}}),method:Z3.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await WZ(e,i);return await t.fetchPrivyRoute(Z3,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function VZ(t){return{from:t.from,to:t.to??void 0,nonce:hc(t.nonce),chain_id:hc(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?u0(e)?e:th(d0(e)):th(Buffer.from(Uint8Array.from(e)))}(t.data),value:hc(t.value),type:t.type,gas_limit:hc(t.gasLimit),gas_price:hc(t.gasPrice),max_fee_per_gas:hc(t.maxFeePerGas),max_priority_fee_per_gas:hc(t.maxPriorityFeePerGas)}}function hc(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return u0(t)?t:th(d0(t))}function HZ(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function dI({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,o=await es(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(o.method!=="personal_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"eth_signTransaction":{let[a]=s.params,o=await es(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:VZ(a)}});if(o.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:o.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,o=await es(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:HZ(a)}});if(o.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:o.data.signature}}case"eth_sign":{let[,a]=s.params,o=await es(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:u0(a)?a:th(d0(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"secp256k1_sign":{let[a]=s.params,o=await es(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:u0(a)?a:th(d0(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,o=await es(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(o.method!=="signMessage")throw Error("Unable to sign message");return{data:o.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let qZ=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),_6=class extends v2{async request(e){if(qZ.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=O7(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=l0(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:uI[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=Ze(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=l0(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Mb(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Mb(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(Lo(r)){let{data:i}=await dI({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=L4(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise(async(o,c)=>{a=setTimeout(()=>c(new gt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>o(!0)})}).finally(()=>clearTimeout(a))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new gt({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:o,chainId:c=a[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=c,this._chains=a,this._onNeedsRecovery=o,this._client=O7(c,a,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}};function ly(t){return"version"in t}function N7(t,e){let n=(ly(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let ZZ=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new gt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=L4(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,a)=>{i=setTimeout(()=>a(new gt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!Lo(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await dI({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new gt({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=N7(r,this._account.address),o=ly(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:c}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},n);return r.addSignature(a,Buffer.from(c,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new gt({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=N7(r,this._account.address),s=ly(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new gt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:o}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=o}},GZ=class{setMessagePoster(e){this._proxy=new M7(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new gt({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await K3({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new gt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Lo(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new aB({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:o,skipCallbacks:c,idempotencyKey:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new gt({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await K3({context:{app:this._appApi,fetchPrivyRoute:(...u)=>this._privyInternal.fetch(...u),getCompiledPath:(...u)=>this._privyInternal.getPath(...u)},chainType:"ethereum",idempotencyKey:l})}else{let u;if(u=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(u==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let d=await this._privyInternal.getAccessTokenInternal();if(!d)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:d,recoveryMethod:u,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:o?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(c)}async createSolana(e){if(!this._proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await K3({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana",idempotencyKey:e?.idempotencyKey});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new gt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new gt({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new gt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Lo(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new _6({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o,onNeedsRecovery:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Lo(e)||(!c||i||s||a||o)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o}),new _6({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:c,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,o){if(!this._proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Lo(e)||(!o||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new ZZ({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Lo(n))throw new gt({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});$Z({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:o}=await this._privyInternal.refreshSession();return{user:o,provider:n.chain_type!=="ethereum"?null:new _6({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let c=await this._privyInternal.getAccessTokenInternal();if(!c)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:c,entropyId:e,entropyIdVerifier:n}),e}catch(l){if(L4(l))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:c,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw l}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(w1),this._privyInternal=e,n&&(this._proxy=new M7(n,s),i.setProxy(this._proxy)),r){let o=_A(r);this._chains=o}this._mfa=i,this._mfaPromises=s,this._appApi=a}},KZ=class extends v2{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var hI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(lA,function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(o,a),function(l,u){var d=a.retries,h=a.retryDelay,f=a.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))d=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")h=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(p,m){var y=function(L){var w=typeof Request<"u"&&l instanceof Request?l.clone():l;s(w,u).then(function(b){if(Array.isArray(f)&&f.indexOf(b.status)===-1)p(b);else if(typeof f=="function")try{return Promise.resolve(f(L,null,b)).then(function(A){A?C(L,null,b):p(b)}).catch(m)}catch(A){m(A)}else L<d?C(L,null,b):p(b)}).catch(function(b){if(typeof f=="function")try{Promise.resolve(f(L,b,null)).then(function(A){A?C(L,b,null):m(b)}).catch(function(A){m(A)})}catch(A){m(A)}else L<d?C(L,b,null):m(b)})};function C(L,w,b){var A=typeof h=="function"?h(L,w,b):h;setTimeout(function(){y(++L)},A)}y(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(hI);var YZ=hI.exports;const fI=y2(YZ);let $f;const JZ=new Uint8Array(16);function XZ(){if(!$f&&($f=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $f(JZ)}const Wn=[];for(let t=0;t<256;++t)Wn.push((t+256).toString(16).slice(1));function QZ(t,e=0){return Wn[t[e+0]]+Wn[t[e+1]]+Wn[t[e+2]]+Wn[t[e+3]]+"-"+Wn[t[e+4]]+Wn[t[e+5]]+"-"+Wn[t[e+6]]+Wn[t[e+7]]+"-"+Wn[t[e+8]]+Wn[t[e+9]]+"-"+Wn[t[e+10]]+Wn[t[e+11]]+Wn[t[e+12]]+Wn[t[e+13]]+Wn[t[e+14]]+Wn[t[e+15]]}const eG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D7={randomUUID:eG};function uy(t,e,n){if(D7.randomUUID&&!t)return D7.randomUUID();t=t||{};const r=t.random||(t.rng||XZ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,QZ(r)}var $e,j7=(($e={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",$e.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",$e.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",$e.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",$e.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",$e.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",$e.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",$e.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",$e.INVALID_DATA="invalid_data",$e.INVALID_CREDENTIALS="invalid_credentials",$e.INVALID_CAPTCHA="invalid_captcha",$e.LINKED_TO_ANOTHER_USER="linked_to_another_user",$e.ALLOWLIST_REJECTED="allowlist_rejected",$e.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",$e.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",$e.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",$e.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",$e.TOO_MANY_REQUESTS="too_many_requests",$e.RESOURCE_CONFLICT="resource_conflict",$e.INVALID_ORIGIN="invalid_origin",$e.MISSING_ORIGIN="missing_origin",$e.INVALID_NATIVE_APP_ID="invalid_native_app_id",$e.TOKEN_ALREADY_USED="token_already_used",$e.ALREADY_LOGGED_OUT="already_logged_out",$e.NOT_SUPPORTED="not_supported",$e.USER_UNSUBSCRIBED="user_unsubscribed",$e.MAX_APPS_REACHED="max_apps_reached",$e.USER_LIMIT_REACHED="max_accounts_reached",$e.DEVICE_REVOKED="device_revoked",$e.WALLET_PASSWORD_EXISTS="wallet_password_exists",$e.OAUTH_STATE_MISMATCH="oauth_state_mismatch",$e.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",$e.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",$e.DISALLOWED_LOGIN_METHOD="disallowed_login_method",$e.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",$e.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",$e.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",$e.CANNOT_SET_PASSWORD="cannot_set_password",$e.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",$e.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",$e.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",$e.USER_DOES_NOT_EXIST="user_does_not_exist",$e.ALREADY_EXISTS="resource_already_exists",$e.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",$e.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",$e.FEATURE_NOT_ENABLED="feature_not_enabled",$e.INSUFFICIENT_FUNDS="insufficient_funds",$e.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",$e.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",$e.INVALID_SOLANA_TRANSACTION="invalid_solana_transaction",$e.INVALID_POLICY_FORMAT="invalid_policy_format",$e.INVALID_AGGREGATION_FORMAT="invalid_aggregation_format",$e.POLICY_VIOLATION="policy_violation",$e.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",$e.INVALID_REQUEST="invalid_request",$e.SIGNUP_DISABLED="signup_disabled",$e),dt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dt||(dt={}));var U7;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(U7||(U7={}));const Se=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_o=t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return Number.isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},he=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),r}static assert(e){if(!(e instanceof Wa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wa.create=t=>new Wa(t);const dy=(t,e)=>{let n;switch(t.code){case he.invalid_type:t.received===Se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,dt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${dt.joinValues(t.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${dt.joinValues(t.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${dt.joinValues(t.options)}, received '${t.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:dt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case he.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case he.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=e.defaultError,dt.assertNever(t)}return{message:n}};let tG=dy;function nG(){return tG}const rG=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function _e(t,e){const n=nG(),r=rG({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dy?void 0:dy].filter(i=>!!i)});t.common.issues.push(r)}class Lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Fe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Lr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Fe;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Fe=Object.freeze({status:"aborted"}),Ju=t=>({status:"dirty",value:t}),Bi=t=>({status:"valid",value:t}),B7=t=>t.status==="aborted",F7=t=>t.status==="dirty",Fl=t=>t.status==="valid",h0=t=>typeof Promise<"u"&&t instanceof Promise;var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Oe||(Oe={}));class Hs{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z7=(t,e)=>{if(Fl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wa(t.common.issues);return this._error=n,this._error}}};function Je(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class st{get description(){return this._def.description}_getType(e){return _o(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Lr,ctx:{common:e.parent.common,data:e.data,parsedType:_o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(h0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},i=this._parseSync({data:e,path:r.path,parent:r});return z7(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Fl(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Fl(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_o(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(h0(i)?i:Promise.resolve(i));return z7(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:he.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new a2({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Na.create(this,this._def)}nullable(){return o2.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bs.create(this)}promise(){return w0.create(this,this._def)}or(e){return p0.create([this,e],this._def)}and(e){return m0.create(this,e,this._def)}transform(e){return new a2({...Je(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new b0({...Je(this._def),innerType:this,defaultValue:n,typeName:ze.ZodDefault})}brand(){return new yI({typeName:ze.ZodBranded,type:this,...Je(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new v0({...Je(this._def),innerType:this,catchValue:n,typeName:ze.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return E8.create(this,e)}readonly(){return _0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iG=/^c[^\s-]{8,}$/i,sG=/^[0-9a-z]+$/,aG=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oG=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cG=/^[a-z0-9_-]{21}$/i,lG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uG=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dG=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let C6;const fG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bG=new RegExp(`^${pI}$`);function mI(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function vG(t){return new RegExp(`^${mI(t)}$`)}function _G(t){let e=`${pI}T${mI(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function CG(t,e){return!!((e==="v4"||!e)&&fG.test(t)||(e==="v6"||!e)&&mG.test(t))}function EG(t,e){if(!lG.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function xG(t,e){return!!((e==="v4"||!e)&&pG.test(t)||(e==="v6"||!e)&&gG.test(t))}class Ds extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const s=this._getOrReturnCtx(e);return _e(s,{code:he.invalid_type,expected:Se.string,received:s.parsedType}),Fe}const r=new Lr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?_e(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&_e(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"email",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")C6||(C6=new RegExp(hG,"u")),C6.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"emoji",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")oG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"uuid",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")cG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"nanoid",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")iG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")sG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid2",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")aG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ulid",code:he.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),_e(i,{validation:"url",code:he.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"regex",code:he.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_G(s).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?bG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?vG(s).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:he.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?uG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"duration",code:he.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?CG(e.data,s.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ip",code:he.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?EG(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"jwt",code:he.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?xG(e.data,s.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cidr",code:he.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?yG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64",code:he.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?wG.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64url",code:he.invalid_string,message:s.message}),r.dirty()):dt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:he.invalid_string,...Oe.errToObj(r)})}_addCheck(e){return new Ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Oe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Oe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Oe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Oe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Oe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Oe.errToObj(n)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ds.create=t=>new Ds({checks:[],typeName:ze.ZodString,coerce:t?.coerce??!1,...Je(t)});function AG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class n2 extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const s=this._getOrReturnCtx(e);return _e(s,{code:he.invalid_type,expected:Se.number,received:s.parsedType}),Fe}let r;const i=new Lr;for(const s of this._def.checks)s.kind==="int"?dt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:he.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?AG(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:he.not_finite,message:s.message}),i.dirty()):dt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,i){return new n2({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(i)}]})}_addCheck(e){return new n2({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}n2.create=t=>new n2({checks:[],typeName:ze.ZodNumber,coerce:t?.coerce||!1,...Je(t)});class r2 extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let r;const i=new Lr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return _e(n,{code:he.invalid_type,expected:Se.bigint,received:n.parsedType}),Fe}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,i){return new r2({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(i)}]})}_addCheck(e){return new r2({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}r2.create=t=>new r2({checks:[],typeName:ze.ZodBigInt,coerce:t?.coerce??!1,...Je(t)});class f0 extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.boolean,received:r.parsedType}),Fe}return Bi(e.data)}}f0.create=t=>new f0({typeName:ze.ZodBoolean,coerce:t?.coerce||!1,...Je(t)});class zl extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const s=this._getOrReturnCtx(e);return _e(s,{code:he.invalid_type,expected:Se.date,received:s.parsedType}),Fe}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return _e(s,{code:he.invalid_date}),Fe}const r=new Lr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:he.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:he.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):dt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}zl.create=t=>new zl({checks:[],coerce:t?.coerce||!1,typeName:ze.ZodDate,...Je(t)});class W7 extends st{_parse(e){if(this._getType(e)!==Se.symbol){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.symbol,received:r.parsedType}),Fe}return Bi(e.data)}}W7.create=t=>new W7({typeName:ze.ZodSymbol,...Je(t)});class hy extends st{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.undefined,received:r.parsedType}),Fe}return Bi(e.data)}}hy.create=t=>new hy({typeName:ze.ZodUndefined,...Je(t)});class fy extends st{_parse(e){if(this._getType(e)!==Se.null){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.null,received:r.parsedType}),Fe}return Bi(e.data)}}fy.create=t=>new fy({typeName:ze.ZodNull,...Je(t)});class py extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return Bi(e.data)}}py.create=t=>new py({typeName:ze.ZodAny,...Je(t)});class V7 extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bi(e.data)}}V7.create=t=>new V7({typeName:ze.ZodUnknown,...Je(t)});class Zo extends st{_parse(e){const n=this._getOrReturnCtx(e);return _e(n,{code:he.invalid_type,expected:Se.never,received:n.parsedType}),Fe}}Zo.create=t=>new Zo({typeName:ze.ZodNever,...Je(t)});class H7 extends st{_parse(e){if(this._getType(e)!==Se.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.void,received:r.parsedType}),Fe}return Bi(e.data)}}H7.create=t=>new H7({typeName:ze.ZodVoid,...Je(t)});class Bs extends st{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Se.array)return _e(n,{code:he.invalid_type,expected:Se.array,received:n.parsedType}),Fe;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(_e(n,{code:a?he.too_big:he.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(_e(n,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(_e(n,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Hs(n,a,n.path,o)))).then(a=>Lr.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Hs(n,a,n.path,o)));return Lr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Bs({...this._def,minLength:{value:e,message:Oe.toString(n)}})}max(e,n){return new Bs({...this._def,maxLength:{value:e,message:Oe.toString(n)}})}length(e,n){return new Bs({...this._def,exactLength:{value:e,message:Oe.toString(n)}})}nonempty(e){return this.min(1,e)}}Bs.create=(t,e)=>new Bs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Je(e)});function rl(t){if(t instanceof on){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Na.create(rl(r))}return new on({...t._def,shape:()=>e})}else return t instanceof Bs?new Bs({...t._def,type:rl(t.element)}):t instanceof Na?Na.create(rl(t.unwrap())):t instanceof o2?o2.create(rl(t.unwrap())):t instanceof i2?i2.create(t.items.map(e=>rl(e))):t}class on extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=dt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Se.object){const l=this._getOrReturnCtx(e);return _e(l,{code:he.invalid_type,expected:Se.object,received:l.parsedType}),Fe}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Zo&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Hs(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Zo){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(_e(i,{code:he.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Hs(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>Lr.mergeObjectSync(r,l)):Lr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new on({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Oe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new on({...this._def,unknownKeys:"strip"})}passthrough(){return new on({...this._def,unknownKeys:"passthrough"})}extend(e){return new on({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new on({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new on({...this._def,catchall:e})}pick(e){const n={};for(const r of dt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}omit(e){const n={};for(const r of dt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}deepPartial(){return rl(this)}partial(e){const n={};for(const r of dt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new on({...this._def,shape:()=>n})}required(e){const n={};for(const r of dt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Na;)s=s._def.innerType;n[r]=s}return new on({...this._def,shape:()=>n})}keyof(){return gI(dt.objectKeys(this.shape))}}on.create=(t,e)=>new on({shape:()=>t,unknownKeys:"strip",catchall:Zo.create(),typeName:ze.ZodObject,...Je(e)});on.strictCreate=(t,e)=>new on({shape:()=>t,unknownKeys:"strict",catchall:Zo.create(),typeName:ze.ZodObject,...Je(e)});on.lazycreate=(t,e)=>new on({shape:t,unknownKeys:"strip",catchall:Zo.create(),typeName:ze.ZodObject,...Je(e)});class p0 extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Wa(o.ctx.common.issues));return _e(n,{code:he.invalid_union,unionErrors:a}),Fe}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new Wa(c));return _e(n,{code:he.invalid_union,unionErrors:o}),Fe}}get options(){return this._def.options}}p0.create=(t,e)=>new p0({options:t,typeName:ze.ZodUnion,...Je(e)});const pa=t=>t instanceof gy?pa(t.schema):t instanceof a2?pa(t.innerType()):t instanceof y0?[t.value]:t instanceof s2?t.options:t instanceof yy?dt.objectValues(t.enum):t instanceof b0?pa(t._def.innerType):t instanceof hy?[void 0]:t instanceof fy?[null]:t instanceof Na?[void 0,...pa(t.unwrap())]:t instanceof o2?[null,...pa(t.unwrap())]:t instanceof yI||t instanceof _0?pa(t.unwrap()):t instanceof v0?pa(t._def.innerType):[];class C8 extends st{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.object)return _e(n,{code:he.invalid_type,expected:Se.object,received:n.parsedType}),Fe;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(_e(n,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=pa(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new C8({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Je(r)})}}function my(t,e){const n=_o(t),r=_o(e);if(t===e)return{valid:!0,data:t};if(n===Se.object&&r===Se.object){const i=dt.objectKeys(e),s=dt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=my(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===Se.array&&r===Se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=my(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Se.date&&r===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class m0 extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(B7(s)||B7(a))return Fe;const o=my(s.value,a.value);return o.valid?((F7(s)||F7(a))&&n.dirty(),{status:n.value,value:o.data}):(_e(r,{code:he.invalid_intersection_types}),Fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}m0.create=(t,e,n)=>new m0({left:t,right:e,typeName:ze.ZodIntersection,...Je(n)});class i2 extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.array)return _e(r,{code:he.invalid_type,expected:Se.array,received:r.parsedType}),Fe;if(r.data.length<this._def.items.length)return _e(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Hs(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Lr.mergeArray(n,a)):Lr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new i2({...this._def,rest:e})}}i2.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new i2({items:t,typeName:ze.ZodTuple,rest:null,...Je(e)})};class g0 extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return _e(r,{code:he.invalid_type,expected:Se.object,received:r.parsedType}),Fe;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Hs(r,o,r.path,o)),value:a._parse(new Hs(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Lr.mergeObjectAsync(n,i):Lr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof st?new g0({keyType:e,valueType:n,typeName:ze.ZodRecord,...Je(r)}):new g0({keyType:Ds.create(),valueType:e,typeName:ze.ZodRecord,...Je(n)})}}class q7 extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.map)return _e(r,{code:he.invalid_type,expected:Se.map,received:r.parsedType}),Fe;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],l)=>({key:i._parse(new Hs(r,o,r.path,[l,"key"])),value:s._parse(new Hs(r,c,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Fe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Fe;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}q7.create=(t,e,n)=>new q7({valueType:e,keyType:t,typeName:ze.ZodMap,...Je(n)});class nh extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.set)return _e(r,{code:he.invalid_type,expected:Se.set,received:r.parsedType}),Fe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(_e(r,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(_e(r,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Fe;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((c,l)=>s._parse(new Hs(r,c,r.path,l)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new nh({...this._def,minSize:{value:e,message:Oe.toString(n)}})}max(e,n){return new nh({...this._def,maxSize:{value:e,message:Oe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nh.create=(t,e)=>new nh({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...Je(e)});class gy extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gy.create=(t,e)=>new gy({getter:t,typeName:ze.ZodLazy,...Je(e)});class y0 extends st{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return _e(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}y0.create=(t,e)=>new y0({value:t,typeName:ze.ZodLiteral,...Je(e)});function gI(t,e){return new s2({values:t,typeName:ze.ZodEnum,...Je(e)})}class s2 extends st{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{expected:dt.joinValues(r),received:n.parsedType,code:he.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{received:n.data,code:he.invalid_enum_value,options:r}),Fe}return Bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return s2.create(e,{...this._def,...n})}exclude(e,n=this._def){return s2.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}s2.create=gI;class yy extends st{_parse(e){const n=dt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Se.string&&r.parsedType!==Se.number){const i=dt.objectValues(n);return _e(r,{expected:dt.joinValues(i),received:r.parsedType,code:he.invalid_type}),Fe}if(this._cache||(this._cache=new Set(dt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=dt.objectValues(n);return _e(r,{received:r.data,code:he.invalid_enum_value,options:i}),Fe}return Bi(e.data)}get enum(){return this._def.values}}yy.create=(t,e)=>new yy({values:t,typeName:ze.ZodNativeEnum,...Je(e)});class w0 extends st{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Se.promise&&n.common.async===!1)return _e(n,{code:he.invalid_type,expected:Se.promise,received:n.parsedType}),Fe;const r=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return Bi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}w0.create=(t,e)=>new w0({type:t,typeName:ze.ZodPromise,...Je(e)});class a2 extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{_e(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Fe;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?Fe:c.status==="dirty"||n.value==="dirty"?Ju(c.value):c});{if(n.value==="aborted")return Fe;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Fe:o.status==="dirty"||n.value==="dirty"?Ju(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Fe:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Fe:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fl(a))return Fe;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Fl(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):Fe);dt.assertNever(i)}}a2.create=(t,e,n)=>new a2({schema:t,typeName:ze.ZodEffects,effect:e,...Je(n)});a2.createWithPreprocess=(t,e,n)=>new a2({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...Je(n)});class Na extends st{_parse(e){return this._getType(e)===Se.undefined?Bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Na.create=(t,e)=>new Na({innerType:t,typeName:ze.ZodOptional,...Je(e)});class o2 extends st{_parse(e){return this._getType(e)===Se.null?Bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}o2.create=(t,e)=>new o2({innerType:t,typeName:ze.ZodNullable,...Je(e)});class b0 extends st{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}b0.create=(t,e)=>new b0({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class v0 extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return h0(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wa(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}v0.create=(t,e)=>new v0({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class Z7 extends st{_parse(e){if(this._getType(e)!==Se.nan){const r=this._getOrReturnCtx(e);return _e(r,{code:he.invalid_type,expected:Se.nan,received:r.parsedType}),Fe}return{status:"valid",value:e.data}}}Z7.create=t=>new Z7({typeName:ze.ZodNaN,...Je(t)});class yI extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class E8 extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),Ju(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Fe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new E8({in:e,out:n,typeName:ze.ZodPipeline})}}class _0 extends st{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Fl(i)&&(i.value=Object.freeze(i.value)),i);return h0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}_0.create=(t,e)=>new _0({innerType:t,typeName:ze.ZodReadonly,...Je(e)});var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const kt=Ds.create,Ri=n2.create;r2.create;const wI=f0.create,LG=zl.create,Wl=py.create;Zo.create;const W1=Bs.create,$n=on.create,bI=p0.create,SG=C8.create;m0.create;i2.create;const qc=g0.create,IG=y0.create,Xs=s2.create;w0.create;Na.create;o2.create;const TG={string:t=>Ds.create({...t,coerce:!0}),number:t=>n2.create({...t,coerce:!0}),boolean:t=>f0.create({...t,coerce:!0}),bigint:t=>r2.create({...t,coerce:!0}),date:t=>zl.create({...t,coerce:!0})};/*! js-cookie v3.0.5 | MIT */function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var kG={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function wy(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Mf({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in a)a[c]&&(o+="; "+c,a[c]!==!0&&(o+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+o}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var c=s[o].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=t.read(l,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Mf({},s,{expires:-1}))},withAttributes:function(i){return wy(this.converter,Mf({},this.attributes,i))},withConverter:function(i){return wy(Mf({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Jt=wy(kG,{path:"/"});const G7=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let N2="privy:token",E6="privy-token",x6="privy:pat",Nf="privy:refresh_token",A6="privy-refresh-token",D2="privy:id-token",L6="privy-id-token",Df="privy-session",vI=class extends v2{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(N2);try{return typeof e=="string"?new el(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(x6);try{return typeof e=="string"?new el(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Nf);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(D2);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Jt.get(Df);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=el.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await G7([this._storage.del(N2),this._storage.del(Nf),this._storage.del(D2),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Jt.remove(E6),Jt.remove(A6),Jt.remove(L6),Jt.remove(Df),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(N2);if(await this._storage.put(N2,e),!this._isUsingServerCookies){let r=el.parse(e)?.expiration;Jt.set(E6,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(N2);await this._storage.del(N2),Jt.remove(E6),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(x6,e):await this._storage.del(x6)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Nf,e),this._isUsingServerCookies||(Jt.set(Df,"t",{sameSite:"Strict",secure:!0,expires:30}),Jt.set(A6,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Nf),Jt.remove(A6),Jt.remove(Df),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await G7([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(D2);if(await this._storage.put(D2,e),!this._isUsingServerCookies){let r=el.parse(e)?.expiration;Jt.set(L6,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(D2);await this._storage.del(D2),Jt.remove(L6),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Gc(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};vI.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var PG=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function OG(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const jf=()=>{};let to={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const RG=({level:t}={level:"ERROR"})=>({get level(){return t},error:to[t]>=to.ERROR?console.error:jf,warn:to[t]>=to.WARN?console.warn:jf,info:to[t]>=to.INFO?console.info:jf,debug:to[t]>=to.DEBUG?console.debug:jf});let S6="privy:caid",$G=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new gt({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${hU(e.path,n)}${OG(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),c=await a(o),l=await this._fetch(o,c),u=await l.json();if(l.status>299)throw new G3({...u,status:l.status});return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:PG(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Aj,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(S6);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=uy()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(S6,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(S6)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(xj,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new gt({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new G3({code:j7.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage",status:401});try{this.logger.debug(`[privy:refresh] fetching: ${$b.path}`);let i=await this.fetch($b,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&(i.token&&(await this.session.storeCustomerAccessToken(i.token),this.logger.debug("[privy:refresh] token stored (CAT)")),i.privy_access_token&&(await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] token stored (PAT)")),i.identity_token&&(this.logger.debug("[privy:refresh] token stored (IDT)"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),n||this.callbacks?.setUser?.(i.user),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof G3&&i.code===j7.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${uy()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.60.3",this._cache=new Map,this.logger=RG({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new vI({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=fI(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},MG=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(EU,{})}}constructor(e){this._privyInternal=e}};const _I=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",CI=t=>t?t.linked_accounts.filter(_I).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],K7=t=>CI(t).find(e=>e.wallet_index===0)??null,EI=t=>t?t.linked_accounts.filter(_I).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],NG=t=>EI(t).find(e=>e.wallet_index===0)??null,DG=(t,e)=>!(e==="off"||CI(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),jG=(t,e)=>!(e==="off"||EI(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),fs=async(t,e,n)=>{let r=DG(e.user,n?.ethereum?.createOnLogin??"off"),i=jG(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:K7(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:NG(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:K7(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let UG=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(Tj,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await fs(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithToken(e){await this._privyInternal.fetch(kj,{body:{token:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},BG=class{async sendCode(e,n){return this._privyInternal.fetch(Xj,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(Jj,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await fs(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(Qj,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(tU,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(eU,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},FG=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(Pj,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(Mj,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){let o=await this._privyInternal.fetch(Oj,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(o);let c=await fs(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(Rj,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch($j,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},zG=class{async initializeAuth(){return await this._privyInternal.fetch(Nj,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(Dj,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await fs(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},WG=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(jj,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await fs(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const So="privy:state_code",Io="privy:code_verifier";async function VG(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function HG(t){return crypto.getRandomValues(new Uint8Array(t))}function x8(){return Gc(HG(36))}function xI(){return x8()}async function AI({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await VG(t,n);return Gc(r)}}let qG=class{async generateURL(e,n){let r=x8(),i=xI(),s=await AI({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Io,r),this._storage.put(So,i)]),this._privyInternal.fetch(zj,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){let[o,c]=await Promise.all([this._storage.get(Io),this._storage.get(So)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:c??"",returnedStateCode:n??""}),new gt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(Fj,{body:{authorization_code:e,code_type:i,state_code:c,code_verifier:o,mode:s}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await fs(this._embedded,l,a?.embedded);return await Promise.all([this._storage.del(Io),this._storage.del(So)]),this._privyInternal.callbacks?.setUser?.(u.user),u}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(Io),this._storage.get(So)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new gt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(Wj,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let c=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Io),this._storage.del(So)]),{user:c.user,identity_token:c.identity_token}}async unlink(e,n){await this._privyInternal.fetch(Vj,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},ZG=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Yj,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Gj,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Kj,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(qj,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await fs(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(Zj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await fs(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(Hj,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},GG=class{async sendCode(e,n){return this._privyInternal.fetch(rU,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(nU,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await fs(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(iU,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(aU,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(sU,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},KG=class{async unlinkWallet(e){await this._privyInternal.fetch(wU,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(gU,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){let a=n||this._wallet,o=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let c=await this._privyInternal.fetch(mU,{body:{signature:e,message:o,chainId:a.chainId,walletClientType:a.walletClientType??null,connectorType:a.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let l=await fs(this._embedded,c,s?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(dA,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},YG=class{async unlink({address:e}){await this._privyInternal.fetch(CU,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(_U,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){let o=await this._privyInternal.fetch(vU,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let c=await fs(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(bU,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},JG=class{async link(e,n,r,i){await this._privyInternal.fetch(yU,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(dA,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},XG=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(fU,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new UG(this._privyInternal,n),this.phone=new GG(this._privyInternal,n),this.email=new BG(this._privyInternal,n),this.oauth=new qG(this._privyInternal,n,r,i),this.guest=new WG(this._privyInternal,n),this.siwe=new KG(this._privyInternal,n),this.siws=new YG(this._privyInternal,n),this.smartWallet=new JG(this._privyInternal),this.passkey=new ZG(this._privyInternal,n),this.farcaster=new FG(this._privyInternal,n),this.farcasterV2=new zG(this._privyInternal,n)}},QG=class{async initOnRampSession(e){return await this._privyInternal.fetch(Lj,{body:e})}async getStatus(e){return await this._privyInternal.fetch(Sj,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const eK={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let tK=new Set([su.id,Ih.id,kh.id,Ph.id,Th.id,E4.id,A4.id]),nK=new Set([su.id,Ih.id,x4.id,kh.id,Ph.id,Th.id]);function dLe(t,e){switch(e){case"native-currency":return tK.has(t);case"USDC":return nK.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function hLe(t,e){switch(t){case Ih.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Th.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case kh.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case E4.id:return"CELO_CELO";case Ph.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case A4.id:return"MON_MON";case su.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let rK=class{async sign(e){return await this._privyInternal.fetch(xU,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=eK[n?"sandbox":"prod"],s=await fI(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new sB({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},iK=class{constructor(e){this.moonpay=new rK(e),this.coinbase=new QG(e)}},sK=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(Uj,{body:e})}constructor(e){this._privyInternal=e}},aK=class{async sendCode(e){return await this._privyInternal.fetch(Bj,{body:e})}constructor(e){this._privyInternal=e}},oK=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new gt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new gt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new aK(e),this.passkey=new sK(e)}},cK=class{async init(e){return this._privyInternal.fetch(uU,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(dU,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},lK=class{async generateURL(e){let n=x8(),r=xI(),i=await AI({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Io,n),this._storage.put(So,r)]),this._privyInternal.fetch(cU,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Io),this._storage.get(So)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new gt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(lU,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Io),this._storage.del(So)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},uK=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(oU,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new lK(this._privyInternal,n,r),this.icloudAuth=new cK(this._privyInternal)}},dK=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new $G({...n,appClientId:e}),this.mfa=new oK(this._privyInternal),this.mfaPromises=new KZ,this.app=new SU(this._privyInternal),this.embeddedWallet=new GZ(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new MG(this._privyInternal),this.auth=new XG(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new uK(this._privyInternal,n.storage,n.crypto),this.funding=new iK(this._privyInternal),this.delegated=new DU(this._privyInternal),this.crossApp=new pA(this._privyInternal,n.storage)}};function xn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var hK=0;function LI(t){return"__private_"+hK+++"_"+t}var Nt=LI("_wallet"),Qr=LI("_account");let fK=class{get standardWallet(){return xn(this,Nt)[Nt]}get address(){return xn(this,Qr)[Qr].address}async disconnect(){if(!xn(this,Nt)[Nt].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await xn(this,Nt)[Nt].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!xn(this,Nt)[Nt].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await xn(this,Nt)[Nt].features["solana:signMessage"].signMessage(...e.map(r=>({...r,account:xn(this,Qr)[Qr]})));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!xn(this,Nt)[Nt].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await xn(this,Nt)[Nt].features["solana:signTransaction"].signTransaction(...e.map(r=>({...r,account:xn(this,Qr)[Qr]})));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!xn(this,Nt)[Nt].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await xn(this,Nt)[Nt].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(r=>({...r,account:xn(this,Qr)[Qr]})));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!xn(this,Nt)[Nt].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await xn(this,Nt)[Nt].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(n=>({...n,account:xn(this,Qr)[Qr]})))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Nt,{writable:!0,value:void 0}),Object.defineProperty(this,Qr,{writable:!0,value:void 0}),xn(this,Nt)[Nt]=e,xn(this,Qr)[Qr]=n}};const SI=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&t.length===42&&e.length===42&&kn(t)===kn(e);function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var pK=/^\s+/,mK=/\s+$/;function Le(t,e){if(t=t||"",e=e||{},t instanceof Le)return t;if(!(this instanceof Le))return new Le(t,e);var n=gK(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Le.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=II(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Y7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Y7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return X7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return vK(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Vt(this._r,255)*100)+"%",g:Math.round(Vt(this._g,255)*100)+"%",b:Math.round(Vt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Vt(this._r,255)*100)+"%, "+Math.round(Vt(this._g,255)*100)+"%, "+Math.round(Vt(this._b,255)*100)+"%)":"rgba("+Math.round(Vt(this._r,255)*100)+"%, "+Math.round(Vt(this._g,255)*100)+"%, "+Math.round(Vt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:OK[X7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Q7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Le(e);r="#"+Q7(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Le(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(xK,arguments)},brighten:function(){return this._applyModification(AK,arguments)},darken:function(){return this._applyModification(LK,arguments)},desaturate:function(){return this._applyModification(_K,arguments)},saturate:function(){return this._applyModification(CK,arguments)},greyscale:function(){return this._applyModification(EK,arguments)},spin:function(){return this._applyModification(SK,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(kK,arguments)},complement:function(){return this._applyCombination(IK,arguments)},monochromatic:function(){return this._applyCombination(PK,arguments)},splitcomplement:function(){return this._applyCombination(TK,arguments)},triad:function(){return this._applyCombination(e9,[3])},tetrad:function(){return this._applyCombination(e9,[4])}};Le.fromRatio=function(t,e){if(C0(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Xu(t[r]));t=n}return Le(t,e)};function gK(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=NK(t)),C0(t)=="object"&&(sa(t.r)&&sa(t.g)&&sa(t.b)?(e=yK(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):sa(t.h)&&sa(t.s)&&sa(t.v)?(r=Xu(t.s),i=Xu(t.v),e=bK(t.h,r,i),a=!0,o="hsv"):sa(t.h)&&sa(t.s)&&sa(t.l)&&(r=Xu(t.s),s=Xu(t.l),e=wK(t.h,r,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=II(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function yK(t,e,n){return{r:Vt(t,255)*255,g:Vt(e,255)*255,b:Vt(n,255)*255}}function Y7(t,e,n){t=Vt(t,255),e=Vt(e,255),n=Vt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var c=r-i;switch(a=o>.5?c/(2-r-i):c/(r+i),r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,l:o}}function wK(t,e,n){var r,i,s;t=Vt(t,360),e=Vt(e,100),n=Vt(n,100);function a(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=a(c,o,t+1/3),i=a(c,o,t),s=a(c,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function J7(t,e,n){t=Vt(t,255),e=Vt(e,255),n=Vt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=r,c=r-i;if(a=r===0?0:c/r,r==i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:a,v:o}}function bK(t,e,n){t=Vt(t,360)*6,e=Vt(e,100),n=Vt(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),c=r%6,l=[n,a,s,s,o,n][c],u=[o,n,n,a,s,s][c],d=[s,s,o,n,n,a][c];return{r:l*255,g:u*255,b:d*255}}function X7(t,e,n,r){var i=[rs(Math.round(t).toString(16)),rs(Math.round(e).toString(16)),rs(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vK(t,e,n,r,i){var s=[rs(Math.round(t).toString(16)),rs(Math.round(e).toString(16)),rs(Math.round(n).toString(16)),rs(TI(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Q7(t,e,n,r){var i=[rs(TI(r)),rs(Math.round(t).toString(16)),rs(Math.round(e).toString(16)),rs(Math.round(n).toString(16))];return i.join("")}Le.equals=function(t,e){return!t||!e?!1:Le(t).toRgbString()==Le(e).toRgbString()};Le.random=function(){return Le.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _K(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s-=e/100,n.s=V1(n.s),Le(n)}function CK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.s+=e/100,n.s=V1(n.s),Le(n)}function EK(t){return Le(t).desaturate(100)}function xK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l+=e/100,n.l=V1(n.l),Le(n)}function AK(t,e){e=e===0?0:e||10;var n=Le(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Le(n)}function LK(t,e){e=e===0?0:e||10;var n=Le(t).toHsl();return n.l-=e/100,n.l=V1(n.l),Le(n)}function SK(t,e){var n=Le(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Le(n)}function IK(t){var e=Le(t).toHsl();return e.h=(e.h+180)%360,Le(e)}function e9(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Le(t).toHsl(),r=[Le(t)],i=360/e,s=1;s<e;s++)r.push(Le({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function TK(t){var e=Le(t).toHsl(),n=e.h;return[Le(t),Le({h:(n+72)%360,s:e.s,l:e.l}),Le({h:(n+216)%360,s:e.s,l:e.l})]}function kK(t,e,n){e=e||6,n=n||30;var r=Le(t).toHsl(),i=360/n,s=[Le(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Le(r));return s}function PK(t,e){e=e||6;for(var n=Le(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(Le({h:r,s:i,v:s})),s=(s+o)%1;return a}Le.mix=function(t,e,n){n=n===0?0:n||50;var r=Le(t).toRgb(),i=Le(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Le(a)};Le.readability=function(t,e){var n=Le(t),r=Le(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Le.isReadable=function(t,e,n){var r=Le.readability(t,e),i,s;switch(s=!1,i=DK(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Le.mostReadable=function(t,e,n){var r=null,i=0,s,a,o,c;n=n||{},a=n.includeFallbackColors,o=n.level,c=n.size;for(var l=0;l<e.length;l++)s=Le.readability(t,e[l]),s>i&&(i=s,r=Le(e[l]));return Le.isReadable(t,r,{level:o,size:c})||!a?r:(n.includeFallbackColors=!1,Le.mostReadable(t,["#fff","#000"],n))};var by=Le.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},OK=Le.hexNames=RK(by);function RK(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function II(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Vt(t,e){$K(t)&&(t="100%");var n=MK(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function V1(t){return Math.min(1,Math.max(0,t))}function ri(t){return parseInt(t,16)}function $K(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function MK(t){return typeof t=="string"&&t.indexOf("%")!=-1}function rs(t){return t.length==1?"0"+t:""+t}function Xu(t){return t<=1&&(t=t*100+"%"),t}function TI(t){return Math.round(parseFloat(t)*255).toString(16)}function t9(t){return ri(t)/255}var Ki=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function sa(t){return!!Ki.CSS_UNIT.exec(t)}function NK(t){t=t.replace(pK,"").replace(mK,"").toLowerCase();var e=!1;if(by[t])t=by[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ki.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ki.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ki.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ki.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ki.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ki.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ki.hex8.exec(t))?{r:ri(n[1]),g:ri(n[2]),b:ri(n[3]),a:t9(n[4]),format:e?"name":"hex8"}:(n=Ki.hex6.exec(t))?{r:ri(n[1]),g:ri(n[2]),b:ri(n[3]),format:e?"name":"hex"}:(n=Ki.hex4.exec(t))?{r:ri(n[1]+""+n[1]),g:ri(n[2]+""+n[2]),b:ri(n[3]+""+n[3]),a:t9(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ki.hex3.exec(t))?{r:ri(n[1]+""+n[1]),g:ri(n[2]+""+n[2]),b:ri(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function DK(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const vy="https://auth.privy.io",jK=2e4,ELe=1400,xLe=2500,ALe=4e3,UK="3.15.0",Qu="privy:token",n9="privy-token",I6="privy:refresh_token",BK="privy-refresh-token",Sp="privy:pat",r9="privy:id_token",i9="privy-id-token",T6="privy-session",_y="privy:caid",kI=t=>`privy:guest:${t}`,Uf=t=>`privy:cross-app:${t}`,E0="privy:state_code",xu="privy:code_verifier",x0="privy:headless_oauth",fd="privy:oauth_disable_signup",k6=t=>`privy:wallet:${t}`,PI="privy:connections",H1=12e4,LLe=1,s9="0x1",FK=3e4,SLe="https://api.moonpay.com/v1",ILe="https://api.moonpay.com/v1",TLe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",kLe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",zK="deprecated",bo={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let WK=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),a9=t=>WK.has(t),o9=(t,e,n)=>n.indexOf(t)===e;const VK=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(a9).filter(o9):t?t.filter(a9).filter(o9):bo.appearance.walletList;let HK=/paymaster\.biconomy\.io\/api/i,qK={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const ZK=(t,e)=>t&&HK.test(t)?qK:e&&e.policy_id?{policyId:e.policy_id}:void 0;function Bf(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Le({...t.toHsl(),l:n})}function P6(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function GK(t,e){if(!t){let r=e?ed:Ip;return{accent:Le(r.background.interactive),accentLight:Le(r.background.interactive),accentHover:Le(r.background["interactive-hover"]),accentDark:Le(r.background["interactive-clicked"]),accentDarkest:Le(r.background["interactive-disabled"])}}let n=Le(t);return{accent:n,accentLight:Bf(n,.15),accentHover:Bf(n,.3),accentDark:Bf(n,-.06),accentDarkest:Bf(n,-.6)}}function KK({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Le(t).getLuminance(),r=Le(t).toHslString());let i=n?"dark":"light",s=n?ed:Ip,{accent:a,accentLight:o,accentHover:c,accentDark:l,accentDarkest:u}=GK(e,n),d=function(p){let m=Le(Ip.text.default),y=Le(ed.text.default),C=P6(p,m),L=P6(p,y),w=p.toHsl();return w.h>=220&&w.h<=300&&L>=3?ed.text.default:C>L?Ip.text.default:ed.text.default}(a),h=Le(d),f=P6(a,Le(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:o.toHslString(),accentHover:c.toHslString(),accentDark:l.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:h.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?a.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const ed={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Ip={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function OI(t,e,n,r,i){let s,a,o,c,l,u,d,h,f,p,m,y,C,L,w,b,A,_,I=n?console.warn:()=>{},M=[];if(e?.loginMethods)for(let q of(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),c=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),d=e.loginMethods.includes("discord"),m=e.loginMethods.includes("spotify"),y=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),p=e.loginMethods.includes("twitch"),L=e.loginMethods.includes("github"),C=e.loginMethods.includes("linkedin"),w=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),A=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey"),e.loginMethods))typeof q=="string"&&q.startsWith("privy:")&&M.push(q);else s=t.email_auth,a=t.sms_auth,c=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,u=t.twitter_oauth,d=t.discord_oauth,L=t.github_oauth,m=t.spotify_oauth,y=t.instagram_oauth,h=t.tiktok_oauth,f=t.line_oauth,p=t.twitch_oauth,C=t.linkedin_oauth,w=t.apple_oauth,b=t.farcaster_auth,A=t.telegram_auth,o=t.passkey_auth,_=t.custom_jwt_auth;t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let D=[s,a].filter(Boolean),B=[l,u,d,L,m,y,h,f,p,C,w,b,A].filter(Boolean),W=[c].filter(Boolean),P=e?.loginMethods?.includes("passkey")??!1,T=t.passkeys_for_signup_enabled??!1,U=[o&&(T||P)].filter(Boolean),v=[_].filter(Boolean);if(D.length+B.length+W.length+U.length+v.length+M.length===0)throw Error("You must enable at least one login method");let E=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;E&&W.length===0?(I("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),E=!1):E||B.length+D.length!==0||(I("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),E=!0);let O=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&I("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let k=VK({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if((k.includes("wallet_connect_qr")||k.includes("wallet_connect"))&&k.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let $=(({input:q})=>{if(!q||!q.primary[0])return;let Ne=[q.primary[0]],je=[];for(let ce of(q.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),q.primary.slice(1)))Ne.includes(ce)?console.warn(`Duplicated login method: ${ce}`):Ne.push(ce);for(let ce of q.overflow??[])Ne.includes(ce)||je.includes(ce)?console.warn(`Duplicated login method: ${ce}`):je.push(ce);return{primary:Ne,overflow:je}})({input:e?.loginMethodsAndOrder}),j=e?.intl?.defaultCountry??"US",{chains:V,defaultChain:Z}=function({supportedChains:q,defaultChainFromConfig:Ne}){let je;if(q){if(q.length===0)throw Error("`supportedChains` must contain at least one chain");je=_A(q)}else je=[...w1];let ce=q?je[0]:su,Re=Ne??ce;if(!je.find(pe=>pe.id===Re.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:je,defaultChain:Re}}({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),X=!!e?.defaultChain,J=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,ee=J?"all-users":t.embedded_wallet_config.ethereum.create_on_login,ue=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let le=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Ee=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,se=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??bo.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:KK({backgroundTheme:e?.appearance?.theme??bo.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:E?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:k,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:q,solanaWalletAuth:Ne})=>q&&Ne?"ethereum-and-solana":q?"ethereum-only":Ne?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:c,email:s,sms:a,passkey:o,google:l,twitter:u,discord:d,github:L,spotify:m,instagram:y,tiktok:h,line:f,twitch:p,linkedin:C,apple:w,farcaster:b,telegram:A},globalDisablePasskeys:e?.globalDisablePasskeys??!1,customOAuthProviders:(t.custom_oauth_providers??[]).filter(q=>q.enabled!==!1),crossAppProviders:M,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:$,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??bo.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:V,defaultChain:Z,intl:{defaultCountry:j,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:X,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:O},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!J&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:J?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??ee},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??ue},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:J?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:le,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??bo._render.standalone},fundingConfig:Ee,fundingMethodConfig:{...e?.fundingMethodConfig??bo.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??bo.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??bo.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:se?.enabled?{enabled:se.enabled,smartWalletVersion:se.smart_wallet_version,smartWalletType:se.smart_wallet_type,configuredNetworks:se.configured_networks.map(q=>({chainId:q.chain_id,bundlerUrl:q.bundler_url,paymasterUrl:q.paymaster_url,paymasterContext:ZK(q.paymaster_url,q.paymaster_context)}))}:{enabled:se?.enabled??!1},connectorsDebugLogs:e?.connectorsDebugLogs??!1}}const RI={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let A8=R.createContext({appConfig:OI(RI,void 0,!1),isServerConfigLoaded:!1});const YK=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=R.useState(null),o=R.useMemo(()=>OI(s??RI,r,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,r,i]);return R.useEffect(()=>{if(!s)return;let c=function(d){if(!d)return{};let{appearance:h,supportedChains:f,defaultChain:p,externalWallets:m,...y}=d;return{...y,...f?{supportedChains:f.map(C=>C.id)}:void 0,...p?{defaultChain:p.id}:void 0,...m?{walletConnect:m.walletConnect?{enabled:m.walletConnect.enabled}:void 0,coinbaseWallet:m.coinbaseWallet,solana:{connectors:m.solana?.connectors?.get().map(C=>C.walletClientType)}}:void 0}}(r),l=function(d,h=0){let f=3735928559^h,p=1103547991^h;for(let m,y=0;y<d.length;y++)f=Math.imul(f^(m=d.charCodeAt(y)),2654435761),p=Math.imul(p^m,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),4294967296*(2097151&(p=Math.imul(p^p>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)}(JSON.stringify(c)).toString(),u=`privy:sent:${s.id}:${l}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:c}),localStorage.setItem(u,"t"))},[r,s]),R.useEffect(()=>{s||(async()=>{try{await e.initialize();let c=e.app.getConfig();c.custom_api_url&&n.updateApiUrl(c.custom_api_url),a(c)}catch(c){console.warn("Error generating app config: ",c)}})()},[]),g.jsx(A8.Provider,{value:{appConfig:o,isServerConfigLoaded:!!s},children:t})},pi=()=>{let{appConfig:t}=R.useContext(A8);return t},$I=()=>{let{isServerConfigLoaded:t}=R.useContext(A8);return t},JK=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,XK=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,QK=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function eY(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){tY(t);return}return e}function tY(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function td(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!QK.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(JK.test(t)||XK.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,eY)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const nY=/#/g,rY=/&/g,iY=/\//g,sY=/=/g,L8=/\+/g,aY=/%5e/gi,oY=/%60/gi,cY=/%7c/gi,lY=/%20/gi;function uY(t){return encodeURI(""+t).replace(cY,"|")}function Cy(t){return uY(typeof t=="string"?t:JSON.stringify(t)).replace(L8,"%2B").replace(lY,"+").replace(nY,"%23").replace(rY,"%26").replace(oY,"`").replace(aY,"^").replace(iY,"%2F")}function O6(t){return Cy(t).replace(sY,"%3D")}function MI(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function dY(t){return MI(t.replace(L8," "))}function hY(t){return MI(t.replace(L8," "))}function fY(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=dY(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=hY(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function pY(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${O6(t)}=${Cy(n)}`).join("&"):`${O6(t)}=${Cy(e)}`:O6(t)}function mY(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>pY(e,t[e])).filter(Boolean).join("&")}const gY=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,yY=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,wY=/^([/\\]\s*){2,}[^/\\]/,bY=/^\.?\//;function NI(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?gY.test(t):yY.test(t)||(e.acceptRelative?wY.test(t):!1)}function vY(t="",e){return t.endsWith("/")}function _Y(t="",e){return(vY(t)?t.slice(0,-1):t)||"/"}function CY(t="",e){return t.endsWith("/")?t:t+"/"}function EY(t,e){if(AY(e)||NI(t))return t;const n=_Y(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return SY(n,t)}function xY(t,e){const n=IY(t),r={...fY(n.search),...e};return n.search=mY(r),TY(n)}function AY(t){return!t||t==="/"}function LY(t){return t&&t!=="/"}function SY(t,...e){let n=t||"";for(const r of e.filter(i=>LY(i)))if(n){const i=r.replace(bY,"");n=CY(n)+i}else n=r;return n}const DI=Symbol.for("ufo:protocolRelative");function IY(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,h=""]=n;return{protocol:d.toLowerCase(),pathname:h,href:d+h,auth:"",host:"",search:"",hash:""}}if(!NI(t,{acceptRelative:!0}))return c9(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=c9(o);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:c,search:l,hash:u,[DI]:!r}}function c9(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function TY(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[DI]?(t.protocol||"")+"//":"")+i+s+e+n+r}class jI extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function kY(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,o=new jI(a,t.error?{cause:t.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(o,c,{get(){return t[c]}});for(const[c,l]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,c,{get(){return t.response&&t.response[l]}});return o}const PY=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function l9(t="GET"){return PY.has(t.toUpperCase())}function OY(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const RY=new Set(["image/svg","application/xml","application/xhtml","application/html"]),$Y=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function MY(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return $Y.test(e)?"json":e==="text/event-stream"?"stream":RY.has(e)||e.startsWith("text/")?"text":"blob"}function NY(t,e,n,r){const i=DY(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function DY(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function Ff(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const jY=new Set([408,409,425,429,500,502,503,504]),UY=new Set([101,204,205,304]);function UI(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(o){const c=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!c){let u;typeof o.options.retry=="number"?u=o.options.retry:u=l9(o.options.method)?0:1;const d=o.response&&o.response.status||500;if(u>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(d):jY.has(d))){const h=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return h>0&&await new Promise(f=>setTimeout(f,h)),s(o.request,{...o.options,retry:u-1})}}const l=kY(o);throw Error.captureStackTrace&&Error.captureStackTrace(l,s),l}const s=async function(c,l={}){const u={request:c,options:NY(c,l,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await Ff(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=EY(u.request,u.options.baseURL)),u.options.query&&(u.request=xY(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&l9(u.options.method))if(OY(u.options.body)){const f=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),f||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const f=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,f.abort(p)},u.options.timeout),u.options.signal=f.signal}try{u.response=await e(u.request,u.options)}catch(f){return u.error=f,u.options.onRequestError&&await Ff(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!UY.has(u.response.status)&&u.options.method!=="HEAD"){const f=(u.options.parseResponse?"json":u.options.responseType)||MY(u.response.headers.get("content-type")||"");switch(f){case"json":{const p=await u.response.text(),m=u.options.parseResponse||td;u.response._data=m(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[f]()}}return u.options.onResponse&&await Ff(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Ff(u,u.options.onResponseError),await i(u)):u.response},a=async function(c,l){return(await s(c,l))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={},c={})=>UI({...t,...c,defaults:{...t.defaults,...c.defaults,...o}}),a}const A0=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}(),BY=A0.fetch?(...t)=>A0.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),FY=A0.Headers,zY=A0.AbortController,WY=UI({fetch:BY,Headers:FY,AbortController:zY});var De;let Qo=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},L0=class extends Qo{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},G=class extends Qo{constructor(e,n,r){super(e,n,r),this.type="client_error"}},VY=class extends G{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Ft=class extends Qo{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const lt=t=>{if(t instanceof Qo)return t;if(!(t instanceof jI))return Wt(t);if(!t.response)return new L0("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new L0(e||"ApiError",t.response.status,n||r,t,i,t.data)},Wt=t=>t instanceof Qo?t:t instanceof Error?new G(t.message,t):new G(`Internal error: ${t}`);var ne=((De={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",De.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",De.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",De.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",De.INVALID_DATA="invalid_data",De.INVALID_CAPTCHA="invalid_captcha",De.LINKED_TO_ANOTHER_USER="linked_to_another_user",De.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",De.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",De.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",De.USER_EXITED_UPDATE_FLOW="exited_update_flow",De.ALLOWLIST_REJECTED="allowlist_rejected",De.OAUTH_USER_DENIED="oauth_user_denied",De.OAUTH_UNEXPECTED="oauth_unexpected",De.UNKNOWN_AUTH_ERROR="unknown_auth_error",De.USER_EXITED_AUTH_FLOW="exited_auth_flow",De.USER_EXITED_LINK_FLOW="exited_link_flow",De.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",De.MUST_BE_AUTHENTICATED="must_be_authenticated",De.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",De.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",De.CLIENT_REQUEST_TIMEOUT="client_request_timeout",De.INVALID_CREDENTIALS="invalid_credentials",De.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",De.UNKNOWN_MFA_ERROR="unknown_mfa_error",De.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",De.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",De.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",De.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",De.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",De.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",De.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",De.TRANSACTION_FAILURE="transaction_failure",De.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",De.NOT_SUPPORTED="not_supported",De.CAPTCHA_TIMEOUT="captcha_timeout",De.INVALID_MESSAGE="invalid_message",De.UNABLE_TO_SIGN="unable_to_sign",De.CAPTCHA_FAILURE="captcha_failure",De.CAPTCHA_DISABLED="captcha_disabled",De.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",De.TOO_MANY_REQUESTS="too_many_requests",De.USER_LIMIT_REACHED="max_accounts_reached",De.DISALLOWED_LOGIN_METHOD="disallowed_login_method",De.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",De.PASSKEY_NOT_ALLOWED="passkey_not_allowed",De.USER_DOES_NOT_EXIST="user_does_not_exist",De.INSUFFICIENT_BALANCE="insufficient_balance",De.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",De.BUFFER_NOT_DEFINED="buffer_not_defined",De.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",De.NO_SOLANA_ACCOUNTS="no_solana_accounts",De.UNKNOWN_FUNDING_ERROR="unknown_funding_error",De);let fc=class extends G{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},DLe=class extends G{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},ULe=class extends G{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},FLe=class extends G{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},u9=class extends Ft{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const Y=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},VLe=t=>()=>{throw Error(t.trim())},BI=()=>{},FI=R.createContext({setAuthenticated:Y,setUser:Y,setIsNewUser:Y,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:Y,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:Y,initializeWalletProxy:Y,getAuthMeta:Y,getAuthFlow:Y,closePrivyModal:Y,openPrivyModal:Y,connectWallet:Y,initLoginWithWallet:Y,loginWithWallet:Y,initLoginWithFarcaster:Y,loginWithFarcaster:Y,loginWithCode:Y,initLoginWithEmail:Y,initLoginWithSms:Y,initUpdateEmail:Y,initUpdatePhone:Y,resendEmailCode:Y,resendSmsCode:Y,initLoginWithHeadlessOAuth:Y,loginWithHeadlessOAuth:Y,crossAppAuthFlow:Y,initLoginWithOAuth:Y,loginWithOAuth:Y,passkeyAuthState:{status:"initial"},setPasskeyAuthState:Y,initSignupWithPasskey:Y,signupWithPasskey:Y,initLoginWithPasskey:Y,loginWithPasskey:Y,initLinkWithPasskey:Y,linkWithPasskey:Y,refreshSessionAndUser:Y,walletProxy:null,createAnalyticsEvent:Y,acceptTerms:Y,getUsdTokenPrice:Y,getUsdPriceForSol:Y,getSplTokenMetadata:Y,recoverEmbeddedWallet:Y,updateWallets:Y,fundWallet:Y,openModal:Y,setReadyToTrue:Y,requestFarcasterSignerStatus:Y,initLoginWithTelegram:Y,loginWithTelegram:Y,generateSiweMessage:Y,generateSiweMessageForSmartWallet:Y,loginWithSiwe:Y,linkWithSiwe:Y,linkSmartWallet:Y,delegateWallet:Y,revokeDelegatedWallets:Y,connectCoinbaseSmartWallet:Y,connectBaseAccount:Y,initiateAccountTransfer:Y,emailOtpState:{status:"initial"},setEmailOtpState:Y,smsOtpState:{status:"initial"},setSmsOtpState:Y,siweState:{status:"initial"},setSiweState:Y,oAuthState:{status:"initial"},setOAuthState:Y,telegramAuthState:{status:"initial"},setTelegramAuthState:Y,isHeadlessOAuthLoading:!1,isHeadlessSigning:Y,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:Y}),Ya=()=>R.useContext(FI);function zI(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function He(t){return t?new Date(1e3*t):null}function jn(t,e){return t.slice().sort((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0)).find(n=>n.type===e)}const Mo=t=>t?WI(t).find(e=>e.walletIndex===0)??null:null,WI=t=>t?VI(t,"ethereum"):[],VI=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),HY=t=>t?VI(t,"solana"):[],S8=t=>t?HY(t).find(e=>e.walletIndex===0)??null:null,Ey=t=>(t?.linkedAccounts??[]).filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"),qY=t=>(t?.linkedAccounts??[]).filter(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"),il=(t,e)=>t?.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&SI(n.address,e))||null,R6=(t,e)=>t.find(n=>SI(n.address,e))||null,rh=t=>Mo(t)??S8(t);function Hn(t){if(!t)return null;let e=function(b){let A=[];for(let _ of b){let I=_.type;switch(_.type){case"wallet":let M={id:_.id,address:_.address,type:_.type,imported:_.imported,delegated:_.delegated,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at),chainType:_.chain_type,walletClientType:_.wallet_client_type,connectorType:_.connector_type,recoveryMethod:_.recovery_method,walletIndex:_.wallet_index,publicKey:_.public_key};A.push(M);break;case"smart_wallet":let D={address:_.address,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at),smartWalletType:_.smart_wallet_type,smartWalletVersion:_.smart_wallet_version};A.push(D);break;case"cross_app":let B={type:_.type,subject:_.subject,embeddedWallets:_.embedded_wallets,smartWallets:_.smart_wallets,providerApp:{id:_.provider_app_id},firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(B);break;case"email":let W={address:_.address,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(W);break;case"phone":let P={number:_.phoneNumber,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(P);break;case"google_oauth":let T={subject:_.subject,email:_.email,name:_.name,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(T);break;case"spotify_oauth":let U={subject:_.subject,email:_.email,name:_.name,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(U);break;case"instagram_oauth":let v={subject:_.subject,username:_.username,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(v);break;case"twitter_oauth":let E={subject:_.subject,username:_.username,name:_.name,type:_.type,profilePictureUrl:_.profile_picture_url,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(E);break;case"discord_oauth":let O={subject:_.subject,username:_.username,email:_.email,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(O);break;case"github_oauth":let k={subject:_.subject,username:_.username,name:_.name,email:_.email,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(k);break;case"tiktok_oauth":let $={subject:_.subject,username:_.username,name:_.name,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push($);break;case"line_oauth":let j={subject:_.subject,name:_.name,email:_.email,profilePictureUrl:_.profile_picture_url,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(j);break;case"twitch_oauth":let V={subject:_.subject,username:_.username,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(V);break;case"linkedin_oauth":let Z={subject:_.subject,name:_.name,email:_.email,vanityName:_.vanity_name,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(Z);break;case"apple_oauth":let X={subject:_.subject,email:_.email,type:_.type,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(X);break;case"custom_auth":A.push({type:_.type,customUserId:_.custom_user_id,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)});break;case"farcaster":let J={type:_.type,fid:_.fid,ownerAddress:_.owner_address,displayName:_.display_name,username:_.username,bio:_.bio,pfp:_.profile_picture_url,url:_.homepage_url,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at),signerPublicKey:_.signer_public_key};A.push(J);break;case"passkey":let ee={type:_.type,enrolledInMfa:_.enrolled_in_mfa,credentialId:_.credential_id,publicKey:_.public_key,authenticatorName:_.authenticator_name,createdWithDevice:_.created_with_device,createdWithOs:_.created_with_os,createdWithBrowser:_.created_with_browser,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(ee);break;case"telegram":let ue={type:_.type,telegramUserId:_.telegram_user_id,firstName:_.first_name,lastName:_.last_name,username:_.username,photoUrl:_.photo_url,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(ue);break;default:if(zI(_.type)){let le={type:_.type,subject:_.subject,name:_.name,username:_.username,email:_.email,profilePictureUrl:_.profile_picture_url,firstVerifiedAt:He(_.first_verified_at),latestVerifiedAt:He(_.latest_verified_at)};A.push(le);break}console.warn(`Unrecognized account type: ${I}. Please consider upgrading the Privy SDK.`)}}return A}(t.linked_accounts),n=jn(e,"wallet"),r=jn(e,"smart_wallet"),i=jn(e,"email"),s=jn(e,"phone"),a=jn(e,"google_oauth"),o=jn(e,"twitter_oauth"),c=jn(e,"discord_oauth"),l=jn(e,"github_oauth"),u=jn(e,"spotify_oauth"),d=jn(e,"instagram_oauth"),h=jn(e,"tiktok_oauth"),f=jn(e,"line_oauth"),p=jn(e,"twitch_oauth"),m=jn(e,"linkedin_oauth"),y=jn(e,"apple_oauth"),C=jn(e,"farcaster"),L=jn(e,"telegram"),w=t.mfa_methods.map(({type:b,verified_at:A})=>({type:b,verifiedAt:He(A)}));return{id:t.id,createdAt:He(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:l&&{subject:l.subject,username:l.username,name:l.name,email:l.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:d&&{subject:d.subject,username:d.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},twitch:p&&{subject:p.subject,username:p.username},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:y&&{subject:y.subject,email:y.email},farcaster:C&&{fid:C.fid,ownerAddress:C.ownerAddress,displayName:C.displayName,username:C.username,bio:C.bio,pfp:C.pfp,url:C.url,signerPublicKey:C.signerPublicKey},telegram:L&&{telegramUserId:L.telegramUserId,firstName:L.firstName,lastName:L.lastName,username:L.username,photoUrl:L.photoUrl},delegatedWallets:[],mfaMethods:w.map(b=>b.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function ZY({src:t,...e}){return g.jsx("img",{src:t,...e,style:{display:"none"}})}const HI=R.createContext({currentScreen:null,lastScreen:null,navigate:Y,navigateBack:Y,resetNavigation:Y,setModalData:Y,onUserCloseViaDialogOrKeybindRef:void 0}),GY=t=>{let e=pi(),[n,r]=R.useState(t.initialScreen),i=R.useRef(null);R.useEffect(()=>{t.open||(i.current=null)},[t.open]),R.useEffect(()=>{i.current=null},[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,o=!0)=>{t.setInitialScreen(a),o&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return g.jsxs(HI.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&g.jsx(ZY,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Vl=()=>R.useContext(HI),_2=R.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:Y,login:Y,connectOrCreateWallet:Y,linkEmail:Y,linkPhone:Y,linkFarcaster:Y,linkWallet:Y,startCrossAppAuthFlow:Y,linkGoogle:Y,linkTwitter:Y,linkTwitch:Y,linkDiscord:Y,linkGithub:Y,linkSpotify:Y,linkInstagram:Y,linkTelegram:Y,linkTiktok:Y,linkLine:Y,linkLinkedIn:Y,linkApple:Y,linkPasskey:Y,updateEmail:Y,updatePhone:Y,logout:Y,getAccessToken:Y,unlinkEmail:Y,unlinkPhone:Y,unlinkWallet:Y,unlinkGoogle:Y,unlinkTwitter:Y,unlinkTwitch:Y,unlinkDiscord:Y,unlinkGithub:Y,unlinkSpotify:Y,unlinkInstagram:Y,unlinkTiktok:Y,unlinkLine:Y,unlinkLinkedIn:Y,unlinkApple:Y,unlinkCrossAppAccount:Y,unlinkFarcaster:Y,unlinkTelegram:Y,unlinkPasskey:Y,signMessage:Y,signTypedData:Y,enrollInMfa:Y,initEnrollmentWithSms:Y,initEnrollmentWithTotp:Y,initEnrollmentWithPasskey:Y,promptMfa:Y,init:Y,submitEnrollmentWithSms:Y,submitEnrollmentWithTotp:Y,submitEnrollmentWithPasskey:Y,unenroll:Y,submit:Y,cancel:Y,sendTransaction:Y,signTransaction:Y,setWalletPassword:Y,setWalletRecovery:Y,requestFarcasterSignerFromWarpcast:Y,getFarcasterSignerPublicKey:Y,signFarcasterMessage:Y,signMessageWithCrossAppWallet:Y,signTypedDataWithCrossAppWallet:Y,sendTransactionWithCrossAppWallet:Y,signTransactionWithCrossAppWallet:Y,isModalOpen:!1,mfaMethods:[]}),hu=()=>R.useContext(_2),si=t=>!!t.id&&t.recoveryMethod==="privy-v2",d9=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,o);return o},KY=t=>t?d9(t):d9,YY=t=>t;function JY(t,e=YY){const n=Te.useSyncExternalStore(t.subscribe,Te.useCallback(()=>e(t.getState()),[t,e]),Te.useCallback(()=>e(t.getInitialState()),[t,e]));return Te.useDebugValue(n),n}const h9=t=>{const e=KY(t),n=r=>JY(e,r);return Object.assign(n,e),n},ec=t=>t?h9(t):h9;var or=function(){return or=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},or.apply(this,arguments)};function Hl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Dt="-ms-",pd="-moz-",wt="-webkit-",qI="comm",q1="rule",I8="decl",XY="@import",QY="@namespace",ZI="@keyframes",eJ="@layer",GI=Math.abs,T8=String.fromCharCode,xy=Object.assign;function tJ(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function KI(t){return t.trim()}function ya(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,n){return t.replace(e,n)}function Tp(t,e,n){return t.indexOf(e,n)}function wn(t,e){return t.charCodeAt(e)|0}function c2(t,e,n){return t.slice(e,n)}function Qi(t){return t.length}function YI(t){return t.length}function nd(t,e){return e.push(t),t}function nJ(t,e){return t.map(e).join("")}function f9(t,e){return t.filter(function(n){return!ya(n,e)})}var Z1=1,ql=1,JI=0,Ni=0,un=0,fu="";function G1(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Z1,column:ql,length:a,return:"",siblings:o}}function vo(t,e){return xy(G1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function j2(t){for(;t.root;)t=vo(t.root,{children:[t]});nd(t,t.siblings)}function rJ(){return un}function iJ(){return un=Ni>0?wn(fu,--Ni):0,ql--,un===10&&(ql=1,Z1--),un}function as(){return un=Ni<JI?wn(fu,Ni++):0,ql++,un===10&&(ql=1,Z1++),un}function No(){return wn(fu,Ni)}function kp(){return Ni}function K1(t,e){return c2(fu,t,e)}function ih(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sJ(t){return Z1=ql=1,JI=Qi(fu=t),Ni=0,[]}function aJ(t){return fu="",t}function $6(t){return KI(K1(Ni-1,Ay(t===91?t+2:t===40?t+1:t)))}function oJ(t){for(;(un=No())&&un<33;)as();return ih(t)>2||ih(un)>3?"":" "}function cJ(t,e){for(;--e&&as()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return K1(t,kp()+(e<6&&No()==32&&as()==32))}function Ay(t){for(;as();)switch(un){case t:return Ni;case 34:case 39:t!==34&&t!==39&&Ay(un);break;case 40:t===41&&Ay(t);break;case 92:as();break}return Ni}function lJ(t,e){for(;as()&&t+un!==57;)if(t+un===84&&No()===47)break;return"/*"+K1(e,Ni-1)+"*"+T8(t===47?t:as())}function uJ(t){for(;!ih(No());)as();return K1(t,Ni)}function dJ(t){return aJ(Pp("",null,null,null,[""],t=sJ(t),0,[0],t))}function Pp(t,e,n,r,i,s,a,o,c){for(var l=0,u=0,d=a,h=0,f=0,p=0,m=1,y=1,C=1,L=0,w="",b=i,A=s,_=r,I=w;y;)switch(p=L,L=as()){case 40:if(p!=108&&wn(I,d-1)==58){Tp(I+=tt($6(L),"&","&\f"),"&\f",GI(l?o[l-1]:0))!=-1&&(C=-1);break}case 34:case 39:case 91:I+=$6(L);break;case 9:case 10:case 13:case 32:I+=oJ(p);break;case 92:I+=cJ(kp()-1,7);continue;case 47:switch(No()){case 42:case 47:nd(hJ(lJ(as(),kp()),e,n,c),c),(ih(p||1)==5||ih(No()||1)==5)&&Qi(I)&&c2(I,-1,void 0)!==" "&&(I+=" ");break;default:I+="/"}break;case 123*m:o[l++]=Qi(I)*C;case 125*m:case 59:case 0:switch(L){case 0:case 125:y=0;case 59+u:C==-1&&(I=tt(I,/\f/g,"")),f>0&&(Qi(I)-d||m===0&&p===47)&&nd(f>32?m9(I+";",r,n,d-1,c):m9(tt(I," ","")+";",r,n,d-2,c),c);break;case 59:I+=";";default:if(nd(_=p9(I,e,n,l,u,i,o,w,b=[],A=[],d,s),s),L===123)if(u===0)Pp(I,e,_,_,b,s,d,o,A);else{switch(h){case 99:if(wn(I,3)===110)break;case 108:if(wn(I,2)===97)break;default:u=0;case 100:case 109:case 115:}u?Pp(t,_,_,r&&nd(p9(t,_,_,0,0,i,o,w,i,b=[],d,A),A),i,A,d,o,r?b:A):Pp(I,_,_,_,[""],A,0,o,A)}}l=u=f=0,m=C=1,w=I="",d=a;break;case 58:d=1+Qi(I),f=p;default:if(m<1){if(L==123)--m;else if(L==125&&m++==0&&iJ()==125)continue}switch(I+=T8(L),L*m){case 38:C=u>0?1:(I+="\f",-1);break;case 44:o[l++]=(Qi(I)-1)*C,C=1;break;case 64:No()===45&&(I+=$6(as())),h=No(),u=d=Qi(w=I+=uJ(kp())),L++;break;case 45:p===45&&Qi(I)==2&&(m=0)}}return s}function p9(t,e,n,r,i,s,a,o,c,l,u,d){for(var h=i-1,f=i===0?s:[""],p=YI(f),m=0,y=0,C=0;m<r;++m)for(var L=0,w=c2(t,h+1,h=GI(y=a[m])),b=t;L<p;++L)(b=KI(y>0?f[L]+" "+w:tt(w,/&\f/g,f[L])))&&(c[C++]=b);return G1(t,e,n,i===0?q1:o,c,l,u,d)}function hJ(t,e,n,r){return G1(t,e,n,qI,T8(rJ()),c2(t,2,-2),0,r)}function m9(t,e,n,r,i){return G1(t,e,n,I8,c2(t,0,r),c2(t,r+1,-1),r,i)}function XI(t,e,n){switch(tJ(t,e)){case 5103:return wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return wt+t+t;case 4855:return wt+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return pd+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+t+pd+t+Dt+t+t;case 5936:switch(wn(t,e+11)){case 114:return wt+t+Dt+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return wt+t+Dt+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return wt+t+Dt+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return wt+t+Dt+t+t;case 6165:return wt+t+Dt+"flex-"+t+t;case 5187:return wt+t+tt(t,/(\w+).+(:[^]+)/,wt+"box-$1$2"+Dt+"flex-$1$2")+t;case 5443:return wt+t+Dt+"flex-item-"+tt(t,/flex-|-self/g,"")+(ya(t,/flex-|baseline/)?"":Dt+"grid-row-"+tt(t,/flex-|-self/g,""))+t;case 4675:return wt+t+Dt+"flex-line-pack"+tt(t,/align-content|flex-|-self/g,"")+t;case 5548:return wt+t+Dt+tt(t,"shrink","negative")+t;case 5292:return wt+t+Dt+tt(t,"basis","preferred-size")+t;case 6060:return wt+"box-"+tt(t,"-grow","")+wt+t+Dt+tt(t,"grow","positive")+t;case 4554:return wt+tt(t,/([^-])(transform)/g,"$1"+wt+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+Dt+"flex-pack:$3"),/space-between/,"justify")+wt+t+t;case 4200:if(!ya(t,/flex-|baseline/))return Dt+"grid-column-align"+c2(t,e)+t;break;case 2592:case 3360:return Dt+tt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ya(r.props,/grid-\w+-end/)})?~Tp(t+(n=n[e].value),"span",0)?t:Dt+tt(t,"-start","")+t+Dt+"grid-row-span:"+(~Tp(n,"span",0)?ya(n,/\d+/):+ya(n,/\d+/)-+ya(t,/\d+/))+";":Dt+tt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ya(r.props,/grid-\w+-start/)})?t:Dt+tt(tt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qi(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+pd+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Tp(t,"stretch",0)?XI(tt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return tt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,o,c,l){return Dt+i+":"+s+l+(a?Dt+i+"-span:"+(o?c:+c-+s)+l:"")+t});case 4949:if(wn(t,e+6)===121)return tt(t,":",":"+wt)+t;break;case 6444:switch(wn(t,wn(t,14)===45?18:11)){case 120:return tt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+wt+(wn(t,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+Dt+"$2box$3")+t;case 100:return tt(t,":",":"+Dt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return tt(t,"scroll-","scroll-snap-")+t}return t}function S0(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function fJ(t,e,n,r){switch(t.type){case eJ:if(t.children.length)break;case XY:case QY:case I8:return t.return=t.return||t.value;case qI:return"";case ZI:return t.return=t.value+"{"+S0(t.children,r)+"}";case q1:if(!Qi(t.value=t.props.join(",")))return""}return Qi(n=S0(t.children,r))?t.return=t.value+"{"+n+"}":""}function pJ(t){var e=YI(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function mJ(t){return function(e){e.root||(e=e.return)&&t(e)}}function gJ(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case I8:t.return=XI(t.value,t.length,n);return;case ZI:return S0([vo(t,{value:tt(t.value,"@","@"+wt)})],r);case q1:if(t.length)return nJ(n=t.props,function(i){switch(ya(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":j2(vo(t,{props:[tt(i,/:(read-\w+)/,":"+pd+"$1")]})),j2(vo(t,{props:[i]})),xy(t,{props:f9(n,r)});break;case"::placeholder":j2(vo(t,{props:[tt(i,/:(plac\w+)/,":"+wt+"input-$1")]})),j2(vo(t,{props:[tt(i,/:(plac\w+)/,":"+pd+"$1")]})),j2(vo(t,{props:[tt(i,/:(plac\w+)/,Dt+"input-$1")]})),j2(vo(t,{props:[i]})),xy(t,{props:f9(n,r)});break}return""})}}var yJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ai={},Zl=typeof process<"u"&&ai!==void 0&&(ai.REACT_APP_SC_ATTR||ai.SC_ATTR)||"data-styled",QI="active",eT="data-styled-version",Y1="6.3.11",k8=`/*!sc*/
`,md=typeof window<"u"&&typeof document<"u",wJ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ai!==void 0&&ai.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ai.REACT_APP_SC_DISABLE_SPEEDY!==""?ai.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ai.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ai!==void 0&&ai.SC_DISABLE_SPEEDY!==void 0&&ai.SC_DISABLE_SPEEDY!==""&&ai.SC_DISABLE_SPEEDY!=="false"&&ai.SC_DISABLE_SPEEDY),bJ={};function Jh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Op=new Map,I0=new Map,Rp=1,rd=function(t){if(Op.has(t))return Op.get(t);for(;I0.has(Rp);)Rp++;var e=Rp++;return Op.set(t,e),I0.set(e,t),e},vJ=function(t,e){Rp=e+1,Op.set(t,e),I0.set(e,t)},P8=Object.freeze([]),Gl=Object.freeze({});function tT(t,e,n){return n===void 0&&(n=Gl),t.theme!==n.theme&&t.theme||e||n.theme}var nT=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),_J=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,CJ=/(^-|-$)/g;function g9(t){return t.replace(_J,"-").replace(CJ,"")}var EJ=/(a)(d)/gi,y9=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ly(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=y9(e%52)+n;return(y9(e%52)+n).replace(EJ,"$1-$2")}var M6,xc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},rT=function(t){return xc(5381,t)};function O8(t){return Ly(rT(t)>>>0)}function xJ(t){return t.displayName||t.name||"Component"}function N6(t){return typeof t=="string"&&!0}var iT=typeof Symbol=="function"&&Symbol.for,sT=iT?Symbol.for("react.memo"):60115,AJ=iT?Symbol.for("react.forward_ref"):60112,LJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},SJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IJ=((M6={})[AJ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M6[sT]=aT,M6);function w9(t){return("type"in(e=t)&&e.type.$$typeof)===sT?aT:"$$typeof"in t?IJ[t.$$typeof]:LJ;var e}var TJ=Object.defineProperty,kJ=Object.getOwnPropertyNames,b9=Object.getOwnPropertySymbols,PJ=Object.getOwnPropertyDescriptor,OJ=Object.getPrototypeOf,v9=Object.prototype;function oT(t,e,n){if(typeof e!="string"){if(v9){var r=OJ(e);r&&r!==v9&&oT(t,r,n)}var i=kJ(e);b9&&(i=i.concat(b9(e)));for(var s=w9(t),a=w9(e),o=0;o<i.length;++o){var c=i[o];if(!(c in SJ||n&&n[c]||a&&c in a||s&&c in s)){var l=PJ(e,c);try{TJ(t,c,l)}catch{}}}}return t}function Kl(t){return typeof t=="function"}function R8(t){return typeof t=="object"&&"styledComponentId"in t}function Mc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function T0(t,e){return t.join("")}function sh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Sy(t,e,n){if(n===void 0&&(n=!1),!n&&!sh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Sy(t[r],e[r]);else if(sh(e))for(var r in e)t[r]=Sy(t[r],e[r]);return t}function $8(t,e){Object.defineProperty(t,"toString",{value:e})}var RJ=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e,this._cGroup=0,this._cIndex=0}return t.prototype.indexOfGroup=function(e){if(e===this._cGroup)return this._cIndex;var n=this._cIndex;if(e>this._cGroup)for(var r=this._cGroup;r<e;r++)n+=this.groupSizes[r];else for(r=this._cGroup-1;r>=e;r--)n-=this.groupSizes[r];return this._cGroup=e,this._cIndex=n,n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Jh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),c=0,l=(a=0,n.length);a<l;a++)this.tag.insertRule(o,n[a])&&(this.groupSizes[e]++,o++,c++);c>0&&this._cGroup>e&&(this._cIndex+=c)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r);n>0&&this._cGroup>e&&(this._cIndex-=n)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+=this.tag.getRule(a)+k8;return n},t}(),$J="style[".concat(Zl,"][").concat(eT,'="').concat(Y1,'"]'),MJ=new RegExp("^".concat(Zl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_9=function(t){return typeof ShadowRoot<"u"&&t instanceof ShadowRoot||"host"in t&&t.nodeType===11},Iy=function(t){if(!t)return document;if(_9(t))return t;if("getRootNode"in t){var e=t.getRootNode();if(_9(e))return e}return document},NJ=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},DJ=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(k8),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var c=o.match(MJ);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&(vJ(u,l),NJ(t,u,c[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(o)}}},D6=function(t){for(var e=Iy(t.options.target).querySelectorAll($J),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Zl)!==QI&&(DJ(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function jJ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cT=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(o){var c=Array.from(o.querySelectorAll("style[".concat(Zl,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Zl,QI),r.setAttribute(eT,Y1);var a=jJ();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},UJ=function(){function t(e){this.element=cT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){var r;if(n.sheet)return n.sheet;for(var i=(r=n.getRootNode().styleSheets)!==null&&r!==void 0?r:document.styleSheets,s=0,a=i.length;s<a;s++){var o=i[s];if(o.ownerNode===n)return o}throw Jh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),BJ=function(){function t(e){this.element=cT(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),FJ=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(e===this.length?this.rules.push(n):this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),C9=md,zJ={isServer:!md,useCSSOMInjection:!wJ},k0=function(){function t(e,n,r){e===void 0&&(e=Gl),n===void 0&&(n={});var i=this;this.options=or(or({},zJ),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&md&&C9&&(C9=!1,D6(this)),$8(this,function(){return function(s){for(var a=s.getTag(),o=a.length,c="",l=function(d){var h=function(C){return I0.get(C)}(d);if(h===void 0)return"continue";var f=s.names.get(h);if(f===void 0||!f.size)return"continue";var p=a.getGroup(d);if(p.length===0)return"continue";var m=Zl+".g"+d+'[id="'+h+'"]',y="";f.forEach(function(C){C.length>0&&(y+=C+",")}),c+=p+m+'{content:"'+y+'"}'+k8},u=0;u<o;u++)l(u);return c}(i)})}return t.registerId=function(e){return rd(e)},t.prototype.rehydrate=function(){!this.server&&md&&D6(this)},t.prototype.reconstructWithOptions=function(e,n){n===void 0&&(n=!0);var r=new t(or(or({},this.options),e),this.gs,n&&this.names||void 0);return!this.server&&md&&e.target!==this.options.target&&Iy(this.options.target)!==Iy(e.target)&&D6(r),r},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new FJ(i):r?new UJ(i):new BJ(i)}(this.options),new RJ(e)));var e},t.prototype.hasNameForId=function(e,n){var r,i;return(i=(r=this.names.get(e))===null||r===void 0?void 0:r.has(n))!==null&&i!==void 0&&i},t.prototype.registerName=function(e,n){rd(e);var r=this.names.get(e);r?r.add(n):this.names.set(e,new Set([n]))},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(rd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(rd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),WJ=/&/g,wa=47,Ac=42;function E9(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var a=t.charCodeAt(s);if(r!==0||i||a!==wa||t.charCodeAt(s+1)!==Ac)if(i)a===Ac&&t.charCodeAt(s+1)===wa&&(i=!1,s++);else if(a!==34&&a!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(a===123)n++;else if(a===125&&--n<0)return!0}}else r===0?r=a:r===a&&(r=0);else i=!0,s++}return n!==0||r!==0}function lT(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=lT(n.children,e)),n})}function VJ(t){var e,n,r,i=Gl,s=i.options,a=s===void 0?Gl:s,o=i.plugins,c=o===void 0?P8:o,l=function(p,m,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):p},u=c.slice();u.push(function(p){p.type===q1&&p.value.includes("&")&&(r||(r=new RegExp("\\".concat(n,"\\b"),"g")),p.props[0]=p.props[0].replace(WJ,n).replace(r,l))}),a.prefix&&u.push(gJ),u.push(fJ);var d=[],h=pJ(u.concat(mJ(function(p){return d.push(p)}))),f=function(p,m,y,C){m===void 0&&(m=""),y===void 0&&(y=""),C===void 0&&(C="&"),e=C,n=m,r=void 0;var L=function(b){if(!E9(b))return b;for(var A=b.length,_="",I=0,M=0,D=0,B=!1,W=0;W<A;W++){var P=b.charCodeAt(W);if(D!==0||B||P!==wa||b.charCodeAt(W+1)!==Ac)if(B)P===Ac&&b.charCodeAt(W+1)===wa&&(B=!1,W++);else if(P!==34&&P!==39||W!==0&&b.charCodeAt(W-1)===92){if(D===0)if(P===123)M++;else if(P===125){if(--M<0){for(var T=W+1;T<A;){var U=b.charCodeAt(T);if(U===59||U===10)break;T++}T<A&&b.charCodeAt(T)===59&&T++,M=0,W=T-1,I=T;continue}M===0&&(_+=b.substring(I,W+1),I=W+1)}else P===59&&M===0&&(_+=b.substring(I,W+1),I=W+1)}else D===0?D=P:D===P&&(D=0);else B=!0,W++}if(I<A){var v=b.substring(I);E9(v)||(_+=v)}return _}(function(b){if(b.indexOf("//")===-1)return b;for(var A=b.length,_=[],I=0,M=0,D=0,B=0;M<A;){var W=b.charCodeAt(M);if(W!==34&&W!==39||M!==0&&b.charCodeAt(M-1)===92)if(D===0)if(W===wa&&M+1<A&&b.charCodeAt(M+1)===Ac){for(M+=2;M+1<A&&(b.charCodeAt(M)!==Ac||b.charCodeAt(M+1)!==wa);)M++;M+=2}else if(W===40&&M>=3&&(32|b.charCodeAt(M-1))==108&&(32|b.charCodeAt(M-2))==114&&(32|b.charCodeAt(M-3))==117)B=1,M++;else if(B>0)W===41?B--:W===40&&B++,M++;else if(W===Ac&&M+1<A&&b.charCodeAt(M+1)===wa)M>I&&_.push(b.substring(I,M)),I=M+=2;else if(W===wa&&M+1<A&&b.charCodeAt(M+1)===wa){for(M>I&&_.push(b.substring(I,M));M<A&&b.charCodeAt(M)!==10;)M++;I=M}else M++;else M++;else D===0?D=W:D===W&&(D=0),M++}return I===0?b:(I<A&&_.push(b.substring(I)),_.join(""))}(p)),w=dJ(y||m?"".concat(y," ").concat(m," { ").concat(L," }"):L);return a.namespace&&(w=lT(w,a.namespace)),d=[],S0(w,h),d};return f.hash=c.length?c.reduce(function(p,m){return m.name||Jh(15),xc(p,m.name)},5381).toString():"",f}var HJ=new k0,Ty=VJ(),uT=Te.createContext({shouldForwardProp:void 0,styleSheet:HJ,stylis:Ty});uT.Consumer;Te.createContext(void 0);function ky(){return Te.useContext(uT)}var dT=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Ty);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,$8(this,function(){throw Jh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Ty),this.name+e.hash},t}();function qJ(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in yJ||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var ZJ=function(t){return t>="A"&&t<="Z"};function x9(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;ZJ(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var hT=function(t){return t==null||t===!1||t===""},fT=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!hT(r)&&(Array.isArray(r)&&r.isCss||Kl(r)?e.push("".concat(x9(n),":"),r,";"):sh(r)?e.push.apply(e,Hl(Hl(["".concat(n," {")],fT(r),!1),["}"],!1)):e.push("".concat(x9(n),": ").concat(qJ(n,r),";")))}return e};function Wo(t,e,n,r,i){if(i===void 0&&(i=[]),typeof t=="string")return t&&i.push(t),i;if(hT(t))return i;if(R8(t))return i.push(".".concat(t.styledComponentId)),i;if(Kl(t)){if(!Kl(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return i.push(t),i;var s=t(e);return Wo(s,e,n,r,i)}var a;if(t instanceof dT)return n?(t.inject(n,r),i.push(t.getName(r))):i.push(t),i;if(sh(t)){for(var o=fT(t),c=0;c<o.length;c++)i.push(o[c]);return i}if(!Array.isArray(t))return i.push(t.toString()),i;for(c=0;c<t.length;c++)Wo(t[c],e,n,r,i);return i}function pT(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Kl(n)&&!R8(n))return!1}return!0}var GJ=rT(Y1),KJ=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&pT(e),this.componentId=n,this.baseHash=xc(GJ,n),this.baseStyle=r,k0.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Mc(i,this.staticRulesId);else{var s=T0(Wo(this.rules,e,n,r)),a=Ly(xc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var o=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,o)}i=Mc(i,a),this.staticRulesId=a}else{for(var c=xc(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var h=T0(Wo(d,e,n,r));c=xc(xc(c,String(u)),h),l+=h}}if(l){var f=Ly(c>>>0);if(!n.hasNameForId(this.componentId,f)){var p=r(l,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}i=Mc(i,f)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(rd(this.componentId)):""}},t}(),M8=Te.createContext(void 0);M8.Consumer;var j6={};function YJ(t,e,n){var r=R8(t),i=t,s=!N6(t),a=e.attrs,o=a===void 0?P8:a,c=e.componentId,l=c===void 0?function(b,A){var _=typeof b!="string"?"sc":g9(b);j6[_]=(j6[_]||0)+1;var I="".concat(_,"-").concat(O8(Y1+_+j6[_]));return A?"".concat(A,"-").concat(I):I}(e.displayName,e.parentComponentId):c,u=e.displayName,d=u===void 0?function(b){return N6(b)?"styled.".concat(b):"Styled(".concat(xJ(b),")")}(t):u,h=e.displayName&&e.componentId?"".concat(g9(e.displayName),"-").concat(e.componentId):e.componentId||l,f=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;p=function(b,A){return m(b,A)&&y(b,A)}}else p=m}var C=new KJ(n,h,r?i.componentStyle:void 0);function L(b,A){return function(_,I,M){var D=_.attrs,B=_.componentStyle,W=_.defaultProps,P=_.foldedComponentIds,T=_.styledComponentId,U=_.target,v=Te.useContext(M8),E=ky(),O=_.shouldForwardProp||E.shouldForwardProp,k=tT(I,v,W)||Gl,$=function(ue,le,Ee){for(var se,q=or(or({},le),{className:void 0,theme:Ee}),Ne=0;Ne<ue.length;Ne+=1){var je=Kl(se=ue[Ne])?se(q):se;for(var ce in je)ce==="className"?q.className=Mc(q.className,je[ce]):ce==="style"?q.style=or(or({},q.style),je[ce]):q[ce]=je[ce]}return"className"in le&&typeof le.className=="string"&&(q.className=Mc(q.className,le.className)),q}(D,I,k),j=$.as||U,V={};for(var Z in $)$[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&$.theme===k||(Z==="forwardedAs"?V.as=$.forwardedAs:O&&!O(Z,j)||(V[Z]=$[Z]));var X=function(ue,le){var Ee=ky(),se=ue.generateAndInjectStyles(le,Ee.styleSheet,Ee.stylis);return se}(B,$),J=X.className,ee=Mc(P,T);return J&&(ee+=" "+J),$.className&&(ee+=" "+$.className),V[N6(j)&&!nT.has(j)?"class":"className"]=ee,M&&(V.ref=M),R.createElement(j,V)}(w,b,A)}L.displayName=d;var w=Te.forwardRef(L);return w.attrs=f,w.componentStyle=C,w.displayName=d,w.shouldForwardProp=p,w.foldedComponentIds=r?Mc(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=h,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(A){for(var _=[],I=1;I<arguments.length;I++)_[I-1]=arguments[I];for(var M=0,D=_;M<D.length;M++)Sy(A,D[M],!0);return A}({},i.defaultProps,b):b}}),$8(w,function(){return".".concat(w.styledComponentId)}),s&&oT(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function A9(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var L9=function(t){return Object.assign(t,{isCss:!0})};function Xh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kl(t)||sh(t))return L9(Wo(A9(P8,Hl([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Wo(r):L9(Wo(A9(r,e)))}function Py(t,e,n){if(n===void 0&&(n=Gl),!e)throw Jh(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,Xh.apply(void 0,Hl([i],s,!1)))};return r.attrs=function(i){return Py(t,e,or(or({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Py(t,e,or(or({},n),i))},r}var mT=function(t){return Py(YJ,t)},$t=mT;nT.forEach(function(t){$t[t]=mT(t)});var JJ=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=pT(e),k0.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(T0(Wo(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&k0.registerId(this.componentId+e);var s=this.componentId+e;this.isStatic?r.hasNameForId(s,s)||this.createStyles(e,n,r,i):(this.removeStyles(e,r),this.createStyles(e,n,r,i))},t}();function XJ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Xh.apply(void 0,Hl([t],e,!1)),i="sc-global-".concat(O8(JSON.stringify(r))),s=new JJ(r,i),a=new WeakMap,o=function(l){var u=ky(),d=Te.useContext(M8),h=a.get(u.styleSheet);return h===void 0&&(h=u.styleSheet.allocateGSInstance(i),a.set(u.styleSheet,h)),(typeof window>"u"||!u.styleSheet.server)&&c(h,l,u.styleSheet,d,u.stylis),Te.useLayoutEffect(function(){return u.styleSheet.server||c(h,l,u.styleSheet,d,u.stylis),function(){var f;s.removeStyles(h,u.styleSheet),f=u.styleSheet.options.target,typeof document<"u"&&(f??document).querySelectorAll('style[data-styled-global="'.concat(i,'"]')).forEach(function(p){return p.remove()})}},[h,l,u.styleSheet,d,u.stylis]),null};function c(l,u,d,h,f){if(s.isStatic)s.renderStyles(l,bJ,d,f);else{var p=or(or({},u),{theme:tT(u,h,o.defaultProps)});s.renderStyles(l,p,d,f)}}return Te.memo(o)}function HLe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=T0(Xh.apply(void 0,Hl([t],e,!1))),i=O8(r);return new dT(i,r)}var Ie={},Oy={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",o="function",c="undefined",l="object",u="string",d="major",h="model",f="name",p="type",m="vendor",y="version",C="architecture",L="console",w="mobile",b="tablet",A="smarttv",_="wearable",I="embedded",M=500,D="Amazon",B="Apple",W="ASUS",P="BlackBerry",T="Browser",U="Chrome",v="Edge",E="Firefox",O="Google",k="Honor",$="Huawei",j="Lenovo",V="LG",Z="Microsoft",X="Motorola",J="Nvidia",ee="OnePlus",ue="Opera",le="OPPO",Ee="Samsung",se="Sharp",q="Sony",Ne="Xiaomi",je="Zebra",ce="Facebook",Re="Chromium OS",pe="Mac OS",fe=" Browser",gs=function(Xe,nt){var ke={};for(var ct in Xe)nt[ct]&&nt[ct].length%2===0?ke[ct]=nt[ct].concat(Xe[ct]):ke[ct]=Xe[ct];return ke},Sr=function(Xe){for(var nt={},ke=0;ke<Xe.length;ke++)nt[Xe[ke].toUpperCase()]=Xe[ke];return nt},Ue=function(Xe,nt){return typeof Xe===u?Ir(nt).indexOf(Ir(Xe))!==-1:!1},Ir=function(Xe){return Xe.toLowerCase()},ea=function(Xe){return typeof Xe===u?Xe.replace(/[^\d\.]/g,s).split(".")[0]:r},Tr=function(Xe,nt){if(typeof Xe===u)return Xe=Xe.replace(/^\s\s*/,s),typeof nt===c?Xe:Xe.substring(0,M)},Mn=function(Xe,nt){for(var ke=0,ct,Nn,Dn,it,me,mr;ke<nt.length&&!me;){var cc=nt[ke],lc=nt[ke+1];for(ct=Nn=0;ct<cc.length&&!me&&cc[ct];)if(me=cc[ct++].exec(Xe),me)for(Dn=0;Dn<lc.length;Dn++)mr=me[++Nn],it=lc[Dn],typeof it===l&&it.length>0?it.length===2?typeof it[1]==o?this[it[0]]=it[1].call(this,mr):this[it[0]]=it[1]:it.length===3?typeof it[1]===o&&!(it[1].exec&&it[1].test)?this[it[0]]=mr?it[1].call(this,mr,it[2]):r:this[it[0]]=mr?mr.replace(it[1],it[2]):r:it.length===4&&(this[it[0]]=mr?it[3].call(this,mr.replace(it[1],it[2])):r):this[it]=mr||r;ke+=2}},fr=function(Xe,nt){for(var ke in nt)if(typeof nt[ke]===l&&nt[ke].length>0){for(var ct=0;ct<nt[ke].length;ct++)if(Ue(nt[ke][ct],Xe))return ke===a?r:ke}else if(Ue(nt[ke],Xe))return ke===a?r:ke;return nt.hasOwnProperty("*")?nt["*"]:Xe},Wi={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ta={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,y],[/opios[\/ ]+([\w\.]+)/i],[y,[f,ue+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[f,ue+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[f,ue]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[f,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[f,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],y],[/\bfocus\/([\w\.]+)/i],[y,[f,E+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[f,ue+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[f,ue+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[f,"MIUI"+fe]],[/fxios\/([\w\.-]+)/i],[y,[f,E]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+fe],y],[/samsungbrowser\/([\w\.]+)/i],[y,[f,Ee+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,ce],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[f,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,U+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[y,fr,Wi]],[/(webkit|khtml)\/([\w\.]+)/i],[f,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[f,E+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[C,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[C,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[C,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[C,/ower/,s,Ir]],[/ sun4\w[;\)]/i],[[C,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[C,Ir]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,Ee],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,Ee],[p,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,B],[p,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,B],[p,b]],[/(macintosh);/i],[h,[m,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,se],[p,w]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[m,k],[p,b]],[/honor([-\w ]+)[;\)]/i],[h,[m,k],[p,w]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[m,$],[p,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,$],[p,w]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[m,Ne],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[m,Ne],[p,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,le],[p,w]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[m,fr,{OnePlus:["304","403","203"],"*":le}],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[p,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[p,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,X],[p,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,X],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,V],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,V],[p,w]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[m,j],[p,b]],[/(nokia) (t[12][01])/i],[m,h,[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[p,w],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[m,O],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,O],[p,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,q],[p,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,q],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,ee],[p,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,D],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,D],[p,w]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,P],[p,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,W],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,W],[p,w]],[/(nexus 9)/i],[h,[m,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[p,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[m,Ir],h,[p,fr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[p,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[p,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[p,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[p,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[p,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[p,w]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[m,"Archos"],[p,b]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[m,"Archos"],[p,w]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,h,[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[p,w]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[p,b]],[/(surface duo)/i],[h,[m,Z],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[p,w]],[/(u304aa)/i],[h,[m,"AT&T"],[p,w]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[p,w]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[p,b]],[/\b(k88) b/i],[h,[m,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[p,w]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[p,w]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[p,b]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[p,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[p,w]],[/\b(ph-1) /i],[h,[m,"Essential"],[p,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[p,b]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[m,J],[p,b]],[/(sprint) (\w+)/i],[m,h,[p,w]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,Z],[p,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,je],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,je],[p,w]],[/smart-tv.+(samsung)/i],[m,[p,A]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,Ee],[p,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,V],[p,A]],[/(apple) ?tv/i],[m,[h,B+" TV"],[p,A]],[/crkey/i],[[h,U+"cast"],[m,O],[p,A]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,D],[p,A]],[/(shield \w+ tv)/i],[h,[m,J],[p,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,se],[p,A]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,q],[p,A]],[/(mi(tv|box)-?\w+) bui/i],[h,[m,Ne],[p,A]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[p,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Tr],[h,Tr],[p,A]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[p,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[p,L]],[/droid.+; (shield)( bui|\))/i],[h,[m,J],[p,L]],[/(playstation \w+)/i],[h,[m,q],[p,L]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,Z],[p,L]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[m,Ee],[p,_]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,h,[p,_]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[m,le],[p,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,B],[p,_]],[/(opwwe\d{3})/i],[h,[m,ee],[p,_]],[/(moto 360)/i],[h,[m,X],[p,_]],[/(smartwatch 3)/i],[h,[m,q],[p,_]],[/(g watch r)/i],[h,[m,V],[p,_]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,je],[p,_]],[/droid.+; (glass) \d/i],[h,[m,O],[p,_]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[p,_]],[/; (quest( \d| pro)?)/i],[h,[m,ce],[p,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,I]],[/(aeobc)\b/i],[h,[m,D],[p,I]],[/(homepod).+mac os/i],[h,[m,B],[p,I]],[/windows iot/i],[[p,I]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,w]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[f,v+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,y],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[y,fr,ta]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,fr,ta],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,pe],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,y],[/\(bb(10);/i],[y,[f,P]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[f,E+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[f,U+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Re],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,y],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,y]]},pn=function(Xe,nt){if(typeof Xe===l&&(nt=Xe,Xe=r),!(this instanceof pn))return new pn(Xe,nt).getResult();var ke=typeof n!==c&&n.navigator?n.navigator:r,ct=Xe||(ke&&ke.userAgent?ke.userAgent:s),Nn=ke&&ke.userAgentData?ke.userAgentData:r,Dn=nt?gs(xt,nt):xt,it=ke&&ke.userAgent==ct;return this.getBrowser=function(){var me={};return me[f]=r,me[y]=r,Mn.call(me,ct,Dn.browser),me[d]=ea(me[y]),it&&ke&&ke.brave&&typeof ke.brave.isBrave==o&&(me[f]="Brave"),me},this.getCPU=function(){var me={};return me[C]=r,Mn.call(me,ct,Dn.cpu),me},this.getDevice=function(){var me={};return me[m]=r,me[h]=r,me[p]=r,Mn.call(me,ct,Dn.device),it&&!me[p]&&Nn&&Nn.mobile&&(me[p]=w),it&&me[h]=="Macintosh"&&ke&&typeof ke.standalone!==c&&ke.maxTouchPoints&&ke.maxTouchPoints>2&&(me[h]="iPad",me[p]=b),me},this.getEngine=function(){var me={};return me[f]=r,me[y]=r,Mn.call(me,ct,Dn.engine),me},this.getOS=function(){var me={};return me[f]=r,me[y]=r,Mn.call(me,ct,Dn.os),it&&!me[f]&&Nn&&Nn.platform&&Nn.platform!="Unknown"&&(me[f]=Nn.platform.replace(/chrome os/i,Re).replace(/macos/i,pe)),me},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ct},this.setUA=function(me){return ct=typeof me===u&&me.length>M?Tr(me,M):me,this},this.setUA(ct),this};pn.VERSION=i,pn.BROWSER=Sr([f,y,d]),pn.CPU=Sr([C]),pn.DEVICE=Sr([h,m,p,L,w,A,b,_,I]),pn.ENGINE=pn.OS=Sr([f,y]),t.exports&&(e=t.exports=pn),e.UAParser=pn;var pr=typeof n!==c&&(n.jQuery||n.Zepto);if(pr&&!pr.ua){var Xr=new pn;pr.ua=Xr.getResult(),pr.ua.get=function(){return Xr.getUA()},pr.ua.set=function(Xe){Xr.setUA(Xe);var nt=Xr.getResult();for(var ke in nt)pr.ua[ke]=nt[ke]}}})(typeof window=="object"?window:lA)})(Oy,Oy.exports);var QJ=Oy.exports;Object.defineProperty(Ie,"__esModule",{value:!0});function eX(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var cr=R,Rt=eX(cr),gT=QJ,tc=new gT,hr=tc.getBrowser(),tX=tc.getCPU(),mi=tc.getDevice(),N8=tc.getEngine(),nc=tc.getOS(),Qh=tc.getUA(),yT=function(e){return tc.setUA(e)},ef=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new gT(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},wT=Object.freeze({ClientUAInstance:tc,browser:hr,cpu:tX,device:mi,engine:N8,os:nc,ua:Qh,setUa:yT,parseUserAgent:ef});function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){aX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gd=function(e){return typeof e}:gd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function rX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sX(t,e,n){return e&&iX(t.prototype,e),t}function aX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ry(){return Ry=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function oX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$y(t)}function My(t,e){return My=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},My(t,e)}function cX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fi(t,e){if(t==null)return{};var n=cX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $p(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lX(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $p(t)}function uX(t,e){return dX(t)||hX(t,e)||fX(t,e)||pX()}function dX(t){if(Array.isArray(t))return t}function hX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function fX(t,e){if(t){if(typeof t=="string")return I9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I9(t,e)}}function I9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ar={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},qr={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},pu={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},mX={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},gX=function(e){switch(e){case ar.Mobile:return{isMobile:!0};case ar.Tablet:return{isTablet:!0};case ar.SmartTv:return{isSmartTV:!0};case ar.Console:return{isConsole:!0};case ar.Wearable:return{isWearable:!0};case ar.Browser:return{isBrowser:!0};case ar.Embedded:return{isEmbedded:!0};default:return mX}},yX=function(e){return yT(e)},We=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},D8=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},j8=function(e){var n=D8();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},wX=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:We(n.major),browserFullVersion:We(n.version),browserName:We(n.name),engineName:We(r.name),engineVersion:We(r.version),osName:We(i.name),osVersion:We(i.version),userAgent:We(s)}},T9=function(e,n,r,i){return nX({},e,{vendor:We(n.vendor),model:We(n.model),os:We(r.name),osVersion:We(r.version),ua:We(i)})},bX=function(e,n,r,i){return{isSmartTV:e,engineName:We(n.name),engineVersion:We(n.version),osName:We(r.name),osVersion:We(r.version),userAgent:We(i)}},vX=function(e,n,r,i){return{isConsole:e,engineName:We(n.name),engineVersion:We(n.version),osName:We(r.name),osVersion:We(r.version),userAgent:We(i)}},_X=function(e,n,r,i){return{isWearable:e,engineName:We(n.name),engineVersion:We(n.version),osName:We(r.name),osVersion:We(r.version),userAgent:We(i)}},CX=function(e,n,r,i,s){return{isEmbedded:e,vendor:We(n.vendor),model:We(n.model),engineName:We(r.name),engineVersion:We(r.version),osName:We(i.name),osVersion:We(i.version),userAgent:We(s)}};function EX(t){var e=t?ef(t):wT,n=e.device,r=e.browser,i=e.engine,s=e.os,a=e.ua,o=gX(n.type),c=o.isBrowser,l=o.isMobile,u=o.isTablet,d=o.isSmartTV,h=o.isConsole,f=o.isWearable,p=o.isEmbedded;if(c)return wX(c,r,i,s,a);if(d)return bX(d,i,s,a);if(h)return vX(h,i,s,a);if(l||u)return T9(o,n,s,a);if(f)return _X(f,i,s,a);if(p)return CX(p,n,i,s,a)}var bT=function(e){var n=e.type;return n===ar.Mobile},vT=function(e){var n=e.type;return n===ar.Tablet},_T=function(e){var n=e.type;return n===ar.Mobile||n===ar.Tablet},CT=function(e){var n=e.type;return n===ar.SmartTv},P0=function(e){var n=e.type;return n===ar.Browser},ET=function(e){var n=e.type;return n===ar.Wearable},xT=function(e){var n=e.type;return n===ar.Console},AT=function(e){var n=e.type;return n===ar.Embedded},LT=function(e){var n=e.vendor;return We(n)},ST=function(e){var n=e.model;return We(n)},IT=function(e){var n=e.type;return We(n,"browser")},TT=function(e){var n=e.name;return n===pu.Android},kT=function(e){var n=e.name;return n===pu.Windows},PT=function(e){var n=e.name;return n===pu.MAC_OS},OT=function(e){var n=e.name;return n===pu.WindowsPhone},RT=function(e){var n=e.name;return n===pu.IOS},$T=function(e){var n=e.version;return We(n)},MT=function(e){var n=e.name;return We(n)},NT=function(e){var n=e.name;return n===qr.Chrome},DT=function(e){var n=e.name;return n===qr.Firefox},jT=function(e){var n=e.name;return n===qr.Chromium},O0=function(e){var n=e.name;return n===qr.Edge},UT=function(e){var n=e.name;return n===qr.Yandex},BT=function(e){var n=e.name;return n===qr.Safari||n===qr.MobileSafari},FT=function(e){var n=e.name;return n===qr.MobileSafari},zT=function(e){var n=e.name;return n===qr.Opera},WT=function(e){var n=e.name;return n===qr.InternetExplorer||n===qr.Ie},VT=function(e){var n=e.name;return n===qr.MIUI},HT=function(e){var n=e.name;return n===qr.SamsungBrowser},qT=function(e){var n=e.version;return We(n)},ZT=function(e){var n=e.major;return We(n)},GT=function(e){var n=e.name;return We(n)},KT=function(e){var n=e.name;return We(n)},YT=function(e){var n=e.version;return We(n)},JT=function(){var e=D8(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},vl=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},XT=function(){var e=D8();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Ns=function(){return j8("iPad")},QT=function(){return j8("iPhone")},ek=function(){return j8("iPod")},tk=function(e){return We(e)};function nk(t){var e=t||wT,n=e.device,r=e.browser,i=e.os,s=e.engine,a=e.ua;return{isSmartTV:CT(n),isConsole:xT(n),isWearable:ET(n),isEmbedded:AT(n),isMobileSafari:FT(r)||Ns(),isChromium:jT(r),isMobile:_T(n)||Ns(),isMobileOnly:bT(n),isTablet:vT(n)||Ns(),isBrowser:P0(n),isDesktop:P0(n),isAndroid:TT(i),isWinPhone:OT(i),isIOS:RT(i)||Ns(),isChrome:NT(r),isFirefox:DT(r),isSafari:BT(r),isOpera:zT(r),isIE:WT(r),osVersion:$T(i),osName:MT(i),fullBrowserVersion:qT(r),browserVersion:ZT(r),browserName:GT(r),mobileVendor:LT(n),mobileModel:ST(n),engineName:KT(s),engineVersion:YT(s),getUA:tk(a),isEdge:O0(r)||vl(a),isYandex:UT(r),deviceType:IT(n),isIOS13:XT(),isIPad13:Ns(),isIPhone13:QT(),isIPod13:ek(),isElectron:JT(),isEdgeChromium:vl(a),isLegacyEdge:O0(r)&&!vl(a),isWindows:kT(i),isMacOs:PT(i),isMIUI:VT(r),isSamsungBrowser:HT(r)}}var rk=CT(mi),ik=xT(mi),sk=ET(mi),xX=AT(mi),AX=FT(hr)||Ns(),LX=jT(hr),J1=_T(mi)||Ns(),ak=bT(mi),ok=vT(mi)||Ns(),ck=P0(mi),SX=P0(mi),lk=TT(nc),uk=OT(nc),dk=RT(nc)||Ns(),IX=NT(hr),TX=DT(hr),kX=BT(hr),PX=zT(hr),hk=WT(hr),OX=$T(nc),RX=MT(nc),$X=qT(hr),MX=ZT(hr),NX=GT(hr),DX=LT(mi),jX=ST(mi),UX=KT(N8),BX=YT(N8),FX=tk(Qh),zX=O0(hr)||vl(Qh),WX=UT(hr),VX=IT(mi),HX=XT(),qX=Ns(),ZX=QT(),GX=ek(),KX=JT(),YX=vl(Qh),JX=O0(hr)&&!vl(Qh),XX=kT(nc),QX=PT(nc),eQ=VT(hr),tQ=HT(hr),nQ=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=ef(e),r=n.device,i=n.browser,s=n.os,a=n.engine,o=n.ua;return nk({device:r,browser:i,os:s,engine:a,ua:o})},rQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return lk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},iQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return ck?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},sQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return hk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},aQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return dk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},oQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return J1?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},cQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return ok?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},lQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return uk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},uQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=Fi(e,["renderWithFragment","children","viewClassName","style"]);return ak?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},dQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return rk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},hQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return ik?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},fQ=function(e){var n=e.renderWithFragment,r=e.children,i=Fi(e,["renderWithFragment","children"]);return sk?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",i,r):null},pQ=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=Fi(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Rt.createElement(cr.Fragment,null,r):Rt.createElement("div",s,r):null};function mQ(t){return function(e){oX(n,e);function n(r){var i;return rX(this,n),i=lX(this,$y(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind($p(i)),i.onOrientationChange=i.onOrientationChange.bind($p(i)),i.onPageLoad=i.onPageLoad.bind($p(i)),i.state={isLandscape:!1,isPortrait:!1},i}return sX(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":gd(window))!==void 0&&J1&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Rt.createElement(t,Ry({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Rt.Component)}function gQ(){var t=cr.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=uX(t,2),n=e[0],r=e[1],i=cr.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,a={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==a.orientation&&r(a)},[n.orientation]);return cr.useEffect(function(){return(typeof window>"u"?"undefined":gd(window))!==void 0&&J1&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function fk(t){var e=t||window.navigator.userAgent;return ef(e)}function yQ(t){var e=t||window.navigator.userAgent,n=fk(e),r=nk(n);return[r,n]}Ie.AndroidView=rQ;Ie.BrowserTypes=qr;Ie.BrowserView=iQ;Ie.ConsoleView=hQ;Ie.CustomView=pQ;Ie.IEView=sQ;Ie.IOSView=aQ;Ie.MobileOnlyView=uQ;Ie.MobileView=oQ;Ie.OsTypes=pu;Ie.SmartTVView=dQ;Ie.TabletView=cQ;Ie.WearableView=fQ;Ie.WinPhoneView=lQ;Ie.browserName=NX;Ie.browserVersion=MX;Ie.deviceDetect=EX;Ie.deviceType=VX;Ie.engineName=UX;Ie.engineVersion=BX;Ie.fullBrowserVersion=$X;Ie.getSelectorsByUserAgent=nQ;Ie.getUA=FX;var pk=Ie.isAndroid=lk;Ie.isBrowser=ck;Ie.isChrome=IX;Ie.isChromium=LX;Ie.isConsole=ik;Ie.isDesktop=SX;Ie.isEdge=zX;Ie.isEdgeChromium=YX;Ie.isElectron=KX;Ie.isEmbedded=xX;var k9=Ie.isFirefox=TX;Ie.isIE=hk;var wQ=Ie.isIOS=dk;Ie.isIOS13=HX;Ie.isIPad13=qX;Ie.isIPhone13=ZX;Ie.isIPod13=GX;Ie.isLegacyEdge=JX;Ie.isMIUI=eQ;Ie.isMacOs=QX;var ah=Ie.isMobile=J1;Ie.isMobileOnly=ak;Ie.isMobileSafari=AX;Ie.isOpera=PX;var bQ=Ie.isSafari=kX;Ie.isSamsungBrowser=tQ;Ie.isSmartTV=rk;Ie.isTablet=ok;Ie.isWearable=sk;Ie.isWinPhone=uk;Ie.isWindows=XX;Ie.isYandex=WX;Ie.mobileModel=jX;Ie.mobileVendor=DX;Ie.osName=RX;Ie.osVersion=OX;Ie.parseUserAgent=ef;Ie.setUserAgent=yX;Ie.useDeviceData=fk;Ie.useDeviceSelectors=yQ;Ie.useMobileOrientation=gQ;Ie.withOrientationChange=mQ;const R0=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},To=(t,e)=>{if(e?.imported)return R0(e);let n=rh(t);if(!n)throw Error("Failed to find primary wallet");return R0(n)},mk=R.createContext(null);function gk(){let t=R.useContext(mk);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}let zf="[Privy:Connectors]";function Wf(t){if(!t||Object.keys(t).length===0)return"";let e=Object.entries(t).filter(([,n])=>n!=null).map(([n,r])=>`${n}=${String(r)}`);return e.length>0?` (${e.join(", ")})`:""}const ae=new class{setEnabled(t){this._enabled=t,t&&this.info("Debug logging enabled")}get enabled(){return this._enabled}debug(t,e){this._enabled&&console.debug(`${zf} ${t}${Wf(e)}`)}info(t,e){this._enabled&&console.info(`${zf} ${t}${Wf(e)}`)}warn(t,e){this._enabled&&console.warn(`${zf} ${t}${Wf(e)}`)}error(t,e,n){if(!this._enabled)return;let r=e instanceof Error?e.message:e?String(e):void 0,i=r?{...n,error:r}:n;console.error(`${zf} ${t}${Wf(i)}`)}connectionStart(t,e,n){this.info("Connection attempt started",{wallet:t,method:e,...n})}connectionSuccess(t,e){this.info("Connection successful",{wallet:t,...e})}connectionFailed(t,e,n){this.error("Connection failed",e,{wallet:t,...n})}connectorInit(t,e,n){this.debug("Connector initialized",{connector:t,wallet:e,...n})}connectorCreated(t,e,n){this.debug("Connector created",{connector:t,wallet:e,...n})}providerEvent(t,e,n){this.debug(`Provider event: ${t}`,{wallet:e,...n})}rpcRequest(t,e,n){this.debug(`RPC request: ${t}`,{wallet:e,...n})}rpcResponse(t,e,n){this.debug(`RPC response: ${t}`,{wallet:e,...n})}constructor(){this._enabled=!1}};let vQ=class extends Ft{constructor(){super("Wallet timeout"),this.type="wallet_error",ae.warn("Wallet request timed out")}};const rc=t=>{if(t instanceof Ft)return ae.debug("Connector error (already formatted)",{error:t.message}),t;if(t?.code){let n=new Ts(t);return ae.debug("Provider RPC error",{code:n.code,error:n.message}),n}let e=t instanceof Error?t.message:String(t);return ae.debug("Unknown connector error",{error:e}),new Ft("Unknown connector error",t)};let _Q=class extends Qo{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},Ts=class extends _Q{constructor(e){super(e.message,e.code,e.data);let n=Object.values(tl).find(r=>r.eipCode===e.code);this.details=n||tl.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=tl.E32002_CONNECTION_ALREADY_PENDING:this.details=tl.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=tl.E32002_WALLET_LOCKED))}};const KLe={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...tl};let yk=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function Ny(){try{let t="privy:__session_storage__test",e=new yk;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Me=typeof window<"u"&&window.localStorage?new yk:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let wk=class extends v2{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Mp=()=>{let t=Me.get(PI);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let CQ=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function EQ(t){return t.toLowerCase().split(" ").join("_")}let xQ=class extends wk{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new fK({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:P9(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){ae.debug("Initializing Solana connector",{wallet:this.walletClientType}),this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(ae.debug("Attempting Solana auto-connect",{wallet:this.walletClientType}),await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch(()=>{}),await this.isConnected()&&(ae.debug("Solana auto-connect successful",{wallet:this.walletClientType}),await this.syncAccounts())),this.initialized=!0,this.emit("initialized")}async connect(e){if(ae.connectionStart(this.walletClientType,"solana_adapter",{showPrompt:e.showPrompt}),e.showPrompt)try{await this.promptConnection()}catch(r){throw this._wallet.accounts.length===0?(ae.warn("Solana wallet connected but has no accounts",{wallet:this.walletClientType}),new u9):(ae.connectionFailed(this.walletClientType,r,{method:"solana_adapter"}),r)}if(!await this.isConnected())throw ae.warn("Solana wallet not connected after prompt",{wallet:this.walletClientType}),new u9;await this.syncAccounts();let n=await this.getConnectedWallet();return n&&ae.connectionSuccess(this.walletClientType),n}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!CQ.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||Mp().some(({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask"))}constructor(e,n){super(EQ(P9(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{ae.debug("Disconnecting Solana wallet",{wallet:this.walletClientType}),await this.wallet.features["standard:disconnect"]?.disconnect().catch(r=>{ae.error("Error disconnecting Solana wallet",r,{wallet:this.walletClientType})}),await this.syncAccounts()},this.promptConnection=async()=>{ae.debug("Prompting Solana connection",{wallet:this.walletClientType});try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw ae.connectionFailed(this.walletClientType,r,{method:"solana_adapter"}),rc(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function P9(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const QLe=({style:t,...e})=>{let n=pi();return g.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),g.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:g.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_1765_9946",children:g.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},AQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function X1(t){return["ethereum","solana"].includes(t.chainType)}function bk(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const U8=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),O9={[su.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vA.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[x4.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[wA.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ph.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[bA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[kh.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[yA.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Th.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[gA.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Ih.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[mA.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",[iB.id]:"0xb88339CB7199b77E23DB6E890353E22632Ba630f",[A4.id]:"0x754704Bc059F8C67012fEd69BC8A327a5aafb603"},R9=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:o})=>{let c,l;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let u=U8(e.fundingConfig.options);if(u.length<1)throw Error("Wallet funding is not enabled");c=i||(n?.chain?n.chain.id:bk(e.fundingConfig.defaultRecommendedCurrency.chain));let d=e.chains.find(y=>y.id===c);if(!d)throw new G(`Funding chain ${c} is not in PrivyProvider chains list`);let h=n?.amount??e.fundingConfig.defaultRecommendedAmount,f=!1;function p(){if(!c)return;let y=O9[c];u.find(C=>C.method==="wallets")&&!y&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),l=y,f=!0}n&&"asset"in n?n.asset==="USDC"?p():typeof n.asset!="string"&&"erc20"in n.asset&&(f=((y,C)=>y===O9[C.id])(l=n.asset.erc20,d)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&p();let m=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:h,chain:d,erc20Address:l,erc20ContractInfo:f?{symbol:"USDC",decimals:6}:void 0,isUSDC:f,methodScreen:r,supportedOptions:u,comingFromSendTransactionScreen:s,defaultFundingMethod:m,usingDefaultFundingMethod:!!m,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:o??(()=>{})}};function eSe({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let a=U8(n.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");let o=e?.amount??n.fundingConfig.defaultRecommendedAmount,c=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:a,amount:o,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}function LQ(){let{user:t,getAccessToken:e}=hu(),{walletProxy:n,openModal:r,client:i}=Ya(),{setModalData:s}=Vl(),a=pi();return R.useMemo(()=>({exportWallet:o=>new Promise(async(c,l)=>{if(!t)return void l(Error("User must be authenticated before exporting their Privy wallet"));o&&"target"in o&&o&&(o=void 0);let u=o?.address?il(t,o.address):Mo(t);if(!u)return void l(new G("User must have an embedded wallet."));let d=u.address,{entropyId:h,entropyIdVerifier:f}=To(t,u),p=si(u);if(!d)return void l(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Pt(d))return void l(Error("Must provide a valid Ethereum address."));let m={recoveryMethod:u.recoveryMethod,connectingWalletAddress:u.address,isUnifiedWallet:p,entropyId:h,entropyIdVerifier:f,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:l,shouldForceMFA:!0};await e()&&n?X1(u)?(s({keyExport:{appId:a.id,appClientId:a.appClientId,origin:i.apiUrl,address:u.address,entropyId:h,entropyIdVerifier:f,hdWalletIndex:u.walletIndex,chainType:u.chainType,walletId:u.id,isUnifiedWallet:p,imported:u.imported,onSuccess:c,onFailure:l,showBackButton:o?.showBackButton},connectWallet:m}),r("EmbeddedWalletConnectingScreen")):l(Error(`Export is not supported for ${u.chainType} wallets`)):l(Error("Must have valid access token."))})}),[t,e,n,r,i,s,a])}const SQ={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},vk=R.createContext(void 0);let _k=()=>R.useContext(vk);function tf(t,e){if(!e)return;let n=_k().current[t];return R.useEffect(()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter(s=>s!==i)}},[e])}function re(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function Q1(){let t=_k();return(e,n,...r)=>re(t,e,n,...r)}const $0=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new Ft(`Unsupported chainId ${t}`,4901);return _8({transport:z1(Ck(s,n,r.appId)),chain:s})},Ck=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new Ft(`No RPC url found for ${i}`);return r},oh=ec(()=>({listings:[],loading:!1})),U6=oh.setState,IQ=t=>oh.getState().listings.find(({slug:e})=>M0(e)===M0(t)),B6=t=>{let e;try{e=new URL(t).hostname}catch{return}return oh.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},Ek=(t=!0)=>{let e=pi(),n=oh(s=>s.listings),r=oh(s=>s.loading),i=!!n.length;return R.useEffect(()=>{t&&!i&&(U6({listings:[],loading:!0}),(async s=>{let a=new URL("v3/wallets","https://explorer-api.walletconnect.com");a.searchParams.append("projectId",s);let o=await fetch(a);return o.ok?Object.values((await o.json()).listings).sort(({slug:c},{slug:l})=>c==="rainbow"&&l==="metamask"?1:c==="metamask"||c==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await o.text().catch(()=>"No response.")}`),[])})(e.walletConnectCloudProjectId).then(s=>U6({listings:s,loading:!1})).catch(s=>{console.error(s),U6({listings:[],loading:!1})}))},[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},tSe=t=>{let{listings:e}=Ek();return e.find(({slug:n})=>M0(n)===M0(t))};function M0(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function Dy(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some(e=>t?.includes(e))}const xk=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Ak=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||xk(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!Ak(n))return!1}return!0},nSe=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},rSe=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},iSe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),sSe=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},TQ=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},aSe=(t,e=3,n=4)=>TQ(t,e,n,"solana"),N0=t=>new Promise(e=>setTimeout(e,t));function $9(t,{interval:e=100,timeout:n=5e3}={}){return new Promise((r,i)=>{let s,a=0,o=()=>{a>=n?i("Max attempts reached without result"):(s=t(),a+=e,s==null?setTimeout(o,e):r(s))};o()})}const jy=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{let a=!1,o=0;for(;!a&&o<r;){if(e.abortSignal?.aborted)return;t().then(c=>{a=!0,i(c)},(...c)=>{a=!0,s(...c)}),o+=1,await N0(n)}a||s(Error("Exceeded max attempts before resolving function"))})},kQ=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Uy=t=>typeof t=="string"?t:"0x"+t.toString(16);async function PQ({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise(o=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let l=t.getProviders();console.debug("Detected injected providers:",l.map(d=>d.info));let u=[];for(let d of l)e.includes("coinbase_wallet")&&d.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&d.info.rdns==="app.phantom"||u.push({type:d.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:d});if(r!=="solana-only")for(let d of function(){let h=window,f=h.ethereum;if(!f)return[];let p=[];if(f.providers?.length)for(let m of f.providers)m&&p.push(m);return p.push(h.ethereum),p}()){let h=xk(d);if(!l.some(f=>f.info.name===h)){if(Ak(d,!0)&&!u.find(f=>f.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:d});continue}if(h==="Phantom"&&!u.find(f=>f.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:d});continue}if(h==="Coinbase Wallet"&&!u.find(f=>f.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly")){u.push({type:"coinbase_wallet",legacyInjectedProvider:d});continue}u.find(f=>f.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:d})}}o(u)}a.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},i))})}function yd(t){return`eip155:${String(Number(t))}`}const OQ=(t,e,n,r)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new Ft(`Unsupported chainId ${t}`,4901);return Ck(s,n,r)},oSe=(t,e)=>{let n=Number(t),r=e.find(i=>i.id===n);if(!r)throw new Ft(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Np=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}};function cSe(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function Co(t){return t.type==="ethereum"}function Lk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&Co(r)&&Co(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const B8=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||H1;function Au(t){return t.chainType==="ethereum"}let C2=class extends wk{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(a=>kn(a.address)===kn(e));return{type:"ethereum",address:kn(e),chainId:n,meta:r,imported:i,switchChain:async a=>{let o,c;if(!s)throw new Ft("Wallet is not currently connected.");let l=this.wallets.find(h=>kn(h.address)===kn(e))?.chainId;if(!l)throw new Ft("Unable to determine current chainId.");if(typeof a=="number"?(o=`0x${a.toString(16)}`,c=a):(o=a,c=Number(a)),l===yd(o))return;let u=this.chains.find(h=>h.id===c);if(!u)throw new Ft(`Unsupported chainId: ${a}`);let d=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})};try{return await d()}catch(h){if(((f,p)=>{switch(p){case"coinbase_wallet":case"base_account":return f.message.includes("addEthereumChain");case"rabby_wallet":return f.message.includes("Unrecognized chain ID");default:return f.code===4902||f.message?.includes("4902")}})(h,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await N0(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[u.rpcUrls.default?.http[0]??""],blockExplorerUrls:[u.blockExplorers?.default.url??""]}]}),d();throw this.walletClientType==="rainbow"&&h.message?.includes("wallet_switchEthereumChain")?new Ft(`Rainbow does not support the chainId ${n}`):h}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Ft("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new Ft("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n;ae.debug("Syncing accounts",{wallet:this.walletClientType});let r=e;try{if(r===void 0){ae.rpcRequest("eth_accounts",this.walletClientType);let c=await jy(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});ae.rpcResponse("eth_accounts",this.walletClientType),Array.isArray(c)&&(r=c)}}catch{ae.warn("Wallet did not respond to eth_accounts, using prefetched accounts",{wallet:this.walletClientType})}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return void ae.debug("No accounts found",{wallet:this.walletClientType});let i=r[0];if(!Pt(i))return;let s=kn(i),a=[];if(this.walletClientType==="privy"){let c=Me.get(k6(s));this.chains.find(l=>l.id===Number(c))||(Me.del(k6(s)),c=null),n=c||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{ae.warn("Unable to switch embedded wallet chain on initialization",{wallet:this.walletClientType,chainId:n})}}else try{ae.rpcRequest("eth_chainId",this.walletClientType);let c=await jy(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(ae.rpcResponse("eth_chainId",this.walletClientType),typeof c=="string")n=c;else{if(typeof c!="number")throw Error("Invalid chainId returned from provider");n=`0x${c.toString(16)}`}}catch{ae.warn("Failed to get chainId from provider, using default",{wallet:this.walletClientType,defaultChainId:s9}),n=s9}let o=yd(n);if(!a.find(c=>kn(c.address)===s)){let c={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(kn(i),o,c,this.connectorType==="embedded_imported"))}Lk(a,this.wallets)||(ae.debug("Wallets updated",{wallet:this.walletClientType,address:s,chainId:o}),this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>kn(r)===kn(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Ze(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{ae.providerEvent("accountsChanged",this.walletClientType,{accountsCount:s.length}),s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{ae.providerEvent("chainChanged",this.walletClientType,{chainId:s}),this.wallets.forEach(a=>{a.chainId=yd(s),this.walletClientType==="privy"&&Me.put(k6(a.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{ae.providerEvent("disconnect",this.walletClientType),this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{ae.providerEvent("connect",this.walletClientType),this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await N0(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=B8(i,e),this.connected=!1,this.initialized=!1}},E2=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Ft(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw rc(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new vQ,i=this.rpcTimeoutDuration)=>new Promise((s,a)=>setTimeout(()=>{a(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{this.walletProvider?.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||H1,this._subscriptions=[]}};const RQ=t=>{let[e,n]=R.useState("auto");return R.useEffect(()=>{let r=new ResizeObserver(i=>{n(i[0]?.contentRect.height??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e},dSe=$t.div`
  text-align: left;
  flex-grow: 1;
`,hSe=$t.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  flex-grow: 1;
`,$Q=$t.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  /* for Internet Explorer, Edge */
  -ms-overflow-style: none;

  /* for Firefox */
  scrollbar-width: none;

  /* for Chrome, Safari, and Opera */
  &::-webkit-scrollbar {
    display: none;
  }
`,fSe=$t($Q)`
  ${t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0}

  background-repeat: no-repeat;
  background-size:
    100% 32px,
    100% 16px;
  background-attachment: local, scroll;
  max-height: 400px;
  overflow-y: auto;
  scrollbar-width: none;
  padding: 3px;
`;let Sk=Xh`
  && {
    width: 100%;
    font-size: 16px;
    line-height: 24px;
    min-height: 56px;

    /* Tablet and Up */
    @media (min-width: 440px) {
      font-size: 14px;
    }

    display: flex;
    gap: 12px;
    align-items: center;
    color: var(--privy-color-foreground);

    padding: 10px 12px;
    border: 1px solid var(--privy-color-foreground-4) !important;
    border-radius: var(--privy-border-radius-md);
    transition: background-color 200ms ease;

    cursor: pointer;

    &:hover {
      background-color: var(--privy-color-background-2);
    }

    &:disabled {
      cursor: pointer;
      background-color: var(--privy-color-background-2);
    }
  }
`;const pSe=$t.div`
  text-align: center;
  font-size: 14px;
  margin-bottom: 24px;
`,mSe=$t.button.attrs({className:"login-method-button"})`
  ${Sk}
`;$t.a`
  ${Sk}
`;const gSe=$t.div`
  width: 32px;
  height: 32px;
  border-radius: ${t=>t.$fullSize?"0":"4px"};
  background: ${t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;

  svg {
    width: ${t=>t.$fullSize?"32px":"18px"};
    height: ${t=>t.$fullSize?"32px":"18px"};
    color: ${t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"};
  }
`,Ik=$t.div`
  width: 100%;
  height: 100%;
  min-height: inherit;
  display: flex;
  flex-direction: column;
  ${t=>t.$if?"display: none;":""}
`,ySe=$t.div`
  width: 100%;
  height: 100%;
  padding: ${t=>t.$withPadding?"64px 0px":"0px"};
`,wSe=$t.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 32px;
  gap: 12px;
  & h3 {
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }
  & p {
    max-width: 300px;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }
`,bSe=({success:t,fail:e})=>g.jsxs(MQ,{children:[g.jsx(M9,{children:g.jsx(NQ,{className:t?"success":e?"fail":""})}),g.jsx(M9,{children:g.jsx(e3,{className:t?"success":e?"fail":""})})]});let M9=$t.span`
  && {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
`,MQ=$t.span`
  position: relative;
  width: 82px;
  height: 82px;
  display: inline-block;
`;const e3=$t.span`
  && {
    width: 82px;
    height: 82px;
    border-width: 4px;
    border-style: solid;
    border-color: ${t=>t.color??"var(--privy-color-icon-subtle)"};
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1.2s linear infinite;
    transition: border-color 800ms;
  }

  @keyframes rotation {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  &&&.success {
    border-color: var(--privy-color-icon-success);
    border-bottom-color: var(--privy-color-icon-success);
  }

  &&&.fail {
    border-color: var(--privy-color-icon-error);
    border-bottom-color: var(--privy-color-icon-error);
  }
`,NQ=$t(e3)`
  && {
    border-bottom-color: ${t=>t.color??"var(--privy-color-border-default)"};
    border-color: ${t=>t.color??"var(--privy-color-border-default)"};
    animation: none;
    opacity: 0.5;
  }
`,vSe=t=>g.jsx(DQ,{color:t.color||"var(--privy-color-foreground-3)"});let DQ=$t(e3)`
  && {
    height: 1rem;
    width: 1rem;
    margin: 2px 0;
    border-width: 1.5px;

    /* Override default Loader to match button transitions */
    transition: border-color 200ms ease;
  }
`;const jQ=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],Tk=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:k9?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Lu({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:k9?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Lu({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=Lu({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Lu({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${Lu({client:this.client,isSolana:t,connectOnly:e})}`}}});function UQ({connectorType:t,walletClientType:e}){for(let n of jQ)if(t===n||e===n)return Tk[n]}function Lu({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let BQ=class extends xQ{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new E2(void 0,H1),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function FQ(t){return t.chainType==="solana"}function zQ(t){return t.type==="solana"}let kk=R.createContext({});const WQ=({children:t})=>{let e=pi(),[n,r]=R.useState({});return tf("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Me.put(N9(e.id),i.type),i.type==="wallet"?(Me.put(F6(e.id),i.walletClientType),Me.put(z6(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Me.del(F6(e.id)),Me.del(z6(e.id)),r({accountType:i.type})))}}),R.useEffect(()=>{if(!e.id)return;let i=Me.get(N9(e.id)),s=Me.get(F6(e.id)),a=Me.get(z6(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})},[e.id]),g.jsx(kk.Provider,{value:n,children:t})};let N9=t=>`privy:${t}:recent-login-method`,F6=t=>`privy:${t}:recent-login-wallet-client`,z6=t=>`privy:${t}:recent-login-chain-type`;const CSe=()=>R.useContext(kk);let VQ=class extends C2{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new E2(void 0,H1),this.id=e,this.name=n,this.icon=r}};const HQ=({...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[g.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),g.jsx("g",{transform:"translate(4, 4)",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[g.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),g.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),g.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),g.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),g.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),g.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),g.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),g.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),g.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),g.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),g.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),g.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),g.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function qQ(t){let{login:e}=R.useContext(_2);return tf("login",t),{login:e}}function xSe(t){let{logout:e}=R.useContext(_2);return tf("logout",t),{logout:e}}const ZQ=ec(()=>({isModalOpen:!1,resolvers:null}));ec(()=>({}));const ASe=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Me.put(GQ(n),r),ZQ.setState({wallet:r})},GQ=t=>`privy:${t}:active-wallet-connection`;class qs{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new qs("CBWSDK").clear(),new qs("walletlink").clear()}}const Yt={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},By={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Pk="Unspecified error message.",KQ="Unspecified server error.";function F8(t,e=Pk){if(t&&Number.isInteger(t)){const n=t.toString();if(Fy(By,n))return By[n].message;if(Ok(t))return KQ}return e}function YQ(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(By[e]||Ok(t))}function JQ(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Fy(t,"code")&&YQ(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,Fy(r,"data")&&(n.data=r.data)):(n.message=F8(n.code),n.data={originalError:D9(t)})}else n.code=Yt.rpc.internal,n.message=j9(t,"message")?t.message:Pk,n.data={originalError:D9(t)};return e&&(n.stack=j9(t,"stack")?t.stack:void 0),n}function Ok(t){return t>=-32099&&t<=-32e3}function D9(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Fy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j9(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const ut={rpc:{parse:t=>vi(Yt.rpc.parse,t),invalidRequest:t=>vi(Yt.rpc.invalidRequest,t),invalidParams:t=>vi(Yt.rpc.invalidParams,t),methodNotFound:t=>vi(Yt.rpc.methodNotFound,t),internal:t=>vi(Yt.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return vi(e,t)},invalidInput:t=>vi(Yt.rpc.invalidInput,t),resourceNotFound:t=>vi(Yt.rpc.resourceNotFound,t),resourceUnavailable:t=>vi(Yt.rpc.resourceUnavailable,t),transactionRejected:t=>vi(Yt.rpc.transactionRejected,t),methodNotSupported:t=>vi(Yt.rpc.methodNotSupported,t),limitExceeded:t=>vi(Yt.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>U2(Yt.provider.userRejectedRequest,t),unauthorized:t=>U2(Yt.provider.unauthorized,t),unsupportedMethod:t=>U2(Yt.provider.unsupportedMethod,t),disconnected:t=>U2(Yt.provider.disconnected,t),chainDisconnected:t=>U2(Yt.provider.chainDisconnected,t),unsupportedChain:t=>U2(Yt.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Mk(e,n,r)}}};function vi(t,e){const[n,r]=Rk(e);return new $k(t,n||F8(t),r)}function U2(t,e){const[n,r]=Rk(e);return new Mk(t,n||F8(t),r)}function Rk(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class $k extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class Mk extends $k{constructor(e,n,r){if(!XQ(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function XQ(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function z8(){return t=>t}const ch=z8(),QQ=z8(),eee=z8();function Ea(t){return Math.floor(t)}const Nk=/^[0-9]*$/,Dk=/^[a-f0-9]*$/;function Lc(t){return W8(crypto.getRandomValues(new Uint8Array(t)))}function W8(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Dp(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function wd(t,e=!1){const n=t.toString("hex");return ch(e?`0x${n}`:n)}function W6(t){return wd(zy(t),!0)}function _s(t){return eee(t.toString(10))}function Do(t){return ch(`0x${BigInt(t).toString(16)}`)}function jk(t){return t.startsWith("0x")||t.startsWith("0X")}function V8(t){return jk(t)?t.slice(2):t}function Uk(t){return jk(t)?`0x${t.slice(2)}`:`0x${t}`}function t3(t){if(typeof t!="string")return!1;const e=V8(t).toLowerCase();return Dk.test(e)}function tee(t,e=!1){if(typeof t=="string"){const n=V8(t).toLowerCase();if(Dk.test(n))return ch(e?`0x${n}`:n)}throw ut.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function H8(t,e=!1){let n=tee(t,!1);return n.length%2===1&&(n=ch(`0${n}`)),e?ch(`0x${n}`):n}function no(t){if(typeof t=="string"){const e=V8(t).toLowerCase();if(t3(e)&&e.length===40)return QQ(Uk(e))}throw ut.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function zy(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(t3(t)){const e=H8(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw ut.rpc.invalidParams(`Not binary data: ${String(t)}`)}function bd(t){if(typeof t=="number"&&Number.isInteger(t))return Ea(t);if(typeof t=="string"){if(Nk.test(t))return Ea(Number(t));if(t3(t))return Ea(Number(BigInt(H8(t,!0))))}throw ut.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Su(t){if(t!==null&&(typeof t=="bigint"||ree(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(bd(t));if(typeof t=="string"){if(Nk.test(t))return BigInt(t);if(t3(t))return BigInt(H8(t,!0))}throw ut.rpc.invalidParams(`Not an integer: ${String(t)}`)}function nee(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw ut.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function ree(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function iee(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function see(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function aee(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function oee(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Bk(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Fk(t,e){const n=Bk(t),r=await crypto.subtle.exportKey(n,e);return W8(new Uint8Array(r))}async function zk(t,e){const n=Bk(t),r=Dp(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function cee(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return aee(e,n)}async function lee(t,e){return JSON.parse(await oee(e,t))}const V6={storageKey:"ownPrivateKey",keyType:"private"},H6={storageKey:"ownPublicKey",keyType:"public"},q6={storageKey:"peerPublicKey",keyType:"public"};class uee{constructor(){this.storage=new qs("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(q6,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(H6.storageKey),this.storage.removeItem(V6.storageKey),this.storage.removeItem(q6.storageKey)}async generateKeyPair(){const e=await iee();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(V6,e.privateKey),await this.storeKey(H6,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(V6)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(H6)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(q6)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await see(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?zk(e.keyType,n):null}async storeKey(e,n){const r=await Fk(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const nf="4.3.2",Wk="@coinbase/wallet-sdk";async function q8(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":nf,"X-Cbw-Sdk-Platform":Wk}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function dee(){return globalThis.coinbaseWalletExtension}function hee(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function fee({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const c=dee();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,a,e),c}const o=hee();if(o?.isCoinbaseBrowser)return(r=o.setAppInfo)===null||r===void 0||r.call(o,i,s,a,e),o}function pee(t){if(!t||typeof t!="object"||Array.isArray(t))throw ut.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw ut.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ut.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw ut.provider.unsupportedMethod()}}const U9="accounts",B9="activeChain",F9="availableChains",z9="walletCapabilities";class mee{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new uee,this.storage=new qs("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(U9))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(B9)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),o=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in o.content)throw o.content.failure;const c=await zk("public",o.sender);await this.keyManager.setPeerPublicKey(c);const u=(await this.decryptResponseMessage(o)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const d=u.value;this.accounts=d,this.storage.storeObject(U9,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw ut.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Do(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Do(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(z9);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw ut.rpc.internal("No RPC URL set for chain");return q8(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw ut.rpc.invalidParams();const i=bd(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw ut.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await cee({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Fk("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw ut.provider.unauthorized("Invalid session");const a=await lee(i.encrypted,s),o=(n=a.data)===null||n===void 0?void 0:n.chains;if(o){const l=Object.entries(o).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(F9,l),this.updateChain(this.chain.id,l)}const c=(r=a.data)===null||r===void 0?void 0:r.capabilities;return c&&this.storage.storeObject(z9,c),a}updateChain(e,n){var r;const i=n??this.storage.loadObject(F9),s=i?.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(B9,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Do(s.id))),!0):!1}}var It={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.output=Pn.exists=Pn.hash=Pn.bytes=Pn.bool=Pn.number=Pn.isBytes=void 0;function D0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}Pn.number=D0;function Vk(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}Pn.bool=Vk;function Hk(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}Pn.isBytes=Hk;function Z8(t,...e){if(!Hk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}Pn.bytes=Z8;function qk(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");D0(t.outputLen),D0(t.blockLen)}Pn.hash=qk;function Zk(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Pn.exists=Zk;function Gk(t,e){Z8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Pn.output=Gk;const gee={number:D0,bool:Vk,bytes:Z8,hash:qk,exists:Zk,output:Gk};Pn.default=gee;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.add5L=Be.add5H=Be.add4H=Be.add4L=Be.add3H=Be.add3L=Be.add=Be.rotlBL=Be.rotlBH=Be.rotlSL=Be.rotlSH=Be.rotr32L=Be.rotr32H=Be.rotrBL=Be.rotrBH=Be.rotrSL=Be.rotrSH=Be.shrSL=Be.shrSH=Be.toBig=Be.split=Be.fromBig=void 0;const Vf=BigInt(2**32-1),Wy=BigInt(32);function G8(t,e=!1){return e?{h:Number(t&Vf),l:Number(t>>Wy&Vf)}:{h:Number(t>>Wy&Vf)|0,l:Number(t&Vf)|0}}Be.fromBig=G8;function Kk(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=G8(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}Be.split=Kk;const Yk=(t,e)=>BigInt(t>>>0)<<Wy|BigInt(e>>>0);Be.toBig=Yk;const Jk=(t,e,n)=>t>>>n;Be.shrSH=Jk;const Xk=(t,e,n)=>t<<32-n|e>>>n;Be.shrSL=Xk;const Qk=(t,e,n)=>t>>>n|e<<32-n;Be.rotrSH=Qk;const eP=(t,e,n)=>t<<32-n|e>>>n;Be.rotrSL=eP;const tP=(t,e,n)=>t<<64-n|e>>>n-32;Be.rotrBH=tP;const nP=(t,e,n)=>t>>>n-32|e<<64-n;Be.rotrBL=nP;const rP=(t,e)=>e;Be.rotr32H=rP;const iP=(t,e)=>t;Be.rotr32L=iP;const sP=(t,e,n)=>t<<n|e>>>32-n;Be.rotlSH=sP;const aP=(t,e,n)=>e<<n|t>>>32-n;Be.rotlSL=aP;const oP=(t,e,n)=>e<<n-32|t>>>64-n;Be.rotlBH=oP;const cP=(t,e,n)=>t<<n-32|e>>>64-n;Be.rotlBL=cP;function lP(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}Be.add=lP;const uP=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Be.add3L=uP;const dP=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Be.add3H=dP;const hP=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Be.add4L=hP;const fP=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Be.add4H=fP;const pP=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Be.add5L=pP;const mP=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0;Be.add5H=mP;const yee={fromBig:G8,split:Kk,toBig:Yk,shrSH:Jk,shrSL:Xk,rotrSH:Qk,rotrSL:eP,rotrBH:tP,rotrBL:nP,rotr32H:rP,rotr32L:iP,rotlSH:sP,rotlSL:aP,rotlBH:oP,rotlBL:cP,add:lP,add3L:uP,add3H:dP,add4L:hP,add4H:fP,add5H:mP,add5L:pP};Be.default=yee;var gP={},n3={};Object.defineProperty(n3,"__esModule",{value:!0});n3.crypto=void 0;n3.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=n3,n=Pn;function r(P){return P instanceof Uint8Array||P!=null&&typeof P=="object"&&P.constructor.name==="Uint8Array"}t.isBytes=r;const i=P=>new Uint8Array(P.buffer,P.byteOffset,P.byteLength);t.u8=i;const s=P=>new Uint32Array(P.buffer,P.byteOffset,Math.floor(P.byteLength/4));t.u32=s;const a=P=>new DataView(P.buffer,P.byteOffset,P.byteLength);t.createView=a;const o=(P,T)=>P<<32-T|P>>>T;t.rotr=o;const c=(P,T)=>P<<T|P>>>32-T>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const l=P=>P<<24&4278190080|P<<8&16711680|P>>>8&65280|P>>>24&255;t.byteSwap=l,t.byteSwapIfBE=t.isLE?P=>P:P=>(0,t.byteSwap)(P);function u(P){for(let T=0;T<P.length;T++)P[T]=(0,t.byteSwap)(P[T])}t.byteSwap32=u;const d=Array.from({length:256},(P,T)=>T.toString(16).padStart(2,"0"));function h(P){(0,n.bytes)(P);let T="";for(let U=0;U<P.length;U++)T+=d[P[U]];return T}t.bytesToHex=h;const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(P){if(P>=f._0&&P<=f._9)return P-f._0;if(P>=f._A&&P<=f._F)return P-(f._A-10);if(P>=f._a&&P<=f._f)return P-(f._a-10)}function m(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);const T=P.length,U=T/2;if(T%2)throw new Error("padded hex string expected, got unpadded hex of length "+T);const v=new Uint8Array(U);for(let E=0,O=0;E<U;E++,O+=2){const k=p(P.charCodeAt(O)),$=p(P.charCodeAt(O+1));if(k===void 0||$===void 0){const j=P[O]+P[O+1];throw new Error('hex string expected, got non-hex character "'+j+'" at index '+O)}v[E]=k*16+$}return v}t.hexToBytes=m;const y=async()=>{};t.nextTick=y;async function C(P,T,U){let v=Date.now();for(let E=0;E<P;E++){U(E);const O=Date.now()-v;O>=0&&O<T||(await(0,t.nextTick)(),v+=O)}}t.asyncLoop=C;function L(P){if(typeof P!="string")throw new Error(`utf8ToBytes expected string, got ${typeof P}`);return new Uint8Array(new TextEncoder().encode(P))}t.utf8ToBytes=L;function w(P){return typeof P=="string"&&(P=L(P)),(0,n.bytes)(P),P}t.toBytes=w;function b(...P){let T=0;for(let v=0;v<P.length;v++){const E=P[v];(0,n.bytes)(E),T+=E.length}const U=new Uint8Array(T);for(let v=0,E=0;v<P.length;v++){const O=P[v];U.set(O,E),E+=O.length}return U}t.concatBytes=b;class A{clone(){return this._cloneInto()}}t.Hash=A;const _={}.toString;function I(P,T){if(T!==void 0&&_.call(T)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(P,T)}t.checkOpts=I;function M(P){const T=v=>P().update(w(v)).digest(),U=P();return T.outputLen=U.outputLen,T.blockLen=U.blockLen,T.create=()=>P(),T}t.wrapConstructor=M;function D(P){const T=(v,E)=>P(E).update(w(v)).digest(),U=P({});return T.outputLen=U.outputLen,T.blockLen=U.blockLen,T.create=v=>P(v),T}t.wrapConstructorWithOpts=D;function B(P){const T=(v,E)=>P(E).update(w(v)).digest(),U=P({});return T.outputLen=U.outputLen,T.blockLen=U.blockLen,T.create=v=>P(v),T}t.wrapXOFConstructorWithOpts=B;function W(P=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(P));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=W})(gP);Object.defineProperty(It,"__esModule",{value:!0});It.shake256=It.shake128=It.keccak_512=It.keccak_384=It.keccak_256=It.keccak_224=It.sha3_512=It.sha3_384=It.sha3_256=It.sha3_224=It.Keccak=It.keccakP=void 0;const B2=Pn,lh=Be,ba=gP,yP=[],wP=[],bP=[],wee=BigInt(0),Iu=BigInt(1),bee=BigInt(2),vee=BigInt(7),_ee=BigInt(256),Cee=BigInt(113);for(let t=0,e=Iu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],yP.push(2*(5*r+n)),wP.push((t+1)*(t+2)/2%64);let i=wee;for(let s=0;s<7;s++)e=(e<<Iu^(e>>vee)*Cee)%_ee,e&bee&&(i^=Iu<<(Iu<<BigInt(s))-Iu);bP.push(i)}const[Eee,xee]=(0,lh.split)(bP,!0),W9=(t,e,n)=>n>32?(0,lh.rotlBH)(t,e,n):(0,lh.rotlSH)(t,e,n),V9=(t,e,n)=>n>32?(0,lh.rotlBL)(t,e,n):(0,lh.rotlSL)(t,e,n);function vP(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=W9(l,u,1)^n[o],h=V9(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=wP[a],c=W9(i,s,o),l=V9(i,s,o),u=yP[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Eee[r],t[1]^=xee[r]}n.fill(0)}It.keccakP=vP;let K8=class _P extends ba.Hash{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,B2.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,ba.u32)(this.state)}keccak(){ba.isLE||(0,ba.byteSwap32)(this.state32),vP(this.state32,this.rounds),ba.isLE||(0,ba.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,B2.exists)(this);const{blockLen:n,state:r}=this;e=(0,ba.toBytes)(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,B2.exists)(this,!1),(0,B2.bytes)(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,B2.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,B2.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new _P(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};It.Keccak=K8;const ic=(t,e,n)=>(0,ba.wrapConstructor)(()=>new K8(e,t,n));It.sha3_224=ic(6,144,224/8);It.sha3_256=ic(6,136,256/8);It.sha3_384=ic(6,104,384/8);It.sha3_512=ic(6,72,512/8);It.keccak_224=ic(1,144,224/8);It.keccak_256=ic(1,136,256/8);It.keccak_384=ic(1,104,384/8);It.keccak_512=ic(1,72,512/8);const CP=(t,e,n)=>(0,ba.wrapXOFConstructorWithOpts)((r={})=>new K8(e,t,r.dkLen===void 0?n:r.dkLen,!0));It.shake128=CP(31,168,128/8);It.shake256=CP(31,136,256/8);const{keccak_256:Aee}=It;function EP(t){return Buffer.allocUnsafe(t).fill(0)}function Lee(t){return t.toString(2).length}function xP(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function See(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function AP(t,e,n){const r=EP(e);return t=r3(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function Iee(t,e){return AP(t,e,!0)}function r3(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")LP(t)?t=Buffer.from(Pee(SP(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=xP(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Tee(t){return t=r3(t),"0x"+t.toString("hex")}function kee(t,e){if(t=r3(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(Aee(new Uint8Array(t)))}function Pee(t){return t.length%2?"0"+t:t}function LP(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function SP(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var IP={zeros:EP,setLength:AP,setLengthRight:Iee,isHexString:LP,stripHexPrefix:SP,toBuffer:r3,bufferToHex:Tee,keccak:kee,bitLengthFromBigInt:Lee,bufferBEFromBigInt:xP,twosFromBigInt:See};const wr=IP;function TP(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function _l(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function H9(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function kP(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function Sc(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function Os(t,e){var n,r,i,s;if(t==="address")return Os("uint160",Sc(e));if(t==="bool")return Os("uint8",e?1:0);if(t==="string")return Os("bytes",new Buffer(e,"utf8"));if(Ree(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=kP(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Os(t,e[s]));if(n==="dynamic"){var a=Os("uint256",e.length);i.unshift(a)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Os("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,wr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=_l(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return wr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=_l(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Sc(e);const o=wr.bitLengthFromBigInt(r);if(o>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+o);if(r<0)throw new Error("Supplied uint is negative");return wr.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=_l(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Sc(e);const o=wr.bitLengthFromBigInt(r);if(o>n)throw new Error("Supplied int exceeds width: "+n+" vs "+o);const c=wr.twosFromBigInt(r,256);return wr.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(n=H9(t),r=Sc(e),r<0)throw new Error("Supplied ufixed is negative");return Os("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=H9(t),Os("int256",Sc(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function Oee(t){return t==="string"||t==="bytes"||kP(t)==="dynamic"}function Ree(t){return t.lastIndexOf("]")===t.length-1}function $ee(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var a=TP(t[s]),o=e[s],c=Os(a,o);Oee(a)?(n.push(Os("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function PP(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var a=TP(t[s]),o=e[s];if(a==="bytes")i.push(o);else if(a==="string")i.push(new Buffer(o,"utf8"));else if(a==="bool")i.push(new Buffer(o?"01":"00","hex"));else if(a==="address")i.push(wr.setLength(o,20));else if(a.startsWith("bytes")){if(n=_l(a),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(wr.setLengthRight(o,n))}else if(a.startsWith("uint")){if(n=_l(a),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=Sc(o);const c=wr.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(wr.bufferBEFromBigInt(r,n/8))}else if(a.startsWith("int")){if(n=_l(a),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=Sc(o);const c=wr.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const l=wr.twosFromBigInt(r,n);i.push(wr.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(i)}function Mee(t,e){return wr.keccak(PP(t,e))}var Nee={rawEncode:$ee,solidityPack:PP,soliditySHA3:Mee};const Yi=IP,vd=Nee,OP={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Z6={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const a=(o,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Yi.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${o} of type ${c}`);if(c==="bytes")return["bytes32",Yi.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Yi.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),d=l.map(h=>a(o,u,h));return["bytes32",Yi.keccak(vd.rawEncode(d.map(([h])=>h),d.map(([,h])=>h)))]}return[c,l]};for(const o of n[t]){const[c,l]=a(o.name,o.type,e[o.name]);i.push(c),s.push(l)}}else for(const a of n[t]){let o=e[a.name];if(o!==void 0)if(a.type==="bytes")i.push("bytes32"),o=Yi.keccak(o),s.push(o);else if(a.type==="string")i.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=Yi.keccak(o),s.push(o);else if(n[a.type]!==void 0)i.push("bytes32"),o=Yi.keccak(this.encodeData(a.type,o,n,r)),s.push(o);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),s.push(o)}}return vd.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:a,type:o})=>o+" "+a).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Yi.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Yi.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in OP.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Yi.keccak(Buffer.concat(r))}};var Dee={TYPED_MESSAGE_SCHEMA:OP,TypedDataUtils:Z6,hashForSignTypedDataLegacy:function(t){return jee(t.data)},hashForSignTypedData_v3:function(t){return Z6.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Z6.hash(t.data)}};function jee(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Yi.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return vd.soliditySHA3(["bytes32","bytes32"],[vd.soliditySHA3(new Array(t.length).fill("string"),i),vd.soliditySHA3(r,n)])}const Hf=y2(Dee),Uee="walletUsername",Vy="Addresses",Bee="AppVersion";function qn(t){return t.errorMessage!==void 0}class Fee{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Dp(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),o=16,c=a.slice(a.byteLength-o),l=a.slice(0,a.byteLength-o),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...r,...u,...d]);return W8(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Dp(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=Dp(e),o=a.slice(0,12),c=a.slice(12,28),l=a.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(d,s,u),f=new TextDecoder;r(f.decode(h))}catch(h){i(h)}})()})}}class zee{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var ka;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(ka||(ka={}));class Wee{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,ka.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,ka.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,ka.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var a,o;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,ka.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const q9=1e4,Vee=6e4;class Hee{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Ea(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",o=>s.JsonRpcUrl&&this.handleChainUpdated(o,s.JsonRpcUrl)]]).forEach((o,c)=>{const l=s[c];l!==void 0&&o(l)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const o=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(o)},this.handleMetadataUpdated=async(s,a)=>{var o;const c=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Uee,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Bee,s)},this.handleChainUpdated=async(s,a)=>{var o;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.chainUpdated(c,l)},this.session=e,this.cipher=new Fee(e.secret),this.listener=r;const i=new Wee(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case ka.DISCONNECTED:if(!this.destroyed){const o=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{o()})};o()}break;case ka.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},q9),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case ka.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const o=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=o||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new zee(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Ea(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Ea(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>q9*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Vee}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Ea(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Ea(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Ea(this.nextReqId++),sessionId:this.session.id}),!0)}}class qee{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Uk(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function Zee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Y8(t,...e){if(!Zee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Z9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gee(t,e){Y8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Cs=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Kee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yee(t){Y8(t);let e="";for(let n=0;n<t.length;n++)e+=Kee[t[n]];return e}function Jee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function RP(t){return typeof t=="string"&&(t=Jee(t)),Y8(t),t}let Xee=class{clone(){return this._cloneInto()}};function Qee(t){const e=r=>t().update(RP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ete(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}const tte=(t,e,n)=>t&e^~t&n,nte=(t,e,n)=>t&e^t&n^e&n;let rte=class extends Xee{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=G6(this.buffer)}update(e){Z9(this);const{view:n,buffer:r,blockLen:i}=this;e=RP(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=G6(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Z9(this),Gee(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;ete(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=G6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const ite=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ro=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),io=new Uint32Array(64);let ste=class extends rte{constructor(){super(64,32,8,!1),this.A=ro[0]|0,this.B=ro[1]|0,this.C=ro[2]|0,this.D=ro[3]|0,this.E=ro[4]|0,this.F=ro[5]|0,this.G=ro[6]|0,this.H=ro[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)io[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=io[d-15],f=io[d-2],p=Cs(h,7)^Cs(h,18)^h>>>3,m=Cs(f,17)^Cs(f,19)^f>>>10;io[d]=m+io[d-7]+p+io[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Cs(o,6)^Cs(o,11)^Cs(o,25),f=u+h+tte(o,c,l)+ite[d]+io[d]|0,m=(Cs(r,2)^Cs(r,13)^Cs(r,22))+nte(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){io.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const ate=Qee(()=>new ste),G9="session:id",K9="session:secret",Y9="session:linked";class Cl{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=Yee(ate(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Lc(16),r=Lc(32);return new Cl(e,n,r).save()}static load(e){const n=e.getItem(G9),r=e.getItem(Y9),i=e.getItem(K9);return n&&i?new Cl(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(G9,this.id),this.storage.setItem(K9,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Y9,this._linked?"1":"0")}}function ote(){try{return window.frameElement!==null}catch{return!1}}function cte(){try{return ote()&&window.top?window.top.location:window.location}catch{return window.location}}function lte(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function $P(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const ute='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function MP(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(ute)),document.documentElement.appendChild(t)}function NP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=NP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _d(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=NP(t))&&(r&&(r+=" "),r+=e);return r}var i3,zt,DP,Ic,J9,jP,Hy,J8,qy,Zy,uh={},UP=[],dte=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X8=Array.isArray;function jo(t,e){for(var n in e)t[n]=e[n];return t}function BP(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ct(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?i3.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return jp(t,a,r,i,null)}function jp(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++DP,__i:-1,__u:0};return i==null&&zt.vnode!=null&&zt.vnode(s),s}function s3(t){return t.children}function Up(t,e){this.props=t,this.context=e}function Yl(t,e){if(e==null)return t.__?Yl(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Yl(t):null}function FP(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return FP(t)}}function X9(t){(!t.__d&&(t.__d=!0)&&Ic.push(t)&&!j0.__r++||J9!==zt.debounceRendering)&&((J9=zt.debounceRendering)||jP)(j0)}function j0(){var t,e,n,r,i,s,a,o;for(Ic.sort(Hy);t=Ic.shift();)t.__d&&(e=Ic.length,r=void 0,s=(i=(n=t).__v).__e,a=[],o=[],n.__P&&((r=jo({},i)).__v=i.__v+1,zt.vnode&&zt.vnode(r),Q8(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??Yl(i),!!(32&i.__u),o),r.__v=i.__v,r.__.__k[r.__i]=r,VP(a,r,o),r.__e!=s&&FP(r)),Ic.length>e&&Ic.sort(Hy));j0.__r=0}function zP(t,e,n,r,i,s,a,o,c,l,u){var d,h,f,p,m,y=r&&r.__k||UP,C=e.length;for(n.__d=c,hte(n,e,y),c=n.__d,d=0;d<C;d++)(f=n.__k[d])!=null&&(h=f.__i===-1?uh:y[f.__i]||uh,f.__i=d,Q8(t,f,h,i,s,a,o,c,l,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&ew(h.ref,null,f),u.push(f.ref,f.__c||p,f)),m==null&&p!=null&&(m=p),65536&f.__u||h.__k===f.__k?c=WP(f,c,t):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:p&&(c=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function hte(t,e,n){var r,i,s,a,o,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+d,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?jp(null,i,null,null,null):X8(i)?jp(s3,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?jp(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(o=i.__i=fte(i,n,a,u))!==-1&&(u--,(s=n[o])&&(s.__u|=131072)),s==null||s.__v===null?(o==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):o!==a&&(o==a-1?d--:o==a+1?d++:(o>a?d--:d++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Yl(s)),HP(s,s))}function WP(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=WP(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Yl(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function fte(t,e,n,r){var i=t.key,s=t.type,a=n-1,o=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;a>=0||o<e.length;){if(a>=0){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a--}if(o<e.length){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o++}}return-1}function Q9(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||dte.test(e)?n:n+"px"}function qf(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Q9(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Q9(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=J8,t.addEventListener(e,s?Zy:qy,s)):t.removeEventListener(e,s?Zy:qy,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ev(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=J8++;else if(e.t<n.u)return;return n(zt.event?zt.event(e):e)}}}function Q8(t,e,n,r,i,s,a,o,c,l){var u,d,h,f,p,m,y,C,L,w,b,A,_,I,M,D,B=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[o=e.__e=n.__e]),(u=zt.__b)&&u(e);e:if(typeof B=="function")try{if(C=e.props,L="prototype"in B&&B.prototype.render,w=(u=B.contextType)&&r[u.__c],b=u?w?w.props.value:u.__:r,n.__c?y=(d=e.__c=n.__c).__=d.__E:(L?e.__c=d=new B(C,b):(e.__c=d=new Up(C,b),d.constructor=B,d.render=mte),w&&w.sub(d),d.props=C,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),L&&d.__s==null&&(d.__s=d.state),L&&B.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=jo({},d.__s)),jo(d.__s,B.getDerivedStateFromProps(C,d.__s))),f=d.props,p=d.state,d.__v=e,h)L&&B.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),L&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(L&&B.getDerivedStateFromProps==null&&C!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(C,b),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(C,d.__s,b)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=C,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(W){W&&(W.__=e)}),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(C,d.__s,b),L&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,p,m)})}if(d.context=b,d.props=C,d.__P=t,d.__e=!1,_=zt.__r,I=0,L){for(d.state=d.__s,d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[]}else do d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++I<25);d.state=d.__s,d.getChildContext!=null&&(r=jo(jo({},r),d.getChildContext())),L&&!h&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,p)),zP(t,X8(D=u!=null&&u.type===s3&&u.key==null?u.props.children:u)?D:[D],e,n,r,i,s,a,o,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),y&&(d.__E=d.__=null)}catch(W){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;o&&o.nodeType===8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else e.__e=n.__e,e.__k=n.__k;zt.__e(W,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=pte(n.__e,e,n,r,i,s,a,c,l);(u=zt.diffed)&&u(e)}function VP(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)ew(n[r],n[++r],n[++r]);zt.__c&&zt.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){zt.__e(s,i.__v)}})}function pte(t,e,n,r,i,s,a,o,c){var l,u,d,h,f,p,m,y=n.props,C=e.props,L=e.type;if(L==="svg"?i="http://www.w3.org/2000/svg":L==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((f=s[l])&&"setAttribute"in f==!!L&&(L?f.localName===L:f.nodeType===3)){t=f,s[l]=null;break}}if(t==null){if(L===null)return document.createTextNode(C);t=document.createElementNS(i,L,C.is&&C),o&&(zt.__m&&zt.__m(e,s),o=!1),s=null}if(L===null)y===C||o&&t.data===C||(t.data=C);else{if(s=s&&i3.call(t.childNodes),y=n.props||uh,!o&&s!=null)for(y={},l=0;l<t.attributes.length;l++)y[(f=t.attributes[l]).name]=f.value;for(l in y)if(f=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in C)){if(l=="value"&&"defaultValue"in C||l=="checked"&&"defaultChecked"in C)continue;qf(t,l,null,f,i)}}for(l in C)f=C[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?p=f:l=="checked"?m=f:o&&typeof f!="function"||y[l]===f||qf(t,l,f,y[l],i);if(u)o||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),zP(t,X8(h)?h:[h],e,n,r,L==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&Yl(n,0),o,c),s!=null)for(l=s.length;l--;)BP(s[l]);o||(l="value",L==="progress"&&p==null?t.removeAttribute("value"):p!==void 0&&(p!==t[l]||L==="progress"&&!p||L==="option"&&p!==y[l])&&qf(t,l,p,y[l],i),l="checked",m!==void 0&&m!==t[l]&&qf(t,l,m,y[l],i))}return t}function ew(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){zt.__e(i,n)}}function HP(t,e,n){var r,i;if(zt.unmount&&zt.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ew(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){zt.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&HP(r[i],e,n||typeof t.type!="function");n||BP(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function mte(t,e,n){return this.constructor(t,n)}function Gy(t,e,n){var r,i,s,a;zt.__&&zt.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],Q8(e,t=e.__k=Ct(s3,null,[t]),i||uh,uh,e.namespaceURI,i?null:e.firstChild?i3.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),VP(s,t,a)}i3=UP.slice,zt={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},DP=0,Up.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=jo({},this.state),typeof t=="function"&&(t=t(jo({},n),this.props)),t&&jo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),X9(this))},Up.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),X9(this))},Up.prototype.render=s3,Ic=[],jP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hy=function(t,e){return t.__v.__b-e.__v.__b},j0.__r=0,J8=0,qy=ev(!1),Zy=ev(!0);var dh,Qt,K6,tv,Ky=0,qP=[],cn=zt,nv=cn.__b,rv=cn.__r,iv=cn.diffed,sv=cn.__c,av=cn.unmount,ov=cn.__;function tw(t,e){cn.__h&&cn.__h(Qt,t,Ky||e),Ky=0;var n=Qt.__H||(Qt.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function cv(t){return Ky=1,gte(GP,t)}function gte(t,e,n){var r=tw(dh++,2);if(r.t=t,!r.__c&&(r.__=[GP(void 0,e),function(o){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,o);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Qt,!Qt.u)){var i=function(o,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,o,c,l);var d=!1;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),!(!d&&r.__c.props===o)&&(!s||s.call(this,o,c,l))};Qt.u=!0;var s=Qt.shouldComponentUpdate,a=Qt.componentWillUpdate;Qt.componentWillUpdate=function(o,c,l){if(this.__e){var u=s;s=void 0,i(o,c,l),s=u}a&&a.call(this,o,c,l)},Qt.shouldComponentUpdate=i}return r.__N||r.__}function yte(t,e){var n=tw(dh++,3);!cn.__s&&ZP(n.__H,e)&&(n.__=t,n.i=e,Qt.__H.__h.push(n))}function TSe(t,e){var n=tw(dh++,7);return ZP(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function wte(){for(var t;t=qP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Bp),t.__H.__h.forEach(Yy),t.__H.__h=[]}catch(e){t.__H.__h=[],cn.__e(e,t.__v)}}cn.__b=function(t){Qt=null,nv&&nv(t)},cn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ov&&ov(t,e)},cn.__r=function(t){rv&&rv(t),dh=0;var e=(Qt=t.__c).__H;e&&(K6===Qt?(e.__h=[],Qt.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Bp),e.__h.forEach(Yy),e.__h=[],dh=0)),K6=Qt},cn.diffed=function(t){iv&&iv(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(qP.push(e)!==1&&tv===cn.requestAnimationFrame||((tv=cn.requestAnimationFrame)||bte)(wte)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),K6=Qt=null},cn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Bp),n.__h=n.__h.filter(function(r){return!r.__||Yy(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],cn.__e(r,n.__v)}}),sv&&sv(t,e)},cn.unmount=function(t){av&&av(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Bp(r)}catch(i){e=i}}),n.__H=void 0,e&&cn.__e(e,n.__v))};var lv=typeof requestAnimationFrame=="function";function bte(t){var e,n=function(){clearTimeout(r),lv&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);lv&&(e=requestAnimationFrame(n))}function Bp(t){var e=Qt,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Qt=e}function Yy(t){var e=Qt;t.__c=t.__(),Qt=e}function ZP(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function GP(t,e){return typeof e=="function"?e(t):e}const vte=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",_te="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Cte="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class KP{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=$P()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&Gy(Ct("div",null,Ct(YP,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>Ct(Ete,Object.assign({},n,{key:e}))))),this.root)}}const YP=t=>Ct("div",{class:_d("-cbwsdk-snackbar-container")},Ct("style",null,vte),Ct("div",{class:"-cbwsdk-snackbar"},t.children)),Ete=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=cv(!0),[s,a]=cv(t??!1);yte(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const o=()=>{a(!s)};return Ct("div",{class:_d("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Ct("div",{class:"-cbwsdk-snackbar-instance-header",onClick:o},Ct("img",{src:_te,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Ct("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Ct("div",{class:"-gear-container"},!s&&Ct("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ct("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Ct("img",{src:Cte,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&Ct("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,l)=>Ct("div",{class:_d("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},Ct("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ct("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),Ct("span",{class:_d("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},JP="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class xte{constructor(){this.attached=!1,this.snackbar=new KP}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,MP()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:JP,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const Ate=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Lte{constructor(){this.root=null,this.darkMode=$P()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),MP()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(Gy(null,this.root),e&&Gy(Ct(Ste,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Ste=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return Ct(YP,{darkMode:n},Ct("div",{class:"-cbwsdk-redirect-dialog"},Ct("style",null,Ate),Ct("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),Ct("div",{class:_d("-cbwsdk-redirect-dialog-box",s)},Ct("p",null,t),Ct("button",{onClick:r},e))))},Ite="https://keys.coinbase.com/connect",Tte="https://rpc.wallet.coinbase.com",uv="https://www.walletlink.org",kte="https://go.cb-w.com/walletlink";class dv{constructor(){this.attached=!1,this.redirectDialog=new Lte}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(kte);n.searchParams.append("redirect_url",cte().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class xa{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=lte(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(Vy);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),xa.accountRequestCallbackIds.size>0&&(Array.from(xa.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),xa.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new qee,this.ui=r,this.ui.attach()}subscribe(){const e=Cl.load(this.storage)||Cl.create(this.storage),{linkAPIUrl:n}=this,r=new Hee({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new dv:new xte;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=Cl.load(this.storage);e?.id===this._session.id&&qs.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:_s(e.weiValue),data:wd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?_s(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?_s(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?_s(e.gasPriceInWei):null,gasLimit:e.gasLimit?_s(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:_s(e.weiValue),data:wd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?_s(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?_s(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?_s(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?_s(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:wd(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Lc(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,o=>{if(n?.(),qn(o))return a(new Error(o.errorMessage));s(o)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof dv)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){xa.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),xa.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Lc(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,o=>{if(qn(o))return a(new Error(o.errorMessage));s(o)}),xa.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const o={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let c=null;const l=Lc(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),qn(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,o)})}addEthereumChain(e,n,r,i,s,a){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let c=null;const l=Lc(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),qn(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,o)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Lc(8),a=o=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,o),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((o,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i?.(),qn(l)&&l.errorCode)return c(ut.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(qn(l))return c(new Error(l.errorMessage));o(l)}),this.publishWeb3RequestEvent(s,r)})}}xa.accountRequestCallbackIds=new Set;const hv="DefaultChainId",fv="DefaultJsonRpcUrl";class XP{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new qs("walletlink",uv),this.callback=e.callback||null;const n=this._storage.getItem(Vy);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>no(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(fv))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(fv,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(hv,n.toString(10)),bd(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Do(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw ut.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw ut.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw ut.rpc.invalidParams("Options are required");if(!n?.options.address)throw ut.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=n.options,l=await this.initializeRelay().watchAsset(n.type,i,s,o,a,r?.toString());return qn(l)?!1:!!l.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw ut.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw ut.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw ut.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=i,h=await a.addEthereumChain(s.toString(),o,u,c,l,d);if(qn(h))return!1;if(((r=h.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(o[0],s),null;throw ut.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(qn(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>no(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(Vy,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Do(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw ut.rpc.internal("No RPC URL set for chain");return q8(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=no(e);if(!this._addresses.map(i=>no(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?no(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?no(e.to):null,i=e.value!=null?Su(e.value):BigInt(0),s=e.data?zy(e.data):Buffer.alloc(0),a=e.nonce!=null?bd(e.nonce):null,o=e.gasPrice!=null?Su(e.gasPrice):null,c=e.maxFeePerGas!=null?Su(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?Su(e.maxPriorityFeePerGas):null,u=e.gas!=null?Su(e.gas):null,d=e.chainId?bd(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw ut.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:W6(r[0]),signature:W6(r[1]),addPrefix:n==="personal_ecRecover"}});if(qn(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(hv))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Do(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(qn(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Do(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw ut.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:no(n),message:W6(r),addPrefix:!0,typedDataJson:null}});if(qn(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(qn(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=zy(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(qn(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(qn(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw ut.rpc.invalidParams();const i=l=>{const u={eth_signTypedData_v1:Hf.hashForSignTypedDataLegacy,eth_signTypedData_v3:Hf.hashForSignTypedData_v3,eth_signTypedData_v4:Hf.hashForSignTypedData_v4,eth_signTypedData:Hf.hashForSignTypedData_v4};return wd(u[n]({data:nee(l)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:no(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(qn(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new xa({linkAPIUrl:uv,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const QP="SignerType",eO=new qs("CBWSDK","SignerConfigurator");function Pte(){return eO.getItem(QP)}function Ote(t){eO.setItem(QP,t)}async function Rte(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;Mte(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function $te(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new mee({metadata:n,callback:i,communicator:r});case"walletlink":return new XP({metadata:n,callback:i})}}async function Mte(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new XP({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Nte=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Dte=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Nte)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:jte,getCrossOriginOpenerPolicy:Ute}=Dte(),pv=420,mv=540,Bte={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:JP,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Fte="Popup was blocked. Try again.";let Zf=null;function zte(t){const e=(window.innerWidth-pv)/2+window.screenX,n=(window.innerHeight-mv)/2+window.screenY;Vte(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${pv}, height=${mv}, left=${e}, top=${n}`);return a?.focus(),a||null}let i=r();if(!i){const s=Hte();return new Promise((a,o)=>{s.presentItem({autoExpand:!0,message:Fte,menuItems:[Object.assign(Object.assign({},Bte),{onClick:()=>{i=r(),i?a(i):o(ut.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function Wte(t){t&&!t.closed&&t.close()}function Vte(t){const e={sdkName:Wk,sdkVersion:nf,origin:window.location.origin,coop:Ute()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function Hte(){if(!Zf){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Zf=new KP,Zf.attach(t)}return Zf}class qte{constructor({url:e=Ite,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const o=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:a})}),this.disconnect=()=>{Wte(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(ut.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await zte(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:nf,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw ut.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function Zte(t){const e=JQ(Gte(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",nf),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Gte(t){var e;if(typeof t=="string")return{message:t,code:Yt.rpc.internal};if(qn(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Yt.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class Kte extends v2{}var Yte=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Jte extends Kte{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=Yte(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new qte({url:i,metadata:n,preference:s});const a=Pte();a&&(this.signer=this.initSigner(a))}async request(e){try{if(pee(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,Ote(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return q8(e,Tte);case"net_version":return 1;case"eth_chainId":return Do(1);default:throw ut.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Yt.provider.unauthorized&&this.disconnect(),Promise.reject(Zte(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,qs.clearAll(),this.emit("disconnect",ut.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Rte({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return $te({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Xte(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function Qte(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=fee(n))!==null&&e!==void 0?e:new Jte(n)}const ene={options:"all"};function gv(t){var e;new qs("CBWSDK").setItem("VERSION",nf),jte();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(ene,(e=t.preference)!==null&&e!==void 0?e:{})};Xte(r.preference);let i=null;return{getProvider:()=>(i||(i=Qte(r)),i)}}function tne(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function nne(){const t=new Set;let e=[];const n=()=>tne(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const rne=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},tO=t=>window.open(t?.location,void 0,rne({w:440,h:680})),nO="/api/v1/sessions",rO="/api/v1/sessions/logout",ine="/api/v1/siwe/init",sne="/api/v1/siwe/authenticate",ane="/api/v1/siwe/link",one="/api/v1/siwe/link_smart_wallet",cne="/api/v1/siwe/unlink",lne="/api/v1/siwe/transfer",une="/api/v1/siws/init",dne="/api/v1/siws/authenticate",hne="/api/v1/siws/link",fne="/api/v1/siws/unlink",pne="/api/v1/siws/transfer",mne="/api/v1/farcaster/init",gne="/api/v1/farcaster/authenticate",yne="/api/v1/farcaster/link",wne="/api/v1/farcaster/status",bne="/api/v1/farcaster/unlink",vne="/api/v1/farcaster/transfer",_ne="/api/v1/passwordless/init",Cne="/api/v1/passwordless/authenticate",Ene="/api/v1/passwordless/link",xne="/api/v1/passwordless/unlink",Ane="/api/v1/passwordless/update",Lne="/api/v1/passwordless/transfer",Sne="/api/v1/passwordless_sms/init",Ine="/api/v1/passwordless_sms/link",Tne="/api/v1/passwordless_sms/unlink",kne="/api/v1/passwordless_sms/authenticate",Pne="/api/v1/passwordless_sms/update",One="/api/v1/passwordless_sms/transfer",iO="/api/v1/oauth/init",sO="/api/v1/oauth/authenticate",aO="/api/v1/oauth/link",Rne="/api/v1/oauth/unlink",$ne="/api/v1/oauth/transfer",kSe="/api/v1/recovery/oauth/init",PSe="/api/v1/recovery/oauth/init_icloud",OSe="/api/v1/recovery/oauth/authenticate",Mne="/api/v1/passkeys/link/init",Nne="/api/v1/passkeys/authenticate/init",Dne="/api/v1/passkeys/register/init",jne="/api/v1/passkeys/link",Une="/api/v1/passkeys/authenticate",Bne="/api/v1/passkeys/register",Fne="/api/v1/telegram/authenticate",zne="/api/v1/telegram/link",Wne="/api/v1/telegram/unlink",Vne="/api/v1/telegram/transfer",Hne="/api/v1/mfa/passwordless_sms/init",qne="/api/v1/mfa/passkeys/init",Zne="/api/v1/users/me/accept_terms",oO="/api/v1/analytics_events",Gne="/api/v1/custom_jwt_account/authenticate",Kne="/api/v1/custom_jwt_account/link",Yne="/api/v1/guest/authenticate",Jne="/api/v1/plugins/moonpay_on_ramp/sign",Xne="/api/v1/funding/coinbase_on_ramp/init",Qne="/api/v1/funding/coinbase_on_ramp/status",ere="/api/v1/wallets/revoke",tre="/api/v1/users/me",nre="/api/v1/scan/transaction";function cO(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function rre(t,e){let n=cO(e);if(ah&&pk&&n.universalLink)return U0(n.universalLink,t);if(n.deepLink)return uO(n.deepLink,t);if(n.universalLink)return U0(n.universalLink,t);throw new G(`Unsupported wallet ${e.id}`)}function yv(t,e){let n=cO(e);if(n.universalLink)return U0(n.universalLink,t)}let nw="WALLETCONNECT_DEEPLINK_CHOICE";function ire(){try{localStorage.removeItem(nw)}catch{}}function sre({href:t,name:e}){try{localStorage.setItem(nw,JSON.stringify({href:t,name:e}))}catch{}}function are(){try{localStorage.removeItem(nw)}catch{}}function lO(t){return t.startsWith("http://")||t.startsWith("https://")}function uO(t,e){if(lO(t))return U0(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function U0(t,e){if(!lO(t))return uO(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function dO(t,e){window.open(t,e,"noreferrer noopener")}const ore=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`,cre=Symbol("solana-funding-plugin"),lre=Symbol("solana-ledger-plugin"),rw=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e))??[],hO=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:o,walletIndex:c,chainType:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})=>{if(c===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ig(i,{request:{chain_type:l},headers:f?{"privy-idempotency-key":f}:void 0});else if(l==="ethereum"){let y=S8(t);y&&await a({address:y.address}),await n.create({accessToken:e,solanaAddress:y?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}else{if(l!=="solana")throw Error("Invalid input to create wallet");{let y=Mo(t);y&&await a({address:y.address}),await n.createSolana({accessToken:e,ethereumAddress:y?.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ig(i,{request:{chain_type:l}});else{let{entropyId:y,entropyIdVerifier:C}=To(t);await a(),await n.addWallet({accessToken:e,entropyId:y,entropyIdVerifier:C,chainType:l,hdWalletIndex:c})}let p=await r(),m=rw(p,{chainType:l,walletIndex:c})[0];return o(p),{user:p,account:m}},ure=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null);let wv=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:o,walletIndex:c,setModalData:l,openModal:u,chainType:d,setUser:h,idempotencyKey:f})=>{if(c<0)throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let p=rh(o);if(c>0&&!p)throw r("createWallet","onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",ne.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await bv({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});let m=rw(o,{chainType:d,walletIndex:c})[0];if(m)return{user:o,account:m};if(c===0&&!i)return bv({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});if(!i)throw r("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return hO({appConfig:e,walletIndex:c,chainType:d,user:o,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:h,idempotencyKey:f})},bv=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:a,account:o})=>{t("createWallet","onSuccess",{wallet:o}),i({user:a,account:o})},onFailure:a=>{t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")});const dre=()=>{let t=pi(),e=Q1(),{setModalData:n}=Vl(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:o,privy:c,client:l}=Ya();return{create:async({chainType:u,options:d,latestUser:h,idempotencyKey:f})=>{let p=h;if(p||(p=await o()),!p)throw e("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:m,getAccessToken:y,initializeWalletProxy:C,user:L,privy:w,emitPrivyEvent:b,recoverEmbeddedWallet:A,setModalData:_,openModal:I,setUser:M,options:D,timeoutDuration:B,refreshSessionAndUser:W,chainType:P,idempotencyKey:T})=>{let[U,v]=await Promise.all([C(B),y()]);if(!v||!L)throw b("createWallet","onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!U&&m.customAuth?.enabled)throw b("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(D&&"walletIndex"in D&&typeof D.walletIndex=="number"){if(m.embeddedWallets.mode==="user-controlled-server-wallets-only")throw b("createWallet","onError",ne.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return wv({accessToken:v,appConfig:m,privy:w,emitPrivyEvent:b,openModal:I,proxy:U,refreshSessionAndUser:W,recoverEmbeddedWallet:A,setModalData:_,user:L,walletIndex:D.walletIndex,chainType:P,setUser:M})}let E=D&&"createAdditional"in D&&D.createAdditional,O=rw(L,{chainType:P});if(O[0]&&!E)throw b("createWallet","onError",ne.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return wv({accessToken:v,appConfig:m,privy:w,emitPrivyEvent:b,openModal:I,proxy:U,recoverEmbeddedWallet:A,setModalData:_,user:L,walletIndex:(ure(O)?.walletIndex??-1)+1,chainType:P,refreshSessionAndUser:W,setUser:M,idempotencyKey:T})})({appConfig:t,privy:c,getAccessToken:()=>l.getAccessToken(),refreshSessionAndUser:o,initializeWalletProxy:r,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:d,timeoutDuration:FK,chainType:u,idempotencyKey:f})}}};function fO(t){let{create:e}=dre();return tf("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const hre=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:o,additionalSigners:c})=>{if(!i)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new G("User must be authenticated before linking an account.");let l=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(c&&l==="on-device")throw new G("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[u,d]=await Promise.all([e(),n(15e3)]);if(!d||!u)throw t("linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new G("User must be authenticated before linking an account.");let{address:h}=await d.importWallet({privateKey:a,accessToken:u,chainType:o,mode:l,additionalSigners:c}),f=await r(),p=Ey(f),m=p?.find(y=>y.address===h);if(!m)throw t("createWallet","onError",ne.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:m}),m},fre=()=>{let{user:t}=hu(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=Ya(),i=Q1(),s=pi();return{importWallet:R.useCallback(({privateKey:a,additionalSigners:o})=>hre({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:o}),[t,e,n,r,i,s])}},pO=()=>{let{importWallet:t}=fre(),{exportWallet:e}=LQ(),{createWallet:n}=fO();return{...R.useContext(_2),importWallet:t,createWallet:n,exportWallet:e}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pre(t,...e){if(!iw(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mO(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function hh(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function rf(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function B0(t){if(!Array.isArray(t))throw new Error("array expected")}function F0(t,e){if(!mO(!0,e))throw new Error(`${t}: array of strings expected`)}function gO(t,e){if(!mO(!1,e))throw new Error(`${t}: array of numbers expected`)}function sw(...t){const e=s=>s,n=(s,a)=>o=>s(a(o)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function aw(t){const e=typeof t=="string"?t.split(""):t,n=e.length;F0("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(B0(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(B0(i),i.map(s=>{hh("alphabet.decode",s);const a=r.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function ow(t=""){return hh("join",t),{encode:e=>(F0("join.decode",e),e.join(t)),decode:e=>(hh("join.decode",e),e.split(t))}}function yO(t,e="="){return rf(t),hh("padding",e),{encode(n){for(F0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){F0("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function vv(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(B0(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,o=>{if(rf(o),o<0||o>=e)throw new Error(`invalid integer: ${o}`);return o}),a=s.length;for(;;){let o=0,c=!0;for(let l=r;l<a;l++){const u=s[l],d=e*o,h=d+u;if(!Number.isSafeInteger(h)||d/e!==o||h-u!==d)throw new Error("convertRadix: carry overflow");const f=h/n;o=h%n;const p=Math.floor(f);if(s[l]=p,!Number.isSafeInteger(p)||p*n+o!==h)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=l;else continue}if(i.push(o),c)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}const wO=(t,e)=>e===0?t:wO(e,t%e),z0=(t,e)=>t+(e-wO(t,e)),Y6=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function _v(t,e,n,r){if(B0(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(z0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${z0(e,n)}`);let i=0,s=0;const a=Y6[e],o=Y6[n]-1,c=[];for(const l of t){if(rf(l),l>=a)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&o)>>>0);const u=Y6[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&o,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function mre(t){rf(t);const e=2**8;return{encode:n=>{if(!iw(n))throw new Error("radix.encode input should be Uint8Array");return vv(Array.from(n),e,t)},decode:n=>(gO("radix.decode",n),Uint8Array.from(vv(n,t,e)))}}function bO(t,e=!1){if(rf(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(z0(8,t)>32||z0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!iw(n))throw new Error("radix2.encode input should be Uint8Array");return _v(Array.from(n),8,t,!e)},decode:n=>(gO("radix2.decode",n),Uint8Array.from(_v(n,t,8,e)))}}const gre=sw(bO(5),aw("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yO(5),ow("")),yre=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",wre=(t,e)=>{hh("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},J6=yre?{encode(t){return pre(t),t.toBase64()},decode(t){return wre(t)}}:sw(bO(6),aw("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yO(6),ow("")),bre=t=>sw(mre(58),aw(t),ow("")),vre=bre("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var _re=Object.defineProperty,Cre=(t,e,n)=>e in t?_re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X6=(t,e,n)=>(Cre(t,typeof e!="symbol"?e+"":e,n),n);let Ere=class{constructor(){X6(this,"current",this.detect()),X6(this,"handoffState","pending"),X6(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Fs=new Ere;function sf(t){var e;return Fs.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function W0(t){var e,n;return Fs.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function cw(t){var e,n;return(n=(e=W0(t))==null?void 0:e.activeElement)!=null?n:null}function xre(t){return cw(t)===t}function a3(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ms(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return a3(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ms();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function o3(){let[t]=R.useState(ms);return R.useEffect(()=>()=>t.dispose(),[t]),t}let Vr=(t,e)=>{Fs.isServer?R.useEffect(t,e):R.useLayoutEffect(t,e)};function x2(t){let e=R.useRef(t);return Vr(()=>{e.current=t},[t]),e}let Lt=function(t){let e=x2(t);return Te.useCallback((...n)=>e.current(...n),[e])};function af(t){return R.useMemo(()=>t,Object.values(t))}let Are=R.createContext(void 0);function Lre(){return R.useContext(Are)}function Jy(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Va(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Va),r}var V0=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(V0||{}),Uo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Uo||{});function zi(){let t=Ire();return R.useCallback(e=>Sre({mergeRefs:t,...e}),[t])}function Sre({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??Tre;let c=vO(e,t);if(s)return Gf(c,n,r,a,o);let l=i??0;if(l&2){let{static:u=!1,...d}=c;if(u)return Gf(d,n,r,a,o)}if(l&1){let{unmount:u=!0,...d}=c;return Va(u?0:1,{0(){return null},1(){return Gf({...d,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return Gf(c,n,r,a,o)}function Gf(t,e={},n,r,i){let{as:s=n,children:a,refName:o="ref",...c}=Q6(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let h=!1,f=[];for(let[p,m]of Object.entries(e))typeof m=="boolean"&&(h=!0),m===!0&&f.push(p.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){d["data-headlessui-state"]=f.join(" ");for(let p of f)d[`data-${p}`]=""}}if(Cd(s)&&(Object.keys(_c(c)).length>0||Object.keys(_c(d)).length>0))if(!R.isValidElement(u)||Array.isArray(u)&&u.length>1||Pre(u)){if(Object.keys(_c(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(_c(c)).concat(Object.keys(_c(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,f=h?.className,p=typeof f=="function"?(...C)=>Jy(f(...C),c.className):Jy(f,c.className),m=p?{className:p}:{},y=vO(u.props,_c(Q6(c,["ref"])));for(let C in d)C in y&&delete d[C];return R.cloneElement(u,Object.assign({},y,d,l,{ref:i(kre(u),l.ref)},m))}return R.createElement(s,Object.assign({},Q6(c,["ref"]),!Cd(s)&&l,!Cd(s)&&d),u)}function Ire(){let t=R.useRef([]),e=R.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Tre(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function vO(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let o of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function $Se(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a?.(...i)}});return e}function Yr(t){var e;return Object.assign(R.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _c(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Q6(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function kre(t){return Te.version.split(".")[0]>="19"?t.props.ref:t.ref}function Cd(t){return t===R.Fragment||t===Symbol.for("react.fragment")}function Pre(t){return Cd(t.type)}let Ore="span";var H0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(H0||{});function Rre(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return zi()({ourProps:s,theirProps:i,slot:{},defaultTag:Ore,name:"Hidden"})}let Xy=Yr(Rre);function $re(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Da(t){return $re(t)&&"tagName"in t}function Zs(t){return Da(t)&&"accessKey"in t}function Pa(t){return Da(t)&&"tabIndex"in t}function Mre(t){return Da(t)&&"style"in t}function Nre(t){return Zs(t)&&t.nodeName==="IFRAME"}function Dre(t){return Zs(t)&&t.nodeName==="INPUT"}function MSe(t){return Zs(t)&&t.nodeName==="LABEL"}function NSe(t){return Zs(t)&&t.nodeName==="FIELDSET"}function DSe(t){return Zs(t)&&t.nodeName==="LEGEND"}function jSe(t){return Da(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let _O=Symbol();function jre(t,e=!0){return Object.assign(t,{[_O]:e})}function Qs(...t){let e=R.useRef(t);R.useEffect(()=>{e.current=t},[t]);let n=Lt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[_O])?void 0:n}let lw=R.createContext(null);lw.displayName="DescriptionContext";function CO(){let t=R.useContext(lw);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,CO),e}return t}function Ure(){let[t,e]=R.useState([]);return[t.length>0?t.join(" "):void 0,R.useMemo(()=>function(n){let r=Lt(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),c=o.indexOf(s);return c!==-1&&o.splice(c,1),o}))),i=R.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Te.createElement(lw.Provider,{value:i},n.children)},[e])]}let Bre="p";function Fre(t,e){let n=R.useId(),r=Lre(),{id:i=`headlessui-description-${n}`,...s}=t,a=CO(),o=Qs(e);Vr(()=>a.register(i),[i,a.register]);let c=af({...a.slot,disabled:r||!1}),l={ref:o,...a.props,id:i};return zi()({ourProps:l,theirProps:s,slot:c,defaultTag:Bre,name:a.name||"Description"})}let zre=Yr(Fre),Wre=Object.assign(zre,{});var EO=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(EO||{});let Vre=R.createContext(()=>{});function Hre({value:t,children:e}){return Te.createElement(Vre.Provider,{value:t},e)}let xO=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var qre=Object.defineProperty,Zre=(t,e,n)=>e in t?qre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gre=(t,e,n)=>(Zre(t,e+"",n),n),AO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},_i=(t,e,n)=>(AO(t,e,"read from private field"),n?n.call(t):e.get(t)),em=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Cv=(t,e,n,r)=>(AO(t,e,"write to private field"),e.set(t,n),n),ks,id,sd;let Kre=class{constructor(e){em(this,ks,{}),em(this,id,new xO(()=>new Set)),em(this,sd,new Set),Gre(this,"disposables",ms()),Cv(this,ks,e),Fs.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return _i(this,ks)}subscribe(e,n){if(Fs.isServer)return()=>{};let r={selector:e,callback:n,current:e(_i(this,ks))};return _i(this,sd).add(r),this.disposables.add(()=>{_i(this,sd).delete(r)})}on(e,n){return Fs.isServer?()=>{}:(_i(this,id).get(e).add(n),this.disposables.add(()=>{_i(this,id).get(e).delete(n)}))}send(e){let n=this.reduce(_i(this,ks),e);if(n!==_i(this,ks)){Cv(this,ks,n);for(let r of _i(this,sd)){let i=r.selector(_i(this,ks));LO(r.current,i)||(r.current=i,r.callback(i))}for(let r of _i(this,id).get(e.type))r(_i(this,ks),e)}}};ks=new WeakMap,id=new WeakMap,sd=new WeakMap;function LO(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:tm(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:tm(t.entries(),e.entries()):Ev(t)&&Ev(e)?tm(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function tm(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ev(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function FSe(t){let[e,n]=t(),r=ms();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Yre=Object.defineProperty,Jre=(t,e,n)=>e in t?Yre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xv=(t,e,n)=>(Jre(t,typeof e!="symbol"?e+"":e,n),n),Xre=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Xre||{});let Qre={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},eie=class SO extends Kre{constructor(){super(...arguments),xv(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),xv(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new SO({stack:[]})}reduce(e,n){return Va(n.type,Qre,e,n)}};const IO=new xO(()=>eie.new());var TO={exports:{}},kO={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=R;function tie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nie=typeof Object.is=="function"?Object.is:tie,rie=of.useSyncExternalStore,iie=of.useRef,sie=of.useEffect,aie=of.useMemo,oie=of.useDebugValue;kO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=iie(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=aie(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,nie(u,f))return p;var m=r(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var o=rie(t,s[0],s[1]);return sie(function(){a.hasValue=!0,a.value=o},[o]),oie(o),o};TO.exports=kO;var cie=TO.exports;function PO(t,e,n=LO){return cie.useSyncExternalStoreWithSelector(Lt(r=>t.subscribe(lie,r)),Lt(()=>t.state),Lt(()=>t.state),Lt(e),n)}function lie(t){return t}function cf(t,e){let n=R.useId(),r=IO.get(e),[i,s]=PO(r,R.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Vr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Qy=new Map,Ed=new Map;function Av(t){var e;let n=(e=Ed.get(t))!=null?e:0;return Ed.set(t,n+1),n!==0?()=>Lv(t):(Qy.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Lv(t))}function Lv(t){var e;let n=(e=Ed.get(t))!=null?e:1;if(n===1?Ed.delete(t):Ed.set(t,n-1),n!==1)return;let r=Qy.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Qy.delete(t))}function uie(t,{allowed:e,disallowed:n}={}){let r=cf(t,"inert-others");Vr(()=>{var i,s;if(!r)return;let a=ms();for(let c of(i=n?.())!=null?i:[])c&&a.add(Av(c));let o=(s=e?.())!=null?s:[];for(let c of o){if(!c)continue;let l=sf(c);if(!l)continue;let u=c.parentElement;for(;u&&u!==l.body;){for(let d of u.children)o.some(h=>d.contains(h))||a.add(Av(d));u=u.parentElement}}return a.dispose},[r,e,n])}function die(t,e,n){let r=x2(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});R.useEffect(()=>{if(!t)return;let i=e===null?null:Zs(e)?e:e.current;if(!i)return;let s=ms();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let q0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),hie=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ia=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ia||{}),e5=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(e5||{}),fie=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(fie||{});function OO(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(q0)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function pie(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(hie)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var RO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(RO||{});function $O(t,e=0){var n;return t===((n=sf(t))==null?void 0:n.body)?!1:Va(e,{0(){return t.matches(q0)},1(){let r=t;for(;r!==null;){if(r.matches(q0))return!0;r=r.parentElement}return!1}})}function zSe(t){ms().nextFrame(()=>{let e=cw(t);e&&Pa(e)&&!$O(e,0)&&zs(t)})}var mie=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(mie||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function zs(t){t?.focus({preventScroll:!0})}let gie=["textarea","input"].join(",");function yie(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,gie))!=null?n:!1}function wie(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function WSe(t,e,n=t===null?document.body:W0(t)){return El(OO(n),e,{relativeTo:t})}function El(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?W0(t[0]):document:W0(t),a=Array.isArray(t)?n?wie(t):t:e&64?pie(t):OO(t);i.length>0&&a.length>1&&(a=a.filter(f=>!i.some(p=>p!=null&&"current"in p?p?.current===f:p===f))),r=r??s?.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},u=0,d=a.length,h;do{if(u>=d||u+d<=0)return 0;let f=c+u;if(e&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=a[f],h?.focus(l),u+=o}while(h!==cw(h));return e&6&&yie(h)&&h.select(),2}function MO(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function bie(){return/Android/gi.test(window.navigator.userAgent)}function Sv(){return MO()||bie()}function Kf(t,e,n,r){let i=x2(n);R.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function NO(t,e,n,r){let i=x2(n);R.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Iv=30;function vie(t,e,n){let r=x2(n),i=R.useCallback(function(o,c){if(o.defaultPrevented)return;let l=c(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of u)if(d!==null&&(d.contains(l)||o.composed&&o.composedPath().includes(d)))return;return!$O(l,RO.Loose)&&l.tabIndex!==-1&&o.preventDefault(),r.current(o,l)},[r,e]),s=R.useRef(null);Kf(t,"pointerdown",o=>{var c,l;Sv()||(s.current=((l=(c=o.composedPath)==null?void 0:c.call(o))==null?void 0:l[0])||o.target)},!0),Kf(t,"pointerup",o=>{if(Sv()||!s.current)return;let c=s.current;return s.current=null,i(o,()=>c)},!0);let a=R.useRef({x:0,y:0});Kf(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),Kf(t,"touchend",o=>{let c={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=Iv||Math.abs(c.y-a.current.y)>=Iv))return i(o,()=>Pa(o.target)?o.target:null)},!0),NO(t,"blur",o=>i(o,()=>Nre(window.document.activeElement)?window.document.activeElement:null),!0)}function uw(...t){return R.useMemo(()=>sf(...t),[...t])}function DO(t,e,n,r){let i=x2(n);R.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function _ie(t){return R.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Cie(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(o=>o()))}}}function Eie(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function xie(){return MO()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=ms();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(Pa(o.target))try{let c=o.target.closest("a");if(!c)return;let{hash:l}=new URL(c.href),u=t.querySelector(l);Pa(u)&&!r(u)&&(a=u)}catch{}},!0),e.group(o=>{e.addEventListener(t,"touchstart",c=>{if(o.dispose(),Pa(c.target)&&Mre(c.target))if(r(c.target)){let l=c.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;o.style(l,"overscrollBehavior","contain")}else o.style(c.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",o=>{if(Pa(o.target)){if(Dre(o.target))return;if(r(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;s!==c&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Aie(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Tv(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Nc=Cie(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ms(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=Tv(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=Tv(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[xie(),Eie(),Aie()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Nc.subscribe(()=>{let t=Nc.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Nc.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Nc.dispatch("TEARDOWN",n)}});function Lie(t,e,n=()=>({containers:[]})){let r=_ie(Nc),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Vr(()=>{if(!(!e||!t))return Nc.dispatch("PUSH",e,n),()=>Nc.dispatch("POP",e,n)},[t,e]),s}function Sie(t,e,n=()=>[document.body]){let r=cf(t,"scroll-lock");Lie(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Iie(t=0){let[e,n]=R.useState(t),r=R.useCallback(c=>n(c),[]),i=R.useCallback(c=>n(l=>l|c),[]),s=R.useCallback(c=>(e&c)===c,[e]),a=R.useCallback(c=>n(l=>l&~c),[]),o=R.useCallback(c=>n(l=>l^c),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var Tie={},kv,Pv;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kv=process==null?void 0:Tie)==null?void 0:kv.NODE_ENV)==="test"&&typeof((Pv=Element?.prototype)==null?void 0:Pv.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var kie=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(kie||{});function Pie(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Oie(t,e,n,r){let[i,s]=R.useState(n),{hasFlag:a,addFlag:o,removeFlag:c}=Iie(t&&i?3:0),l=R.useRef(!1),u=R.useRef(!1),d=o3();return Vr(()=>{var h;if(t){if(n&&s(!0),!e){n&&o(3);return}return(h=r?.start)==null||h.call(r,n),Rie(e,{inFlight:l,prepare(){u.current?u.current=!1:u.current=l.current,l.current=!0,!u.current&&(n?(o(3),c(4)):(o(4),c(2)))},run(){u.current?n?(c(3),o(4)):(c(4),o(3)):n?c(1):o(1)},done(){var f;u.current&&Nie(e)||(l.current=!1,c(7),n||s(!1),(f=r?.end)==null||f.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Rie(t,{prepare:e,run:n,done:r,inFlight:i}){let s=ms();return Mie(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add($ie(t,r))})}),s.dispose}function $ie(t,e){var n,r;let i=ms();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(o=>o instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function Mie(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Nie(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function dw(t,e){let n=R.useRef([]),r=Lt(t);R.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let o=r(e,i);return n.current=e,o}},[r,...e])}let c3=R.createContext(null);c3.displayName="OpenClosedContext";var is=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(is||{});function l3(){return R.useContext(c3)}function Die({value:t,children:e}){return Te.createElement(c3.Provider,{value:t},e)}function jie({children:t}){return Te.createElement(c3.Provider,{value:null},t)}function Uie(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ko=[];Uie(()=>{function t(e){if(!Pa(e.target)||e.target===document.body||ko[0]===e.target)return;let n=e.target;n=n.closest(q0),ko.unshift(n??e.target),ko=ko.filter(r=>r!=null&&r.isConnected),ko.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function jO(t){let e=Lt(t),n=R.useRef(!1);R.useEffect(()=>(n.current=!1,()=>{n.current=!0,a3(()=>{n.current&&e()})}),[e])}let UO=R.createContext(!1);function Bie(){return R.useContext(UO)}function Ov(t){return Te.createElement(UO.Provider,{value:t.force},t.children)}function Fie(t){let e=Bie(),n=R.useContext(FO),[r,i]=R.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Fs.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return R.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),R.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let BO=R.Fragment,zie=Yr(function(t,e){let{ownerDocument:n=null,...r}=t,i=R.useRef(null),s=Qs(jre(h=>{i.current=h}),e),a=uw(i.current),o=n??a,c=Fie(o),l=R.useContext(t5),u=o3(),d=zi();return jO(()=>{var h;c&&c.childNodes.length<=0&&((h=c.parentElement)==null||h.removeChild(c))}),c?Ej.createPortal(Te.createElement("div",{"data-headlessui-portal":"",ref:h=>{u.dispose(),l&&h&&u.add(l.register(h))}},d({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:BO,name:"Portal"})),c):null});function Wie(t,e){let n=Qs(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=zi();return r?Te.createElement(zie,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:BO,name:"Portal"})}let Vie=R.Fragment,FO=R.createContext(null);function Hie(t,e){let{target:n,...r}=t,i={ref:Qs(e)},s=zi();return Te.createElement(FO.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Vie,name:"Popover.Group"}))}let t5=R.createContext(null);function qie(){let t=R.useContext(t5),e=R.useRef([]),n=Lt(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Lt(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=R.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,R.useMemo(()=>function({children:s}){return Te.createElement(t5.Provider,{value:i},s)},[i])]}let Zie=Yr(Wie),zO=Yr(Hie),Gie=Object.assign(Zie,{Group:zO});function Kie(t,e=typeof document<"u"?document.defaultView:null,n){let r=cf(t,"escape");DO(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===EO.Escape&&n(i))})}function Yie(){var t;let[e]=R.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=R.useState((t=e?.matches)!=null?t:!1);return Vr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Jie({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Lt(()=>{var i,s;let a=sf(n),o=[];for(let c of t)c!==null&&(Da(c)?o.push(c):"current"in c&&Da(c.current)&&o.push(c.current));if(e!=null&&e.current)for(let c of e.current)o.push(c);for(let c of(i=a?.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Da(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n?.getRootNode())==null?void 0:s.host))||o.some(l=>c.contains(l))||o.push(c));return o});return{resolveContainers:r,contains:Lt(i=>r().some(s=>s.contains(i)))}}let WO=R.createContext(null);function Rv({children:t,node:e}){let[n,r]=R.useState(null),i=VO(e??n);return Te.createElement(WO.Provider,{value:i},t,i===null&&Te.createElement(Xy,{features:H0.Hidden,ref:s=>{var a,o;if(s){for(let c of(o=(a=sf(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(c!==document.body&&c!==document.head&&Da(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function VO(t=null){var e;return(e=R.useContext(WO))!=null?e:t}function Xie(){let t=typeof document>"u";return"useSyncExternalStore"in Rb?(e=>e.useSyncExternalStore)(Rb)(()=>()=>{},()=>!1,()=>!t):!1}function u3(){let t=Xie(),[e,n]=R.useState(Fs.isHandoffComplete);return e&&Fs.isHandoffComplete===!1&&n(!1),R.useEffect(()=>{e!==!0&&n(!0)},[e]),R.useEffect(()=>Fs.handoff(),[]),t?!1:e}function hw(){let t=R.useRef(!1);return Vr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var ad=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ad||{});function Qie(){let t=R.useRef(0);return NO(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function HO(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Da(n.current)&&e.add(n.current);return e}let ese="div";var Tc=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Tc||{});function tse(t,e){let n=R.useRef(null),r=Qs(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:o=15,...c}=t;u3()||(o=0);let l=uw(n.current);sse(o,{ownerDocument:l});let u=ase(o,{ownerDocument:l,container:n,initialFocus:i,initialFocusFallback:s});ose(o,{ownerDocument:l,container:n,containers:a,previousActiveElement:u});let d=Qie(),h=Lt(L=>{if(!Zs(n.current))return;let w=n.current;(b=>b())(()=>{Va(d.current,{[ad.Forwards]:()=>{El(w,Ia.First,{skipElements:[L.relatedTarget,s]})},[ad.Backwards]:()=>{El(w,Ia.Last,{skipElements:[L.relatedTarget,s]})}})})}),f=cf(!!(o&2),"focus-trap#tab-lock"),p=o3(),m=R.useRef(!1),y={ref:r,onKeyDown(L){L.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(L){if(!(o&4))return;let w=HO(a);Zs(n.current)&&w.add(n.current);let b=L.relatedTarget;Pa(b)&&b.dataset.headlessuiFocusGuard!=="true"&&(qO(w,b)||(m.current?El(n.current,Va(d.current,{[ad.Forwards]:()=>Ia.Next,[ad.Backwards]:()=>Ia.Previous})|Ia.WrapAround,{relativeTo:L.target}):Pa(L.target)&&zs(L.target)))}},C=zi();return Te.createElement(Te.Fragment,null,f&&Te.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:H0.Focusable}),C({ourProps:y,theirProps:c,defaultTag:ese,name:"FocusTrap"}),f&&Te.createElement(Xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:H0.Focusable}))}let nse=Yr(tse),rse=Object.assign(nse,{features:Tc});function ise(t=!0){let e=R.useRef(ko.slice());return dw(([n],[r])=>{r===!0&&n===!1&&a3(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=ko.slice())},[t,ko,e]),Lt(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function sse(t,{ownerDocument:e}){let n=!!(t&8),r=ise(n);dw(()=>{n||xre(e?.body)&&zs(r())},[n]),jO(()=>{n&&zs(r())})}function ase(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=R.useRef(null),a=cf(!!(t&1),"focus-trap#initial-focus"),o=hw();return dw(()=>{if(t===0)return;if(!a){i!=null&&i.current&&zs(i.current);return}let c=n.current;c&&a3(()=>{if(!o.current)return;let l=e?.activeElement;if(r!=null&&r.current){if(r?.current===l){s.current=l;return}}else if(c.contains(l)){s.current=l;return}if(r!=null&&r.current)zs(r.current);else{if(t&16){if(El(c,Ia.First|Ia.AutoFocus)!==e5.Error)return}else if(El(c,Ia.First)!==e5.Error)return;if(i!=null&&i.current&&(zs(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function ose(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=hw(),a=!!(t&4);DO(e?.defaultView,"focus",o=>{if(!a||!s.current)return;let c=HO(r);Zs(n.current)&&c.add(n.current);let l=i.current;if(!l)return;let u=o.target;Zs(u)?qO(c,u)?(i.current=u,zs(u)):(o.preventDefault(),o.stopPropagation(),zs(l)):zs(i.current)},!0)}function qO(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function ZO(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Cd((e=t.as)!=null?e:KO)||Te.Children.count(t.children)===1}let d3=R.createContext(null);d3.displayName="TransitionContext";var cse=(t=>(t.Visible="visible",t.Hidden="hidden",t))(cse||{});function lse(){let t=R.useContext(d3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function use(){let t=R.useContext(h3);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let h3=R.createContext(null);h3.displayName="NestingContext";function f3(t){return"children"in t?f3(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function GO(t,e){let n=x2(t),r=R.useRef([]),i=hw(),s=o3(),a=Lt((f,p=Uo.Hidden)=>{let m=r.current.findIndex(({el:y})=>y===f);m!==-1&&(Va(p,{[Uo.Unmount](){r.current.splice(m,1)},[Uo.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var y;!f3(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),o=Lt(f=>{let p=r.current.find(({el:m})=>m===f);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:f,state:"visible"}),()=>a(f,Uo.Unmount)}),c=R.useRef([]),l=R.useRef(Promise.resolve()),u=R.useRef({enter:[],leave:[]}),d=Lt((f,p,m)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([y])=>y!==f)),e?.chains.current[p].push([f,new Promise(y=>{c.current.push(y)})]),e?.chains.current[p].push([f,new Promise(y=>{Promise.all(u.current[p].map(([C,L])=>L)).then(()=>y())})]),p==="enter"?l.current=l.current.then(()=>e?.wait.current).then(()=>m(p)):m(p)}),h=Lt((f,p,m)=>{Promise.all(u.current[p].splice(0).map(([y,C])=>C)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>m(p))});return R.useMemo(()=>({children:r,register:o,unregister:a,onStart:d,onStop:h,wait:l,chains:u}),[o,a,r,d,h,u,l])}let KO=R.Fragment,YO=V0.RenderStrategy;function dse(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:o,afterLeave:c,enter:l,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:p,leaveTo:m,...y}=t,[C,L]=R.useState(null),w=R.useRef(null),b=ZO(t),A=Qs(...b?[w,e,L]:e===null?[]:[e]),_=(n=y.unmount)==null||n?Uo.Unmount:Uo.Hidden,{show:I,appear:M,initial:D}=lse(),[B,W]=R.useState(I?"visible":"hidden"),P=use(),{register:T,unregister:U}=P;Vr(()=>T(w),[T,w]),Vr(()=>{if(_===Uo.Hidden&&w.current){if(I&&B!=="visible"){W("visible");return}return Va(B,{hidden:()=>U(w),visible:()=>T(w)})}},[B,w,T,U,I,_]);let v=u3();Vr(()=>{if(b&&v&&B==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,B,v,b]);let E=D&&!M,O=M&&I&&D,k=R.useRef(!1),$=GO(()=>{k.current||(W("hidden"),U(w))},P),j=Lt(le=>{k.current=!0;let Ee=le?"enter":"leave";$.onStart(w,Ee,se=>{se==="enter"?s?.():se==="leave"&&o?.()})}),V=Lt(le=>{let Ee=le?"enter":"leave";k.current=!1,$.onStop(w,Ee,se=>{se==="enter"?a?.():se==="leave"&&c?.()}),Ee==="leave"&&!f3($)&&(W("hidden"),U(w))});R.useEffect(()=>{b&&i||(j(I),V(I))},[I,b,i]);let Z=!(!i||!b||!v||E),[,X]=Oie(Z,C,I,{start:j,end:V}),J=_c({ref:A,className:((r=Jy(y.className,O&&l,O&&u,X.enter&&l,X.enter&&X.closed&&u,X.enter&&!X.closed&&d,X.leave&&f,X.leave&&!X.closed&&p,X.leave&&X.closed&&m,!X.transition&&I&&h))==null?void 0:r.trim())||void 0,...Pie(X)}),ee=0;B==="visible"&&(ee|=is.Open),B==="hidden"&&(ee|=is.Closed),I&&B==="hidden"&&(ee|=is.Opening),!I&&B==="visible"&&(ee|=is.Closing);let ue=zi();return Te.createElement(h3.Provider,{value:$},Te.createElement(Die,{value:ee},ue({ourProps:J,theirProps:y,defaultTag:KO,features:YO,visible:B==="visible",name:"Transition.Child"})))}function hse(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=R.useRef(null),o=ZO(t),c=Qs(...o?[a,e]:e===null?[]:[e]);u3();let l=l3();if(n===void 0&&l!==null&&(n=(l&is.Open)===is.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=R.useState(n?"visible":"hidden"),h=GO(()=>{n||d("hidden")}),[f,p]=R.useState(!0),m=R.useRef([n]);Vr(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),p(!1))},[m,n]);let y=R.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);Vr(()=>{n?d("visible"):!f3(h)&&a.current!==null&&d("hidden")},[n,h]);let C={unmount:i},L=Lt(()=>{var A;f&&p(!1),(A=t.beforeEnter)==null||A.call(t)}),w=Lt(()=>{var A;f&&p(!1),(A=t.beforeLeave)==null||A.call(t)}),b=zi();return Te.createElement(h3.Provider,{value:h},Te.createElement(d3.Provider,{value:y},b({ourProps:{...C,as:R.Fragment,children:Te.createElement(JO,{ref:c,...C,...s,beforeEnter:L,beforeLeave:w})},theirProps:{},defaultTag:R.Fragment,features:YO,visible:u==="visible",name:"Transition"})))}function fse(t,e){let n=R.useContext(d3)!==null,r=l3()!==null;return Te.createElement(Te.Fragment,null,!n&&r?Te.createElement(n5,{ref:e,...t}):Te.createElement(JO,{ref:e,...t}))}let n5=Yr(hse),JO=Yr(dse),fh=Yr(fse),XO=Object.assign(n5,{Child:fh,Root:n5});var pse=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(pse||{}),mse=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(mse||{});let gse={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},fw=R.createContext(null);fw.displayName="DialogContext";function p3(t){let e=R.useContext(fw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,p3),n}return e}function yse(t,e){return Va(e.type,gse,t,e)}let $v=Yr(function(t,e){let n=R.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:o="dialog",autoFocus:c=!0,__demoMode:l=!1,unmount:u=!1,...d}=t,h=R.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=l3();i===void 0&&f!==null&&(i=(f&is.Open)===is.Open);let p=R.useRef(null),m=Qs(p,e),y=uw(p.current),C=i?0:1,[L,w]=R.useReducer(yse,{titleId:null,descriptionId:null,panelRef:R.createRef()}),b=Lt(()=>s(!1)),A=Lt(X=>w({type:0,id:X})),_=u3()?C===0:!1,[I,M]=qie(),D={get current(){var X;return(X=L.panelRef.current)!=null?X:p.current}},B=VO(),{resolveContainers:W}=Jie({mainTreeNode:B,portals:I,defaultContainers:[D]}),P=f!==null?(f&is.Closing)===is.Closing:!1;uie(l||P?!1:_,{allowed:Lt(()=>{var X,J;return[(J=(X=p.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Lt(()=>{var X;return[(X=B?.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})});let T=IO.get(null);Vr(()=>{if(_)return T.actions.push(r),()=>T.actions.pop(r)},[T,r,_]);let U=PO(T,R.useCallback(X=>T.selectors.isTop(X,r),[T,r]));vie(U,W,X=>{X.preventDefault(),b()}),Kie(U,y?.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),b()}),Sie(l||P?!1:_,y,W),die(_,p,b);let[v,E]=Ure(),O=R.useMemo(()=>[{dialogState:C,close:b,setTitleId:A,unmount:u},L],[C,b,A,u,L]),k=af({open:C===0}),$={ref:m,id:r,role:o,tabIndex:-1,"aria-modal":l?void 0:C===0?!0:void 0,"aria-labelledby":L.titleId,"aria-describedby":v,unmount:u},j=!Yie(),V=Tc.None;_&&!l&&(V|=Tc.RestoreFocus,V|=Tc.TabLock,c&&(V|=Tc.AutoFocus),j&&(V|=Tc.InitialFocus));let Z=zi();return Te.createElement(jie,null,Te.createElement(Ov,{force:!0},Te.createElement(Gie,null,Te.createElement(fw.Provider,{value:O},Te.createElement(zO,{target:p},Te.createElement(Ov,{force:!1},Te.createElement(E,{slot:k},Te.createElement(M,null,Te.createElement(rse,{initialFocus:a,initialFocusFallback:p,containers:W,features:V},Te.createElement(Hre,{value:b},Z({ourProps:$,theirProps:d,slot:k,defaultTag:wse,features:bse,visible:C===0,name:"Dialog"})))))))))))}),wse="div",bse=V0.RenderStrategy|V0.Static;function vse(t,e){let{transition:n=!1,open:r,...i}=t,s=l3(),a=t.hasOwnProperty("open")||s!==null,o=t.hasOwnProperty("onClose");if(!a&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Te.createElement(Rv,null,Te.createElement(XO,{show:r,transition:n,unmount:i.unmount},Te.createElement($v,{ref:e,...i}))):Te.createElement(Rv,null,Te.createElement($v,{ref:e,open:r,...i}))}let _se="div";function Cse(t,e){let n=R.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:o},c]=p3("Dialog.Panel"),l=Qs(e,c.panelRef),u=af({open:a===0}),d=Lt(y=>{y.stopPropagation()}),h={ref:l,id:r,onClick:d},f=i?fh:R.Fragment,p=i?{unmount:o}:{},m=zi();return Te.createElement(f,{...p},m({ourProps:h,theirProps:s,slot:u,defaultTag:_se,name:"Dialog.Panel"}))}let Ese="div";function xse(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=p3("Dialog.Backdrop"),a=af({open:i===0}),o={ref:e,"aria-hidden":!0},c=n?fh:R.Fragment,l=n?{unmount:s}:{},u=zi();return Te.createElement(c,{...l},u({ourProps:o,theirProps:r,slot:a,defaultTag:Ese,name:"Dialog.Backdrop"}))}let Ase="h2";function Lse(t,e){let n=R.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=p3("Dialog.Title"),o=Qs(e);R.useEffect(()=>(a(r),()=>a(null)),[r,a]);let c=af({open:s===0}),l={ref:o,id:r};return zi()({ourProps:l,theirProps:i,slot:c,defaultTag:Ase,name:"Dialog.Title"})}let Sse=Yr(vse),QO=Yr(Cse);Yr(xse);let Ise=Yr(Lse),Tse=Object.assign(Sse,{Panel:QO,Title:Ise,Description:Wre});var pw={exports:{}},xl=typeof Reflect=="object"?Reflect:null,Mv=xl&&typeof xl.apply=="function"?xl.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Fp;xl&&typeof xl.ownKeys=="function"?Fp=xl.ownKeys:Object.getOwnPropertySymbols?Fp=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Fp=function(e){return Object.getOwnPropertyNames(e)};function kse(t){console&&console.warn&&console.warn(t)}var eR=Number.isNaN||function(e){return e!==e};function Et(){Et.init.call(this)}pw.exports=Et;pw.exports.once=$se;Et.EventEmitter=Et;Et.prototype._events=void 0;Et.prototype._eventsCount=0;Et.prototype._maxListeners=void 0;var Nv=10;function m3(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Et,"defaultMaxListeners",{enumerable:!0,get:function(){return Nv},set:function(t){if(typeof t!="number"||t<0||eR(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Nv=t}});Et.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Et.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||eR(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function tR(t){return t._maxListeners===void 0?Et.defaultMaxListeners:t._maxListeners}Et.prototype.getMaxListeners=function(){return tR(this)};Et.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Mv(c,this,n);else for(var l=c.length,u=aR(c,l),r=0;r<l;++r)Mv(u[r],this,n);return!0};function nR(t,e,n,r){var i,s,a;if(m3(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=tR(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,kse(o)}return t}Et.prototype.addListener=function(e,n){return nR(this,e,n,!1)};Et.prototype.on=Et.prototype.addListener;Et.prototype.prependListener=function(e,n){return nR(this,e,n,!0)};function Pse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function rR(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Pse.bind(r);return i.listener=n,r.wrapFn=i,i}Et.prototype.once=function(e,n){return m3(n),this.on(e,rR(this,e,n)),this};Et.prototype.prependOnceListener=function(e,n){return m3(n),this.prependListener(e,rR(this,e,n)),this};Et.prototype.removeListener=function(e,n){var r,i,s,a,o;if(m3(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){o=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():Ose(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||n)}return this};Et.prototype.off=Et.prototype.removeListener;Et.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function iR(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Rse(i):aR(i,i.length)}Et.prototype.listeners=function(e){return iR(this,e,!0)};Et.prototype.rawListeners=function(e){return iR(this,e,!1)};Et.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):sR.call(t,e)};Et.prototype.listenerCount=sR;function sR(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Et.prototype.eventNames=function(){return this._eventsCount>0?Fp(this._events):[]};function aR(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Ose(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Rse(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function $se(t,e){return new Promise(function(n,r){function i(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}oR(t,e,s,{once:!0}),e!=="error"&&Mse(t,i,{once:!0})})}function Mse(t,e,n){typeof t.on=="function"&&oR(t,"error",e,n)}function oR(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var gi=pw.exports;const mw=y2(gi);var Dv=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Nse=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Dse=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),jse=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),Use=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Bse=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Fse=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zse=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jv=3,Wse=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Fse]],Uv=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vse(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Bse:typeof navigator<"u"?qse(navigator.userAgent):Gse()}function Hse(t){return t!==""&&Wse.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function qse(t){var e=Hse(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Use;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<jv&&(i=Dv(Dv([],i,!0),Kse(jv-i.length),!0)):i=[];var s=i.join("."),a=Zse(t),o=zse.exec(t);return o&&o[1]?new jse(n,s,a,o[1]):new Nse(n,s,a)}function Zse(t){for(var e=0,n=Uv.length;e<n;e++){var r=Uv[e],i=r[0],s=r[1],a=s.exec(t);if(a)return i}return null}function Gse(){var t=typeof process<"u"&&process.version;return t?new Dse(process.version.slice(1)):null}function Kse(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var ye={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r5=function(t,e){return r5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},r5(t,e)};function Yse(t,e){r5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i5=function(){return i5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i5.apply(this,arguments)};function Jse(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xse(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Qse(t,e){return function(n,r){e(n,r,t)}}function eae(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function tae(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function nae(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function rae(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function iae(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function s5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cR(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function sae(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cR(arguments[e]));return t}function aae(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function ph(t){return this instanceof ph?(this.v=t,this):new ph(t)}function oae(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||o(h,f)})})}function o(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof ph?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function d(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function cae(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:ph(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function lae(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s5=="function"?s5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}function uae(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function dae(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function hae(t){return t&&t.__esModule?t:{default:t}}function fae(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function pae(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const mae=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return i5},__asyncDelegator:cae,__asyncGenerator:oae,__asyncValues:lae,__await:ph,__awaiter:tae,__classPrivateFieldGet:fae,__classPrivateFieldSet:pae,__createBinding:rae,__decorate:Xse,__exportStar:iae,__extends:Yse,__generator:nae,__importDefault:hae,__importStar:dae,__makeTemplateObject:uae,__metadata:eae,__param:Qse,__read:cR,__rest:Jse,__spread:sae,__spreadArrays:aae,__values:s5},Symbol.toStringTag,{value:"Module"})),g3=uA(mae);var nm={},Tu={},Bv;function gae(){if(Bv)return Tu;Bv=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Tu.delay=t,Tu}var pc={},rm={},mc={},Fv;function yae(){return Fv||(Fv=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.ONE_THOUSAND=mc.ONE_HUNDRED=void 0,mc.ONE_HUNDRED=100,mc.ONE_THOUSAND=1e3),mc}var im={},zv;function wae(){return zv||(zv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(im)),im}var Wv;function lR(){return Wv||(Wv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=g3;e.__exportStar(yae(),t),e.__exportStar(wae(),t)}(rm)),rm}var Vv;function bae(){if(Vv)return pc;Vv=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.fromMiliseconds=pc.toMiliseconds=void 0;const t=lR();function e(r){return r*t.ONE_THOUSAND}pc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return pc.fromMiliseconds=n,pc}var Hv;function vae(){return Hv||(Hv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=g3;e.__exportStar(gae(),t),e.__exportStar(bae(),t)}(nm)),nm}var F2={},qv;function _ae(){if(qv)return F2;qv=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return F2.Watch=t,F2.default=t,F2}var sm={},ku={},Zv;function Cae(){if(Zv)return ku;Zv=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.IWatch=void 0;class t{}return ku.IWatch=t,ku}var Gv;function Eae(){return Gv||(Gv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),g3.__exportStar(Cae(),t)}(sm)),sm}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=g3;e.__exportStar(vae(),t),e.__exportStar(_ae(),t),e.__exportStar(Eae(),t),e.__exportStar(lR(),t)})(ye);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getLocalStorage=Tt.getLocalStorageOrThrow=Tt.getCrypto=Tt.getCryptoOrThrow=uR=Tt.getLocation=Tt.getLocationOrThrow=gw=Tt.getNavigator=Tt.getNavigatorOrThrow=l2=Tt.getDocument=Tt.getDocumentOrThrow=Tt.getFromWindowOrThrow=Tt.getFromWindow=void 0;function A2(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Tt.getFromWindow=A2;function mu(t){const e=A2(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Tt.getFromWindowOrThrow=mu;function xae(){return mu("document")}Tt.getDocumentOrThrow=xae;function Aae(){return A2("document")}var l2=Tt.getDocument=Aae;function Lae(){return mu("navigator")}Tt.getNavigatorOrThrow=Lae;function Sae(){return A2("navigator")}var gw=Tt.getNavigator=Sae;function Iae(){return mu("location")}Tt.getLocationOrThrow=Iae;function Tae(){return A2("location")}var uR=Tt.getLocation=Tae;function kae(){return mu("crypto")}Tt.getCryptoOrThrow=kae;function Pae(){return A2("crypto")}Tt.getCrypto=Pae;function Oae(){return mu("localStorage")}Tt.getLocalStorageOrThrow=Oae;function Rae(){return A2("localStorage")}Tt.getLocalStorage=Rae;var yw={};Object.defineProperty(yw,"__esModule",{value:!0});var dR=yw.getWindowMetadata=void 0;const Kv=Tt;function $ae(){let t,e;try{t=Kv.getDocumentOrThrow(),e=Kv.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(y.indexOf("/")===0)C+=y;else{const L=e.pathname.split("/");L.pop();const w=L.join("/");C+=w+"/"+y}h.push(C)}else if(y.indexOf("//")===0){const C=e.protocol+y;h.push(C)}else h.push(y)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(m.length&&m){const y=p.getAttribute("content");if(y)return y}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const a=i(),o=s(),c=e.origin,l=n();return{description:o,url:c,icons:l,name:a}}dR=yw.getWindowMetadata=$ae;const Mae="0.1.1";function Nae(){return Mae}class qt extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof qt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof qt&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${i??""}`,o=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nae()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return hR(this,e)}}function hR(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?hR(t.cause,e):e?null:t}const z2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function u2(t,...e){if(!Dae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function jae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");mh(t.outputLen),mh(t.blockLen)}function Jl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fR(t,e){u2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Uae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Xl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function am(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Es(t,e){return t<<32-e|t>>>e}const Bae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Fae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function zae(t){for(let e=0;e<t.length;e++)t[e]=Fae(t[e]);return t}const Yv=Bae?t=>t:zae;function Wae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function y3(t){return typeof t=="string"&&(t=Wae(t)),u2(t),t}function Vae(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];u2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class ww{}function pR(t){const e=r=>t().update(y3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Hae(t=32){if(z2&&typeof z2.getRandomValues=="function")return z2.getRandomValues(new Uint8Array(t));if(z2&&typeof z2.randomBytes=="function")return Uint8Array.from(z2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function qae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function Zae(t,e,n){return t&e^~t&n}function Gae(t,e,n){return t&e^t&n^e&n}class Kae extends ww{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=am(this.buffer)}update(e){Jl(this),e=y3(e),u2(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=am(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Jl(this),fR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Xl(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;qae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=am(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const so=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yf=BigInt(2**32-1),Jv=BigInt(32);function Yae(t,e=!1){return e?{h:Number(t&Yf),l:Number(t>>Jv&Yf)}:{h:Number(t>>Jv&Yf)|0,l:Number(t&Yf)|0}}function Jae(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=Yae(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const Xae=(t,e,n)=>t<<n|e>>>32-n,Qae=(t,e,n)=>e<<n|t>>>32-n,eoe=(t,e,n)=>e<<n-32|t>>>64-n,toe=(t,e,n)=>t<<n-32|e>>>64-n,noe=BigInt(0),Pu=BigInt(1),roe=BigInt(2),ioe=BigInt(7),soe=BigInt(256),aoe=BigInt(113),mR=[],gR=[],yR=[];for(let t=0,e=Pu,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],mR.push(2*(5*r+n)),gR.push((t+1)*(t+2)/2%64);let i=noe;for(let s=0;s<7;s++)e=(e<<Pu^(e>>ioe)*aoe)%soe,e&roe&&(i^=Pu<<(Pu<<BigInt(s))-Pu);yR.push(i)}const wR=Jae(yR,!0),ooe=wR[0],coe=wR[1],Xv=(t,e,n)=>n>32?eoe(t,e,n):Xae(t,e,n),Qv=(t,e,n)=>n>32?toe(t,e,n):Qae(t,e,n);function loe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=Xv(l,u,1)^n[o],h=Qv(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=gR[a],c=Xv(i,s,o),l=Qv(i,s,o),u=mR[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=ooe[r],t[1]^=coe[r]}Xl(n)}class bw extends ww{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,mh(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Uae(this.state)}clone(){return this._cloneInto()}keccak(){Yv(this.state32),loe(this.state32,this.rounds),Yv(this.state32),this.posOut=0,this.pos=0}update(e){Jl(this),e=y3(e),u2(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Jl(this,!1),u2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return mh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Xl(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new bw(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const uoe=(t,e,n)=>pR(()=>new bw(e,t,n)),doe=uoe(1,136,256/8),hoe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ao=new Uint32Array(64);class foe extends Kae{constructor(e=32){super(64,e,8,!1),this.A=so[0]|0,this.B=so[1]|0,this.C=so[2]|0,this.D=so[3]|0,this.E=so[4]|0,this.F=so[5]|0,this.G=so[6]|0,this.H=so[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ao[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ao[d-15],f=ao[d-2],p=Es(h,7)^Es(h,18)^h>>>3,m=Es(f,17)^Es(f,19)^f>>>10;ao[d]=m+ao[d-7]+p+ao[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Es(o,6)^Es(o,11)^Es(o,25),f=u+h+Zae(o,c,l)+hoe[d]+ao[d]|0,m=(Es(r,2)^Es(r,13)^Es(r,22))+Gae(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Xl(ao)}destroy(){this.set(0,0,0,0,0,0,0,0),Xl(this.buffer)}}const poe=pR(()=>new foe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vw=BigInt(0),a5=BigInt(1);function lf(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _w(t){if(!lf(t))throw new Error("Uint8Array expected")}function gh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Jf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function bR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vw:BigInt("0x"+t)}const vR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",moe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yh(t){if(_w(t),vR)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=moe[t[n]];return e}const aa={_0:48,_9:57,A:65,F:70,a:97,f:102};function e_(t){if(t>=aa._0&&t<=aa._9)return t-aa._0;if(t>=aa.A&&t<=aa.F)return t-(aa.A-10);if(t>=aa.a&&t<=aa.f)return t-(aa.a-10)}function Z0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vR)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=e_(t.charCodeAt(s)),o=e_(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function Zc(t){return bR(yh(t))}function _R(t){return _w(t),bR(yh(Uint8Array.from(t).reverse()))}function uf(t,e){return Z0(t.toString(16).padStart(e*2,"0"))}function CR(t,e){return uf(t,e).reverse()}function Ti(t,e,n){let r;if(typeof e=="string")try{r=Z0(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(lf(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function G0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_w(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const om=t=>typeof t=="bigint"&&vw<=t;function Cw(t,e,n){return om(t)&&om(e)&&om(n)&&e<=t&&t<n}function Al(t,e,n,r){if(!Cw(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function goe(t){let e;for(e=0;t>vw;t>>=a5,e+=1);return e}const w3=t=>(a5<<BigInt(t))-a5,cm=t=>new Uint8Array(t),t_=t=>Uint8Array.from(t);function yoe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=cm(t),i=cm(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...d)=>n(i,r,...d),c=(d=cm(0))=>{i=o(t_([0]),d),r=o(),d.length!==0&&(i=o(t_([1]),d),r=o())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=o();const f=r.slice();h.push(f),d+=r.length}return G0(...h)};return(d,h)=>{a(),c(d);let f;for(;!(f=h(l()));)c();return a(),f}}const woe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||lf(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function b3(t,e,n={}){const r=(i,s,a)=>{const o=woe[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function n_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function boe(t,e){if(a_(t)>e)throw new Boe({givenSize:a_(t),maxSize:e})}const oa={zero:48,nine:57,A:65,F:70,a:97,f:102};function r_(t){if(t>=oa.zero&&t<=oa.nine)return t-oa.zero;if(t>=oa.A&&t<=oa.F)return t-(oa.A-10);if(t>=oa.a&&t<=oa.f)return t-(oa.a-10)}function voe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Foe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function ER(t,e){if(Go(t)>e)throw new koe({givenSize:Go(t),maxSize:e})}function _oe(t,e){if(typeof e=="number"&&e>0&&e>Go(t)-1)throw new LR({offset:e,position:"start",size:Go(t)})}function Coe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Go(t)!==n-e)throw new LR({offset:n,position:"end",size:Go(t)})}function xR(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Poe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Eoe="#__bigint";function Ew(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Eoe:i,n)}const xoe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Aoe(t,e={}){const{strict:n=!1}=e;if(!t)throw new i_(t);if(typeof t!="string")throw new i_(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new s_(t);if(!t.startsWith("0x"))throw new s_(t)}function Loe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function xw(t){return t instanceof Uint8Array?K0(t):Array.isArray(t)?K0(new Uint8Array(t)):t}function K0(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=xoe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(ER(r,e.size),AR(r,e.size)):r}function lm(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new Toe({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Soe(c,r):c}function Soe(t,e){return xR(t,{dir:"left",size:e})}function AR(t,e){return xR(t,{dir:"right",size:e})}function va(t,e,n,r={}){const{strict:i}=r;_oe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Coe(s,e,n),s}function Go(t){return Math.ceil((t.length-2)/2)}function Ioe(t,e={}){const{strict:n=!1}=e;try{return Aoe(t,{strict:n}),!0}catch{return!1}}class Toe extends qt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class i_ extends qt{constructor(e){super(`Value \`${typeof e=="object"?Ew(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class s_ extends qt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let koe=class extends qt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class LR extends qt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Poe=class extends qt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Ooe=new TextEncoder;function Roe(t){if(!(t instanceof Uint8Array)){if(!t)throw new Xf(t);if(typeof t!="object")throw new Xf(t);if(!("BYTES_PER_ELEMENT"in t))throw new Xf(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Xf(t)}}function $oe(t){return t instanceof Uint8Array?t:typeof t=="string"?Noe(t):Moe(t)}function Moe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Noe(t,e={}){const{size:n}=e;let r=t;n&&(ER(t,n),r=AR(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let o=0,c=0;o<s;o++){const l=r_(i.charCodeAt(c++)),u=r_(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new qt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);a[o]=l*16+u}return a}function Doe(t,e={}){const{size:n}=e,r=Ooe.encode(t);return typeof n=="number"?(boe(r,n),joe(r,n)):r}function joe(t,e){return voe(t,{dir:"right",size:e})}function a_(t){return t.length}function Uoe(t){try{return Roe(t),!0}catch{return!1}}class Xf extends qt{constructor(e){super(`Value \`${typeof e=="object"?Ew(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Boe extends qt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Foe extends qt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function SR(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=doe($oe(t));return n==="Bytes"?r:K0(r)}class zoe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Woe={checksum:new zoe(8192)},um=Woe.checksum;function IR(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new o_({prefix:r,cause:new Koe});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new o_({prefix:r,cause:new Goe});return}throw new Zoe({publicKey:t})}function Voe(t){const e=(()=>{if(Ioe(t))return TR(t);if(Uoe(t))return Hoe(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return IR(e),e}function Hoe(t){return TR(K0(t))}function TR(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Yoe({publicKey:t});if(t.length===130){const r=BigInt(va(t,0,32)),i=BigInt(va(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(va(t,0,1)),i=BigInt(va(t,1,33)),s=BigInt(va(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(va(t,0,1)),n=BigInt(va(t,1,33));return{prefix:e,x:n}}function qoe(t,e={}){IR(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return Loe(s?lm(n,{size:1}):"0x",lm(r,{size:32}),typeof i=="bigint"?lm(i,{size:32}):"0x")}class Zoe extends qt{constructor({publicKey:e}){super(`Value \`${Ew(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class o_ extends qt{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Goe extends qt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Koe extends qt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Yoe=class extends qt{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Go(xw(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Joe=/^0x[a-fA-F0-9]{40}$/;function kR(t,e={}){const{strict:n=!0}=e;if(!Joe.test(t))throw new c_({address:t,cause:new ece});if(n){if(t.toLowerCase()===t)return;if(PR(t)!==t)throw new c_({address:t,cause:new tce})}}function PR(t){if(um.has(t))return um.get(t);kR(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=SR(Doe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return um.set(t,i),i}function Xoe(t,e={}){const{checksum:n=!1}=e;return kR(t),n?PR(t):t}function Qoe(t,e={}){const n=SR(`0x${qoe(t).slice(4)}`).substring(26);return Xoe(`0x${n}`,e)}class c_ extends qt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ece extends qt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tce extends qt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class OR extends ww{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,jae(e);const r=y3(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Xl(s)}update(e){return Jl(this),this.iHash.update(e),this}digestInto(e){Jl(this),u2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const RR=(t,e,n)=>new OR(t,e).update(n).digest();RR.create=(t,e)=>new OR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt(0),Er=BigInt(1),Dc=BigInt(2),nce=BigInt(3),$R=BigInt(4),MR=BigInt(5),NR=BigInt(8);function Dr(t,e){const n=t%e;return n>=Fr?n:e+n}function Ci(t,e,n){let r=t;for(;e-- >Fr;)r*=r,r%=n;return r}function o5(t,e){if(t===Fr)throw new Error("invert: expected non-zero number");if(e<=Fr)throw new Error("invert: expected positive modulus, got "+e);let n=Dr(t,e),r=e,i=Fr,s=Er;for(;n!==Fr;){const o=r/n,c=r%n,l=i-s*o;r=n,n=c,i=s,s=l}if(r!==Er)throw new Error("invert: does not exist");return Dr(i,e)}function DR(t,e){const n=(t.ORDER+Er)/$R,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function rce(t,e){const n=(t.ORDER-MR)/NR,r=t.mul(e,Dc),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Dc),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function ice(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Er,n=0;for(;e%Dc===Fr;)e/=Dc,n++;let r=Dc;const i=Aw(t);for(;l_(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return DR;let s=i.pow(r,e);const a=(e+Er)/Dc;return function(c,l){if(c.is0(l))return l;if(l_(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,a);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=Er<<BigInt(u-p-1),C=c.pow(d,y);u=p,d=c.sqr(C),h=c.mul(h,d),f=c.mul(f,C)}return f}}function sce(t){return t%$R===nce?DR:t%NR===MR?rce:ice(t)}const ace=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ace.reduce((r,i)=>(r[i]="function",r),e);return b3(t,n)}function cce(t,e,n){if(n<Fr)throw new Error("invalid exponent, negatives unsupported");if(n===Fr)return t.ONE;if(n===Er)return e;let r=t.ONE,i=e;for(;n>Fr;)n&Er&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Er;return r}function jR(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function l_(t,e){const n=(t.ORDER-Er)/Dc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function UR(t,e){e!==void 0&&mh(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Aw(t,e,n=!1,r={}){if(t<=Fr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=UR(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:w3(i),ZERO:Fr,ONE:Er,create:c=>Dr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Fr<=c&&c<t},is0:c=>c===Fr,isOdd:c=>(c&Er)===Er,neg:c=>Dr(-c,t),eql:(c,l)=>c===l,sqr:c=>Dr(c*c,t),add:(c,l)=>Dr(c+l,t),sub:(c,l)=>Dr(c-l,t),mul:(c,l)=>Dr(c*l,t),pow:(c,l)=>cce(o,c,l),div:(c,l)=>Dr(c*o5(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>o5(c,t),sqrt:r.sqrt||(c=>(a||(a=sce(t)),a(o,c))),toBytes:c=>n?CR(c,s):uf(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?_R(c):Zc(c)},invertBatch:c=>jR(o,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(o)}function BR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function FR(t){const e=BR(t);return e+Math.ceil(e/2)}function lce(t,e,n=!1){const r=t.length,i=BR(e),s=FR(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?_R(t):Zc(t),o=Dr(a,e-Er)+Er;return n?CR(o,i):uf(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u_=BigInt(0),c5=BigInt(1);function dm(t,e){const n=e.negate();return t?n:e}function zR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function hm(t,e){zR(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=w3(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function d_(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=c5);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function uce(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function dce(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const fm=new WeakMap,WR=new WeakMap;function pm(t){return WR.get(t)||1}function hce(t,e){return{constTimeNegate:dm,hasPrecomputes(n){return pm(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>u_;)r&c5&&(i=i.add(s)),s=s.double(),r>>=c5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=hm(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=hm(n,e);for(let c=0;c<o.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=d_(i,c,o);i=l,d?a=a.add(dm(f,r[p])):s=s.add(dm(h,r[u]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=hm(n,e);for(let o=0;o<a.windows&&i!==u_;o++){const{nextN:c,offset:l,isZero:u,isNeg:d}=d_(i,o,a);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=fm.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&fm.set(r,i(s))),s},wNAFCached(n,r,i){const s=pm(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=pm(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){zR(r,e),WR.set(n,r),fm.delete(n)}}}function fce(t,e,n,r){uce(n,t),dce(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=goe(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=w3(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function VR(t){return oce(t.Fp),b3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...UR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h_(t){t.lowS!==void 0&&gh("lowS",t.lowS),t.prehash!==void 0&&gh("prehash",t.prehash)}function pce(t){const e=VR(t);b3(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class mce extends Error{constructor(e=""){super(e)}}const Aa={Err:mce,_tlv:{encode:(t,e)=>{const{Err:n}=Aa;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Jf(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Jf(i.length/2|128):"";return Jf(t)+s+i+e},decode(t,e){const{Err:n}=Aa;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Aa;if(t<Ta)throw new e("integer: negative integers are not allowed");let n=Jf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Aa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Zc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Aa,i=Ti("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Aa,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function mm(t,e){return yh(uf(t,e))}const Ta=BigInt(0),Tn=BigInt(1);BigInt(2);const gm=BigInt(3),gce=BigInt(4);function yce(t){const e=pce(t),{Fp:n}=e,r=Aw(e.n,e.nBitLength),i=e.toBytes||((w,b,A)=>{const _=b.toAffine();return G0(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(w=>{const b=w.subarray(1),A=n.fromBytes(b.subarray(0,n.BYTES)),_=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:A,y:_}});function a(w){const{a:b,b:A}=e,_=n.sqr(w),I=n.mul(_,w);return n.add(n.add(I,n.mul(w,b)),A)}function o(w,b){const A=n.sqr(b),_=a(w);return n.eql(A,_)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,gm),gce),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(w){return Cw(w,Tn,e.n)}function d(w){const{allowedPrivateKeyLengths:b,nByteLength:A,wrapPrivateKey:_,n:I}=e;if(b&&typeof w!="bigint"){if(lf(w)&&(w=yh(w)),typeof w!="string"||!b.includes(w.length))throw new Error("invalid private key");w=w.padStart(A*2,"0")}let M;try{M=typeof w=="bigint"?w:Zc(Ti("private key",w,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof w)}return _&&(M=Dr(M,I)),Al("private key",M,Tn,I),M}function h(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const f=n_((w,b)=>{const{px:A,py:_,pz:I}=w;if(n.eql(I,n.ONE))return{x:A,y:_};const M=w.is0();b==null&&(b=M?n.ONE:n.inv(I));const D=n.mul(A,b),B=n.mul(_,b),W=n.mul(I,b);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}),p=n_(w=>{if(w.is0()){if(e.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:b,y:A}=w.toAffine();if(!n.isValid(b)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!o(b,A))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(b,A,_){if(b==null||!n.isValid(b))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=b,this.py=A,this.pz=_,Object.freeze(this)}static fromAffine(b){const{x:A,y:_}=b||{};if(!b||!n.isValid(A)||!n.isValid(_))throw new Error("invalid affine point");if(b instanceof m)throw new Error("projective point not allowed");const I=M=>n.eql(M,n.ZERO);return I(A)&&I(_)?m.ZERO:new m(A,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const A=jR(n,b.map(_=>_.pz));return b.map((_,I)=>_.toAffine(A[I])).map(m.fromAffine)}static fromHex(b){const A=m.fromAffine(s(Ti("pointHex",b)));return A.assertValidity(),A}static fromPrivateKey(b){return m.BASE.multiply(d(b))}static msm(b,A){return fce(m,r,b,A)}_setWindowSize(b){L.setWindowSize(this,b)}assertValidity(){p(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:A,py:_,pz:I}=this,{px:M,py:D,pz:B}=b,W=n.eql(n.mul(A,B),n.mul(M,I)),P=n.eql(n.mul(_,B),n.mul(D,I));return W&&P}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:A}=e,_=n.mul(A,gm),{px:I,py:M,pz:D}=this;let B=n.ZERO,W=n.ZERO,P=n.ZERO,T=n.mul(I,I),U=n.mul(M,M),v=n.mul(D,D),E=n.mul(I,M);return E=n.add(E,E),P=n.mul(I,D),P=n.add(P,P),B=n.mul(b,P),W=n.mul(_,v),W=n.add(B,W),B=n.sub(U,W),W=n.add(U,W),W=n.mul(B,W),B=n.mul(E,B),P=n.mul(_,P),v=n.mul(b,v),E=n.sub(T,v),E=n.mul(b,E),E=n.add(E,P),P=n.add(T,T),T=n.add(P,T),T=n.add(T,v),T=n.mul(T,E),W=n.add(W,T),v=n.mul(M,D),v=n.add(v,v),T=n.mul(v,E),B=n.sub(B,T),P=n.mul(v,U),P=n.add(P,P),P=n.add(P,P),new m(B,W,P)}add(b){h(b);const{px:A,py:_,pz:I}=this,{px:M,py:D,pz:B}=b;let W=n.ZERO,P=n.ZERO,T=n.ZERO;const U=e.a,v=n.mul(e.b,gm);let E=n.mul(A,M),O=n.mul(_,D),k=n.mul(I,B),$=n.add(A,_),j=n.add(M,D);$=n.mul($,j),j=n.add(E,O),$=n.sub($,j),j=n.add(A,I);let V=n.add(M,B);return j=n.mul(j,V),V=n.add(E,k),j=n.sub(j,V),V=n.add(_,I),W=n.add(D,B),V=n.mul(V,W),W=n.add(O,k),V=n.sub(V,W),T=n.mul(U,j),W=n.mul(v,k),T=n.add(W,T),W=n.sub(O,T),T=n.add(O,T),P=n.mul(W,T),O=n.add(E,E),O=n.add(O,E),k=n.mul(U,k),j=n.mul(v,j),O=n.add(O,k),k=n.sub(E,k),k=n.mul(U,k),j=n.add(j,k),E=n.mul(O,j),P=n.add(P,E),E=n.mul(V,j),W=n.mul($,W),W=n.sub(W,E),E=n.mul($,O),T=n.mul(V,T),T=n.add(T,E),new m(W,P,T)}subtract(b){return this.add(b.negate())}is0(){return this.equals(m.ZERO)}wNAF(b){return L.wNAFCached(this,b,m.normalizeZ)}multiplyUnsafe(b){const{endo:A,n:_}=e;Al("scalar",b,Ta,_);const I=m.ZERO;if(b===Ta)return I;if(this.is0()||b===Tn)return this;if(!A||L.hasPrecomputes(this))return L.wNAFCachedUnsafe(this,b,m.normalizeZ);let{k1neg:M,k1:D,k2neg:B,k2:W}=A.splitScalar(b),P=I,T=I,U=this;for(;D>Ta||W>Ta;)D&Tn&&(P=P.add(U)),W&Tn&&(T=T.add(U)),U=U.double(),D>>=Tn,W>>=Tn;return M&&(P=P.negate()),B&&(T=T.negate()),T=new m(n.mul(T.px,A.beta),T.py,T.pz),P.add(T)}multiply(b){const{endo:A,n:_}=e;Al("scalar",b,Tn,_);let I,M;if(A){const{k1neg:D,k1:B,k2neg:W,k2:P}=A.splitScalar(b);let{p:T,f:U}=this.wNAF(B),{p:v,f:E}=this.wNAF(P);T=L.constTimeNegate(D,T),v=L.constTimeNegate(W,v),v=new m(n.mul(v.px,A.beta),v.py,v.pz),I=T.add(v),M=U.add(E)}else{const{p:D,f:B}=this.wNAF(b);I=D,M=B}return m.normalizeZ([I,M])[0]}multiplyAndAddUnsafe(b,A,_){const I=m.BASE,M=(B,W)=>W===Ta||W===Tn||!B.equals(I)?B.multiplyUnsafe(W):B.multiply(W),D=M(this,A).add(M(b,_));return D.is0()?void 0:D}toAffine(b){return f(this,b)}isTorsionFree(){const{h:b,isTorsionFree:A}=e;if(b===Tn)return!0;if(A)return A(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:A}=e;return b===Tn?this:A?A(m,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return gh("isCompressed",b),this.assertValidity(),i(m,this,b)}toHex(b=!0){return gh("isCompressed",b),yh(this.toRawBytes(b))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:C}=e,L=hce(m,y?Math.ceil(C/2):C);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function wce(t){const e=VR(t);return b3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function bce(t){const e=wce(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,o=2*n.BYTES+1;function c(v){return Dr(v,r)}function l(v){return o5(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=yce({...e,toBytes(v,E,O){const k=E.toAffine(),$=n.toBytes(k.x),j=G0;return gh("isCompressed",O),O?j(Uint8Array.from([E.hasEvenY()?2:3]),$):j(Uint8Array.from([4]),$,n.toBytes(k.y))},fromBytes(v){const E=v.length,O=v[0],k=v.subarray(1);if(E===a&&(O===2||O===3)){const $=Zc(k);if(!Cw($,Tn,n.ORDER))throw new Error("Point is not on curve");const j=h($);let V;try{V=n.sqrt(j)}catch(J){const ee=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+ee)}const Z=(V&Tn)===Tn;return(O&1)===1!==Z&&(V=n.neg(V)),{x:$,y:V}}else if(E===o&&O===4){const $=n.fromBytes(k.subarray(0,n.BYTES)),j=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:$,y:j}}else{const $=a,j=o;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+j+", got "+E)}}});function p(v){const E=r>>Tn;return v>E}function m(v){return p(v)?c(-v):v}const y=(v,E,O)=>Zc(v.slice(E,O));class C{constructor(E,O,k){Al("r",E,Tn,r),Al("s",O,Tn,r),this.r=E,this.s=O,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(E){const O=i;return E=Ti("compactSignature",E,O*2),new C(y(E,0,O),y(E,O,2*O))}static fromDER(E){const{r:O,s:k}=Aa.toSig(Ti("DER",E));return new C(O,k)}assertValidity(){}addRecoveryBit(E){return new C(this.r,this.s,E)}recoverPublicKey(E){const{r:O,s:k,recovery:$}=this,j=I(Ti("msgHash",E));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const V=$===2||$===3?O+e.n:O;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=$&1?"03":"02",X=u.fromHex(Z+mm(V,n.BYTES)),J=l(V),ee=c(-j*J),ue=c(k*J),le=u.BASE.multiplyAndAddUnsafe(X,ee,ue);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Z0(this.toDERHex())}toDERHex(){return Aa.hexFromSig(this)}toCompactRawBytes(){return Z0(this.toCompactHex())}toCompactHex(){const E=i;return mm(this.r,E)+mm(this.s,E)}}const L={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=FR(e.n);return lce(e.randomBytes(v),e.n)},precompute(v=8,E=u.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}};function w(v,E=!0){return u.fromPrivateKey(v).toRawBytes(E)}function b(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const O=Ti("key",v).length,k=n.BYTES,$=k+1,j=2*k+1;if(!(e.allowedPrivateKeyLengths||i===$))return O===$||O===j}function A(v,E,O=!0){if(b(v)===!0)throw new Error("first arg must be private key");if(b(E)===!1)throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(v)).toRawBytes(O)}const _=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const E=Zc(v),O=v.length*8-s;return O>0?E>>BigInt(O):E},I=e.bits2int_modN||function(v){return c(_(v))},M=w3(s);function D(v){return Al("num < 2^"+s,v,Ta,M),uf(v,i)}function B(v,E,O=W){if(["recovered","canonical"].some(se=>se in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:$}=e;let{lowS:j,prehash:V,extraEntropy:Z}=O;j==null&&(j=!0),v=Ti("msgHash",v),h_(O),V&&(v=Ti("prehashed msgHash",k(v)));const X=I(v),J=d(E),ee=[D(J),D(X)];if(Z!=null&&Z!==!1){const se=Z===!0?$(n.BYTES):Z;ee.push(Ti("extraEntropy",se))}const ue=G0(...ee),le=X;function Ee(se){const q=_(se);if(!f(q))return;const Ne=l(q),je=u.BASE.multiply(q).toAffine(),ce=c(je.x);if(ce===Ta)return;const Re=c(Ne*c(le+ce*J));if(Re===Ta)return;let pe=(je.x===ce?0:2)|Number(je.y&Tn),fe=Re;return j&&p(Re)&&(fe=m(Re),pe^=1),new C(ce,fe,pe)}return{seed:ue,k2sig:Ee}}const W={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function T(v,E,O=W){const{seed:k,k2sig:$}=B(v,E,O),j=e;return yoe(j.hash.outputLen,j.nByteLength,j.hmac)(k,$)}u.BASE._setWindowSize(8);function U(v,E,O,k=P){const $=v;E=Ti("msgHash",E),O=Ti("publicKey",O);const{lowS:j,prehash:V,format:Z}=k;if(h_(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const X=typeof $=="string"||lf($),J=!X&&!Z&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!X&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,ue;try{if(J&&(ee=new C($.r,$.s)),X){try{Z!=="compact"&&(ee=C.fromDER($))}catch(pe){if(!(pe instanceof Aa.Err))throw pe}!ee&&Z!=="der"&&(ee=C.fromCompact($))}ue=u.fromHex(O)}catch{return!1}if(!ee||j&&ee.hasHighS())return!1;V&&(E=e.hash(E));const{r:le,s:Ee}=ee,se=I(E),q=l(Ee),Ne=c(se*q),je=c(le*q),ce=u.BASE.multiplyAndAddUnsafe(ue,Ne,je)?.toAffine();return ce?c(ce.x)===le:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:A,sign:T,verify:U,ProjectivePoint:u,Signature:C,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vce(t){return{hash:t,hmac:(e,...n)=>RR(t,e,Vae(...n)),randomBytes:Hae}}function _ce(t,e){const n=r=>bce({...t,...vce(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Cce=BigInt(0),Ece=BigInt(1),l5=BigInt(2),p_=(t,e)=>(t+e/l5)/e;function xce(t){const e=HR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Ci(u,n,e)*u%e,h=Ci(d,n,e)*u%e,f=Ci(h,l5,e)*l%e,p=Ci(f,i,e)*f%e,m=Ci(p,s,e)*p%e,y=Ci(m,o,e)*m%e,C=Ci(y,c,e)*y%e,L=Ci(C,o,e)*m%e,w=Ci(L,n,e)*u%e,b=Ci(w,a,e)*p%e,A=Ci(b,r,e)*l%e,_=Ci(A,l5,e);if(!u5.eql(u5.sqr(_),t))throw new Error("Cannot find square root");return _}const u5=Aw(HR,void 0,void 0,{sqrt:xce}),Ace=_ce({a:Cce,b:BigInt(7),Fp:u5,n:f_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=f_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ece*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=p_(s*t,e),c=p_(-r*t,e);let l=Dr(t-o*n-c*i,e),u=Dr(-o*r-c*s,e);const d=l>a,h=u>a;if(d&&(l=e-l),h&&(u=e-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},poe);function Lce(t){if(t.length!==130&&t.length!==132)throw new Ice({signature:t});const e=BigInt(va(t,0,32)),n=BigInt(va(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Sce(i)}catch{throw new Tce({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Sce(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new kce({value:t})}class Ice extends qt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Go(xw(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Tce extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class kce extends qt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Pce(t){return Qoe(Oce(t))}function Oce(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,o=new Ace.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(xw(e).substring(2));return Voe(o)}function Rce(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function a(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*s+1>>>0,m=new Uint8Array(p);for(;h!==f;){let L=l[h],w=0;for(let b=p-1;(L!==0||w<d)&&b!==-1;b--,w++)L+=256*m[b]>>>0,m[b]=L%n>>>0,L=L/n>>>0;if(L!==0)throw new Error("Non-zero carry");d=w,h++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let C=r.repeat(u);for(;y<p;++y)C+=t.charAt(m[y]);return C}function o(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*i+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const L=l.charCodeAt(u);if(L>255)return;let w=e[L];if(w===255)return;let b=0;for(let A=f-1;(w!==0||b<h)&&A!==-1;A--,b++)w+=n*p[A]>>>0,p[A]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");h=b,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const y=new Uint8Array(d+(f-m));let C=d;for(;m!==f;)y[C++]=p[m++];return y}function c(l){const u=o(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:o,decode:c}}var $ce="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const df=Rce($ce);function Mce(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Nce(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let a=t.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<r){const o=t.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}const Dce=new TextEncoder,jce=50;function Uce(t,e,n){Dce.encodeInto(t,e.subarray(n))}function Bce(t,e,n){t.length>jce?Uce(t,e,n):Nce(t,e,n)}const Fce=4096;function qR(t,e,n){let r=e;const i=r+n,s=[];let a="";for(;r<i;){const o=t[r++];if(!(o&128))s.push(o);else if((o&224)===192){const c=t[r++]&63;s.push((o&31)<<6|c)}else if((o&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((o&31)<<12|c<<6|l)}else if((o&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(o&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(o);s.length>=Fce&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const zce=new TextDecoder,Wce=200;function Vce(t,e,n){const r=t.subarray(e,e+n);return zce.decode(r)}function Hce(t,e,n){return n>Wce?Vce(t,e,n):qR(t,e,n)}class Qf{constructor(e,n){this.type=e,this.data=n}}class oi extends Error{constructor(e){super(e);const n=Object.create(oi.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:oi.name})}}const Ou=4294967295;function qce(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function ZR(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function GR(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Zce(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Gce=-1,Kce=4294967296-1,Yce=17179869184-1;function Jce({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Yce)if(e===0&&t<=Kce){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),ZR(r,4,t),n}}function Xce(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Qce(t){if(t instanceof Date){const e=Xce(t);return Jce(e)}else return null}function e2e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=GR(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new oi(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function t2e(t){const e=e2e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const n2e={type:Gce,encode:Qce,decode:t2e};class Y0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(n2e)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=-1-r;return new Qf(a,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=r;return new Qf(a,s)}}}return e instanceof Qf?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Qf(n,e)}}Y0.defaultCodec=new Y0;function r2e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function d5(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r2e(t)?new Uint8Array(t):Uint8Array.from(t)}const i2e=100,s2e=2048;let a2e=class KR{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Y0.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??i2e,this.initialBufferSize=e?.initialBufferSize??s2e,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new KR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Mce(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Bce(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=d5(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),qce(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),ZR(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function o2e(t,e){return new a2e(e).encodeSharedRef(t)}function ym(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const c2e=16,l2e=16;class u2e{constructor(e=c2e,n=l2e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const a=s.bytes;for(let o=0;o<r;o++)if(a[o]!==e[n+o])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=qR(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,s),s}}const h5="array",xd="map_key",YR="map_value",d2e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new oi("The type of key must be string or number but "+typeof t)};class h2e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=h5,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=xd,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===h5){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===xd||e.type===YR){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Ru=-1,Lw=new DataView(new ArrayBuffer(0)),f2e=new Uint8Array(Lw.buffer);try{Lw.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const m_=new RangeError("Insufficient data"),p2e=new u2e;let m2e=class JR{constructor(e){this.totalPos=0,this.pos=0,this.view=Lw,this.bytes=f2e,this.headByte=Ru,this.stack=new h2e,this.entered=!1,this.extensionCodec=e?.extensionCodec??Y0.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Ou,this.maxBinLength=e?.maxBinLength??Ou,this.maxArrayLength=e?.maxArrayLength??Ou,this.maxMapLength=e?.maxMapLength??Ou,this.maxExtLength=e?.maxExtLength??Ou,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:p2e,this.mapKeyConverter=e?.mapKeyConverter??d2e}clone(){return new JR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Ru,this.stack.reset()}setBuffer(e){const n=d5(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Ru&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=d5(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${ym(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new oi(`Unrecognized type byte: ${ym(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===h5)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===xd){if(n==="__proto__")throw new oi("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=YR;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=xd;continue e}}return n}}readHeadByte(){return this.headByte===Ru&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Ru}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new oi(`Unrecognized array type byte: ${ym(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new oi(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new oi(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new oi(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw m_;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=Hce(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===xd:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new oi(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw m_;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new oi(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Zce(this.view,this.pos);return this.pos+=8,e}readI64(){const e=GR(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function g2e(t,e){return new m2e(e).decode(t)}const y2e=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),w2e=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function d2(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return w2e(t)}catch{return t}}function Ha(t){return typeof t=="string"?t:y2e(t)||""}function b2e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function XR(t,...e){if(!b2e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function g_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function v2e(t,e){XR(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const W2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function _2e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function QR(t){return typeof t=="string"&&(t=_2e(t)),XR(t),t}let C2e=class{clone(){return this._cloneInto()}};function E2e(t){const e=r=>t().update(QR(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e$(t=32){if(W2&&typeof W2.getRandomValues=="function")return W2.getRandomValues(new Uint8Array(t));if(W2&&typeof W2.randomBytes=="function")return W2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function x2e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}let A2e=class extends C2e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wm(this.buffer)}update(e){g_(this);const{view:n,buffer:r,blockLen:i}=this;e=QR(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=wm(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){g_(this),v2e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;x2e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=wm(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const ep=BigInt(2**32-1),f5=BigInt(32);function t$(t,e=!1){return e?{h:Number(t&ep),l:Number(t>>f5&ep)}:{h:Number(t>>f5&ep)|0,l:Number(t&ep)|0}}function L2e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=t$(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const S2e=(t,e)=>BigInt(t>>>0)<<f5|BigInt(e>>>0),I2e=(t,e,n)=>t>>>n,T2e=(t,e,n)=>t<<32-n|e>>>n,k2e=(t,e,n)=>t>>>n|e<<32-n,P2e=(t,e,n)=>t<<32-n|e>>>n,O2e=(t,e,n)=>t<<64-n|e>>>n-32,R2e=(t,e,n)=>t>>>n-32|e<<64-n,$2e=(t,e)=>e,M2e=(t,e)=>t,N2e=(t,e,n)=>t<<n|e>>>32-n,D2e=(t,e,n)=>e<<n|t>>>32-n,j2e=(t,e,n)=>e<<n-32|t>>>64-n,U2e=(t,e,n)=>t<<n-32|e>>>64-n;function B2e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const F2e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),z2e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,W2e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),V2e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,H2e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),q2e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,et={fromBig:t$,split:L2e,toBig:S2e,shrSH:I2e,shrSL:T2e,rotrSH:k2e,rotrSL:P2e,rotrBH:O2e,rotrBL:R2e,rotr32H:$2e,rotr32L:M2e,rotlSH:N2e,rotlSL:D2e,rotlBH:j2e,rotlBL:U2e,add:B2e,add3L:F2e,add3H:z2e,add4L:W2e,add4H:V2e,add5H:q2e,add5L:H2e},[Z2e,G2e]=et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),oo=new Uint32Array(80),co=new Uint32Array(80);let K2e=class extends A2e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)oo[w]=e.getUint32(n),co[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=oo[w-15]|0,A=co[w-15]|0,_=et.rotrSH(b,A,1)^et.rotrSH(b,A,8)^et.shrSH(b,A,7),I=et.rotrSL(b,A,1)^et.rotrSL(b,A,8)^et.shrSL(b,A,7),M=oo[w-2]|0,D=co[w-2]|0,B=et.rotrSH(M,D,19)^et.rotrBH(M,D,61)^et.shrSH(M,D,6),W=et.rotrSL(M,D,19)^et.rotrBL(M,D,61)^et.shrSL(M,D,6),P=et.add4L(I,W,co[w-7],co[w-16]),T=et.add4H(P,_,B,oo[w-7],oo[w-16]);oo[w]=T|0,co[w]=P|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:C,Hl:L}=this;for(let w=0;w<80;w++){const b=et.rotrSH(d,h,14)^et.rotrSH(d,h,18)^et.rotrBH(d,h,41),A=et.rotrSL(d,h,14)^et.rotrSL(d,h,18)^et.rotrBL(d,h,41),_=d&f^~d&m,I=h&p^~h&y,M=et.add5L(L,A,I,G2e[w],co[w]),D=et.add5H(M,C,b,_,Z2e[w],oo[w]),B=M|0,W=et.rotrSH(r,i,28)^et.rotrBH(r,i,34)^et.rotrBH(r,i,39),P=et.rotrSL(r,i,28)^et.rotrBL(r,i,34)^et.rotrBL(r,i,39),T=r&s^r&o^s&o,U=i&a^i&c^a&c;C=m|0,L=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=et.add(l|0,u|0,D|0,B|0),l=o|0,u=c|0,o=s|0,c=a|0,s=r|0,a=i|0;const v=et.add3L(B,P,U);r=et.add3H(v,D,W,T),i=v|0}({h:r,l:i}=et.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=et.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=et.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=et.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=et.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=et.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=et.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:C,l:L}=et.add(this.Hh|0,this.Hl|0,C|0,L|0),this.set(r,i,s,a,o,c,l,u,d,h,f,p,m,y,C,L)}roundClean(){oo.fill(0),co.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Y2e=E2e(()=>new K2e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sw=BigInt(0),n$=BigInt(1),J2e=BigInt(2);function Iw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tw(t){if(!Iw(t))throw new Error("Uint8Array expected")}function bm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const X2e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kw(t){Tw(t);let e="";for(let n=0;n<t.length;n++)e+=X2e[t[n]];return e}function r$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Sw:BigInt("0x"+t)}const ca={_0:48,_9:57,A:65,F:70,a:97,f:102};function y_(t){if(t>=ca._0&&t<=ca._9)return t-ca._0;if(t>=ca.A&&t<=ca.F)return t-(ca.A-10);if(t>=ca.a&&t<=ca.f)return t-(ca.a-10)}function i$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=y_(t.charCodeAt(s)),o=y_(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function Q2e(t){return r$(kw(t))}function zp(t){return Tw(t),r$(kw(Uint8Array.from(t).reverse()))}function s$(t,e){return i$(t.toString(16).padStart(e*2,"0"))}function p5(t,e){return s$(t,e).reverse()}function la(t,e,n){let r;if(typeof e=="string")try{r=i$(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Iw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function w_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Tw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const vm=t=>typeof t=="bigint"&&Sw<=t;function ele(t,e,n){return vm(t)&&vm(e)&&vm(n)&&e<=t&&t<n}function $u(t,e,n,r){if(!ele(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tle(t){let e;for(e=0;t>Sw;t>>=n$,e+=1);return e}const nle=t=>(J2e<<BigInt(t-1))-n$,rle={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Iw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pw(t,e,n={}){const r=(i,s,a)=>{const o=rle[s];if(typeof o!="function")throw new Error("invalid validator function");const c=t[i];if(!(a&&c===void 0)&&!o(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function b_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Rn=BigInt(0),en=BigInt(1),kc=BigInt(2),ile=BigInt(3),m5=BigInt(4),v_=BigInt(5),__=BigInt(8);function bn(t,e){const n=t%e;return n>=Rn?n:e+n}function sle(t,e,n){if(e<Rn)throw new Error("invalid exponent, negatives unsupported");if(n<=Rn)throw new Error("invalid modulus");if(n===en)return Rn;let r=en;for(;e>Rn;)e&en&&(r=r*t%n),t=t*t%n,e>>=en;return r}function xs(t,e,n){let r=t;for(;e-- >Rn;)r*=r,r%=n;return r}function C_(t,e){if(t===Rn)throw new Error("invert: expected non-zero number");if(e<=Rn)throw new Error("invert: expected positive modulus, got "+e);let n=bn(t,e),r=e,i=Rn,s=en;for(;n!==Rn;){const a=r/n,o=r%n,c=i-s*a;r=n,n=o,i=s,s=c}if(r!==en)throw new Error("invert: does not exist");return bn(i,e)}function ale(t){const e=(t-en)/kc;let n,r,i;for(n=t-en,r=0;n%kc===Rn;n/=kc,r++);for(i=kc;i<t&&sle(i,e,t)!==t-en;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+en)/m5;return function(o,c){const l=o.pow(c,a);if(!o.eql(o.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+en)/kc;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,l=a.pow(a.mul(a.ONE,i),n),u=a.pow(o,s),d=a.pow(o,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let p=a.sqr(d);h<c&&!a.eql(p,a.ONE);h++)p=a.sqr(p);const f=a.pow(l,en<<BigInt(c-h-1));l=a.sqr(f),u=a.mul(u,f),d=a.mul(d,l),c=h}return u}}function ole(t){if(t%m5===ile){const e=(t+en)/m5;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%__===v_){const e=(t-v_)/__;return function(n,r){const i=n.mul(r,kc),s=n.pow(i,e),a=n.mul(r,s),o=n.mul(n.mul(a,kc),s),c=n.mul(a,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return ale(t)}const cle=(t,e)=>(bn(t,e)&en)===en,lle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ule(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=lle.reduce((r,i)=>(r[i]="function",r),e);return Pw(t,n)}function dle(t,e,n){if(n<Rn)throw new Error("invalid exponent, negatives unsupported");if(n===Rn)return t.ONE;if(n===en)return e;let r=t.ONE,i=e;for(;n>Rn;)n&en&&(r=t.mul(r,i)),i=t.sqr(i),n>>=en;return r}function hle(t,e){const n=new Array(e.length),r=e.reduce((s,a,o)=>t.is0(a)?s:(n[o]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,o)=>t.is0(a)?s:(n[o]=t.mul(s,n[o]),t.mul(s,a)),i),n}function a$(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function o$(t,e,n=!1,r={}){if(t<=Rn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=a$(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:nle(i),ZERO:Rn,ONE:en,create:c=>bn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Rn<=c&&c<t},is0:c=>c===Rn,isOdd:c=>(c&en)===en,neg:c=>bn(-c,t),eql:(c,l)=>c===l,sqr:c=>bn(c*c,t),add:(c,l)=>bn(c+l,t),sub:(c,l)=>bn(c-l,t),mul:(c,l)=>bn(c*l,t),pow:(c,l)=>dle(o,c,l),div:(c,l)=>bn(c*C_(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>C_(c,t),sqrt:r.sqrt||(c=>(a||(a=ole(t)),a(o,c))),invertBatch:c=>hle(o,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?p5(c,s):s$(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?zp(c):Q2e(c)}});return Object.freeze(o)}const E_=BigInt(0),tp=BigInt(1);function _m(t,e){const n=e.negate();return t?n:e}function c$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Cm(t,e){c$(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function fle(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ple(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Em=new WeakMap,l$=new WeakMap;function xm(t){return l$.get(t)||1}function mle(t,e){return{constTimeNegate:_m,hasPrecomputes(n){return xm(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>E_;)r&tp&&(i=i.add(s)),s=s.double(),r>>=tp;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Cm(r,e),a=[];let o=n,c=o;for(let l=0;l<i;l++){c=o,a.push(c);for(let u=1;u<s;u++)c=c.add(o),a.push(c);o=c.double()}return a},wNAF(n,r,i){const{windows:s,windowSize:a}=Cm(n,e);let o=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*a;let p=Number(i&l);i>>=d,p>a&&(p-=u,i+=tp);const m=f,y=f+Math.abs(p)-1,C=h%2!==0,L=p<0;p===0?c=c.add(_m(C,r[m])):o=o.add(_m(L,r[y]))}return{p:o,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:a,windowSize:o}=Cm(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<a;d++){const h=d*o;if(i===E_)break;let f=Number(i&c);if(i>>=u,f>o&&(f-=l,i+=tp),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=Em.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Em.set(r,i(s))),s},wNAFCached(n,r,i){const s=xm(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=xm(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){c$(r,e),l$.set(n,r),Em.delete(n)}}}function gle(t,e,n,r){if(fle(n,t),ple(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=tle(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,c=new Array(o+1).fill(i),l=Math.floor((e.BITS-1)/a)*a;let u=i;for(let d=l;d>=0;d-=a){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(o));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<a;f++)u=u.double()}return u}function yle(t){return ule(t.Fp),Pw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...a$(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Hi=BigInt(0),Or=BigInt(1),np=BigInt(2),wle=BigInt(8),ble={zip215:!0};function vle(t){const e=yle(t);return Pw(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function _le(t){const e=vle(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:o,h:c}=e,l=np<<BigInt(o*8)-Or,u=n.create,d=o$(e.n,e.nBitLength),h=e.uvRatio||((v,E)=>{try{return{isValid:!0,value:n.sqrt(v*n.inv(E))}}catch{return{isValid:!1,value:Hi}}}),f=e.adjustScalarBytes||(v=>v),p=e.domain||((v,E,O)=>{if(bm("phflag",O),E.length||O)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,E){$u("coordinate "+v,E,Hi,l)}function y(v){if(!(v instanceof w))throw new Error("ExtendedPoint expected")}const C=b_((v,E)=>{const{ex:O,ey:k,ez:$}=v,j=v.is0();E==null&&(E=j?wle:n.inv($));const V=u(O*E),Z=u(k*E),X=u($*E);if(j)return{x:Hi,y:Or};if(X!==Or)throw new Error("invZ was invalid");return{x:V,y:Z}}),L=b_(v=>{const{a:E,d:O}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:k,ey:$,ez:j,et:V}=v,Z=u(k*k),X=u($*$),J=u(j*j),ee=u(J*J),ue=u(Z*E),le=u(J*u(ue+X)),Ee=u(ee+u(O*u(Z*X)));if(le!==Ee)throw new Error("bad point: equation left != right (1)");const se=u(k*$),q=u(j*V);if(se!==q)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(E,O,k,$){this.ex=E,this.ey=O,this.ez=k,this.et=$,m("x",E),m("y",O),m("z",k),m("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof w)throw new Error("extended point not allowed");const{x:O,y:k}=E||{};return m("x",O),m("y",k),new w(O,k,Or,u(O*k))}static normalizeZ(E){const O=n.invertBatch(E.map(k=>k.ez));return E.map((k,$)=>k.toAffine(O[$])).map(w.fromAffine)}static msm(E,O){return gle(w,d,E,O)}_setWindowSize(E){_.setWindowSize(this,E)}assertValidity(){L(this)}equals(E){y(E);const{ex:O,ey:k,ez:$}=this,{ex:j,ey:V,ez:Z}=E,X=u(O*Z),J=u(j*$),ee=u(k*Z),ue=u(V*$);return X===J&&ee===ue}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:O,ey:k,ez:$}=this,j=u(O*O),V=u(k*k),Z=u(np*u($*$)),X=u(E*j),J=O+k,ee=u(u(J*J)-j-V),ue=X+V,le=ue-Z,Ee=X-V,se=u(ee*le),q=u(ue*Ee),Ne=u(ee*Ee),je=u(le*ue);return new w(se,q,je,Ne)}add(E){y(E);const{a:O,d:k}=e,{ex:$,ey:j,ez:V,et:Z}=this,{ex:X,ey:J,ez:ee,et:ue}=E;if(O===BigInt(-1)){const Ue=u((j-$)*(J+X)),Ir=u((j+$)*(J-X)),ea=u(Ir-Ue);if(ea===Hi)return this.double();const Tr=u(V*np*ue),Mn=u(Z*np*ee),fr=Mn+Tr,Wi=Ir+Ue,ta=Mn-Tr,xt=u(fr*ea),pn=u(Wi*ta),pr=u(fr*ta),Xr=u(ea*Wi);return new w(xt,pn,Xr,pr)}const le=u($*X),Ee=u(j*J),se=u(Z*k*ue),q=u(V*ee),Ne=u(($+j)*(X+J)-le-Ee),je=q-se,ce=q+se,Re=u(Ee-O*le),pe=u(Ne*je),fe=u(ce*Re),gs=u(Ne*Re),Sr=u(je*ce);return new w(pe,fe,Sr,gs)}subtract(E){return this.add(E.negate())}wNAF(E){return _.wNAFCached(this,E,w.normalizeZ)}multiply(E){const O=E;$u("scalar",O,Or,r);const{p:k,f:$}=this.wNAF(O);return w.normalizeZ([k,$])[0]}multiplyUnsafe(E,O=w.ZERO){const k=E;return $u("scalar",k,Hi,r),k===Hi?A:this.is0()||k===Or?this:_.wNAFCachedUnsafe(this,k,w.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(E){return C(this,E)}clearCofactor(){const{h:E}=e;return E===Or?this:this.multiplyUnsafe(E)}static fromHex(E,O=!1){const{d:k,a:$}=e,j=n.BYTES;E=la("pointHex",E,j),bm("zip215",O);const V=E.slice(),Z=E[j-1];V[j-1]=Z&-129;const X=zp(V),J=O?l:n.ORDER;$u("pointHex.y",X,Hi,J);const ee=u(X*X),ue=u(ee-Or),le=u(k*ee-$);let{isValid:Ee,value:se}=h(ue,le);if(!Ee)throw new Error("Point.fromHex: invalid y coordinate");const q=(se&Or)===Or,Ne=(Z&128)!==0;if(!O&&se===Hi&&Ne)throw new Error("Point.fromHex: x=0 and x_0=1");return Ne!==q&&(se=u(-se)),w.fromAffine({x:se,y:X})}static fromPrivateKey(E){return D(E).point}toRawBytes(){const{x:E,y:O}=this.toAffine(),k=p5(O,n.BYTES);return k[k.length-1]|=E&Or?128:0,k}toHex(){return kw(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Or,u(e.Gx*e.Gy)),w.ZERO=new w(Hi,Or,Or,Hi);const{BASE:b,ZERO:A}=w,_=mle(w,o*8);function I(v){return bn(v,r)}function M(v){return I(zp(v))}function D(v){const E=n.BYTES;v=la("private key",v,E);const O=la("hashed private key",s(v),2*E),k=f(O.slice(0,E)),$=O.slice(E,2*E),j=M(k),V=b.multiply(j),Z=V.toRawBytes();return{head:k,prefix:$,scalar:j,point:V,pointBytes:Z}}function B(v){return D(v).pointBytes}function W(v=new Uint8Array,...E){const O=w_(...E);return M(s(p(O,la("context",v),!!i)))}function P(v,E,O={}){v=la("message",v),i&&(v=i(v));const{prefix:k,scalar:$,pointBytes:j}=D(E),V=W(O.context,k,v),Z=b.multiply(V).toRawBytes(),X=W(O.context,Z,j,v),J=I(V+X*$);$u("signature.s",J,Hi,r);const ee=w_(Z,p5(J,n.BYTES));return la("result",ee,n.BYTES*2)}const T=ble;function U(v,E,O,k=T){const{context:$,zip215:j}=k,V=n.BYTES;v=la("signature",v,2*V),E=la("message",E),O=la("publicKey",O,V),j!==void 0&&bm("zip215",j),i&&(E=i(E));const Z=zp(v.slice(V,2*V));let X,J,ee;try{X=w.fromHex(O,j),J=w.fromHex(v.slice(0,V),j),ee=b.multiplyUnsafe(Z)}catch{return!1}if(!j&&X.isSmallOrder())return!1;const ue=W($,J.toRawBytes(),X.toRawBytes(),E);return J.add(X.multiplyUnsafe(ue)).subtract(ee).clearCofactor().equals(w.ZERO)}return b._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:P,verify:U,ExtendedPoint:w,utils:{getExtendedPublicKey:D,randomPrivateKey:()=>a(n.BYTES),precompute(v=8,E=w.BASE){return E._setWindowSize(v),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const Ow=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),x_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Cle=BigInt(1),A_=BigInt(2);BigInt(3);const Ele=BigInt(5),xle=BigInt(8);function Ale(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ow,a=t*t%s*t%s,o=xs(a,A_,s)*a%s,c=xs(o,Cle,s)*t%s,l=xs(c,Ele,s)*c%s,u=xs(l,e,s)*l%s,d=xs(u,n,s)*u%s,h=xs(d,r,s)*d%s,f=xs(h,i,s)*h%s,p=xs(f,i,s)*h%s,m=xs(p,e,s)*l%s;return{pow_p_5_8:xs(m,A_,s)*t%s,b2:a}}function Lle(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Sle(t,e){const n=Ow,r=bn(e*e*e,n),i=bn(r*r*e,n),s=Ale(t*i).pow_p_5_8;let a=bn(t*r*s,n);const o=bn(e*a*a,n),c=a,l=bn(a*x_,n),u=o===t,d=o===bn(-t,n),h=o===bn(-t*x_,n);return u&&(a=c),(d||h)&&(a=l),cle(a,n)&&(a=bn(-a,n)),{isValid:u||d,value:a}}const Ile=o$(Ow,void 0,!0),Tle={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ile,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:xle,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Y2e,randomBytes:e$,adjustScalarBytes:Lle,uvRatio:Sle},u$=_le(Tle),kle="EdDSA",Ple="JWT",J0=".",v3="base64url",d$="utf8",h$="utf8",Ole=":",Rle="did",$le="key",L_="base58btc",Mle="z",Nle="K36",Dle=32;function Rw(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function f$(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Rw(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function p$(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=f$(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Rw(n)}function jle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var A=p[C],_=0,I=w-1;(A!==0||_<y)&&I!==-1;I--,_++)A+=256*b[I]>>>0,b[I]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var D=c.repeat(m);M<w;++M)D+=t.charAt(b[M]);return D}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var A=0,_=L-1;(b!==0||A<C)&&_!==-1;_--,A++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=A,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),D=y;I!==L;)M[D++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Ule=jle,Ble=Ule;const m$=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fle=t=>new TextEncoder().encode(t),zle=t=>new TextDecoder().decode(t);let Wle=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Vle=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return g$(this,e)}},Hle=class{constructor(e){this.decoders=e}or(e){return g$(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const g$=(t,e)=>new Hle({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let qle=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Wle(e,n,r),this.decoder=new Vle(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const _3=({name:t,prefix:e,encode:n,decode:r})=>new qle(t,e,n,r),hf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Ble(n,e);return _3({prefix:t,name:e,encode:r,decode:s=>m$(i(s))})},Zle=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Gle=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Kn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>_3({prefix:e,name:t,encode(i){return Gle(i,r,n)},decode(i){return Zle(i,r,n,t)}}),Kle=_3({prefix:"\0",name:"identity",encode:t=>zle(t),decode:t=>Fle(t)});var Yle=Object.freeze({__proto__:null,identity:Kle});const Jle=Kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Xle=Object.freeze({__proto__:null,base2:Jle});const Qle=Kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var eue=Object.freeze({__proto__:null,base8:Qle});const tue=hf({prefix:"9",name:"base10",alphabet:"0123456789"});var nue=Object.freeze({__proto__:null,base10:tue});const rue=Kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iue=Kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var sue=Object.freeze({__proto__:null,base16:rue,base16upper:iue});const aue=Kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oue=Kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cue=Kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lue=Kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uue=Kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),due=Kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hue=Kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fue=Kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pue=Kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var mue=Object.freeze({__proto__:null,base32:aue,base32upper:oue,base32pad:cue,base32padupper:lue,base32hex:uue,base32hexupper:due,base32hexpad:hue,base32hexpadupper:fue,base32z:pue});const gue=hf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yue=hf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var wue=Object.freeze({__proto__:null,base36:gue,base36upper:yue});const bue=hf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vue=hf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _ue=Object.freeze({__proto__:null,base58btc:bue,base58flickr:vue});const Cue=Kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Eue=Kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xue=Kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Aue=Kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Lue=Object.freeze({__proto__:null,base64:Cue,base64pad:Eue,base64url:xue,base64urlpad:Aue});const y$=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Sue=y$.reduce((t,e,n)=>(t[n]=e,t),[]),Iue=y$.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Tue(t){return t.reduce((e,n)=>(e+=Sue[n],e),"")}function kue(t){const e=[];for(const n of t){const r=Iue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Pue=_3({prefix:"🚀",name:"base256emoji",encode:Tue,decode:kue});var Oue=Object.freeze({__proto__:null,base256emoji:Pue}),Rue=w$,S_=128,$ue=-128,Mue=Math.pow(2,31);function w$(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Mue;)e[n++]=t&255|S_,t/=128;for(;t&$ue;)e[n++]=t&255|S_,t>>>=7;return e[n]=t|0,w$.bytes=n-r+1,e}var Nue=g5,Due=128,I_=127;function g5(t,r){var n=0,r=r||0,i=0,s=r,a,o=t.length;do{if(s>=o)throw g5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&I_)<<i:(a&I_)*Math.pow(2,i),i+=7}while(a>=Due);return g5.bytes=s-r,n}var jue=Math.pow(2,7),Uue=Math.pow(2,14),Bue=Math.pow(2,21),Fue=Math.pow(2,28),zue=Math.pow(2,35),Wue=Math.pow(2,42),Vue=Math.pow(2,49),Hue=Math.pow(2,56),que=Math.pow(2,63),Zue=function(t){return t<jue?1:t<Uue?2:t<Bue?3:t<Fue?4:t<zue?5:t<Wue?6:t<Vue?7:t<Hue?8:t<que?9:10},Gue={encode:Rue,decode:Nue,encodingLength:Zue},b$=Gue;const T_=(t,e,n=0)=>(b$.encode(t,e,n),e),k_=t=>b$.encodingLength(t),y5=(t,e)=>{const n=e.byteLength,r=k_(t),i=r+k_(n),s=new Uint8Array(i+n);return T_(t,s,0),T_(n,s,r),s.set(e,i),new Kue(t,n,e,s)};let Kue=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const v$=({name:t,code:e,encode:n})=>new Yue(t,e,n);let Yue=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?y5(this.code,n):n.then(r=>y5(this.code,r))}else throw Error("Unknown type, must be binary type")}};const _$=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Jue=v$({name:"sha2-256",code:18,encode:_$("SHA-256")}),Xue=v$({name:"sha2-512",code:19,encode:_$("SHA-512")});var Que=Object.freeze({__proto__:null,sha256:Jue,sha512:Xue});const C$=0,ede="identity",E$=m$,tde=t=>y5(C$,E$(t)),nde={code:C$,name:ede,encode:E$,digest:tde};var rde=Object.freeze({__proto__:null,identity:nde});new TextEncoder,new TextDecoder;const P_={...Yle,...Xle,...eue,...nue,...sue,...mue,...wue,..._ue,...Lue,...Oue};({...Que,...rde});function x$(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const O_=x$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Am=x$("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=f$(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),A$={utf8:O_,"utf-8":O_,hex:P_.base16,latin1:Am,ascii:Am,binary:Am,...P_};function C3(t,e="utf8"){const n=A$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function gu(t,e="utf8"){const n=A$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Rw(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function R_(t){return d2(C3(gu(t,v3),d$))}function X0(t){return C3(gu(Ha(t),d$),v3)}function L$(t){const e=gu(Nle,L_),n=Mle+C3(p$([e,t]),L_);return[Rle,$le,n].join(Ole)}function ide(t){return C3(t,v3)}function sde(t){return gu(t,v3)}function ade(t){return gu([X0(t.header),X0(t.payload)].join(J0),h$)}function ode(t){return[X0(t.header),X0(t.payload),ide(t.signature)].join(J0)}function w5(t){const e=t.split(J0),n=R_(e[0]),r=R_(e[1]),i=sde(e[2]),s=gu(e.slice(0,2).join(J0),h$);return{header:n,payload:r,signature:i,data:s}}function $_(t=e$(Dle)){const e=u$.getPublicKey(t);return{secretKey:p$([t,e]),publicKey:e}}async function cde(t,e,n,r,i=ye.fromMiliseconds(Date.now())){const s={alg:kle,typ:Ple},a=L$(r.publicKey),o=i+n,c={iss:a,sub:t,aud:e,iat:i,exp:o},l=ade({header:s,payload:c}),u=u$.sign(l,r.secretKey.slice(0,32));return ode({header:s,payload:c,signature:u})}function $w(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function S$(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?$w(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ad(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=S$(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return $w(n)}function lde(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var A=p[C],_=0,I=w-1;(A!==0||_<y)&&I!==-1;I--,_++)A+=256*b[I]>>>0,b[I]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var D=c.repeat(m);M<w;++M)D+=t.charAt(b[M]);return D}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var A=0,_=L-1;(b!==0||A<C)&&_!==-1;_--,A++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=A,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),D=y;I!==L;)M[D++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var ude=lde,dde=ude;const hde=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fde=t=>new TextEncoder().encode(t),pde=t=>new TextDecoder().decode(t);class mde{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gde{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return I$(this,e)}}class yde{constructor(e){this.decoders=e}or(e){return I$(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const I$=(t,e)=>new yde({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class wde{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new mde(e,n,r),this.decoder=new gde(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const E3=({name:t,prefix:e,encode:n,decode:r})=>new wde(t,e,n,r),ff=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=dde(n,e);return E3({prefix:t,name:e,encode:r,decode:s=>hde(i(s))})},bde=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},vde=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Yn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>E3({prefix:e,name:t,encode(i){return vde(i,r,n)},decode(i){return bde(i,r,n,t)}}),_de=E3({prefix:"\0",name:"identity",encode:t=>pde(t),decode:t=>fde(t)}),Cde=Object.freeze(Object.defineProperty({__proto__:null,identity:_de},Symbol.toStringTag,{value:"Module"})),Ede=Yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),xde=Object.freeze(Object.defineProperty({__proto__:null,base2:Ede},Symbol.toStringTag,{value:"Module"})),Ade=Yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Lde=Object.freeze(Object.defineProperty({__proto__:null,base8:Ade},Symbol.toStringTag,{value:"Module"})),Sde=ff({prefix:"9",name:"base10",alphabet:"0123456789"}),Ide=Object.freeze(Object.defineProperty({__proto__:null,base10:Sde},Symbol.toStringTag,{value:"Module"})),Tde=Yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kde=Yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Pde=Object.freeze(Object.defineProperty({__proto__:null,base16:Tde,base16upper:kde},Symbol.toStringTag,{value:"Module"})),Ode=Yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rde=Yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$de=Yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mde=Yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nde=Yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Dde=Yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jde=Yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ude=Yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bde=Yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Fde=Object.freeze(Object.defineProperty({__proto__:null,base32:Ode,base32hex:Nde,base32hexpad:jde,base32hexpadupper:Ude,base32hexupper:Dde,base32pad:$de,base32padupper:Mde,base32upper:Rde,base32z:Bde},Symbol.toStringTag,{value:"Module"})),zde=ff({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wde=ff({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Vde=Object.freeze(Object.defineProperty({__proto__:null,base36:zde,base36upper:Wde},Symbol.toStringTag,{value:"Module"})),Hde=ff({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qde=ff({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Zde=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Hde,base58flickr:qde},Symbol.toStringTag,{value:"Module"})),Gde=Yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Kde=Yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Yde=Yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Jde=Yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Xde=Object.freeze(Object.defineProperty({__proto__:null,base64:Gde,base64pad:Kde,base64url:Yde,base64urlpad:Jde},Symbol.toStringTag,{value:"Module"})),T$=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Qde=T$.reduce((t,e,n)=>(t[n]=e,t),[]),ehe=T$.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function the(t){return t.reduce((e,n)=>(e+=Qde[n],e),"")}function nhe(t){const e=[];for(const n of t){const r=ehe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const rhe=E3({prefix:"🚀",name:"base256emoji",encode:the,decode:nhe}),ihe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:rhe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const M_={...Cde,...xde,...Lde,...Ide,...Pde,...Fde,...Vde,...Zde,...Xde,...ihe};function k$(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const N_=k$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Lm=k$("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=S$(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),P$={utf8:N_,"utf-8":N_,hex:M_.base16,latin1:Lm,ascii:Lm,binary:Lm,...M_};function $i(t,e="utf8"){const n=P$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?$w(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Hr(t,e="utf8"){const n=P$[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const she={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},ahe="Input must be an string, Buffer or Uint8Array";function ohe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(ahe);return e}function che(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function rp(t){return(4294967296+t).toString(16).substring(1)}function lhe(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=rp(e[i]).toUpperCase(),r+=" ",r+=rp(e[i+1]).toUpperCase();else if(n===64)r+=rp(e[i+1]).toUpperCase(),r+=rp(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function uhe(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let a=0;a<e;a++)i[a]=a%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let a=0;a<n;a++){const o=t(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+o.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var O$={normalizeInput:ohe,toHex:che,debugPrint:lhe,testSpeed:uhe};const Wp=O$;function ip(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function D_(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function R$(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function lo(t,e,n,r,i,s){const a=od[i],o=od[i+1],c=od[s],l=od[s+1];ip(Ke,t,e),D_(Ke,t,a,o);let u=Ke[r]^Ke[t],d=Ke[r+1]^Ke[t+1];Ke[r]=d,Ke[r+1]=u,ip(Ke,n,r),u=Ke[e]^Ke[n],d=Ke[e+1]^Ke[n+1],Ke[e]=u>>>24^d<<8,Ke[e+1]=d>>>24^u<<8,ip(Ke,t,e),D_(Ke,t,c,l),u=Ke[r]^Ke[t],d=Ke[r+1]^Ke[t+1],Ke[r]=u>>>16^d<<16,Ke[r+1]=d>>>16^u<<16,ip(Ke,n,r),u=Ke[e]^Ke[n],d=Ke[e+1]^Ke[n+1],Ke[e]=d>>>31^u<<1,Ke[e+1]=u>>>31^d<<1}const $$=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),dhe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Xn=new Uint8Array(dhe.map(function(t){return t*2})),Ke=new Uint32Array(32),od=new Uint32Array(32);function M$(t,e){let n=0;for(n=0;n<16;n++)Ke[n]=t.h[n],Ke[n+16]=$$[n];for(Ke[24]=Ke[24]^t.t,Ke[25]=Ke[25]^t.t/4294967296,e&&(Ke[28]=~Ke[28],Ke[29]=~Ke[29]),n=0;n<32;n++)od[n]=R$(t.b,4*n);for(n=0;n<12;n++)lo(0,8,16,24,Xn[n*16+0],Xn[n*16+1]),lo(2,10,18,26,Xn[n*16+2],Xn[n*16+3]),lo(4,12,20,28,Xn[n*16+4],Xn[n*16+5]),lo(6,14,22,30,Xn[n*16+6],Xn[n*16+7]),lo(0,10,20,30,Xn[n*16+8],Xn[n*16+9]),lo(2,12,22,24,Xn[n*16+10],Xn[n*16+11]),lo(4,14,16,26,Xn[n*16+12],Xn[n*16+13]),lo(6,8,18,28,Xn[n*16+14],Xn[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^Ke[n]^Ke[n+16]}const uo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function N$(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};uo.fill(0),uo[0]=t,e&&(uo[1]=e.length),uo[2]=1,uo[3]=1,n&&uo.set(n,32),r&&uo.set(r,48);for(let s=0;s<16;s++)i.h[s]=$$[s]^R$(uo,s*4);return e&&(Mw(i,e),i.c=128),i}function Mw(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,M$(t,!1),t.c=0),t.b[t.c++]=e[n]}function D$(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;M$(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function j$(t,e,n,r,i){n=n||64,t=Wp.normalizeInput(t),r&&(r=Wp.normalizeInput(r)),i&&(i=Wp.normalizeInput(i));const s=N$(n,e,r,i);return Mw(s,t),D$(s)}function hhe(t,e,n,r,i){const s=j$(t,e,n,r,i);return Wp.toHex(s)}var fhe={blake2b:j$,blake2bHex:hhe,blake2bInit:N$,blake2bUpdate:Mw,blake2bFinal:D$};const U$=O$;function phe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ho(t,e,n,r,i,s){mt[t]=mt[t]+mt[e]+i,mt[r]=sp(mt[r]^mt[t],16),mt[n]=mt[n]+mt[r],mt[e]=sp(mt[e]^mt[n],12),mt[t]=mt[t]+mt[e]+s,mt[r]=sp(mt[r]^mt[t],8),mt[n]=mt[n]+mt[r],mt[e]=sp(mt[e]^mt[n],7)}function sp(t,e){return t>>>e^t<<32-e}const B$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),mt=new Uint32Array(16),Un=new Uint32Array(16);function F$(t,e){let n=0;for(n=0;n<8;n++)mt[n]=t.h[n],mt[n+8]=B$[n];for(mt[12]^=t.t,mt[13]^=t.t/4294967296,e&&(mt[14]=~mt[14]),n=0;n<16;n++)Un[n]=phe(t.b,4*n);for(n=0;n<10;n++)ho(0,4,8,12,Un[Qn[n*16+0]],Un[Qn[n*16+1]]),ho(1,5,9,13,Un[Qn[n*16+2]],Un[Qn[n*16+3]]),ho(2,6,10,14,Un[Qn[n*16+4]],Un[Qn[n*16+5]]),ho(3,7,11,15,Un[Qn[n*16+6]],Un[Qn[n*16+7]]),ho(0,5,10,15,Un[Qn[n*16+8]],Un[Qn[n*16+9]]),ho(1,6,11,12,Un[Qn[n*16+10]],Un[Qn[n*16+11]]),ho(2,7,8,13,Un[Qn[n*16+12]],Un[Qn[n*16+13]]),ho(3,4,9,14,Un[Qn[n*16+14]],Un[Qn[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=mt[n]^mt[n+8]}function z$(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(B$),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(Nw(r,e),r.c=64),r}function Nw(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,F$(t,!1),t.c=0),t.b[t.c++]=e[n]}function W$(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;F$(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function V$(t,e,n){n=n||32,t=U$.normalizeInput(t);const r=z$(n,e);return Nw(r,t),W$(r)}function mhe(t,e,n){const r=V$(t,e,n);return U$.toHex(r)}var ghe={blake2s:V$,blake2sHex:mhe,blake2sInit:z$,blake2sUpdate:Nw,blake2sFinal:W$};const Mu=fhe,Nu=ghe;var yhe={blake2b:Mu.blake2b,blake2bHex:Mu.blake2bHex,blake2bInit:Mu.blake2bInit,blake2bUpdate:Mu.blake2bUpdate,blake2bFinal:Mu.blake2bFinal,blake2s:Nu.blake2s,blake2sHex:Nu.blake2sHex,blake2sInit:Nu.blake2sInit,blake2sUpdate:Nu.blake2sUpdate,blake2sFinal:Nu.blake2sFinal},x3={exports:{}};function whe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var bhe=vhe;function vhe(t,e,n){var r=n&&n.stringify||whe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=r(t);for(var o=1;o<s;o++)a[o]=r(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const j_=bhe;x3.exports=qa;const wh=Mhe().console||{},_he={mapHttpRequest:ap,mapHttpResponse:ap,wrapRequestSerializer:Sm,wrapResponseSerializer:Sm,wrapErrorSerializer:Sm,req:ap,res:ap,err:B_,errWithCause:B_};function Bo(t,e){return t==="silent"?1/0:e.levels.values[t]}const Dw=Symbol("pino.logFuncs"),b5=Symbol("pino.hierarchy"),Che={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function U_(t,e){const n={logger:e,parent:t[b5]};e[b5]=n}function Ehe(t,e,n){const r={};e.forEach(i=>{r[i]=n[i]?n[i]:wh[i]||wh[Che[i]||"log"]||Ll}),t[Dw]=r}function xhe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function qa(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||wh;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=xhe(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(m){n[m]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const c=t.level||"info",l=Object.create(n);l.log||(l.log=Ll),Ehe(l,o,n),U_({},l),Object.defineProperty(l,"levelVal",{get:d}),Object.defineProperty(l,"level",{get:h,set:f});const u={transmit:e,serialize:i,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,levels:o,timestamp:Ohe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Ll};l.levels=Ahe(t),l.level=c,l.isLevelEnabled=function(m){return this.levels.values[m]?this.levels.values[m]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=Ll,l.serializers=r,l._serialize=i,l._stdErrSerialize=s,l.child=function(...m){return p.call(this,u,...m)},e&&(l._logEvent=v5());function d(){return Bo(this.level,this)}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,gc(this,u,l,"error"),gc(this,u,l,"fatal"),gc(this,u,l,"warn"),gc(this,u,l,"info"),gc(this,u,l,"debug"),gc(this,u,l,"trace"),a.forEach(y=>{gc(this,u,l,y)})}function p(m,y,C){if(!y)throw new Error("missing bindings for child Pino");C=C||{},i&&y.serializers&&(C.serializers=y.serializers);const L=C.serializers;if(i&&L){var w=Object.assign({},r,L),b=t.browser.serialize===!0?Object.keys(w):i;delete y.serializers,jw([y],b,w,this._stdErrSerialize)}function A(I){this._childLevel=(I._childLevel|0)+1,this.bindings=y,w&&(this.serializers=w,this._serialize=b),e&&(this._logEvent=v5([].concat(I._logEvent.bindings,y)))}A.prototype=this;const _=new A(this);return U_(this,_),_.child=function(...I){return p.call(this,m,...I)},_.level=C.level||this.level,m.onChild(_),_}return l}function Ahe(t){const e=t.customLevels||{},n=Object.assign({},qa.levels.values,e),r=Object.assign({},qa.levels.labels,Lhe(e));return{values:n,labels:r}}function Lhe(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}qa.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qa.stdSerializers=_he;qa.stdTimeFunctions=Object.assign({},{nullTime:H$,epochTime:q$,unixTime:Rhe,isoTime:$he});function She(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[b5];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function gc(t,e,n,r){if(Object.defineProperty(t,r,{value:Bo(t.level,n)>Bo(r,n)?Ll:n[Dw][r],writable:!0,enumerable:!0,configurable:!0}),t[r]===Ll){if(!e.transmit)return;const s=e.transmit.level||t.level,a=Bo(s,n);if(Bo(r,n)<a)return}t[r]=The(t,e,n,r);const i=She(t);i.length!==0&&(t[r]=Ihe(i,t[r]))}function Ihe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function The(t,e,n,r){return function(i){return function(){const a=e.timestamp(),o=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===wh?wh:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];var u=!1;if(e.serialize&&(jw(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters?i.call(c,...khe(this,r,o,a,e)):i.apply(c,o),e.transmit){const d=e.transmit.level||t._level,h=Bo(d,n),f=Bo(r,n);if(f<h)return;Phe(this,{ts:a,methodLevel:r,methodValue:f,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Bo(t._level,n)},o,u)}}}(t[Dw][r])}function khe(t,e,n,r,i){const{level:s,log:a=d=>d}=i.formatters||{},o=n.slice();let c=o[0];const l={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),r&&(l.time=r),s){const d=s(e,t.levels.values[e]);Object.assign(l,d)}else l.level=t.levels.values[e];if(i.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());return[a(l),...o]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(l,o.shift());c=o.length?j_(o.shift(),o):void 0}else typeof c=="string"&&(c=j_(o.shift(),o));return c!==void 0&&(l[i.messageKey]=c),[a(l)]}}function jw(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=qa.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i])&&e)for(const s in t[i])e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Phe(t,e,n,r=!1){const i=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,c=e.val,l=t._logEvent.bindings;r||jw(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return l.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,i(a,t._logEvent,c),t._logEvent=v5(l)}function v5(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function B_(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Ohe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?H$:q$}function ap(){return{}}function Sm(t){return t}function Ll(){}function H$(){return!1}function q$(){return Date.now()}function Rhe(){return Math.round(Date.now()/1e3)}function $he(){return new Date(Date.now()).toISOString()}function Mhe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}x3.exports.default=qa;x3.exports.pino=qa;var sl=x3.exports;const Z$=y2(sl),Nhe={level:"info"},A3="custom_context",Uw=1e3*1024;var Dhe=Object.defineProperty,jhe=(t,e,n)=>e in t?Dhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Po=(t,e,n)=>jhe(t,typeof e!="symbol"?e+"":e,n);let Uhe=class{constructor(e){Po(this,"nodeValue"),Po(this,"sizeInBytes"),Po(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},F_=class{constructor(e){Po(this,"lengthInNodes"),Po(this,"sizeInBytes"),Po(this,"head"),Po(this,"tail"),Po(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Uhe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var Bhe=Object.defineProperty,Fhe=(t,e,n)=>e in t?Bhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,op=(t,e,n)=>Fhe(t,typeof e!="symbol"?e+"":e,n);let G$=class{constructor(e,n=Uw){op(this,"logs"),op(this,"level"),op(this,"levelValue"),op(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=sl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new F_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===sl.levels.values.error?console.error(e):n===sl.levels.values.warn?console.warn(e):n===sl.levels.values.debug?console.debug(e):n===sl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ha({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new F_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Ha({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var zhe=Object.defineProperty,Whe=(t,e,n)=>e in t?zhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vhe=(t,e,n)=>Whe(t,e+"",n);let Hhe=class{constructor(e,n=Uw){Vhe(this,"baseChunkLogger"),this.baseChunkLogger=new G$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var qhe=Object.defineProperty,Zhe=(t,e,n)=>e in t?qhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ghe=(t,e,n)=>Zhe(t,e+"",n);let Khe=class{constructor(e,n=Uw){Ghe(this,"baseChunkLogger"),this.baseChunkLogger=new G$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Yhe=Object.defineProperty,Jhe=Object.defineProperties,Xhe=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,Qhe=Object.prototype.hasOwnProperty,efe=Object.prototype.propertyIsEnumerable,W_=(t,e,n)=>e in t?Yhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q0=(t,e)=>{for(var n in e||(e={}))Qhe.call(e,n)&&W_(t,n,e[n]);if(z_)for(var n of z_(e))efe.call(e,n)&&W_(t,n,e[n]);return t},e1=(t,e)=>Jhe(t,Xhe(e));function tfe(t){return e1(Q0({},t),{level:t?.level||Nhe.level})}function nfe(t,e,n=A3){return t[n]=e,t}function Jr(t,e=A3){return t[e]||""}function rfe(t,e,n=A3){const r=Jr(t,n);return r.trim()?`${r}/${e}`:e}function yi(t,e,n=A3){const r=rfe(t,e,n),i=t.child({context:r});return nfe(i,r,n)}function ife(t){var e,n;const r=new Hhe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Z$(e1(Q0({},t.opts),{level:"trace",browser:e1(Q0({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function sfe(t){var e;const n=new Khe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Z$(e1(Q0({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function K$(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?ife(t):sfe(t)}var afe={};const ofe=":";function ja(t){const[e,n]=t.split(ofe);return{namespace:e,reference:n}}function V_(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function Y$(t,e){return t.includes(":")?[t]:e.chains||[]}var cfe=Object.defineProperty,lfe=Object.defineProperties,ufe=Object.getOwnPropertyDescriptors,H_=Object.getOwnPropertySymbols,dfe=Object.prototype.hasOwnProperty,hfe=Object.prototype.propertyIsEnumerable,_5=(t,e,n)=>e in t?cfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q_=(t,e)=>{for(var n in e||(e={}))dfe.call(e,n)&&_5(t,n,e[n]);if(H_)for(var n of H_(e))hfe.call(e,n)&&_5(t,n,e[n]);return t},ffe=(t,e)=>lfe(t,ufe(e)),Z_=(t,e,n)=>_5(t,typeof e!="symbol"?e+"":e,n);const pfe="ReactNative",ui={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},mfe="js";function t1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function sc(){return!l2()&&!!gw()&&navigator.product===pfe}function gfe(){return sc()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function yfe(){return sc()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function yu(){return!t1()&&!!gw()&&!!l2()}function pf(){return sc()?ui.reactNative:t1()?ui.node:yu()?ui.browser:ui.unknown}function G_(){var t;try{return sc()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function wfe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function bfe(t){var e,n;const r=J$();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),ffe(q_(q_({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function J$(){return dR()||{name:"",description:"",url:"",icons:[""]}}function vfe(){if(pf()===ui.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=Vse();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function _fe(){var t;const e=pf();return e===ui.browser?[e,((t=uR())==null?void 0:t.host)||"unknown"].join(":"):e}function X$(t,e,n){const r=vfe(),i=_fe();return[[t,e].join("-"),[mfe,n].join("-"),r,i].join("/")}function Cfe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:c}){const l=n.split("?"),u=X$(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:a,packageName:c||void 0,bundleId:o||void 0},h=wfe(l[1]||"",d);return l[0]+"?"+h}function jc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function C5(t){return Object.fromEntries(t.entries())}function E5(t){return new Map(Object.entries(t))}function Cc(t=ye.FIVE_MINUTES,e){const n=ye.toMiliseconds(t||ye.FIVE_MINUTES);let r,i,s,a;return{resolve:o=>{s&&r&&(clearTimeout(s),r(o),a=Promise.resolve(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,c)=>{if(a)return o(a);s=setTimeout(()=>{const l=new Error(e);a=Promise.reject(l),c(l)},n),r=o,i=c})}}function js(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function Q$(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Efe(t){return Q$("topic",t)}function xfe(t){return Q$("id",t)}function eM(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function sn(t,e){return ye.fromMiliseconds(Date.now()+ye.toMiliseconds(t))}function Ms(t){return Date.now()>=ye.toMiliseconds(t)}function bt(t,e){return`${t}${e?`:${e}`:""}`}function Ws(t=[],e=[]){return[...new Set([...t,...e])]}async function Afe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const a=Lfe(s,t,e),o=pf();if(o===ui.browser){if(!((r=l2())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Sfe(a)}else o===ui.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(a)}catch(i){console.error(i)}}function Lfe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Pfe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Sfe(t){let e="_self";kfe()?e="_top":(Tfe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Ife(t,e){let n="";try{if(yu()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function K_(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Y_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Bw(){return typeof process<"u"&&afe.IS_VITEST==="true"}function Tfe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function kfe(){try{return window.self!==window.top}catch{return!1}}function Pfe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function tM(t){return Buffer.from(t,"base64").toString("utf-8")}function Ofe(t){return new Promise(e=>setTimeout(e,t))}let Rfe=class{constructor({limit:e}){Z_(this,"limit"),Z_(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const cp=BigInt(2**32-1),J_=BigInt(32);function nM(t,e=!1){return e?{h:Number(t&cp),l:Number(t>>J_&cp)}:{h:Number(t>>J_&cp)|0,l:Number(t&cp)|0}}function rM(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=nM(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const X_=(t,e,n)=>t>>>n,Q_=(t,e,n)=>t<<32-n|e>>>n,Eo=(t,e,n)=>t>>>n|e<<32-n,xo=(t,e,n)=>t<<32-n|e>>>n,cd=(t,e,n)=>t<<64-n|e>>>n-32,ld=(t,e,n)=>t>>>n-32|e<<64-n,$fe=(t,e)=>e,Mfe=(t,e)=>t,Nfe=(t,e,n)=>t<<n|e>>>32-n,Dfe=(t,e,n)=>e<<n|t>>>32-n,jfe=(t,e,n)=>e<<n-32|t>>>64-n,Ufe=(t,e,n)=>t<<n-32|e>>>64-n;function Xi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Fw=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),zw=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Bfe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ffe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,zfe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Wfe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,V2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function L3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Za(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ps(t,...e){if(!L3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function S3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Za(t.outputLen),Za(t.blockLen)}function Ko(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ww(t,e){ps(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Di(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Im(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function As(t,e){return t<<32-e|t>>>e}const iM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function sM(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ma=iM?t=>t:t=>sM(t);function Vfe(t){for(let e=0;e<t.length;e++)t[e]=sM(t[e]);return t}const Ao=iM?t=>t:Vfe,aM=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Hfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sl(t){if(ps(t),aM)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Hfe[t[n]];return e}const ua={_0:48,_9:57,A:65,F:70,a:97,f:102};function eC(t){if(t>=ua._0&&t<=ua._9)return t-ua._0;if(t>=ua.A&&t<=ua.F)return t-(ua.A-10);if(t>=ua.a&&t<=ua.f)return t-(ua.a-10)}function n1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(aM)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=eC(t.charCodeAt(s)),o=eC(t.charCodeAt(s+1));if(a===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=a*16+o}return r}function oM(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function os(t){return typeof t=="string"&&(t=oM(t)),ps(t),t}function Oo(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ps(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class I3{}function mf(t){const e=r=>t().update(os(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function qfe(t){const e=(r,i)=>t(i).update(os(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function L2(t=32){if(V2&&typeof V2.getRandomValues=="function")return V2.getRandomValues(new Uint8Array(t));if(V2&&typeof V2.randomBytes=="function")return Uint8Array.from(V2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Zfe=BigInt(0),Du=BigInt(1),Gfe=BigInt(2),Kfe=BigInt(7),Yfe=BigInt(256),Jfe=BigInt(113),cM=[],lM=[],uM=[];for(let t=0,e=Du,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],cM.push(2*(5*r+n)),lM.push((t+1)*(t+2)/2%64);let i=Zfe;for(let s=0;s<7;s++)e=(e<<Du^(e>>Kfe)*Jfe)%Yfe,e&Gfe&&(i^=Du<<(Du<<BigInt(s))-Du);uM.push(i)}const dM=rM(uM,!0),Xfe=dM[0],Qfe=dM[1],tC=(t,e,n)=>n>32?jfe(t,e,n):Nfe(t,e,n),nC=(t,e,n)=>n>32?Ufe(t,e,n):Dfe(t,e,n);function epe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=tC(l,u,1)^n[o],h=nC(l,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=d,t[a+f+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=lM[a],c=tC(i,s,o),l=nC(i,s,o),u=cM[a];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Xfe[r],t[1]^=Qfe[r]}Di(n)}let tpe=class hM extends I3{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Za(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=bh(this.state)}clone(){return this._cloneInto()}keccak(){Ao(this.state32),epe(this.state32,this.rounds),Ao(this.state32),this.posOut=0,this.pos=0}update(e){Ko(this),e=os(e),ps(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ko(this,!1),ps(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Za(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ww(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Di(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new hM(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const npe=(t,e,n)=>mf(()=>new tpe(e,t,n)),rpe=npe(1,136,256/8);function ipe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,a,r),t.setUint32(e+l,o,r)}function spe(t,e,n){return t&e^~t&n}function ape(t,e,n){return t&e^t&n^e&n}let fM=class extends I3{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Im(this.buffer)}update(e){Ko(this),e=os(e),ps(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const c=Im(e);for(;i<=s-a;a+=i)this.process(c,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ko(this),Ww(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Di(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)n[d]=0;ipe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=Im(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)o.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const fo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),er=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),tr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ope=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),po=new Uint32Array(64);class cpe extends fM{constructor(e=32){super(64,e,8,!1),this.A=fo[0]|0,this.B=fo[1]|0,this.C=fo[2]|0,this.D=fo[3]|0,this.E=fo[4]|0,this.F=fo[5]|0,this.G=fo[6]|0,this.H=fo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:c}=this;return[e,n,r,i,s,a,o,c]}set(e,n,r,i,s,a,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)po[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=po[d-15],f=po[d-2],p=As(h,7)^As(h,18)^h>>>3,m=As(f,17)^As(f,19)^f>>>10;po[d]=m+po[d-7]+p+po[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=As(o,6)^As(o,11)^As(o,25),f=u+h+spe(o,c,l)+ope[d]+po[d]|0,p=(As(r,2)^As(r,13)^As(r,22))+ape(r,i,s)|0;u=l,l=c,c=o,o=a+f|0,a=s,s=i,i=r,r=f+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,c,l,u)}roundClean(){Di(po)}destroy(){this.set(0,0,0,0,0,0,0,0),Di(this.buffer)}}const pM=rM(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),lpe=pM[0],upe=pM[1],mo=new Uint32Array(80),go=new Uint32Array(80);let Vw=class extends fM{constructor(e=64){super(128,e,16,!1),this.Ah=tr[0]|0,this.Al=tr[1]|0,this.Bh=tr[2]|0,this.Bl=tr[3]|0,this.Ch=tr[4]|0,this.Cl=tr[5]|0,this.Dh=tr[6]|0,this.Dl=tr[7]|0,this.Eh=tr[8]|0,this.El=tr[9]|0,this.Fh=tr[10]|0,this.Fl=tr[11]|0,this.Gh=tr[12]|0,this.Gl=tr[13]|0,this.Hh=tr[14]|0,this.Hl=tr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let w=0;w<16;w++,n+=4)mo[w]=e.getUint32(n),go[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const b=mo[w-15]|0,A=go[w-15]|0,_=Eo(b,A,1)^Eo(b,A,8)^X_(b,A,7),I=xo(b,A,1)^xo(b,A,8)^Q_(b,A,7),M=mo[w-2]|0,D=go[w-2]|0,B=Eo(M,D,19)^cd(M,D,61)^X_(M,D,6),W=xo(M,D,19)^ld(M,D,61)^Q_(M,D,6),P=Bfe(I,W,go[w-7],go[w-16]),T=Ffe(P,_,B,mo[w-7],mo[w-16]);mo[w]=T|0,go[w]=P|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:C,Hl:L}=this;for(let w=0;w<80;w++){const b=Eo(d,h,14)^Eo(d,h,18)^cd(d,h,41),A=xo(d,h,14)^xo(d,h,18)^ld(d,h,41),_=d&f^~d&m,I=h&p^~h&y,M=zfe(L,A,I,upe[w],go[w]),D=Wfe(M,C,b,_,lpe[w],mo[w]),B=M|0,W=Eo(r,i,28)^cd(r,i,34)^cd(r,i,39),P=xo(r,i,28)^ld(r,i,34)^ld(r,i,39),T=r&s^r&o^s&o,U=i&a^i&c^a&c;C=m|0,L=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=Xi(l|0,u|0,D|0,B|0),l=o|0,u=c|0,o=s|0,c=a|0,s=r|0,a=i|0;const v=Fw(B,P,U);r=zw(v,D,W,T),i=v|0}({h:r,l:i}=Xi(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Xi(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=Xi(this.Ch|0,this.Cl|0,o|0,c|0),{h:l,l:u}=Xi(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Xi(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=Xi(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=Xi(this.Gh|0,this.Gl|0,m|0,y|0),{h:C,l:L}=Xi(this.Hh|0,this.Hl|0,C|0,L|0),this.set(r,i,s,a,o,c,l,u,d,h,f,p,m,y,C,L)}roundClean(){Di(mo,go)}destroy(){Di(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class dpe extends Vw{constructor(){super(48),this.Ah=er[0]|0,this.Al=er[1]|0,this.Bh=er[2]|0,this.Bl=er[3]|0,this.Ch=er[4]|0,this.Cl=er[5]|0,this.Dh=er[6]|0,this.Dl=er[7]|0,this.Eh=er[8]|0,this.El=er[9]|0,this.Fh=er[10]|0,this.Fl=er[11]|0,this.Gh=er[12]|0,this.Gl=er[13]|0,this.Hh=er[14]|0,this.Hl=er[15]|0}}const nr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class hpe extends Vw{constructor(){super(32),this.Ah=nr[0]|0,this.Al=nr[1]|0,this.Bh=nr[2]|0,this.Bl=nr[3]|0,this.Ch=nr[4]|0,this.Cl=nr[5]|0,this.Dh=nr[6]|0,this.Dl=nr[7]|0,this.Eh=nr[8]|0,this.El=nr[9]|0,this.Fh=nr[10]|0,this.Fl=nr[11]|0,this.Gh=nr[12]|0,this.Gl=nr[13]|0,this.Hh=nr[14]|0,this.Hl=nr[15]|0}}const T3=mf(()=>new cpe),fpe=mf(()=>new Vw),ppe=mf(()=>new dpe),mpe=mf(()=>new hpe),gpe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),mn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ve=new Uint32Array(32);function yo(t,e,n,r,i,s){const a=i[s],o=i[s+1];let c=ve[2*t],l=ve[2*t+1],u=ve[2*e],d=ve[2*e+1],h=ve[2*n],f=ve[2*n+1],p=ve[2*r],m=ve[2*r+1],y=Fw(c,u,a);l=zw(y,l,d,o),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:$fe(m,p),Dl:Mfe(m)},{h:f,l:h}=Xi(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Eo(d,u,24),Bl:xo(d,u,24)},ve[2*t]=c,ve[2*t+1]=l,ve[2*e]=u,ve[2*e+1]=d,ve[2*n]=h,ve[2*n+1]=f,ve[2*r]=p,ve[2*r+1]=m}function wo(t,e,n,r,i,s){const a=i[s],o=i[s+1];let c=ve[2*t],l=ve[2*t+1],u=ve[2*e],d=ve[2*e+1],h=ve[2*n],f=ve[2*n+1],p=ve[2*r],m=ve[2*r+1],y=Fw(c,u,a);l=zw(y,l,d,o),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Eo(m,p,16),Dl:xo(m,p,16)},{h:f,l:h}=Xi(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:cd(d,u,63),Bl:ld(d,u,63)},ve[2*t]=c,ve[2*t+1]=l,ve[2*e]=u,ve[2*e+1]=d,ve[2*n]=h,ve[2*n+1]=f,ve[2*r]=p,ve[2*r+1]=m}function ype(t,e={},n,r,i){if(Za(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:o}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(o!==void 0&&o.length!==i)throw new Error("personalization must be undefined or "+i)}class wpe extends I3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Za(e),Za(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=bh(this.buffer)}update(e){Ko(this),e=os(e),ps(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,o=e.buffer;for(let c=0;c<s;){this.pos===n&&(Ao(i),this.compress(i,0,!1),Ao(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=a+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(o,u,Math.floor((s-c)/4));Ao(d);for(let h=0;c+n<s;h+=i.length,c+=n)this.length+=n,this.compress(d,h,!1);Ao(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Ko(this),Ww(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Di(this.buffer.subarray(n)),Ao(r),this.compress(r,0,!0),Ao(r);const i=bh(e);this.get().forEach((s,a)=>i[a]=ma(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}}class bpe extends wpe{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=mn[0]|0,this.v0h=mn[1]|0,this.v1l=mn[2]|0,this.v1h=mn[3]|0,this.v2l=mn[4]|0,this.v2h=mn[5]|0,this.v3l=mn[6]|0,this.v3h=mn[7]|0,this.v4l=mn[8]|0,this.v4h=mn[9]|0,this.v5l=mn[10]|0,this.v5h=mn[11]|0,this.v6l=mn[12]|0,this.v6h=mn[13]|0,this.v7l=mn[14]|0,this.v7h=mn[15]|0,ype(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=os(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=os(s);const o=bh(s);this.v4l^=ma(o[0]),this.v4h^=ma(o[1]),this.v5l^=ma(o[2]),this.v5h^=ma(o[3])}if(i!==void 0){i=os(i);const o=bh(i);this.v6l^=ma(o[0]),this.v6h^=ma(o[1]),this.v7l^=ma(o[2]),this.v7h^=ma(o[3])}if(r!==void 0){const o=new Uint8Array(this.blockLen);o.set(r),this.update(o)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:o,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:y}=this;return[e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y]}set(e,n,r,i,s,a,o,c,l,u,d,h,f,p,m,y){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=o|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,n,r){this.get().forEach((c,l)=>ve[l]=c),ve.set(mn,16);let{h:i,l:s}=nM(BigInt(this.length));ve[24]=mn[8]^s,ve[25]=mn[9]^i,r&&(ve[28]=~ve[28],ve[29]=~ve[29]);let a=0;const o=gpe;for(let c=0;c<12;c++)yo(0,4,8,12,e,n+2*o[a++]),wo(0,4,8,12,e,n+2*o[a++]),yo(1,5,9,13,e,n+2*o[a++]),wo(1,5,9,13,e,n+2*o[a++]),yo(2,6,10,14,e,n+2*o[a++]),wo(2,6,10,14,e,n+2*o[a++]),yo(3,7,11,15,e,n+2*o[a++]),wo(3,7,11,15,e,n+2*o[a++]),yo(0,5,10,15,e,n+2*o[a++]),wo(0,5,10,15,e,n+2*o[a++]),yo(1,6,11,12,e,n+2*o[a++]),wo(1,6,11,12,e,n+2*o[a++]),yo(2,7,8,13,e,n+2*o[a++]),wo(2,7,8,13,e,n+2*o[a++]),yo(3,4,9,14,e,n+2*o[a++]),wo(3,4,9,14,e,n+2*o[a++]);this.v0l^=ve[0]^ve[16],this.v0h^=ve[1]^ve[17],this.v1l^=ve[2]^ve[18],this.v1h^=ve[3]^ve[19],this.v2l^=ve[4]^ve[20],this.v2h^=ve[5]^ve[21],this.v3l^=ve[6]^ve[22],this.v3h^=ve[7]^ve[23],this.v4l^=ve[8]^ve[24],this.v4h^=ve[9]^ve[25],this.v5l^=ve[10]^ve[26],this.v5h^=ve[11]^ve[27],this.v6l^=ve[12]^ve[28],this.v6h^=ve[13]^ve[29],this.v7l^=ve[14]^ve[30],this.v7h^=ve[15]^ve[31],Di(ve)}destroy(){this.destroyed=!0,Di(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const vpe=qfe(t=>new bpe(t)),_pe="https://rpc.walletconnect.org/v1";function mM(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(rpe(n)).toString("hex")}async function Cpe(t,e,n,r,i,s){switch(n.t){case"eip191":return await Epe(t,e,n.s);case"eip1271":return await xpe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Epe(t,e,n){const r=Lce(n);return Pce({payload:mM(e),signature:r}).toLowerCase()===t.toLowerCase()}async function xpe(t,e,n,r,i,s){const a=ja(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:mM(e)).substring(2),h=o+d+c+u+l,f=await fetch(`${s||_pe}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Ape(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function Ape(){return Date.now()+Math.floor(Math.random()*1e3)}function Lpe(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return df.encode(s)}function Spe(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=vpe(r,{dkLen:32});return df.encode(i)}function rC(t){const e=new Uint8Array(T3(Ipe(t)));return df.encode(e)}function Ipe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function iC(t){const e=Buffer.from(t,"base64"),n=g2e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=o2e(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=mpe(s);return gre.encode(a).replace(/=+$/,"")}function Tm(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function Tpe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Tm(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Tm(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Tm(r.length)),i.push(r);const s=Buffer.concat(i),a=T3(s);return Buffer.from(a).toString("hex").toUpperCase()}function kpe(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var Ppe=Object.defineProperty,Ope=Object.defineProperties,Rpe=Object.getOwnPropertyDescriptors,sC=Object.getOwnPropertySymbols,$pe=Object.prototype.hasOwnProperty,Mpe=Object.prototype.propertyIsEnumerable,aC=(t,e,n)=>e in t?Ppe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Npe=(t,e)=>{for(var n in e||(e={}))$pe.call(e,n)&&aC(t,n,e[n]);if(sC)for(var n of sC(e))Mpe.call(e,n)&&aC(t,n,e[n]);return t},Dpe=(t,e)=>Ope(t,Rpe(e));const jpe="did:pkh:",Hw=t=>t?.split(":"),Upe=t=>{const e=t&&Hw(t);if(e)return t.includes(jpe)?e[3]:e[1]},x5=t=>{const e=t&&Hw(t);if(e)return e[2]+":"+e[3]},r1=t=>{const e=t&&Hw(t);if(e)return e.pop()};async function oC(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=gM(i,i.iss),a=r1(i.iss);return await Cpe(a,s,r,x5(i.iss),n)}const gM=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=r1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${Upe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=Vp(t.resources);if(p){const m=vh(p);i=Gpe(i,m)}return[n,r,"",i,"",s,a,o,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function Bpe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Fpe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function h2(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function zpe(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Wpe(e,n,r)}}}function Wpe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function yM(t){return h2(t),`urn:recap:${Bpe(t).replace(/=/g,"")}`}function vh(t){const e=Fpe(t.replace("urn:recap:",""));return h2(e),e}function Vpe(t,e,n){const r=zpe(t,e,n);return yM(r)}function Hpe(t){return t&&t.includes("urn:recap:")}function qpe(t,e){const n=vh(t),r=vh(e),i=Zpe(n,r);return yM(i)}function Zpe(t,e){h2(t),h2(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,l;r.att[i]=Dpe(Npe({},r.att[i]),{[o]:((c=t.att[i])==null?void 0:c[o])||((l=e.att[i])==null?void 0:l[o])})})}),r}function Gpe(t="",e){h2(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(o=>{const c=Object.keys(e.att[o]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${o}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function cC(t){var e;const n=vh(t);h2(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function lC(t){const e=vh(t);h2(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Vp(t){if(!t)return;const e=t?.[t.length-1];return Hpe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function wM(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function A5(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function km(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function jr(t,...e){if(!wM(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function uC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kpe(t,e){jr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Vo(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ql(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ype(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Jpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xpe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function L5(t){if(typeof t=="string")t=Xpe(t);else if(wM(t))t=S5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Qpe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function e0e(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const t0e=(t,e)=>{function n(r,...i){if(jr(r),!Jpe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?jr(l):jr(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&jr(i[1]);const a=e(r,...i),o=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");jr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,jr(l),o(a.encrypt.length,u),a.encrypt(l,u)},decrypt(l,u){if(jr(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,u),a.decrypt(l,u)}}}return Object.assign(n,t),n};function dC(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!r0e(e))throw new Error("invalid output, must be aligned");return e}function hC(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,o,r)}function n0e(t,e,n){A5(n);const r=new Uint8Array(16),i=Ype(r);return hC(i,0,BigInt(e),n),hC(i,8,BigInt(t),n),r}function r0e(t){return t.byteOffset%4===0}function S5(t){return Uint8Array.from(t)}const bM=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),i0e=bM("expand 16-byte k"),s0e=bM("expand 32-byte k"),a0e=Vo(i0e),o0e=Vo(s0e);function ft(t,e){return t<<e|t>>>32-e}function I5(t){return t.byteOffset%4===0}const lp=64,c0e=16,vM=2**32-1,fC=new Uint32Array;function l0e(t,e,n,r,i,s,a,o){const c=i.length,l=new Uint8Array(lp),u=Vo(l),d=I5(i)&&I5(s),h=d?Vo(i):fC,f=d?Vo(s):fC;for(let p=0;p<c;a++){if(t(e,n,r,u,a,o),a>=vM)throw new Error("arx: counter overflow");const m=Math.min(lp,c-p);if(d&&m===lp){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let C=0,L;C<c0e;C++)L=y+C,f[L]=h[L]^u[C];p+=lp;continue}for(let y=0,C;y<m;y++)C=p+y,s[C]=i[C]^l[y];p+=m}}function u0e(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=Qpe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return km(i),km(a),A5(s),A5(n),(o,c,l,u,d=0)=>{jr(o),jr(c),jr(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),jr(u),km(d),d<0||d>=vM)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=o.length,m,y;if(p===32)f.push(m=S5(o)),y=o0e;else if(p===16&&n)m=new Uint8Array(32),m.set(o),m.set(o,16),y=a0e,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);I5(c)||f.push(c=S5(c));const C=Vo(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,C,Vo(c.subarray(0,16)),C),c=c.subarray(16)}const L=16-i;if(L!==c.length)throw new Error(`arx: nonce must be ${L} or 16 bytes`);if(L!==12){const b=new Uint8Array(12);b.set(c,s?0:12-c.length),c=b,f.push(c)}const w=Vo(c);return l0e(t,y,C,w,l,u,d,a),Ql(...f),u}}const Bn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class d0e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=L5(e),jr(e,32);const n=Bn(e,0),r=Bn(e,2),i=Bn(e,4),s=Bn(e,6),a=Bn(e,8),o=Bn(e,10),c=Bn(e,12),l=Bn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Bn(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,o=a[0],c=a[1],l=a[2],u=a[3],d=a[4],h=a[5],f=a[6],p=a[7],m=a[8],y=a[9],C=Bn(e,n+0),L=Bn(e,n+2),w=Bn(e,n+4),b=Bn(e,n+6),A=Bn(e,n+8),_=Bn(e,n+10),I=Bn(e,n+12),M=Bn(e,n+14);let D=s[0]+(C&8191),B=s[1]+((C>>>13|L<<3)&8191),W=s[2]+((L>>>10|w<<6)&8191),P=s[3]+((w>>>7|b<<9)&8191),T=s[4]+((b>>>4|A<<12)&8191),U=s[5]+(A>>>1&8191),v=s[6]+((A>>>14|_<<2)&8191),E=s[7]+((_>>>11|I<<5)&8191),O=s[8]+((I>>>8|M<<8)&8191),k=s[9]+(M>>>5|i),$=0,j=$+D*o+B*(5*y)+W*(5*m)+P*(5*p)+T*(5*f);$=j>>>13,j&=8191,j+=U*(5*h)+v*(5*d)+E*(5*u)+O*(5*l)+k*(5*c),$+=j>>>13,j&=8191;let V=$+D*c+B*o+W*(5*y)+P*(5*m)+T*(5*p);$=V>>>13,V&=8191,V+=U*(5*f)+v*(5*h)+E*(5*d)+O*(5*u)+k*(5*l),$+=V>>>13,V&=8191;let Z=$+D*l+B*c+W*o+P*(5*y)+T*(5*m);$=Z>>>13,Z&=8191,Z+=U*(5*p)+v*(5*f)+E*(5*h)+O*(5*d)+k*(5*u),$+=Z>>>13,Z&=8191;let X=$+D*u+B*l+W*c+P*o+T*(5*y);$=X>>>13,X&=8191,X+=U*(5*m)+v*(5*p)+E*(5*f)+O*(5*h)+k*(5*d),$+=X>>>13,X&=8191;let J=$+D*d+B*u+W*l+P*c+T*o;$=J>>>13,J&=8191,J+=U*(5*y)+v*(5*m)+E*(5*p)+O*(5*f)+k*(5*h),$+=J>>>13,J&=8191;let ee=$+D*h+B*d+W*u+P*l+T*c;$=ee>>>13,ee&=8191,ee+=U*o+v*(5*y)+E*(5*m)+O*(5*p)+k*(5*f),$+=ee>>>13,ee&=8191;let ue=$+D*f+B*h+W*d+P*u+T*l;$=ue>>>13,ue&=8191,ue+=U*c+v*o+E*(5*y)+O*(5*m)+k*(5*p),$+=ue>>>13,ue&=8191;let le=$+D*p+B*f+W*h+P*d+T*u;$=le>>>13,le&=8191,le+=U*l+v*c+E*o+O*(5*y)+k*(5*m),$+=le>>>13,le&=8191;let Ee=$+D*m+B*p+W*f+P*h+T*d;$=Ee>>>13,Ee&=8191,Ee+=U*u+v*l+E*c+O*o+k*(5*y),$+=Ee>>>13,Ee&=8191;let se=$+D*y+B*m+W*p+P*f+T*h;$=se>>>13,se&=8191,se+=U*d+v*u+E*l+O*c+k*o,$+=se>>>13,se&=8191,$=($<<2)+$|0,$=$+j|0,j=$&8191,$=$>>>13,V+=$,s[0]=j,s[1]=V,s[2]=Z,s[3]=X,s[4]=J,s[5]=ee,s[6]=ue,s[7]=le,s[8]=Ee,s[9]=se}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=e[o]+i,i=r[o]>>>13,r[o]&=8191;r[9]-=8192;let s=(i^1)-1;for(let o=0;o<10;o++)r[o]&=s;s=~s;for(let o=0;o<10;o++)e[o]=e[o]&s|r[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+n[o]|0)+(a>>>16)|0,e[o]=a&65535;Ql(r)}update(e){uC(this),e=L5(e),jr(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ql(this.h,this.r,this.buffer,this.pad)}digestInto(e){uC(this),Kpe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function h0e(t){const e=(r,i)=>t(i).update(L5(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const f0e=h0e(t=>new d0e(t));function p0e(t,e,n,r,i,s=20){let a=t[0],o=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],y=e[6],C=e[7],L=i,w=n[0],b=n[1],A=n[2],_=a,I=o,M=c,D=l,B=u,W=d,P=h,T=f,U=p,v=m,E=y,O=C,k=L,$=w,j=b,V=A;for(let X=0;X<s;X+=2)_=_+B|0,k=ft(k^_,16),U=U+k|0,B=ft(B^U,12),_=_+B|0,k=ft(k^_,8),U=U+k|0,B=ft(B^U,7),I=I+W|0,$=ft($^I,16),v=v+$|0,W=ft(W^v,12),I=I+W|0,$=ft($^I,8),v=v+$|0,W=ft(W^v,7),M=M+P|0,j=ft(j^M,16),E=E+j|0,P=ft(P^E,12),M=M+P|0,j=ft(j^M,8),E=E+j|0,P=ft(P^E,7),D=D+T|0,V=ft(V^D,16),O=O+V|0,T=ft(T^O,12),D=D+T|0,V=ft(V^D,8),O=O+V|0,T=ft(T^O,7),_=_+W|0,V=ft(V^_,16),E=E+V|0,W=ft(W^E,12),_=_+W|0,V=ft(V^_,8),E=E+V|0,W=ft(W^E,7),I=I+P|0,k=ft(k^I,16),O=O+k|0,P=ft(P^O,12),I=I+P|0,k=ft(k^I,8),O=O+k|0,P=ft(P^O,7),M=M+T|0,$=ft($^M,16),U=U+$|0,T=ft(T^U,12),M=M+T|0,$=ft($^M,8),U=U+$|0,T=ft(T^U,7),D=D+B|0,j=ft(j^D,16),v=v+j|0,B=ft(B^v,12),D=D+B|0,j=ft(j^D,8),v=v+j|0,B=ft(B^v,7);let Z=0;r[Z++]=a+_|0,r[Z++]=o+I|0,r[Z++]=c+M|0,r[Z++]=l+D|0,r[Z++]=u+B|0,r[Z++]=d+W|0,r[Z++]=h+P|0,r[Z++]=f+T|0,r[Z++]=p+U|0,r[Z++]=m+v|0,r[Z++]=y+E|0,r[Z++]=C+O|0,r[Z++]=L+k|0,r[Z++]=w+$|0,r[Z++]=b+j|0,r[Z++]=A+V|0}const m0e=u0e(p0e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),g0e=new Uint8Array(16),pC=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(g0e.subarray(n))},y0e=new Uint8Array(32);function mC(t,e,n,r,i){const s=t(e,n,y0e),a=f0e.create(s);i&&pC(a,i),pC(a,r);const o=n0e(r.length,i?i.length:0,!0);a.update(o);const c=a.digest();return Ql(s,o),c}const w0e=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=dC(a+16,s,!1),s.set(i);const o=s.subarray(0,-16);t(e,n,o,o,1);const c=mC(t,e,n,o,r);return s.set(c,a),Ql(c),s},decrypt(i,s){s=dC(i.length-16,s,!1);const a=i.subarray(0,-16),o=i.subarray(-16),c=mC(t,e,n,a,r);if(!e0e(o,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Ql(c),s}}),_M=t0e({blockSize:64,nonceLength:12,tagLength:16},w0e(m0e));let CM=class extends I3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,S3(e);const r=os(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Di(s)}update(e){return Ko(this),this.iHash.update(e),this}digestInto(e){Ko(this),ps(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const k3=(t,e,n)=>new CM(t,e).update(n).digest();k3.create=(t,e)=>new CM(t,e);function b0e(t,e,n){return S3(t),n===void 0&&(n=new Uint8Array(t.outputLen)),k3(t,os(n),os(e))}const Pm=Uint8Array.from([0]),gC=Uint8Array.of();function v0e(t,e,n,r=32){S3(t),Za(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=gC);const a=new Uint8Array(s*i),o=k3.create(t,e),c=o._cloneInto(),l=new Uint8Array(o.outputLen);for(let u=0;u<s;u++)Pm[0]=u+1,c.update(u===0?gC:l).update(n).update(Pm).digestInto(l),a.set(l,i*u),o._cloneInto(c);return o.destroy(),c.destroy(),Di(l,Pm),a.slice(0,r)}const _0e=(t,e,n,r,i)=>v0e(t,b0e(t,e,n),r,i),P3=T3,qw=BigInt(0),T5=BigInt(1);function i1(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Uc(t,e,n=""){const r=L3(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const a=n&&`"${n}" `,o=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+o+", got "+c)}return t}function up(t){const e=t.toString(16);return e.length&1?"0"+e:e}function EM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qw:BigInt("0x"+t)}function O3(t){return EM(Sl(t))}function s1(t){return ps(t),EM(Sl(Uint8Array.from(t).reverse()))}function Zw(t,e){return n1(t.toString(16).padStart(e*2,"0"))}function Gw(t,e){return Zw(t,e).reverse()}function sr(t,e,n){let r;if(typeof e=="string")try{r=n1(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(L3(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Om=t=>typeof t=="bigint"&&qw<=t;function C0e(t,e,n){return Om(t)&&Om(e)&&Om(n)&&e<=t&&t<n}function k5(t,e,n,r){if(!C0e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function xM(t){let e;for(e=0;t>qw;t>>=T5,e+=1);return e}const gf=t=>(T5<<BigInt(t))-T5;function E0e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),a=r(t),o=0;const c=()=>{s.fill(1),a.fill(0),o=0},l=(...h)=>n(a,s,...h),u=(h=r(0))=>{a=l(i(0),h),s=l(),h.length!==0&&(a=l(i(1),h),s=l())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return Oo(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function R3(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const o=t[i];if(a&&o===void 0)return;const c=typeof o;if(c!==s||o===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function yC(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const zr=BigInt(0),xr=BigInt(1),Bc=BigInt(2),AM=BigInt(3),LM=BigInt(4),SM=BigInt(5),x0e=BigInt(7),IM=BigInt(8),A0e=BigInt(9),TM=BigInt(16);function ci(t,e){const n=t%e;return n>=zr?n:e+n}function Ji(t,e,n){let r=t;for(;e-- >zr;)r*=r,r%=n;return r}function wC(t,e){if(t===zr)throw new Error("invert: expected non-zero number");if(e<=zr)throw new Error("invert: expected positive modulus, got "+e);let n=ci(t,e),r=e,i=zr,s=xr;for(;n!==zr;){const a=r/n,o=r%n,c=i-s*a;r=n,n=o,i=s,s=c}if(r!==xr)throw new Error("invert: does not exist");return ci(i,e)}function Kw(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function kM(t,e){const n=(t.ORDER+xr)/LM,r=t.pow(e,n);return Kw(t,r,e),r}function L0e(t,e){const n=(t.ORDER-SM)/IM,r=t.mul(e,Bc),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Bc),i),o=t.mul(s,t.sub(a,t.ONE));return Kw(t,o,e),o}function S0e(t){const e=ac(t),n=PM(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),a=(t+x0e)/TM;return(o,c)=>{let l=o.pow(c,a),u=o.mul(l,r);const d=o.mul(l,i),h=o.mul(l,s),f=o.eql(o.sqr(u),c),p=o.eql(o.sqr(d),c);l=o.cmov(l,u,f),u=o.cmov(h,d,p);const m=o.eql(o.sqr(u),c),y=o.cmov(l,u,m);return Kw(o,y,c),y}}function PM(t){if(t<AM)throw new Error("sqrt is not defined for small field");let e=t-xr,n=0;for(;e%Bc===zr;)e/=Bc,n++;let r=Bc;const i=ac(t);for(;bC(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return kM;let s=i.pow(r,e);const a=(e+xr)/Bc;return function(o,c){if(o.is0(c))return c;if(bC(o,c)!==1)throw new Error("Cannot find square root");let l=n,u=o.mul(o.ONE,s),d=o.pow(c,e),h=o.pow(c,a);for(;!o.eql(d,o.ONE);){if(o.is0(d))return o.ZERO;let f=1,p=o.sqr(d);for(;!o.eql(p,o.ONE);)if(f++,p=o.sqr(p),f===l)throw new Error("Cannot find square root");const m=xr<<BigInt(l-f-1),y=o.pow(u,m);l=f,u=o.sqr(y),d=o.mul(d,u),h=o.mul(h,y)}return h}}function I0e(t){return t%LM===AM?kM:t%IM===SM?L0e:t%TM===A0e?S0e(t):PM(t)}const T0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=T0e.reduce((r,i)=>(r[i]="function",r),e);return R3(t,n),t}function P0e(t,e,n){if(n<zr)throw new Error("invalid exponent, negatives unsupported");if(n===zr)return t.ONE;if(n===xr)return e;let r=t.ONE,i=e;for(;n>zr;)n&xr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=xr;return r}function OM(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,c)=>t.is0(o)?a:(r[c]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,c)=>t.is0(o)?a:(r[c]=t.mul(a,r[c]),t.mul(a,o)),s),r}function bC(t,e){const n=(t.ORDER-xr)/Bc,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function RM(t,e){e!==void 0&&Za(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ac(t,e,n=!1,r={}){if(t<=zr)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(a=h.modFromBytes),o=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=RM(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:gf(c),ZERO:zr,ONE:xr,allowedLengths:o,create:h=>ci(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return zr<=h&&h<t},is0:h=>h===zr,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&xr)===xr,neg:h=>ci(-h,t),eql:(h,f)=>h===f,sqr:h=>ci(h*h,t),add:(h,f)=>ci(h+f,t),sub:(h,f)=>ci(h-f,t),mul:(h,f)=>ci(h*f,t),pow:(h,f)=>P0e(d,h,f),div:(h,f)=>ci(h*wC(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>wC(h,t),sqrt:s||(h=>(u||(u=I0e(t)),u(d,h))),toBytes:h=>n?Gw(h,l):Zw(h,l),fromBytes:(h,f=!0)=>{if(o){if(!o.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,n?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=n?s1(h):O3(h);if(a&&(p=ci(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>OM(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function $M(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function MM(t){const e=$M(t);return e+Math.ceil(e/2)}function O0e(t,e,n=!1){const r=t.length,i=$M(e),s=MM(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?s1(t):O3(t),o=ci(a,e-xr)+xr;return n?Gw(o,i):Zw(o,i)}const eu=BigInt(0),Fc=BigInt(1);function a1(t,e){const n=e.negate();return t?n:e}function Rm(t,e){const n=OM(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function NM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $m(t,e){NM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=gf(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function vC(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),c=t>>a;o>r&&(o-=s,c+=Fc);const l=e*r,u=l+Math.abs(o)-1,d=o===0,h=o<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function R0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function $0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Mm=new WeakMap,DM=new WeakMap;function Nm(t){return DM.get(t)||1}function _C(t){if(t!==eu)throw new Error("invalid wNAF")}class M0e{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>eu;)n&Fc&&(r=r.add(i)),i=i.double(),n>>=Fc;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=$m(n,this.bits),s=[];let a=e,o=a;for(let c=0;c<r;c++){o=a,s.push(o);for(let l=1;l<i;l++)o=o.add(a),s.push(o);a=o.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const a=$m(e,this.bits);for(let o=0;o<a.windows;o++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=vC(r,o,a);r=c,u?s=s.add(a1(h,n[f])):i=i.add(a1(d,n[l]))}return _C(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=$m(e,this.bits);for(let a=0;a<s.windows&&r!==eu;a++){const{nextN:o,offset:c,isZero:l,isNeg:u}=vC(r,a,s);if(r=o,!l){const d=n[c];i=i.add(u?d.negate():d)}}return _C(r),i}getPrecomputes(e,n,r){let i=Mm.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),Mm.set(n,i))),i}cached(e,n,r){const i=Nm(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=Nm(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){NM(n,this.bits),DM.set(e,n),Mm.delete(e)}hasCache(e){return Nm(e)!==1}}function N0e(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>eu||r>eu;)n&Fc&&(s=s.add(i)),r&Fc&&(a=a.add(i)),i=i.double(),n>>=Fc,r>>=Fc;return{p1:s,p2:a}}function D0e(t,e,n,r){R0e(n,t),$0e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=xM(BigInt(i));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const l=gf(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((e.BITS-1)/c)*c;let h=a;for(let f=d;f>=0;f-=c){u.fill(a);for(let m=0;m<s;m++){const y=r[m],C=Number(y>>BigInt(f)&l);u[C]=u[C].add(n[m])}let p=a;for(let m=u.length-1,y=a;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function CC(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return k0e(e),e}else return ac(t,{isLE:n})}function j0e(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const c=e[o];if(!(typeof c=="bigint"&&c>eu))throw new Error(`CURVE.${o} must be positive bigint`)}const i=CC(e.p,n.Fp,r),s=CC(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const o of a)if(!i.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),oM("HashToScalar-");const ju=BigInt(0),H2=BigInt(1),dp=BigInt(2);function U0e(t){return R3(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function B0e(t){const e=U0e(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const c=a||L2,l=o?255:448,u=o?32:56,d=BigInt(o?9:5),h=BigInt(o?121665:39081),f=o?dp**BigInt(254):dp**BigInt(447),p=o?BigInt(8)*dp**BigInt(251)-H2:BigInt(4)*dp**BigInt(445)-H2,m=f+p+H2,y=P=>ci(P,n),C=L(d);function L(P){return Gw(y(P),u)}function w(P){const T=sr("u coordinate",P,u);return o&&(T[31]&=127),y(s1(T))}function b(P){return s1(i(sr("scalar",P,u)))}function A(P,T){const U=M(w(T),b(P));if(U===ju)throw new Error("invalid private or public key received");return L(U)}function _(P){return A(P,C)}function I(P,T,U){const v=y(P*(T-U));return T=y(T-v),U=y(U+v),{x_2:T,x_3:U}}function M(P,T){k5("u",P,ju,n),k5("scalar",T,f,m);const U=T,v=P;let E=H2,O=ju,k=P,$=H2,j=ju;for(let Z=BigInt(l-1);Z>=ju;Z--){const X=U>>Z&H2;j^=X,{x_2:E,x_3:k}=I(j,E,k),{x_2:O,x_3:$}=I(j,O,$),j=X;const J=E+O,ee=y(J*J),ue=E-O,le=y(ue*ue),Ee=ee-le,se=k+$,q=k-$,Ne=y(q*J),je=y(se*ue),ce=Ne+je,Re=Ne-je;k=y(ce*ce),$=y(v*y(Re*Re)),E=y(ee*le),O=y(Ee*(ee+y(h*Ee)))}({x_2:E,x_3:k}=I(j,E,k)),{x_2:O,x_3:$}=I(j,O,$);const V=s(O);return y(E*V)}const D={secretKey:u,publicKey:u,seed:u},B=(P=c(u))=>(ps(P,D.seed),P);function W(P){const T=B(P);return{secretKey:T,publicKey:_(T)}}return{keygen:W,getSharedSecret:(P,T)=>A(P,T),getPublicKey:P=>_(P),scalarMult:A,scalarMultBase:_,utils:{randomSecretKey:B,randomPrivateKey:B},GuBytes:C.slice(),lengths:D}}const F0e=BigInt(1),EC=BigInt(2),z0e=BigInt(3),W0e=BigInt(5);BigInt(8);const jM=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),V0e={p:jM,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function H0e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=jM,a=t*t%s*t%s,o=Ji(a,EC,s)*a%s,c=Ji(o,F0e,s)*t%s,l=Ji(c,W0e,s)*c%s,u=Ji(l,e,s)*l%s,d=Ji(u,n,s)*u%s,h=Ji(d,r,s)*d%s,f=Ji(h,i,s)*h%s,p=Ji(f,i,s)*h%s,m=Ji(p,e,s)*l%s;return{pow_p_5_8:Ji(m,EC,s)*t%s,b2:a}}function q0e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Z0e=ac(V0e.p,{isLE:!0}),P5=(()=>{const t=Z0e.ORDER;return B0e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=H0e(e);return ci(Ji(n,z0e,t)*r,t)},adjustScalarBytes:q0e})})(),xC=(t,e)=>(t+(t>=0?e:-e)/UM)/e;function G0e(t,e,n){const[[r,i],[s,a]]=e,o=xC(a*t,n),c=xC(-i*t,n);let l=t-o*r-c*s,u=-o*i-c*a;const d=l<Oa,h=u<Oa;d&&(l=-l),h&&(u=-u);const f=gf(Math.ceil(xM(n)/2))+Il;if(l<Oa||l>=f||u<Oa||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function O5(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Dm(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return i1(n.lowS,"lowS"),i1(n.prehash,"prehash"),n.format!==void 0&&O5(n.format),n}class K0e extends Error{constructor(e=""){super(e)}}const La={Err:K0e,_tlv:{encode:(t,e)=>{const{Err:n}=La;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=up(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?up(i.length/2|128):"";return up(t)+s+i+e},decode(t,e){const{Err:n}=La;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=La;if(t<Oa)throw new e("integer: negative integers are not allowed");let n=up(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=La;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return O3(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=La,i=sr("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=La,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Oa=BigInt(0),Il=BigInt(1),UM=BigInt(2),hp=BigInt(3),Y0e=BigInt(4);function ul(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=sr("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function J0e(t,e={}){const n=j0e("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:a,n:o}=s;R3(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=FM(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(P,T,U){const{x:v,y:E}=T.toAffine(),O=r.toBytes(v);if(i1(U,"isCompressed"),U){u();const k=!r.isOdd(E);return Oo(BM(k),O)}else return Oo(Uint8Array.of(4),O,r.toBytes(E))}function h(P){Uc(P,void 0,"Point");const{publicKey:T,publicKeyUncompressed:U}=l,v=P.length,E=P[0],O=P.subarray(1);if(v===T&&(E===2||E===3)){const k=r.fromBytes(O);if(!r.isValid(k))throw new Error("bad point: is not on curve, wrong x");const $=m(k);let j;try{j=r.sqrt($)}catch(Z){const X=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}u();const V=r.isOdd(j);return(E&1)===1!==V&&(j=r.neg(j)),{x:k,y:j}}else if(v===U&&E===4){const k=r.BYTES,$=r.fromBytes(O.subarray(0,k)),j=r.fromBytes(O.subarray(k,k*2));if(!y($,j))throw new Error("bad point: is not on curve");return{x:$,y:j}}else throw new Error(`bad point: got length ${v}, expected compressed=${T} or uncompressed=${U}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m(P){const T=r.sqr(P),U=r.mul(T,P);return r.add(r.add(U,r.mul(P,s.a)),s.b)}function y(P,T){const U=r.sqr(T),v=m(P);return r.eql(U,v)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const C=r.mul(r.pow(s.a,hp),Y0e),L=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(C,L)))throw new Error("bad curve params: a or b");function w(P,T,U=!1){if(!r.isValid(T)||U&&r.is0(T))throw new Error(`bad point coordinate ${P}`);return T}function b(P){if(!(P instanceof D))throw new Error("ProjectivePoint expected")}function A(P){if(!c||!c.basises)throw new Error("no endo");return G0e(P,c.basises,i.ORDER)}const _=yC((P,T)=>{const{X:U,Y:v,Z:E}=P;if(r.eql(E,r.ONE))return{x:U,y:v};const O=P.is0();T==null&&(T=O?r.ONE:r.inv(E));const k=r.mul(U,T),$=r.mul(v,T),j=r.mul(E,T);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:k,y:$}}),I=yC(P=>{if(P.is0()){if(e.allowInfinityPoint&&!r.is0(P.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:U}=P.toAffine();if(!r.isValid(T)||!r.isValid(U))throw new Error("bad point: x or y not field elements");if(!y(T,U))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M(P,T,U,v,E){return U=new D(r.mul(U.X,P),U.Y,U.Z),T=a1(v,T),U=a1(E,U),T.add(U)}class D{constructor(T,U,v){this.X=w("x",T),this.Y=w("y",U,!0),this.Z=w("z",v),Object.freeze(this)}static CURVE(){return s}static fromAffine(T){const{x:U,y:v}=T||{};if(!T||!r.isValid(U)||!r.isValid(v))throw new Error("invalid affine point");if(T instanceof D)throw new Error("projective point not allowed");return r.is0(U)&&r.is0(v)?D.ZERO:new D(U,v,r.ONE)}static fromBytes(T){const U=D.fromAffine(p(Uc(T,void 0,"point")));return U.assertValidity(),U}static fromHex(T){return D.fromBytes(sr("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,U=!0){return W.createCache(this,T),U||this.multiply(hp),this}assertValidity(){I(this)}hasEvenY(){const{y:T}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(T)}equals(T){b(T);const{X:U,Y:v,Z:E}=this,{X:O,Y:k,Z:$}=T,j=r.eql(r.mul(U,$),r.mul(O,E)),V=r.eql(r.mul(v,$),r.mul(k,E));return j&&V}negate(){return new D(this.X,r.neg(this.Y),this.Z)}double(){const{a:T,b:U}=s,v=r.mul(U,hp),{X:E,Y:O,Z:k}=this;let $=r.ZERO,j=r.ZERO,V=r.ZERO,Z=r.mul(E,E),X=r.mul(O,O),J=r.mul(k,k),ee=r.mul(E,O);return ee=r.add(ee,ee),V=r.mul(E,k),V=r.add(V,V),$=r.mul(T,V),j=r.mul(v,J),j=r.add($,j),$=r.sub(X,j),j=r.add(X,j),j=r.mul($,j),$=r.mul(ee,$),V=r.mul(v,V),J=r.mul(T,J),ee=r.sub(Z,J),ee=r.mul(T,ee),ee=r.add(ee,V),V=r.add(Z,Z),Z=r.add(V,Z),Z=r.add(Z,J),Z=r.mul(Z,ee),j=r.add(j,Z),J=r.mul(O,k),J=r.add(J,J),Z=r.mul(J,ee),$=r.sub($,Z),V=r.mul(J,X),V=r.add(V,V),V=r.add(V,V),new D($,j,V)}add(T){b(T);const{X:U,Y:v,Z:E}=this,{X:O,Y:k,Z:$}=T;let j=r.ZERO,V=r.ZERO,Z=r.ZERO;const X=s.a,J=r.mul(s.b,hp);let ee=r.mul(U,O),ue=r.mul(v,k),le=r.mul(E,$),Ee=r.add(U,v),se=r.add(O,k);Ee=r.mul(Ee,se),se=r.add(ee,ue),Ee=r.sub(Ee,se),se=r.add(U,E);let q=r.add(O,$);return se=r.mul(se,q),q=r.add(ee,le),se=r.sub(se,q),q=r.add(v,E),j=r.add(k,$),q=r.mul(q,j),j=r.add(ue,le),q=r.sub(q,j),Z=r.mul(X,se),j=r.mul(J,le),Z=r.add(j,Z),j=r.sub(ue,Z),Z=r.add(ue,Z),V=r.mul(j,Z),ue=r.add(ee,ee),ue=r.add(ue,ee),le=r.mul(X,le),se=r.mul(J,se),ue=r.add(ue,le),le=r.sub(ee,le),le=r.mul(X,le),se=r.add(se,le),ee=r.mul(ue,se),V=r.add(V,ee),ee=r.mul(q,se),j=r.mul(Ee,j),j=r.sub(j,ee),ee=r.mul(Ee,ue),Z=r.mul(q,Z),Z=r.add(Z,ee),new D(j,V,Z)}subtract(T){return this.add(T.negate())}is0(){return this.equals(D.ZERO)}multiply(T){const{endo:U}=e;if(!i.isValidNot0(T))throw new Error("invalid scalar: out of range");let v,E;const O=k=>W.cached(this,k,$=>Rm(D,$));if(U){const{k1neg:k,k1:$,k2neg:j,k2:V}=A(T),{p:Z,f:X}=O($),{p:J,f:ee}=O(V);E=X.add(ee),v=M(U.beta,Z,J,k,j)}else{const{p:k,f:$}=O(T);v=k,E=$}return Rm(D,[v,E])[0]}multiplyUnsafe(T){const{endo:U}=e,v=this;if(!i.isValid(T))throw new Error("invalid scalar: out of range");if(T===Oa||v.is0())return D.ZERO;if(T===Il)return v;if(W.hasCache(this))return this.multiply(T);if(U){const{k1neg:E,k1:O,k2neg:k,k2:$}=A(T),{p1:j,p2:V}=N0e(D,v,O,$);return M(U.beta,j,V,E,k)}else return W.unsafe(v,T)}multiplyAndAddUnsafe(T,U,v){const E=this.multiplyUnsafe(U).add(T.multiplyUnsafe(v));return E.is0()?void 0:E}toAffine(T){return _(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return a===Il?!0:T?T(D,this):W.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:T}=e;return a===Il?this:T?T(D,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(T=!0){return i1(T,"isCompressed"),this.assertValidity(),f(D,this,T)}toHex(T=!0){return Sl(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return Rm(D,T)}static msm(T,U){return D0e(D,i,T,U)}static fromPrivateKey(T){return D.BASE.multiply(ul(i,T))}}D.BASE=new D(s.Gx,s.Gy,r.ONE),D.ZERO=new D(r.ZERO,r.ONE,r.ZERO),D.Fp=r,D.Fn=i;const B=i.BITS,W=new M0e(D,e.endo?Math.ceil(B/2):B);return D.BASE.precompute(8),D}function BM(t){return Uint8Array.of(t?2:3)}function FM(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function X0e(t,e={}){const{Fn:n}=t,r=e.randomBytes||L2,i=Object.assign(FM(t.Fp,n),{seed:MM(n.ORDER)});function s(h){try{return!!ul(n,h)}catch{return!1}}function a(h,f){const{publicKey:p,publicKeyUncompressed:m}=i;try{const y=h.length;return f===!0&&y!==p||f===!1&&y!==m?!1:!!t.fromBytes(h)}catch{return!1}}function o(h=r(i.seed)){return O0e(Uc(h,i.seed,"seed"),n.ORDER)}function c(h,f=!0){return t.BASE.multiply(ul(n,h)).toBytes(f)}function l(h){const f=o(h);return{secretKey:f,publicKey:c(f)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:f,publicKey:p,publicKeyUncompressed:m}=i;if(n.allowedLengths||f===p)return;const y=sr("key",h).length;return y===p||y===m}function d(h,f,p=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");const m=ul(n,h);return t.fromHex(f).multiply(m).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:h=>ul(n,h),precompute(h=8,f=t.BASE){return f.precompute(h,!1)}},lengths:i})}function Q0e(t,e,n={}){S3(e),R3(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||L2,i=n.hmac||((U,...v)=>k3(e,U,Oo(...v))),{Fp:s,Fn:a}=t,{ORDER:o,BITS:c}=a,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=X0e(t,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(U){const v=o>>Il;return U>v}function C(U,v){if(!a.isValidNot0(v))throw new Error(`invalid signature ${U}: out of range 1..Point.Fn.ORDER`);return v}function L(U,v){O5(v);const E=f.signature,O=v==="compact"?E:v==="recovered"?E+1:void 0;return Uc(U,O,`${v} signature`)}class w{constructor(v,E,O){this.r=C("r",v),this.s=C("s",E),O!=null&&(this.recovery=O),Object.freeze(this)}static fromBytes(v,E=m){L(v,E);let O;if(E==="der"){const{r:V,s:Z}=La.toSig(Uc(v));return new w(V,Z)}E==="recovered"&&(O=v[0],E="compact",v=v.subarray(1));const k=a.BYTES,$=v.subarray(0,k),j=v.subarray(k,k*2);return new w(a.fromBytes($),a.fromBytes(j),O)}static fromHex(v,E){return this.fromBytes(n1(v),E)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const E=s.ORDER,{r:O,s:k,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(o*UM<E&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=$===2||$===3?O+o:O;if(!s.isValid(j))throw new Error("recovery id 2 or 3 invalid");const V=s.toBytes(j),Z=t.fromBytes(Oo(BM(($&1)===0),V)),X=a.inv(j),J=A(sr("msgHash",v)),ee=a.create(-J*X),ue=a.create(k*X),le=t.BASE.multiplyUnsafe(ee).add(Z.multiplyUnsafe(ue));if(le.is0())throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return y(this.s)}toBytes(v=m){if(O5(v),v==="der")return n1(La.hexFromSig(this));const E=a.toBytes(this.r),O=a.toBytes(this.s);if(v==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Oo(Uint8Array.of(this.recovery),E,O)}return Oo(E,O)}toHex(v){return Sl(this.toBytes(v))}assertValidity(){}static fromCompact(v){return w.fromBytes(sr("sig",v),"compact")}static fromDER(v){return w.fromBytes(sr("sig",v),"der")}normalizeS(){return this.hasHighS()?new w(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Sl(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Sl(this.toBytes("compact"))}}const b=n.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const v=O3(U),E=U.length*8-c;return E>0?v>>BigInt(E):v},A=n.bits2int_modN||function(U){return a.create(b(U))},_=gf(c);function I(U){return k5("num < 2^"+c,U,Oa,_),a.toBytes(U)}function M(U,v){return Uc(U,void 0,"message"),v?Uc(e(U),void 0,"prehashed message"):U}function D(U,v,E){if(["recovered","canonical"].some(ue=>ue in E))throw new Error("sign() legacy options not supported");const{lowS:O,prehash:k,extraEntropy:$}=Dm(E,p);U=M(U,k);const j=A(U),V=ul(a,v),Z=[I(V),I(j)];if($!=null&&$!==!1){const ue=$===!0?r(f.secretKey):$;Z.push(sr("extraEntropy",ue))}const X=Oo(...Z),J=j;function ee(ue){const le=b(ue);if(!a.isValidNot0(le))return;const Ee=a.inv(le),se=t.BASE.multiply(le).toAffine(),q=a.create(se.x);if(q===Oa)return;const Ne=a.create(Ee*a.create(J+q*V));if(Ne===Oa)return;let je=(se.x===q?0:2)|Number(se.y&Il),ce=Ne;return O&&y(Ne)&&(ce=a.neg(Ne),je^=1),new w(q,ce,je)}return{seed:X,k2sig:ee}}function B(U,v,E={}){U=sr("message",U);const{seed:O,k2sig:k}=D(U,v,E);return E0e(e.outputLen,a.BYTES,i)(O,k)}function W(U){let v;const E=typeof U=="string"||L3(U),O=!E&&U!==null&&typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!E&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(O)v=new w(U.r,U.s);else if(E){try{v=w.fromBytes(sr("sig",U),"der")}catch(k){if(!(k instanceof La.Err))throw k}if(!v)try{v=w.fromBytes(sr("sig",U),"compact")}catch{return!1}}return v||!1}function P(U,v,E,O={}){const{lowS:k,prehash:$,format:j}=Dm(O,p);if(E=sr("publicKey",E),v=M(sr("message",v),$),"strict"in O)throw new Error("options.strict was renamed to lowS");const V=j===void 0?W(U):w.fromBytes(sr("sig",U),j);if(V===!1)return!1;try{const Z=t.fromBytes(E);if(k&&V.hasHighS())return!1;const{r:X,s:J}=V,ee=A(v),ue=a.inv(J),le=a.create(ee*ue),Ee=a.create(X*ue),se=t.BASE.multiplyUnsafe(le).add(Z.multiplyUnsafe(Ee));return se.is0()?!1:a.create(se.x)===X}catch{return!1}}function T(U,v,E={}){const{prehash:O}=Dm(E,p);return v=M(v,O),w.fromBytes(U,"recovered").recoverPublicKey(v).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:B,verify:P,recoverPublicKey:T,Signature:w,hash:e})}function e1e(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=ac(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function t1e(t){const{CURVE:e,curveOpts:n}=e1e(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function n1e(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,RM(n.Fn.ORDER,n.Fn.BITS))})}function r1e(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=t1e(t),s=J0e(e,n),a=Q0e(s,r,i);return n1e(t,a)}function R5(t,e){const n=r=>r1e({...t,hash:r});return{...n(e),create:n}}const zM={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},WM={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},VM={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},i1e=ac(zM.p),s1e=ac(WM.p),a1e=ac(VM.p),o1e=R5({...zM,Fp:i1e,lowS:!1},T3);R5({...WM,Fp:s1e,lowS:!1},ppe),R5({...VM,Fp:a1e,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},fpe);const c1e=o1e,HM="base10",Ar="base16",Ur="base64pad",Ro="base64url",yf="utf8",qM=0,Ua=1,wf=2,l1e=0,AC=1,Ld=12,Yw=32;function u1e(){const t=P5.utils.randomPrivateKey(),e=P5.getPublicKey(t);return{privateKey:Hr(t,Ar),publicKey:Hr(e,Ar)}}function $5(){const t=L2(Yw);return Hr(t,Ar)}function d1e(t,e){const n=P5.getSharedSecret($i(t,Ar),$i(e,Ar)),r=_0e(P3,n,void 0,void 0,Yw);return Hr(r,Ar)}function Hp(t){const e=P3($i(t,Ar));return Hr(e,Ar)}function Pi(t){const e=P3($i(t,yf));return Hr(e,Ar)}function ZM(t){return $i(`${t}`,HM)}function f2(t){return Number(Hr(t,HM))}function GM(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function KM(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function h1e(t){const e=ZM(typeof t.type<"u"?t.type:qM);if(f2(e)===Ua&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?$i(t.senderPublicKey,Ar):void 0,r=typeof t.iv<"u"?$i(t.iv,Ar):L2(Ld),i=$i(t.symKey,Ar),s=_M(i,r).encrypt($i(t.message,yf)),a=YM({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ro?GM(a):a}function f1e(t){const e=$i(t.symKey,Ar),{sealed:n,iv:r}=_h({encoded:t.encoded,encoding:t.encoding}),i=_M(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Hr(i,yf)}function p1e(t,e){const n=ZM(wf),r=L2(Ld),i=$i(t,yf),s=YM({type:n,sealed:i,iv:r});return e===Ro?GM(s):s}function m1e(t,e){const{sealed:n}=_h({encoded:t,encoding:e});return Hr(n,yf)}function YM(t){if(f2(t.type)===wf)return Hr(Ad([t.type,t.sealed]),Ur);if(f2(t.type)===Ua){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Hr(Ad([t.type,t.senderPublicKey,t.iv,t.sealed]),Ur)}return Hr(Ad([t.type,t.iv,t.sealed]),Ur)}function _h(t){const e=(t.encoding||Ur)===Ro?KM(t.encoded):t.encoded,n=$i(e,Ur),r=n.slice(l1e,AC),i=AC;if(f2(r)===Ua){const c=i+Yw,l=c+Ld,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(f2(r)===wf){const c=n.slice(i),l=L2(Ld);return{type:r,sealed:c,iv:l}}const s=i+Ld,a=n.slice(i,s),o=n.slice(s);return{type:r,sealed:o,iv:a}}function g1e(t,e){const n=_h({encoded:t,encoding:e?.encoding});return JM({type:f2(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Hr(n.senderPublicKey,Ar):void 0,receiverPublicKey:e?.receiverPublicKey})}function JM(t){const e=t?.type||qM;if(e===Ua){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function LC(t){return t.type===Ua&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function SC(t){return t.type===wf}function y1e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Ad([new Uint8Array([4]),e,n])}function w1e(t,e){const[n,r,i]=t.split("."),s=Buffer.from(KM(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),o=s.slice(32,64),c=`${n}.${r}`,l=P3(c),u=y1e(e);if(!c1e.verify(Ad([a,o]),l,u))throw new Error("Invalid signature");return w5(t).payload}const b1e="irn";function o1(t){return t?.relay||{protocol:b1e}}function dl(t){const e=she[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var v1e=Object.defineProperty,_1e=Object.defineProperties,C1e=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,E1e=Object.prototype.hasOwnProperty,x1e=Object.prototype.propertyIsEnumerable,TC=(t,e,n)=>e in t?v1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jm=(t,e)=>{for(var n in e||(e={}))E1e.call(e,n)&&TC(t,n,e[n]);if(IC)for(var n of IC(e))x1e.call(e,n)&&TC(t,n,e[n]);return t},A1e=(t,e)=>_1e(t,C1e(e));function L1e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function kC(t){if(!t.includes("wc:")){const l=tM(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),o=Object.fromEntries(a.entries()),c=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:r,topic:S1e(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:L1e(o),methods:c,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function S1e(t){return t.startsWith("//")?t.substring(2):t}function I1e(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function PC(t){const e=new URLSearchParams,n=jm(jm(A1e(jm({},I1e(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function fp(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var T1e=Object.defineProperty,k1e=Object.defineProperties,P1e=Object.getOwnPropertyDescriptors,OC=Object.getOwnPropertySymbols,O1e=Object.prototype.hasOwnProperty,R1e=Object.prototype.propertyIsEnumerable,RC=(t,e,n)=>e in t?T1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$1e=(t,e)=>{for(var n in e||(e={}))O1e.call(e,n)&&RC(t,n,e[n]);if(OC)for(var n of OC(e))R1e.call(e,n)&&RC(t,n,e[n]);return t},M1e=(t,e)=>k1e(t,P1e(e));function wu(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function N1e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...wu(n.accounts))}),e}function D1e(t,e){const n=[];return Object.values(t).forEach(r=>{wu(r.accounts).includes(e)&&n.push(...r.methods)}),n}function j1e(t,e){const n=[];return Object.values(t).forEach(r=>{wu(r.accounts).includes(e)&&n.push(...r.events)}),n}function $3(t){return t.includes(":")}function hl(t){return $3(t)?t.split(":")[0]:t}function $C(t){var e,n,r;const i={};if(!Vs(t))return i;for(const[s,a]of Object.entries(t)){const o=$3(s)?[s]:a.chains,c=a.methods||[],l=a.events||[],u=hl(s);i[u]=M1e($1e({},i[u]),{chains:Ws(o,(e=i[u])==null?void 0:e.chains),methods:Ws(c,(n=i[u])==null?void 0:n.methods),events:Ws(l,(r=i[u])==null?void 0:r.events)})}return i}function U1e(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function MC(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=U1e(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Ws(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function B1e(t,e){var n,r,i,s,a,o;const c=$C(t),l=$C(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Ws((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Ws((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Ws((a=c[h])==null?void 0:a.events,(o=l[h])==null?void 0:o.events)};return u}const F1e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},z1e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ge(t,e){const{message:n,code:r}=z1e[t];return{message:e?`${n} ${e}`:n,code:r}}function Bt(t,e){const{message:n,code:r}=F1e[t];return{message:e?`${n} ${e}`:n,code:r}}function Mi(t,e){return!!Array.isArray(t)}function Vs(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function vn(t){return typeof t>"u"}function ln(t,e){return e&&vn(t)?!0:typeof t=="string"&&!!t.trim().length}function Jw(t,e){return e&&vn(t)?!0:typeof t=="number"&&!isNaN(t)}function W1e(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return jc(i,r)?(r.forEach(a=>{const{accounts:o,methods:c,events:l}=t.namespaces[a],u=wu(o),d=n[a];(!jc(Y$(a,d),u)||!jc(d.methods,c)||!jc(d.events,l))&&(s=!1)}),s):!1}function c1(t){return ln(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function V1e(t){if(ln(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&c1(n)}}return!1}function H1e(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(ln(t,!1)){if(e(t))return!0;const n=tM(t);return e(n)}}catch{}return!1}function q1e(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Z1e(t){return t?.topic}function G1e(t,e){let n=null;return ln(t?.publicKey,!1)||(n=ge("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function NC(t){let e=!0;return Mi(t)?t.length&&(e=t.every(n=>ln(n,!1))):e=!1,e}function K1e(t,e,n){let r=null;return Mi(e)&&e.length?e.forEach(i=>{r||c1(i)||(r=Bt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):c1(t)||(r=Bt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Y1e(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=K1e(i,Y$(i,s),`${e} ${n}`);a&&(r=a)}),r}function J1e(t,e){let n=null;return Mi(t)?t.forEach(r=>{n||V1e(r)||(n=Bt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Bt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function X1e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=J1e(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function Q1e(t,e){let n=null;return NC(t?.methods)?NC(t?.events)||(n=Bt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Bt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function XM(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Q1e(r,`${e}, namespace`);i&&(n=i)}),n}function e3e(t,e,n){let r=null;if(t&&Vs(t)){const i=XM(t,e);i&&(r=i);const s=Y1e(t,e,n);s&&(r=s)}else r=ge("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Um(t,e){let n=null;if(t&&Vs(t)){const r=XM(t,e);r&&(n=r);const i=X1e(t,e);i&&(n=i)}else n=ge("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function QM(t){return ln(t.protocol,!0)}function t3e(t,e){let n=!1;return t?t&&Mi(t)&&t.length&&t.forEach(r=>{n=QM(r)}):n=!0,n}function n3e(t){return typeof t=="number"}function Mr(t){return typeof t<"u"&&typeof t!==null}function r3e(t){return!(!t||typeof t!="object"||!t.code||!Jw(t.code,!1)||!t.message||!ln(t.message,!1))}function i3e(t){return!(vn(t)||!ln(t.method,!1))}function s3e(t){return!(vn(t)||vn(t.result)&&vn(t.error)||!Jw(t.id,!1)||!ln(t.jsonrpc,!1))}function a3e(t){return!(vn(t)||!ln(t.name,!1))}function DC(t,e){return!(!c1(e)||!N1e(t).includes(e))}function o3e(t,e,n){return ln(n,!1)?D1e(t,e).includes(n):!1}function c3e(t,e,n){return ln(n,!1)?j1e(t,e).includes(n):!1}function jC(t,e,n){let r=null;const i=l3e(t),s=u3e(e),a=Object.keys(i),o=Object.keys(s),c=UC(Object.keys(t)),l=UC(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),jc(a,o)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=wu(e[d].accounts);h.includes(d)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),a.forEach(d=>{r||(jc(i[d].methods,s[d].methods)?jc(i[d].events,s[d].events)||(r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ge("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function l3e(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function UC(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function u3e(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:wu(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function d3e(t,e){return Jw(t,!1)&&t<=e.max&&t>=e.min}function BC(){const t=pf();return new Promise(e=>{switch(t){case ui.browser:e(h3e());break;case ui.reactNative:e(f3e());break;case ui.node:e(p3e());break;default:e(!0)}})}function h3e(){return yu()&&navigator?.onLine}async function f3e(){return sc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function p3e(){return!0}function m3e(t){switch(pf()){case ui.browser:g3e(t);break;case ui.reactNative:y3e(t);break}}function g3e(t){!sc()&&yu()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function y3e(t){sc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(e=>t(e?.isConnected))}function w3e(){var t;return yu()&&l2()?((t=l2())==null?void 0:t.visibilityState)==="visible":!0}const Bm={};class Uu{static get(e){return Bm[e]}static set(e,n){Bm[e]=n}static delete(e){delete Bm[e]}}function b3e(t){const e=df.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function v3e({publicKey:t,signature:e,payload:n}){var r;const i=M5(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=E3e(n.address),o=n.era==="00"?new Uint8Array([0]):M5(n.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${C3e(n.tip)}`),d=A3e(u),h=new Uint8Array([0,...t,a,...e,...o,...l,...d,...i]),f=x3e(h.length+1);return new Uint8Array([...f,s,...h])}function _3e(t){const e=M5(t),n=yhe.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function M5(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function C3e(t){return t.startsWith("0x")?t.slice(2):t}function E3e(t){const e=df.decode(t)[0];return e===42?0:e===60?2:1}function x3e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function A3e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function L3e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=b3e(t.transaction.address),r=v3e({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return _3e(i)}function Xw({logger:t,name:e}){const n=typeof t=="string"?K$({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class S2{}let S3e=class extends S2{constructor(e){super()}};const FC=ye.FIVE_SECONDS,I2={pulse:"heartbeat_pulse"};let I3e=class eN extends S3e{constructor(e){super(e),this.events=new gi.EventEmitter,this.interval=FC,this.interval=e?.interval||FC}static async init(e){const n=new eN(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ye.toMiliseconds(this.interval))}pulse(){this.events.emit(I2.pulse)}};function T3e(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Sn(t,...e){try{return T3e(t(...e))}catch(n){return Promise.reject(n)}}function k3e(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function P3e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function qp(t){if(k3e(t))return String(t);if(P3e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return qp(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const N5="base64:";function O3e(t){return typeof t=="string"?t:N5+M3e(t)}function R3e(t){return typeof t!="string"||!t.startsWith(N5)?t:$3e(t.slice(N5.length))}function $3e(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function M3e(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function $r(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function N3e(...t){return $r(t.join(":"))}function pp(t){return t=$r(t),t?t+":":""}function D3e(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function j3e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const U3e="memory",B3e=()=>{const t=new Map;return{name:U3e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function F3e(t={}){const e={mounts:{"":t.driver||B3e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=$r(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await zC(e.mounts[l],i,l)}},a=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},o=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",y=$r(m?p:p.key),C=m?void 0:p.value,L=m||!p.options?u:{...u,...p.options},w=n(y);f(w).items.push({key:y,value:C,relativeKey:w.relativeKey,options:L})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=$r(l);const{relativeKey:d,driver:h}=n(l);return Sn(h.hasItem,d,u)},getItem(l,u={}){l=$r(l);const{relativeKey:d,driver:h}=n(l);return Sn(h.getItem,d,u).then(f=>td(f))},getItems(l,u={}){return o(l,u,d=>d.driver.getItems?Sn(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:N3e(d.base,f.key),value:td(f.value)}))):Promise.all(d.items.map(h=>Sn(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:td(f)})))))},getItemRaw(l,u={}){l=$r(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Sn(h.getItemRaw,d,u):Sn(h.getItem,d,u).then(f=>R3e(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=$r(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Sn(f.setItem,h,qp(u),d),f.watch||i("update",l))},async setItems(l,u){await o(l,u,async d=>{if(d.driver.setItems)return Sn(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:qp(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Sn(d.driver.setItem,h.relativeKey,qp(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=$r(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Sn(f.setItemRaw,h,u,d);else if(f.setItem)await Sn(f.setItem,h,O3e(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=$r(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Sn(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Sn(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=$r(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Sn(h.getMeta,d,u)),!u.nativeOnly){const p=await Sn(h.getItem,d+"$",u).then(m=>td(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=pp(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){y.driver.flags?.maxDepth||(p=!1);const C=await Sn(y.driver.getKeys,y.relativeBase,u);for(const L of C){const w=y.mountpoint+$r(L);h.some(b=>w.startsWith(b))||f.push(w)}h=[y.mountpoint,...h.filter(L=>!L.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||D3e(y,u.maxDepth))&&j3e(y,l))},async clear(l,u={}){l=pp(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Sn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>WC(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(l,u){if(l=pp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(zC(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=pp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await WC(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=$r(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=$r(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function zC(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function WC(t){typeof t.dispose=="function"&&await Sn(t.dispose)}function T2(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function tN(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=T2(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let Fm;function bf(){return Fm||(Fm=tN("keyval-store","keyval")),Fm}function VC(t,e=bf()){return e("readonly",n=>T2(n.get(t)))}function z3e(t,e,n=bf()){return n("readwrite",r=>(r.put(e,t),T2(r.transaction)))}function W3e(t,e=bf()){return e("readwrite",n=>(n.delete(t),T2(n.transaction)))}function V3e(t=bf()){return t("readwrite",e=>(e.clear(),T2(e.transaction)))}function H3e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},T2(t.transaction)}function q3e(t=bf()){return t("readonly",e=>{if(e.getAllKeys)return T2(e.getAllKeys());const n=[];return H3e(e,r=>n.push(r.key)).then(()=>n)})}const Z3e="idb-keyval";var G3e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=tN(t.dbName,t.storeName)),{name:Z3e,options:t,async hasItem(i){return!(typeof await VC(n(i),r)>"u")},async getItem(i){return await VC(n(i),r)??null},setItem(i,s){return z3e(n(i),s,r)},removeItem(i){return W3e(n(i),r)},getKeys(){return q3e(r)},clear(){return V3e(r)}}};const K3e="WALLET_CONNECT_V2_INDEXED_DB",Y3e="keyvaluestorage";let J3e=class{constructor(){this.indexedDb=F3e({driver:G3e({dbName:K3e,storeName:Y3e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ha(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},Zp={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof zm<"u"&&zm.localStorage?Zp.exports=zm.localStorage:typeof window<"u"&&window.localStorage?Zp.exports=window.localStorage:Zp.exports=new e})();function X3e(t){var e;return[t[0],d2((e=t[1])!=null?e:"")]}let Q3e=class{constructor(){this.localStorage=Zp.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(X3e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return d2(n)}async setItem(e,n){this.localStorage.setItem(e,Ha(n))}async removeItem(e){this.localStorage.removeItem(e)}};const e6e="wc_storage_version",HC=1,t6e=async(t,e,n)=>{const r=e6e,i=await e.getItem(r);if(i&&i>=HC){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const a=[];for(;s.length;){const o=s.shift();if(!o)continue;const c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(o);await e.setItem(o,l),a.push(o)}}await e.setItem(r,HC),n(e),n6e(t,a)},n6e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let r6e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Q3e;this.storage=e;try{const n=new J3e;t6e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var i6e=Object.defineProperty,s6e=(t,e,n)=>e in t?i6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qC=(t,e,n)=>s6e(t,typeof e!="symbol"?e+"":e,n);let a6e=class extends S2{constructor(e){super(),this.opts=e,qC(this,"protocol","wc"),qC(this,"version",2)}};var o6e=Object.defineProperty,c6e=(t,e,n)=>e in t?o6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l6e=(t,e,n)=>c6e(t,e+"",n);let u6e=class extends S2{constructor(e,n){super(),this.core=e,this.logger=n,l6e(this,"records",new Map)}},d6e=class{constructor(e,n){this.logger=e,this.core=n}},h6e=class extends S2{constructor(e,n){super(),this.relayer=e,this.logger=n}},f6e=class extends S2{constructor(e){super()}},p6e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},m6e=class extends S2{constructor(e,n){super(),this.relayer=e,this.logger=n}},g6e=class extends S2{constructor(e,n){super(),this.core=e,this.logger=n}},y6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},w6e=class{constructor(e,n){this.projectId=e,this.logger=n}},b6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var v6e=Object.defineProperty,_6e=(t,e,n)=>e in t?v6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZC=(t,e,n)=>_6e(t,typeof e!="symbol"?e+"":e,n);let C6e=class{constructor(e){this.opts=e,ZC(this,"protocol","wc"),ZC(this,"version",2)}},E6e=class{constructor(e){this.client=e}};const x6e="PARSE_ERROR",A6e="INVALID_REQUEST",L6e="METHOD_NOT_FOUND",S6e="INVALID_PARAMS",nN="INTERNAL_ERROR",Qw="SERVER_ERROR",I6e=[-32700,-32600,-32601,-32602,-32603],Sd={[x6e]:{code:-32700,message:"Parse error"},[A6e]:{code:-32600,message:"Invalid Request"},[L6e]:{code:-32601,message:"Method not found"},[S6e]:{code:-32602,message:"Invalid params"},[nN]:{code:-32603,message:"Internal error"},[Qw]:{code:-32e3,message:"Server error"}},rN=Qw;function T6e(t){return I6e.includes(t)}function GC(t){return Object.keys(Sd).includes(t)?Sd[t]:Sd[rN]}function k6e(t){const e=Object.values(Sd).find(n=>n.code===t);return e||Sd[rN]}function iN(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var sN={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D5=function(t,e){return D5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},D5(t,e)};function P6e(t,e){D5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var j5=function(){return j5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j5.apply(this,arguments)};function O6e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R6e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function $6e(t,e){return function(n,r){e(n,r,t)}}function M6e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N6e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(d){a(d)}}function c(u){try{l(r.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(t,e||[])).next())})}function D6e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function j6e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function U6e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function U5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function aN(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function B6e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(aN(arguments[e]));return t}function F6e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function Ch(t){return this instanceof Ch?(this.v=t,this):new Ch(t)}function z6e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||o(h,f)})})}function o(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof Ch?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){o("next",h)}function u(h){o("throw",h)}function d(h,f){h(f),s.shift(),s.length&&o(s[0][0],s[0][1])}}function W6e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Ch(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function V6e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof U5=="function"?U5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}function H6e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function q6e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Z6e(t){return t&&t.__esModule?t:{default:t}}function G6e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function K6e(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Y6e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return j5},__asyncDelegator:W6e,__asyncGenerator:z6e,__asyncValues:V6e,__await:Ch,__awaiter:N6e,__classPrivateFieldGet:G6e,__classPrivateFieldSet:K6e,__createBinding:j6e,__decorate:R6e,__exportStar:U6e,__extends:P6e,__generator:D6e,__importDefault:Z6e,__importStar:q6e,__makeTemplateObject:H6e,__metadata:M6e,__param:$6e,__read:aN,__rest:O6e,__spread:B6e,__spreadArrays:F6e,__values:U5},Symbol.toStringTag,{value:"Module"})),J6e=uA(Y6e);var da={},KC;function X6e(){if(KC)return da;KC=1,Object.defineProperty(da,"__esModule",{value:!0}),da.isBrowserCryptoAvailable=da.getSubtleCrypto=da.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}da.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}da.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return da.isBrowserCryptoAvailable=n,da}var ha={},YC;function Q6e(){if(YC)return ha;YC=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.isBrowser=ha.isNode=ha.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ha.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ha.isNode=e;function n(){return!t()&&!e()}return ha.isBrowser=n,ha}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=J6e;e.__exportStar(X6e(),t),e.__exportStar(Q6e(),t)})(sN);function Rs(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Fo(t=6){return BigInt(Rs(t))}function ts(t,e,n){return{id:n||Rs(),jsonrpc:"2.0",method:t,params:e}}function Eh(t,e){return{id:t,jsonrpc:"2.0",result:e}}function M3(t,e,n){return{id:t,jsonrpc:"2.0",error:eme(e)}}function eme(t,e){return typeof t>"u"?GC(nN):(typeof t=="string"&&(t=Object.assign(Object.assign({},GC(Qw)),{message:t})),T6e(t.code)&&(t=k6e(t.code)),t)}let tme=class{};class nme extends tme{constructor(){super()}}class rme extends nme{constructor(e){super()}}const ime="^https?:",sme="^wss?:";function ame(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function oN(t,e){const n=ame(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function JC(t){return oN(t,ime)}function XC(t){return oN(t,sme)}function ome(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function cN(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function eb(t){return cN(t)&&"method"in t}function N3(t){return cN(t)&&($s(t)||Oi(t))}function $s(t){return"result"in t}function Oi(t){return"error"in t}let tb=class extends rme{constructor(e){super(e),this.events=new gi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ts(e.method,e.params||[],e.id||Fo().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Oi(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),N3(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const cme=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),lme=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",QC=t=>t.split("?")[0],eE=10,ume=cme();let dme=class{constructor(e){if(this.url=e,this.events=new gi.EventEmitter,this.registering=!1,!XC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ha(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!XC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=sN.isReactNative()?void 0:{rejectUnauthorized:!ome(e)},s=new ume(e,[],i);lme()?s.onerror=a=>{const o=a;r(this.emitError(o.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?d2(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=M3(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iN(e,QC(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eE&&this.events.setMaxListeners(eE)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${QC(this.url)}`));return this.events.emit("register_error",n),n}};var hme={};const lN="wc",uN=2,B5="core",Gs=`${lN}@2:${B5}:`,fme={logger:"error"},pme={database:":memory:"},mme="crypto",tE="client_ed25519_seed",gme=ye.ONE_DAY,yme="keychain",wme="0.3",bme="messages",vme="0.3",_me=ye.SIX_HOURS,Cme="publisher",dN="irn",Eme="error",hN="wss://relay.walletconnect.org",xme="relayer",Xt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Ame="_subscription",Ei={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Lme=.1,F5="2.22.4",Ut={link_mode:"link_mode",relay:"relay"},Gp={inbound:"inbound",outbound:"outbound"},Sme="0.3",Ime="WALLETCONNECT_CLIENT_ID",nE="WALLETCONNECT_LINK_MODE_APPS",ii={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Tme="subscription",kme="0.3",Pme="pairing",Ome="0.3",Bu={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},Pc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},qi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Rme="history",$me="0.3",Mme="expirer",Si={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Nme="0.3",Dme="verify-api",jme="https://verify.walletconnect.com",fN="https://verify.walletconnect.org",Id=fN,Ume=`${Id}/v3`,Bme=[jme,fN],Fme="echo",zme="https://echo.walletconnect.com",Ps={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ga={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Zi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},yc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},wc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Fu={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Wme=.1,Vme="event-client",Hme=86400,qme="https://pulse.walletconnect.org/batch";function Zme(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,C=0,L=p.length;C!==L&&p[C]===0;)C++,m++;for(var w=(L-C)*u+1>>>0,b=new Uint8Array(w);C!==L;){for(var A=p[C],_=0,I=w-1;(A!==0||_<y)&&I!==-1;I--,_++)A+=256*b[I]>>>0,b[I]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");y=_,C++}for(var M=w-y;M!==w&&b[M]===0;)M++;for(var D=c.repeat(m);M<w;++M)D+=t.charAt(b[M]);return D}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,C=0;p[m]===c;)y++,m++;for(var L=(p.length-m)*l+1>>>0,w=new Uint8Array(L);p[m];){var b=n[p.charCodeAt(m)];if(b===255)return;for(var A=0,_=L-1;(b!==0||A<C)&&_!==-1;_--,A++)b+=o*w[_]>>>0,w[_]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");C=A,m++}if(p[m]!==" "){for(var I=L-C;I!==L&&w[I]===0;)I++;for(var M=new Uint8Array(y+(L-I)),D=y;I!==L;)M[D++]=w[I++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Gme=Zme,Kme=Gme;const pN=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Yme=t=>new TextEncoder().encode(t),Jme=t=>new TextDecoder().decode(t);let Xme=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Qme=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mN(this,e)}},ege=class{constructor(e){this.decoders=e}or(e){return mN(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const mN=(t,e)=>new ege({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let tge=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Xme(e,n,r),this.decoder=new Qme(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const D3=({name:t,prefix:e,encode:n,decode:r})=>new tge(t,e,n,r),vf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Kme(n,e);return D3({prefix:t,name:e,encode:r,decode:s=>pN(i(s))})},nge=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,o+=n,o>=8&&(o-=8,a[l++]=255&c>>o)}if(o>=n||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},rge=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Jn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>D3({prefix:e,name:t,encode(i){return rge(i,r,n)},decode(i){return nge(i,r,n,t)}}),ige=D3({prefix:"\0",name:"identity",encode:t=>Jme(t),decode:t=>Yme(t)});var sge=Object.freeze({__proto__:null,identity:ige});const age=Jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oge=Object.freeze({__proto__:null,base2:age});const cge=Jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var lge=Object.freeze({__proto__:null,base8:cge});const uge=vf({prefix:"9",name:"base10",alphabet:"0123456789"});var dge=Object.freeze({__proto__:null,base10:uge});const hge=Jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fge=Jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var pge=Object.freeze({__proto__:null,base16:hge,base16upper:fge});const mge=Jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gge=Jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yge=Jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wge=Jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bge=Jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vge=Jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_ge=Jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Cge=Jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ege=Jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var xge=Object.freeze({__proto__:null,base32:mge,base32upper:gge,base32pad:yge,base32padupper:wge,base32hex:bge,base32hexupper:vge,base32hexpad:_ge,base32hexpadupper:Cge,base32z:Ege});const Age=vf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lge=vf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Sge=Object.freeze({__proto__:null,base36:Age,base36upper:Lge});const Ige=vf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Tge=vf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var kge=Object.freeze({__proto__:null,base58btc:Ige,base58flickr:Tge});const Pge=Jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Oge=Jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rge=Jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$ge=Jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Mge=Object.freeze({__proto__:null,base64:Pge,base64pad:Oge,base64url:Rge,base64urlpad:$ge});const gN=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Nge=gN.reduce((t,e,n)=>(t[n]=e,t),[]),Dge=gN.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function jge(t){return t.reduce((e,n)=>(e+=Nge[n],e),"")}function Uge(t){const e=[];for(const n of t){const r=Dge[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Bge=D3({prefix:"🚀",name:"base256emoji",encode:jge,decode:Uge});var Fge=Object.freeze({__proto__:null,base256emoji:Bge}),zge=yN,rE=128,Wge=-128,Vge=Math.pow(2,31);function yN(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Vge;)e[n++]=t&255|rE,t/=128;for(;t&Wge;)e[n++]=t&255|rE,t>>>=7;return e[n]=t|0,yN.bytes=n-r+1,e}var Hge=z5,qge=128,iE=127;function z5(t,r){var n=0,r=r||0,i=0,s=r,a,o=t.length;do{if(s>=o)throw z5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&iE)<<i:(a&iE)*Math.pow(2,i),i+=7}while(a>=qge);return z5.bytes=s-r,n}var Zge=Math.pow(2,7),Gge=Math.pow(2,14),Kge=Math.pow(2,21),Yge=Math.pow(2,28),Jge=Math.pow(2,35),Xge=Math.pow(2,42),Qge=Math.pow(2,49),eye=Math.pow(2,56),tye=Math.pow(2,63),nye=function(t){return t<Zge?1:t<Gge?2:t<Kge?3:t<Yge?4:t<Jge?5:t<Xge?6:t<Qge?7:t<eye?8:t<tye?9:10},rye={encode:zge,decode:Hge,encodingLength:nye},wN=rye;const sE=(t,e,n=0)=>(wN.encode(t,e,n),e),aE=t=>wN.encodingLength(t),W5=(t,e)=>{const n=e.byteLength,r=aE(t),i=r+aE(n),s=new Uint8Array(i+n);return sE(t,s,0),sE(n,s,r),s.set(e,i),new iye(t,n,e,s)};class iye{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const bN=({name:t,code:e,encode:n})=>new sye(t,e,n);class sye{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?W5(this.code,n):n.then(r=>W5(this.code,r))}else throw Error("Unknown type, must be binary type")}}const vN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),aye=bN({name:"sha2-256",code:18,encode:vN("SHA-256")}),oye=bN({name:"sha2-512",code:19,encode:vN("SHA-512")});var cye=Object.freeze({__proto__:null,sha256:aye,sha512:oye});const _N=0,lye="identity",CN=pN,uye=t=>W5(_N,CN(t)),dye={code:_N,name:lye,encode:CN,digest:uye};var hye=Object.freeze({__proto__:null,identity:dye});new TextEncoder,new TextDecoder;const oE={...sge,...oge,...lge,...dge,...pge,...xge,...Sge,...kge,...Mge,...Fge};({...cye,...hye});function EN(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fye(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?EN(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function xN(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const cE=xN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Wm=xN("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=fye(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),pye={utf8:cE,"utf-8":cE,hex:oE.base16,latin1:Wm,ascii:Wm,binary:Wm,...oE};function mye(t,e="utf8"){const n=pye[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?EN(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var gye=Object.defineProperty,yye=(t,e,n)=>e in t?gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ls=(t,e,n)=>yye(t,typeof e!="symbol"?e+"":e,n);let wye=class{constructor(e,n){this.core=e,this.logger=n,Ls(this,"keychain",new Map),Ls(this,"name",yme),Ls(this,"version",wme),Ls(this,"initialized",!1),Ls(this,"storagePrefix",Gs),Ls(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ls(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ls(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Ls(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=ge("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Ls(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=yi(n,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,C5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var bye=Object.defineProperty,vye=(t,e,n)=>e in t?bye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,An=(t,e,n)=>vye(t,typeof e!="symbol"?e+"":e,n);let _ye=class{constructor(e,n,r){this.core=e,this.logger=n,An(this,"name",mme),An(this,"keychain"),An(this,"randomSessionIdentifier",$5()),An(this,"initialized",!1),An(this,"clientId"),An(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),An(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),An(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=$_(i),a=L$(s.publicKey);return this.clientId=a,a}),An(this,"generateKeyPair",()=>{this.isInitialized();const i=u1e();return this.setPrivateKey(i.publicKey,i.privateKey)}),An(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=$_(s),o=this.randomSessionIdentifier;return await cde(o,i,gme,a)}),An(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),c=d1e(o,s);return this.setSymKey(c,a)}),An(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||Hp(i);return await this.keychain.set(a,i),a}),An(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),An(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),An(this,"encode",async(i,s,a)=>{this.isInitialized();const o=JM(a),c=Ha(s);if(SC(o))return p1e(c,a?.encoding);if(LC(o)){const h=o.senderPublicKey,f=o.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=o;return h1e({type:u,symKey:l,message:c,senderPublicKey:d,encoding:a?.encoding})}),An(this,"decode",async(i,s,a)=>{this.isInitialized();const o=g1e(s,a);if(SC(o)){const c=m1e(s,a?.encoding);return d2(c)}if(LC(o)){const c=o.receiverPublicKey,l=o.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=f1e({symKey:c,encoded:s,encoding:a?.encoding});return d2(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),An(this,"getPayloadType",(i,s=Ur)=>{const a=_h({encoded:i,encoding:s});return f2(a.type)}),An(this,"getPayloadSenderPublicKey",(i,s=Ur)=>{const a=_h({encoded:i,encoding:s});return a.senderPublicKey?Hr(a.senderPublicKey,Ar):void 0}),this.core=e,this.logger=yi(n,this.name),this.keychain=r||new wye(this.core,this.logger)}get context(){return Jr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tE)}catch{e=$5(),await this.keychain.set(tE,e)}return mye(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Cye=Object.defineProperty,Eye=Object.defineProperties,xye=Object.getOwnPropertyDescriptors,lE=Object.getOwnPropertySymbols,Aye=Object.prototype.hasOwnProperty,Lye=Object.prototype.propertyIsEnumerable,V5=(t,e,n)=>e in t?Cye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sye=(t,e)=>{for(var n in e||(e={}))Aye.call(e,n)&&V5(t,n,e[n]);if(lE)for(var n of lE(e))Lye.call(e,n)&&V5(t,n,e[n]);return t},Iye=(t,e)=>Eye(t,xye(e)),ei=(t,e,n)=>V5(t,typeof e!="symbol"?e+"":e,n);let Tye=class extends d6e{constructor(e,n){super(e,n),this.logger=e,this.core=n,ei(this,"messages",new Map),ei(this,"messagesWithoutClientAck",new Map),ei(this,"name",bme),ei(this,"version",vme),ei(this,"initialized",!1),ei(this,"storagePrefix",Gs),ei(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ei(this,"set",async(r,i,s)=>{this.isInitialized();const a=Pi(i);let o=this.messages.get(r);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=i,this.messages.set(r,o),s===Gp.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Iye(Sye({},c),{[a]:i}))}return await this.persist(),a}),ei(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ei(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),ei(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=Pi(i);return typeof s[a]<"u"}),ei(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=Pi(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),ei(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=yi(e,this.name),this.core=n}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,C5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,C5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?E5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?E5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var kye=Object.defineProperty,Pye=Object.defineProperties,Oye=Object.getOwnPropertyDescriptors,uE=Object.getOwnPropertySymbols,Rye=Object.prototype.hasOwnProperty,$ye=Object.prototype.propertyIsEnumerable,H5=(t,e,n)=>e in t?kye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q2=(t,e)=>{for(var n in e||(e={}))Rye.call(e,n)&&H5(t,n,e[n]);if(uE)for(var n of uE(e))$ye.call(e,n)&&H5(t,n,e[n]);return t},dE=(t,e)=>Pye(t,Oye(e)),xi=(t,e,n)=>H5(t,typeof e!="symbol"?e+"":e,n);let Mye=class extends h6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,xi(this,"events",new gi.EventEmitter),xi(this,"name",Cme),xi(this,"queue",new Map),xi(this,"publishTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),xi(this,"initialPublishTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),xi(this,"needsTransportRestart",!1),xi(this,"publish",async(r,i,s)=>{var a,o,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=s?.ttl||_me,h=s?.prompt||!1,f=s?.tag||0,p=s?.id||Fo().toString(),m=dl(o1().protocol),y={id:p,method:s?.publishMethod||m.publish,params:q2({topic:r,message:i,ttl:d,prompt:h,tag:f,attestation:s?.attestation},s?.tvf)},C=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{vn((a=y.params)==null?void 0:a.prompt)&&((o=y.params)==null||delete o.prompt),vn((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const L=new Promise(async w=>{const b=({id:_})=>{var I;((I=y.id)==null?void 0:I.toString())===_.toString()&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(Xt.publish,b),w())};this.relayer.events.on(Xt.publish,b);const A=js(new Promise((_,I)=>{this.rpcPublish(y,s).then(_).catch(M=>{this.logger.warn(M,M?.message),I(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await A,this.events.removeListener(Xt.publish,b)}catch(_){this.queue.set(p,{request:y,opts:s,attempt:1}),this.logger.warn(_,_?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:i,opts:s}}),await js(L,this.publishTimeout,C)}catch(L){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(L),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw L}finally{this.queue.delete(p)}}),xi(this,"publishCustom",async r=>{var i,s,a,o,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:m,ttl:y=ye.FIVE_MINUTES}=u,C=u.id||Fo().toString(),L=dl(o1().protocol),w=f||L.publish,b={id:C,method:w,params:q2(dE(q2({},l),{ttl:y,prompt:p,tag:m,attestation:d}),h)},A=`Failed to publish custom payload, please try again. id:${C} tag:${m}`;try{vn((i=b.params)==null?void 0:i.prompt)&&((s=b.params)==null||delete s.prompt),vn((a=b.params)==null?void 0:a.tag)&&((o=b.params)==null||delete o.tag);const _=new Promise(async I=>{const M=({id:B})=>{var W;((W=b.id)==null?void 0:W.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(Xt.publish,M),I())};this.relayer.events.on(Xt.publish,M);const D=js(new Promise((B,W)=>{this.rpcPublish(b,u).then(B).catch(P=>{this.logger.warn(P,P?.message),W(P)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${w} id:${C} tag:${m}`);try{await D,this.events.removeListener(Xt.publish,M)}catch(B){this.queue.set(C,{request:b,opts:u,attempt:1}),this.logger.warn(B,B?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:C,payload:l,opts:u}}),await js(_,this.publishTimeout,A)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw _}finally{this.queue.delete(C)}}),xi(this,"on",(r,i)=>{this.events.on(r,i)}),xi(this,"once",(r,i)=>{this.events.once(r,i)}),xi(this,"off",(r,i)=>{this.events.off(r,i)}),xi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=yi(n,this.name),this.registerEventListeners()}get context(){return Jr(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Xt.publish,q2(q2({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,dE(q2({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(I2.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Xt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Xt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var Nye=Object.defineProperty,Dye=(t,e,n)=>e in t?Nye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z2=(t,e,n)=>Dye(t,typeof e!="symbol"?e+"":e,n);class jye{constructor(){Z2(this,"map",new Map),Z2(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Z2(this,"get",e=>this.map.get(e)||[]),Z2(this,"exists",(e,n)=>this.get(e).includes(n)),Z2(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Z2(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Uye=Object.defineProperty,Bye=Object.defineProperties,Fye=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,zye=Object.prototype.hasOwnProperty,Wye=Object.prototype.propertyIsEnumerable,q5=(t,e,n)=>e in t?Uye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zu=(t,e)=>{for(var n in e||(e={}))zye.call(e,n)&&q5(t,n,e[n]);if(hE)for(var n of hE(e))Wye.call(e,n)&&q5(t,n,e[n]);return t},Vm=(t,e)=>Bye(t,Fye(e)),At=(t,e,n)=>q5(t,typeof e!="symbol"?e+"":e,n);let Vye=class extends m6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,At(this,"subscriptions",new Map),At(this,"topicMap",new jye),At(this,"events",new gi.EventEmitter),At(this,"name",Tme),At(this,"version",kme),At(this,"pending",new Map),At(this,"cached",[]),At(this,"initialized",!1),At(this,"storagePrefix",Gs),At(this,"subscribeTimeout",ye.toMiliseconds(ye.ONE_MINUTE)),At(this,"initialSubscribeTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),At(this,"clientId"),At(this,"batchSubscribeTopicsLimit",500),At(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),At(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=o1(i),o={topic:r,relay:a,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,o);const c=await this.rpcSubscribe(r,a,i);return typeof c=="string"&&(this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),At(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),At(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),At(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),At(this,"on",(r,i)=>{this.events.on(r,i)}),At(this,"once",(r,i)=>{this.events.once(r,i)}),At(this,"off",(r,i)=>{this.events.off(r,i)}),At(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),At(this,"start",async()=>{await this.onConnect()}),At(this,"stop",async()=>{await this.onDisconnect()}),At(this,"restart",async()=>{await this.restore(),await this.onRestart()}),At(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),At(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(I2.pulse,async()=>{await this.checkPending()}),this.events.on(ii.created,async r=>{const i=ii.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(ii.deleted,async r=>{const i=ii.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=yi(n,this.name),this.clientId=""}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=o1(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Bt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return a;(!r||r?.transportType===Ut.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const o={method:dl(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Ut.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(d=>this.logger.warn(d))},ye.toMiliseconds(ye.ONE_SECOND)),a;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(ii.created,h),d(f.id))};this.events.on(ii.created,h);try{const f=await js(new Promise((p,m)=>{this.relayer.request(o).catch(y=>{this.logger.warn(y,y?.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ii.created,h),d(f)}catch{}}),u=await js(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Xt.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:dl(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await js(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Xt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:dl(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await js(new Promise((s,a)=>{this.relayer.request(r).catch(o=>{this.logger.warn(o),a(o)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Xt.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:dl(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Vm(zu({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,zu({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,zu({},n)),this.topicMap.set(n.topic,e),this.events.emit(ii.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ii.deleted,Vm(zu({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ii.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ii.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Vm(zu({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Ofe(ye.toMiliseconds(ye.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Pi(e+await this.getClientId())}};var Hye=Object.defineProperty,fE=Object.getOwnPropertySymbols,qye=Object.prototype.hasOwnProperty,Zye=Object.prototype.propertyIsEnumerable,Z5=(t,e,n)=>e in t?Hye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pE=(t,e)=>{for(var n in e||(e={}))qye.call(e,n)&&Z5(t,n,e[n]);if(fE)for(var n of fE(e))Zye.call(e,n)&&Z5(t,n,e[n]);return t},pt=(t,e,n)=>Z5(t,typeof e!="symbol"?e+"":e,n);let Gye=class extends f6e{constructor(e){var n;super(e),pt(this,"protocol","wc"),pt(this,"version",2),pt(this,"core"),pt(this,"logger"),pt(this,"events",new gi.EventEmitter),pt(this,"provider"),pt(this,"messages"),pt(this,"subscriber"),pt(this,"publisher"),pt(this,"name",xme),pt(this,"transportExplicitlyClosed",!1),pt(this,"initialized",!1),pt(this,"connectionAttemptInProgress",!1),pt(this,"relayUrl"),pt(this,"projectId"),pt(this,"packageName"),pt(this,"bundleId"),pt(this,"hasExperiencedNetworkDisruption",!1),pt(this,"pingTimeout"),pt(this,"heartBeatTimeout",ye.toMiliseconds(ye.THIRTY_SECONDS+ye.FIVE_SECONDS)),pt(this,"reconnectTimeout"),pt(this,"connectPromise"),pt(this,"reconnectInProgress",!1),pt(this,"requestsInFlight",[]),pt(this,"connectTimeout",ye.toMiliseconds(ye.ONE_SECOND*15)),pt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const a=r.id||Fo().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${a}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const c=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),c}catch(o){throw this.logger.debug(`Failed to Publish Request: ${a}`),o}}),pt(this,"resetPingTimeout",()=>{t1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),pt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),pt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Xt.connect)}),pt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),pt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Xt.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),pt(this,"registerProviderListeners",()=>{this.provider.on(Ei.payload,this.onPayloadHandler),this.provider.on(Ei.connect,this.onConnectHandler),this.provider.on(Ei.disconnect,this.onDisconnectHandler),this.provider.on(Ei.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=Xw({logger:(n=e.logger)!=null?n:Eme,name:this.name}),this.messages=new Tye(this.logger,e.core),this.subscriber=new Vye(this,this.logger),this.publisher=new Mye(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hN,gfe()?this.packageName=G_():yfe()&&(this.bundleId=G_()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Jr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ut.relay},Gp.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ii.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ii.created,l)}),new Promise(async(u,d)=>{o=await this.subscriber.subscribe(e,pE({internal:{throwOnFailedPublish:a}},n)).catch(h=>{a&&d(h)})||o,u()})]),o}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await js(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await BC())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=sn(ye.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Xt.message,e),await this.recordMessageEvent(e,Gp.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ei.disconnect,s),await js(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(Ei.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ei.disconnect,c),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Ei.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ye.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(t1())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new tb(new dme(Cfe({sdkVersion:F5,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),eb(e)){if(!e.method.endsWith(Ame))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,o={topic:r,message:i,publishedAt:s,transportType:Ut.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(pE({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else N3(e)&&this.events.emit(Xt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Gp.inbound),this.events.emit(Xt.message,e))}async acknowledgePayload(e){const n=Eh(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ei.payload,this.onPayloadHandler),this.provider.off(Ei.connect,this.onConnectHandler),this.provider.off(Ei.disconnect,this.onDisconnectHandler),this.provider.off(Ei.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await BC();m3e(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(I2.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&w3e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Xt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ye.toMiliseconds(Lme)))))}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Kye(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function mE(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function gE(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Yye="[object RegExp]",Jye="[object String]",Xye="[object Number]",Qye="[object Boolean]",yE="[object Arguments]",e5e="[object Symbol]",t5e="[object Date]",n5e="[object Map]",r5e="[object Set]",i5e="[object Array]",s5e="[object Function]",a5e="[object ArrayBuffer]",Hm="[object Object]",o5e="[object Error]",c5e="[object DataView]",l5e="[object Uint8Array]",u5e="[object Uint8ClampedArray]",d5e="[object Uint16Array]",h5e="[object Uint32Array]",f5e="[object BigUint64Array]",p5e="[object Int8Array]",m5e="[object Int16Array]",g5e="[object Int32Array]",y5e="[object BigInt64Array]",w5e="[object Float32Array]",b5e="[object Float64Array]";function v5e(){}function wE(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function _5e(t,e,n){return ud(t,e,void 0,void 0,void 0,void 0,n)}function ud(t,e,n,r,i,s,a){const o=a(t,e,n,r,i,s);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Td(t,e,s,a)}return Td(t,e,s,a)}function Td(t,e,n,r){if(Object.is(t,e))return!0;let i=gE(t),s=gE(e);if(i===yE&&(i=Hm),s===yE&&(s=Hm),i!==s)return!1;switch(i){case Jye:return t.toString()===e.toString();case Xye:{const c=t.valueOf(),l=e.valueOf();return Kye(c,l)}case Qye:case t5e:case e5e:return Object.is(t.valueOf(),e.valueOf());case Yye:return t.source===e.source&&t.flags===e.flags;case s5e:return t===e}n=n??new Map;const a=n.get(t),o=n.get(e);if(a!=null&&o!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case n5e:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!ud(l,e.get(c),c,t,e,n,r))return!1;return!0}case r5e:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>ud(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case i5e:case l5e:case u5e:case d5e:case h5e:case f5e:case p5e:case m5e:case g5e:case y5e:case w5e:case b5e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!ud(t[c],e[c],c,t,e,n,r))return!1;return!0}case a5e:return t.byteLength!==e.byteLength?!1:Td(new Uint8Array(t),new Uint8Array(e),n,r);case c5e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Td(new Uint8Array(t),new Uint8Array(e),n,r);case o5e:return t.name===e.name&&t.message===e.message;case Hm:{if(!(Td(t.constructor,e.constructor,n,r)||wE(t)&&wE(e)))return!1;const c=[...Object.keys(t),...mE(t)],l=[...Object.keys(e),...mE(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!ud(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function C5e(t,e){return _5e(t,e,v5e)}var E5e=Object.defineProperty,bE=Object.getOwnPropertySymbols,x5e=Object.prototype.hasOwnProperty,A5e=Object.prototype.propertyIsEnumerable,G5=(t,e,n)=>e in t?E5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vE=(t,e)=>{for(var n in e||(e={}))x5e.call(e,n)&&G5(t,n,e[n]);if(bE)for(var n of bE(e))A5e.call(e,n)&&G5(t,n,e[n]);return t},Rr=(t,e,n)=>G5(t,typeof e!="symbol"?e+"":e,n);let k2=class extends p6e{constructor(e,n,r,i=Gs,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Rr(this,"map",new Map),Rr(this,"version",Sme),Rr(this,"cached",[]),Rr(this,"initialized",!1),Rr(this,"getKey"),Rr(this,"storagePrefix",Gs),Rr(this,"recentlyDeleted",[]),Rr(this,"recentlyDeletedLimit",200),Rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!vn(a)?this.map.set(this.getKey(a),a):q1e(a)?this.map.set(a.id,a):Z1e(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Rr(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),Rr(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Rr(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>C5e(o[c],a[c]))):this.values)),Rr(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const c=vE(vE({},this.getData(a)),o);this.map.set(a,c),await this.persist()}),Rr(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=yi(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var L5e=Object.defineProperty,S5e=(t,e,n)=>e in t?L5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e,n)=>S5e(t,typeof e!="symbol"?e+"":e,n);let I5e=class{constructor(e,n){this.core=e,this.logger=n,at(this,"name",Pme),at(this,"version",Ome),at(this,"events",new mw),at(this,"pairings"),at(this,"initialized",!1),at(this,"storagePrefix",Gs),at(this,"ignoredPayloadTypes",[Ua]),at(this,"registeredMethods",[]),at(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),at(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),at(this,"create",async r=>{this.isInitialized();const i=$5(),s=await this.core.crypto.setSymKey(i),a=sn(ye.FIVE_MINUTES),o={protocol:dN},c={topic:s,expiry:a,relay:o,active:!1,methods:r?.methods},l=PC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:r?.methods});return this.events.emit(Pc.create,c),this.core.expirer.set(s,a),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:l}}),at(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Ps.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:o,expiryTimestamp:c,methods:l}=kC(r.uri);i.props.properties.topic=s,i.addTrace(Ps.pairing_uri_validation_success),i.addTrace(Ps.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Ps.existing_pairing),u.active)throw i.setError(ga.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ps.pairing_not_expired)}const d=c||sn(ye.FIVE_MINUTES),h={topic:s,relay:o,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Ps.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Pc.create,h),i.addTrace(Ps.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(Ps.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ga.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(f){throw i.setError(ga.subscribe_pairing_topic_failure),f}return i.addTrace(Ps.subscribe_pairing_topic_success),h}),at(this,"activate",async({topic:r})=>{this.isInitialized();const i=sn(ye.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),at(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Cc();this.events.once(bt("pairing_ping",s),({error:l})=>{l?c(l):o()}),await a()}}),at(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),at(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),at(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),at(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Bt("USER_DISCONNECTED")),await this.deletePairing(i))}),at(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:o}=r,c=this.core.crypto.keychain.get(i);return PC({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:a,methods:o})}),at(this,"sendRequest",async(r,i,s)=>{const a=ts(i,s),o=await this.core.crypto.encode(r,a),c=Bu[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,o,c),a.id}),at(this,"sendResult",async(r,i,s)=>{const a=Eh(r,s),o=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,r)).request.method,l=Bu[c].res;await this.core.relayer.publish(i,o,l),await this.core.history.resolve(a)}),at(this,"sendError",async(r,i,s)=>{const a=M3(r,s),o=await this.core.crypto.encode(i,a),c=(await this.core.history.get(i,r)).request.method,l=Bu[c]?Bu[c].res:Bu.unregistered_method.res;await this.core.relayer.publish(i,o,l),await this.core.history.resolve(a)}),at(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Bt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),at(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ms(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),at(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),at(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}}),at(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Pc.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),at(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{$s(i)?this.events.emit(bt("pairing_ping",s),{}):Oi(i)&&this.events.emit(bt("pairing_ping",s),{error:i.error})},500)}),at(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Pc.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),at(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=Bt("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,o),this.logger.error(o)}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),at(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Bt("WC_METHOD_UNSUPPORTED",r))}),at(this,"isValidPair",(r,i)=>{var s;if(!Mr(r)){const{message:o}=ge("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(ga.malformed_pairing_uri),new Error(o)}if(!H1e(r.uri)){const{message:o}=ge("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(ga.malformed_pairing_uri),new Error(o)}const a=kC(r?.uri);if(!((s=a?.relay)!=null&&s.protocol)){const{message:o}=ge("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ga.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=ge("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ga.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&ye.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(ga.pairing_expired);const{message:o}=ge("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),at(this,"isValidPing",async r=>{if(!Mr(r)){const{message:s}=ge("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),at(this,"isValidDisconnect",async r=>{if(!Mr(r)){const{message:s}=ge("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),at(this,"isValidPairingTopic",async r=>{if(!ln(r,!1)){const{message:i}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ms(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=ge("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=yi(n,this.name),this.pairings=new k2(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Jr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Xt.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ut.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);eb(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):N3(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Si.expired,async e=>{const{topic:n}=eM(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Pc.expire,{topic:n}))})}};var T5e=Object.defineProperty,k5e=(t,e,n)=>e in t?T5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e,n)=>k5e(t,typeof e!="symbol"?e+"":e,n);let P5e=class extends u6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Fn(this,"records",new Map),Fn(this,"events",new gi.EventEmitter),Fn(this,"name",Rme),Fn(this,"version",$me),Fn(this,"cached",[]),Fn(this,"initialized",!1),Fn(this,"storagePrefix",Gs),Fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fn(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:sn(ye.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(qi.created,a)}),Fn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Oi(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(qi.updated,i))}),Fn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Fn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(qi.deleted,s)}}),this.persist()}),Fn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Fn(this,"on",(r,i)=>{this.events.on(r,i)}),Fn(this,"once",(r,i)=>{this.events.once(r,i)}),Fn(this,"off",(r,i)=>{this.events.off(r,i)}),Fn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=yi(n,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:ts(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(qi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(qi.created,e=>{const n=qi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(qi.updated,e=>{const n=qi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(qi.deleted,e=>{const n=qi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(I2.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ye.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(qi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var O5e=Object.defineProperty,R5e=(t,e,n)=>e in t?O5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rr=(t,e,n)=>R5e(t,typeof e!="symbol"?e+"":e,n);let $5e=class extends g6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,rr(this,"expirations",new Map),rr(this,"events",new gi.EventEmitter),rr(this,"name",Mme),rr(this,"version",Nme),rr(this,"cached",[]),rr(this,"initialized",!1),rr(this,"storagePrefix",Gs),rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),rr(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),rr(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Si.created,{target:s,expiration:a})}),rr(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),rr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Si.deleted,{target:i,expiration:s})}}),rr(this,"on",(r,i)=>{this.events.on(r,i)}),rr(this,"once",(r,i)=>{this.events.once(r,i)}),rr(this,"off",(r,i)=>{this.events.off(r,i)}),rr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=yi(n,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Efe(e);if(typeof e=="number")return xfe(e);const{message:n}=ge("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Si.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ge("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ge("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ye.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Si.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(I2.pulse,()=>this.checkExpirations()),this.events.on(Si.created,e=>{const n=Si.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Si.expired,e=>{const n=Si.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Si.deleted,e=>{const n=Si.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}};var M5e=Object.defineProperty,N5e=(t,e,n)=>e in t?M5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nn=(t,e,n)=>N5e(t,typeof e!="symbol"?e+"":e,n);let D5e=class extends y6e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,nn(this,"name",Dme),nn(this,"abortController"),nn(this,"isDevEnv"),nn(this,"verifyUrlV3",Ume),nn(this,"storagePrefix",Gs),nn(this,"version",uN),nn(this,"publicKey"),nn(this,"fetchPromise"),nn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ye.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),nn(this,"register",async i=>{if(!yu()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:o}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{const l=l2(),u=this.startAbortTimer(ye.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=C=>{if(C.data&&typeof C.data=="string")try{const L=JSON.parse(C.data);if(L.type==="verify_attestation"){if(w5(L.attestation).payload.id!==a)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(L.attestation===null?"":L.attestation)}}catch(L){this.logger.warn(L)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),nn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(w5(s).payload.id!==o)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!a)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,c)}),nn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(ye.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),nn(this,"getVerifyUrl",i=>{let s=i||Id;return Bme.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Id}`),s=Id),s}),nn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ye.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),nn(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),nn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),nn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),nn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),nn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),nn(this,"validateAttestation",(i,s)=>{const a=w1e(i,s.publicKey),o={hasExpired:ye.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=yi(n,this.name),this.abortController=new AbortController,this.isDevEnv=Bw(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Jr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}};var j5e=Object.defineProperty,U5e=(t,e,n)=>e in t?j5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_E=(t,e,n)=>U5e(t,typeof e!="symbol"?e+"":e,n);let B5e=class extends w6e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,_E(this,"context",Fme),_E(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=r,c=`${zme}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})}),this.logger=yi(n,this.context)}};var F5e=Object.defineProperty,CE=Object.getOwnPropertySymbols,z5e=Object.prototype.hasOwnProperty,W5e=Object.prototype.propertyIsEnumerable,K5=(t,e,n)=>e in t?F5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e)=>{for(var n in e||(e={}))z5e.call(e,n)&&K5(t,n,e[n]);if(CE)for(var n of CE(e))W5e.call(e,n)&&K5(t,n,e[n]);return t},Ln=(t,e,n)=>K5(t,typeof e!="symbol"?e+"":e,n);let V5e=class extends b6e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ln(this,"context",Vme),Ln(this,"storagePrefix",Gs),Ln(this,"storageVersion",Wme),Ln(this,"events",new Map),Ln(this,"shouldPersist",!1),Ln(this,"init",async()=>{if(!Bw())try{const i={eventId:Y_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:X$(this.core.relayer.protocol,this.core.relayer.version,F5)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ln(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:o,trace:c}}=i,l=Y_(),u=this.core.projectId||"",d=Date.now(),h=Wu({eventId:l,timestamp:d,props:{event:s,type:a,properties:{topic:o,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Ln(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return Wu(Wu({},o),this.setMethods(o.eventId))}),Ln(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ln(this,"setEventListeners",()=>{this.core.heartbeat.on(I2.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ye.fromMiliseconds(Date.now())-ye.fromMiliseconds(i.timestamp)>Hme&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ln(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ln(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),Ln(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Ln(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ln(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Wu(Wu({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ln(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ln(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${qme}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${F5}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ln(this,"getAppDomain",()=>J$().url),this.logger=yi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var H5e=Object.defineProperty,EE=Object.getOwnPropertySymbols,q5e=Object.prototype.hasOwnProperty,Z5e=Object.prototype.propertyIsEnumerable,Y5=(t,e,n)=>e in t?H5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xE=(t,e)=>{for(var n in e||(e={}))q5e.call(e,n)&&Y5(t,n,e[n]);if(EE)for(var n of EE(e))Z5e.call(e,n)&&Y5(t,n,e[n]);return t},St=(t,e,n)=>Y5(t,typeof e!="symbol"?e+"":e,n);let G5e=class AN extends a6e{constructor(e){var n;super(e),St(this,"protocol",lN),St(this,"version",uN),St(this,"name",B5),St(this,"relayUrl"),St(this,"projectId"),St(this,"customStoragePrefix"),St(this,"events",new gi.EventEmitter),St(this,"logger"),St(this,"heartbeat"),St(this,"relayer"),St(this,"crypto"),St(this,"storage"),St(this,"history"),St(this,"expirer"),St(this,"pairing"),St(this,"verify"),St(this,"echoClient"),St(this,"linkModeSupportedApps"),St(this,"eventClient"),St(this,"initialized",!1),St(this,"logChunkController"),St(this,"on",(o,c)=>this.events.on(o,c)),St(this,"once",(o,c)=>this.events.once(o,c)),St(this,"off",(o,c)=>this.events.off(o,c)),St(this,"removeListener",(o,c)=>this.events.removeListener(o,c)),St(this,"dispatchEnvelope",({topic:o,message:c,sessionExists:l})=>{if(!o||!c)return;const u={topic:o,message:c,publishedAt:Date.now(),transportType:Ut.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hN,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=tfe({level:typeof e?.logger=="string"&&e.logger?e.logger:fme.logger,name:B5}),{logger:s,chunkLoggerController:a}=K$({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,c;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=yi(s,this.name),this.heartbeat=new I3e,this.crypto=new _ye(this,this.logger,e?.keychain),this.history=new P5e(this,this.logger),this.expirer=new $5e(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new r6e(xE(xE({},pme),e?.storageOptions)),this.relayer=new Gye({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new I5e(this,this.logger),this.verify=new D5e(this,this.logger,this.storage),this.echoClient=new B5e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new V5e(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new AN(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Ime,r),n}get context(){return Jr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(nE,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nE)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&hme.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const K5e=G5e,LN="wc",SN=2,IN="client",nb=`${LN}@${SN}:${IN}:`,qm={name:IN,logger:"error"},AE="WALLETCONNECT_DEEPLINK_CHOICE",Y5e="proposal",LE="Proposal expired",J5e="session",G2=ye.SEVEN_DAYS,X5e="engine",zn={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ye.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ye.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1119}}},Zm={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},Ss={idle:"IDLE",active:"ACTIVE"},Q5e={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},e4e="request",t4e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],n4e="wc",r4e="auth",i4e="authKeys",s4e="pairingTopics",a4e="requests",j3=`${n4e}@${1.5}:${r4e}:`,Kp=`${j3}:PUB_KEY`;var o4e=Object.defineProperty,c4e=Object.defineProperties,l4e=Object.getOwnPropertyDescriptors,SE=Object.getOwnPropertySymbols,u4e=Object.prototype.hasOwnProperty,d4e=Object.prototype.propertyIsEnumerable,J5=(t,e,n)=>e in t?o4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_t=(t,e)=>{for(var n in e||(e={}))u4e.call(e,n)&&J5(t,n,e[n]);if(SE)for(var n of SE(e))d4e.call(e,n)&&J5(t,n,e[n]);return t},ir=(t,e)=>c4e(t,l4e(e)),ie=(t,e,n)=>J5(t,typeof e!="symbol"?e+"":e,n);let h4e=class extends E6e{constructor(e){super(e),ie(this,"name",X5e),ie(this,"events",new mw),ie(this,"initialized",!1),ie(this,"requestQueue",{state:Ss.idle,queue:[]}),ie(this,"sessionRequestQueue",{state:Ss.idle,queue:[]}),ie(this,"emittedSessionRequests",new Rfe({limit:500})),ie(this,"requestQueueDelay",ye.ONE_SECOND),ie(this,"expectedPairingMethodMap",new Map),ie(this,"recentlyDeletedMap",new Map),ie(this,"recentlyDeletedLimit",200),ie(this,"relayMessageCache",[]),ie(this,"pendingSessions",new Map),ie(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(zn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))}),ie(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ir(_t({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=B1e(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const _=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=_.active}}catch(_){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),_}if(!u||!h){const{topic:_,uri:I}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=_,d=I}if(!u){const{message:_}=ge("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(_)}const f=await this.client.core.crypto.generateKeyPair(),p=zn.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,m=sn(p),y=ir(_t(_t({requiredNamespaces:s,optionalNamespaces:a,relays:l??[{protocol:dN}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},o&&{sessionProperties:o}),c&&{scopedProperties:c}),{id:Rs()}),C=bt("session_connect",y.id),{reject:L,resolve:w,done:b}=Cc(p,LE),A=({id:_})=>{_===y.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(y.id),this.events.emit(C,{error:{message:LE,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(C,({error:_,session:I})=>{this.client.events.off("proposal_expire",A),_?L(_):I&&w(I)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:b}}),ie(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ie(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Zi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(D){throw a.setError(yc.no_internet_connection),D}try{await this.isValidProposalId(n?.id)}catch(D){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(yc.proposal_not_found),D}try{await this.isValidApprove(n)}catch(D){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(yc.session_approve_namespace_validation_failure),D}const{id:o,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:y,optionalNamespaces:C}=f;let L=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});L||(L=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Zi.session_approve_started,properties:{topic:p,trace:[Zi.session_approve_started,Zi.session_namespaces_validation_success]}}));const w=await this.client.core.crypto.generateKeyPair(),b=m.publicKey,A=await this.client.core.crypto.generateSharedKey(w,b),_=_t(_t(_t({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:sn(G2)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),I=Ut.relay;L.addTrace(Zi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:I,internal:{skipSubscribe:!0}})}catch(D){throw L.setError(yc.subscribe_session_topic_failure),D}L.addTrace(Zi.subscribe_session_topic_success);const M=ir(_t({},_),{topic:A,requiredNamespaces:y,optionalNamespaces:C,pairingTopic:p,acknowledged:!1,self:_.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:w,transportType:Ut.relay});await this.client.session.set(A,M),L.addTrace(Zi.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:w},sessionSettleRequest:_,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),L.addTrace(Zi.session_approve_publish_success)}catch(D){throw this.client.logger.error(D),this.client.session.delete(A,Bt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),D}return this.client.core.eventClient.deleteEvent({eventId:L.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(A,sn(G2)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),ie(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:zn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ie(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:o}=Cc(),c=Rs(),l=Fo().toString(),u=this.client.session.get(r).namespaces;return this.events.once(bt("session_update",c),({error:d})=>{d?o(d):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),o(d)}),{acknowledged:s}}),ie(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Rs(),{done:s,resolve:a,reject:o}=Cc();return this.events.once(bt("session_extend",i),({error:c})=>{c?o(c):a()}),await this.setExpiry(r,sn(G2)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:s}}),ie(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:a=zn.wc_sessionRequest.req.ttl}=n,o=this.client.session.get(s);o?.transportType===Ut.relay&&await this.confirmOnlineStateOrThrow();const c=Rs(),l=Fo().toString(),{done:u,resolve:d,reject:h}=Cc(a,"Request expired. Please try again.");this.events.once(bt("session_request",c),({error:y,result:C})=>{y?h(y):d(C)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:ir(_t({},i),{expiryTimestamp:sn(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:ir(_t({},i),{expiryTimestamp:sn(a)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(C=>h(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),y()}),new Promise(async y=>{var C;if(!((C=o.sessionConfig)!=null&&C.disableDeepLink)){const L=await Ife(this.client.core.storage,AE);await Afe({id:c,topic:s,wcDeepLink:L})}y()}),u()]).then(y=>y[2])}),ie(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Zi.session_request_response_started]}});try{await this.isValidRespond(n)}catch(d){throw s.addTrace(d?.message),s.setError(yc.session_request_response_validation_failure),d}s.addTrace(Zi.session_request_response_validation_success);const{topic:a,response:o}=n,{id:c}=o,l=this.client.session.get(a);l.transportType===Ut.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{s.addTrace(Zi.session_request_response_publish_started),$s(o)?await this.sendResult({id:c,topic:a,result:o.result,throwOnFailedPublish:!0,appLink:u}):Oi(o)&&await this.sendError({id:c,topic:a,error:o.error,appLink:u}),this.cleanupAfterResponse(n)}catch(d){throw s.addTrace(d?.message),s.setError(yc.session_request_response_publish_failure),d}}),ie(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Rs(),s=Fo().toString(),{done:a,resolve:o,reject:c}=Cc();this.events.once(bt("session_ping",i),({error:l})=>{l?c(l):o()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ie(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=Fo().toString(),o=Rs();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),ie(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Bt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=ge("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ie(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>W1e(r,n)))),ie(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ie(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?Ut.link_mode:Ut.relay;a===Ut.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:y}=n,C=[...n.resources||[]],{topic:L,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:L,uri:w}});const b=await this.client.core.crypto.generateKeyPair(),A=Hp(b);if(await Promise.all([this.client.auth.authKeys.set(Kp,{responseTopic:A,publicKey:b}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:L})]),await this.client.core.relayer.subscribe(A,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${L}`),m.length>0){const{namespace:$}=ja(o[0]);let j=Vpe($,"request",m);Vp(C)&&(j=qpe(j,C.pop())),C.push(j)}const _=y&&y>zn.wc_sessionAuthenticate.req.ttl?y:zn.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:h??"caip122",chains:o,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:C},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:sn(_)},M={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},D={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:L,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:sn(zn.wc_sessionPropose.req.ttl),id:Rs()},{done:B,resolve:W,reject:P}=Cc(_,"Request expired"),T=Rs(),U=bt("session_connect",D.id),v=bt("session_request",T),E=async({error:$,session:j})=>{this.events.off(v,O),$?P($):j&&W({session:j})},O=async $=>{var j,V,Z;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),$.error){const se=Bt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===se.code?void 0:(this.events.off(U,E),P($.error.message))}await this.deleteProposal(D.id),this.events.off(U,E);const{cacaos:X,responder:J}=$.result,ee=[],ue=[];for(const se of X){await oC({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),P(Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:q}=se,Ne=Vp(q.resources),je=[x5(q.iss)],ce=r1(q.iss);if(Ne){const Re=cC(Ne),pe=lC(Ne);ee.push(...Re),je.push(...pe)}for(const Re of je)ue.push(`${Re}:${ce}`)}const le=await this.client.core.crypto.generateSharedKey(b,J.publicKey);let Ee;ee.length>0&&(Ee={topic:le,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:sn(G2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:L,namespaces:MC([...new Set(ee)],[...new Set(ue)]),transportType:a},await this.client.core.relayer.subscribe(le,{transportType:a}),await this.client.session.set(le,Ee),L&&await this.client.core.pairing.updateMetadata({topic:L,metadata:J.metadata}),Ee=this.client.session.get(le)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(V=J.metadata.redirect)!=null&&V.linkMode&&(Z=J.metadata.redirect)!=null&&Z.universal&&r&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(le,{transportType:Ut.link_mode})),W({auths:X,session:Ee})};this.events.once(U,E),this.events.once(v,O);let k;try{if(s){const $=ts("wc_sessionAuthenticate",I,T);this.client.core.history.set(L,$);const j=await this.client.core.crypto.encode("",$,{type:wf,encoding:Ro});k=fp(r,L,j)}else await Promise.all([this.sendRequest({topic:L,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:L,method:"wc_sessionPropose",params:D,expiry:zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:D.id})])}catch($){throw this.events.off(U,E),this.events.off(v,O),$}return await this.setProposal(D.id,D),await this.setAuthRequest(T,{request:ir(_t({},I),{verifyContext:{}}),pairingTopic:L,transportType:a}),{uri:k??w,response:B}}),ie(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[wc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(Fu.no_internet_connection),y}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError(Fu.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const o=a.transportType||Ut.relay;o===Ut.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Hp(c),d={type:Ua,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await oC({cacao:y,projectId:this.client.core.projectId})){s.setError(Fu.invalid_cacao);const A=Bt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:A,encodeOpts:d}),new Error(A.message)}s.addTrace(wc.cacaos_verified);const{p:C}=y,L=Vp(C.resources),w=[x5(C.iss)],b=r1(C.iss);if(L){const A=cC(L),_=lC(L);h.push(...A),w.push(..._)}for(const A of w)f.push(`${A}:${b}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(wc.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:sn(G2),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:MC([...new Set(h)],[...new Set(f)]),transportType:o},s.addTrace(wc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:o})}catch(y){throw s.setError(Fu.subscribe_authenticated_session_topic_failure),y}s.addTrace(wc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(wc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(wc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(y){throw s.setError(Fu.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),ie(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ut.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=Hp(a),l={type:Ua,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ie(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return gM(r,i)}),ie(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ie(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ie(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Bt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(AE).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Bt("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ss.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})}),ie(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(yc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Bt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ie(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Ss.idle,this.client.events.emit("session_request_expire",{id:n}))}),ie(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ie(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ie(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,sn(zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ie(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=Ut.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),ie(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,o=s.request.expiryTimestamp||sn(zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,o),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),ie(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,f=ts(i,s,c);let p;const m=!!u;try{const L=m?Ro:Ur;p=await this.client.core.crypto.encode(r,f,{encoding:L})}catch(L){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),L}let y;if(t4e.includes(i)){const L=Pi(JSON.stringify(f)),w=Pi(p);y=await this.client.core.verify.register({id:w,decryptedId:L})}const C=_t(_t({},zn[i].req),h);if(C.attestation=y,a&&(C.ttl=a),o&&(C.id=o),this.client.core.history.set(r,f),m){const L=fp(u,r,p);await globalThis.Linking.openURL(L,this.client.name)}else C.tvf=ir(_t({},d),{correlationId:f.id}),l?(C.internal=ir(_t({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,C)):this.client.core.relayer.publish(r,p,C).catch(L=>this.client.logger.error(L));return f.id}),ie(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=ts("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Ur}),o=Pi(JSON.stringify(s)),c=Pi(a),l=await this.client.core.verify.register({id:c,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:ir(_t({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),ie(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:o}=n,c=Eh(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Ur}),u=ts("wc_sessionSettle",a,o?.id),d=await this.client.core.crypto.encode(r,u,{encoding:Ur});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:ir(_t({},o),{publishMethod:"wc_approveSession"})})}),ie(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=n,l=Eh(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const p=d?Ro:Ur;u=await this.client.core.crypto.encode(i,l,ir(_t({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,r);const p=h.request;try{f=this.getTVFParams(r,p.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),p}if(d){const p=fp(c,i,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=zn[p].res;m.tvf=ir(_t({},f),{correlationId:r}),a?(m.internal=ir(_t({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ie(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:c}=n,l=M3(r,s);let u;const d=c&&typeof globalThis?.Linking<"u";try{const f=d?Ro:Ur;u=await this.client.core.crypto.encode(i,l,ir(_t({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=fp(c,i,u);await globalThis.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=o||zn[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),ie(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ms(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ms(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ie(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ie(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ie(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ss.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ss.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ss.idle}),ie(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:o}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ie(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),ie(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=ge("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ie(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ie(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:o,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(ga.proposal_listener_not_found)),this.isValidConnect(_t({},i.params));const u=o.expiryTimestamp||sn(zn.wc_sessionPropose.req.ttl),d=_t({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:a},o);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Pi(JSON.stringify(i)),encryptedId:a,metadata:d.proposer.metadata});l?.addTrace(Ps.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:zn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ie(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if($s(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Oi(r)){await this.deleteProposal(s);const a=bt("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),ie(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:o,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=ir(_t(_t(_t({topic:n,relay:a,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:o.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Ut.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(bt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ie(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;$s(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(bt("session_approve",i),{})):Oi(r)&&(await this.client.session.delete(n,Bt("USER_DISCONNECTED")),this.events.emit(bt("session_approve",i),{error:r.error}))}),ie(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,o=Uu.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Bt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(_t({topic:n},i));try{Uu.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw Uu.delete(a),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ie(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ie(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=bt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$s(r)?this.events.emit(bt("session_update",i),{}):Oi(r)&&this.events.emit(bt("session_update",i),{error:r.error})}),ie(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,sn(G2)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ie(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=bt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$s(r)?this.events.emit(bt("session_extend",i),{}):Oi(r)&&this.events.emit(bt("session_extend",i),{error:r.error})}),ie(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ie(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=bt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);$s(r)?this.events.emit(bt("session_ping",i),{}):Oi(r)&&this.events.emit(bt("session_ping",i),{error:r.error})},500)}),ie(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Xt.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Bt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ie(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:o,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=o;try{await this.isValidRequest(_t({topic:a},h));const f=this.client.session.get(a),p=await this.getVerifyContext({attestationId:c,hash:Pi(JSON.stringify(ts("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:a,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===Ut.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:a,error:f}),this.client.logger.error(f)}}),ie(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=bt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$s(r)?this.events.emit(bt("session_request",i),{result:r.result}):Oi(r)&&this.events.emit(bt("session_request",i),{error:r.error})}),ie(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,o=Uu.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(_t({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Uu.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ie(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),$s(r)?this.events.emit(bt("session_request",i),{result:r.result}):Oi(r)&&this.events.emit(bt("session_request",i),{error:r.error})}),ie(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:o,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:a,hash:Pi(JSON.stringify(s)),encryptedId:o,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===Ut.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Ua,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:zn.wc_sessionAuthenticate.autoReject,appLink:h})}}),ie(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ie(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ss.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))}),ie(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,o=bt("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(bt("session_request",s.request.id),{error:r})})}),ie(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ss.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ie(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Ss.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ie(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ts("wc_sessionPropose",ir(_t({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ie(this,"isValidConnect",async n=>{if(!Mr(n)){const{message:l}=ge("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:o,relays:c}=n;if(vn(r)||await this.isValidPairingTopic(r),!t3e(c)){const{message:l}=ge("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(i&&!vn(i)&&Vs(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!vn(s)&&Vs(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),a&&!vn(a)&&this.validateSessionProps(a,"sessionProperties"),o&&!vn(o)){this.validateSessionProps(o,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(o).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ie(this,"validateNamespaces",(n,r)=>{const i=e3e(n,"connect()",r);if(i)throw new Error(i.message)}),ie(this,"isValidApprove",async n=>{if(!Mr(n))throw new Error(ge("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:o}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Um(i,"approve()");if(l)throw new Error(l.message);const u=jC(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!ln(s,!0)){const{message:d}=ge("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(a&&!vn(a)&&this.validateSessionProps(a,"sessionProperties"),o&&!vn(o)){this.validateSessionProps(o,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(o).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ie(this,"isValidReject",async n=>{if(!Mr(n)){const{message:s}=ge("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!r3e(i)){const{message:s}=ge("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ie(this,"isValidSessionSettleRequest",n=>{if(!Mr(n)){const{message:l}=ge("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!QM(r)){const{message:l}=ge("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const o=G1e(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const c=Um(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ms(a)){const{message:l}=ge("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ie(this,"isValidUpdate",async n=>{if(!Mr(n)){const{message:c}=ge("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=Um(i,"update()");if(a)throw new Error(a.message);const o=jC(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),ie(this,"isValidExtend",async n=>{if(!Mr(n)){const{message:i}=ge("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ie(this,"isValidRequest",async n=>{if(!Mr(n)){const{message:c}=ge("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!DC(o,s)){const{message:c}=ge("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!i3e(i)){const{message:c}=ge("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!o3e(o,s,i.method)){const{message:c}=ge("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(a&&!d3e(a,Zm)){const{message:c}=ge("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${Zm.min} and ${Zm.max}`);throw new Error(c)}}),ie(this,"isValidRespond",async n=>{var r;if(!Mr(n)){const{message:o}=ge("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!s3e(s)){const{message:o}=ge("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}const a=this.client.pendingRequest.get(s.id);if(a.topic!==i){const{message:o}=ge("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${a.topic}, received topic: ${i}`);throw new Error(o)}}),ie(this,"isValidPing",async n=>{if(!Mr(n)){const{message:i}=ge("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ie(this,"isValidEmit",async n=>{if(!Mr(n)){const{message:o}=ge("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(o)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!DC(a,s)){const{message:o}=ge("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!a3e(i)){const{message:o}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!c3e(a,s,i.name)){const{message:o}=ge("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),ie(this,"isValidDisconnect",async n=>{if(!Mr(n)){const{message:i}=ge("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ie(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!ln(i,!1))throw new Error("uri is required parameter");if(!ln(s,!1))throw new Error("domain is required parameter");if(!ln(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>ja(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=ja(r[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ie(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:o}=n,c={verified:{verifyUrl:a.verifyUrl||Id,validation:"UNKNOWN",origin:a.url||""}};try{if(o===Ut.link_mode){const u=this.getAppLinkIfEnabled(a,o);return c.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ie(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=ge("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),ie(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ie(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),ie(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=ge("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ie(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,o,c,l,u,d,h;return!n||r!==Ut.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n?.redirect)==null?void 0:u.universal)!==void 0&&((d=n?.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof globalThis?.Linking<"u"}),ie(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),ie(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=K_(n,"topic")||"",i=decodeURIComponent(K_(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ut.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ie(this,"registerLinkModeListeners",async()=>{var n;if(Bw()||sc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis?.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ie(this,"getTVFParams",(n,r,i)=>{var s,a,o;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(o=(a=r.request.params)==null?void 0:a[0])==null?void 0:o.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),ie(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ie(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=Q5e[s];if(s==="sui_signTransaction")return[Spe(r.transactionBytes)];if(s==="near_signTransaction")return[rC(r)];if(s==="near_signTransactions")return r.map(c=>rC(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[L3e({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Mi(r)?r.map(c=>iC(c)):[iC(r)];if(s==="cosmos_signDirect")return[Tpe(r)];if(s==="wallet_sendCalls")return kpe(r);if(typeof r=="string")return[r];const o=r[a.key];if(Mi(o))return s==="solana_signAllTransactions"?o.map(c=>Lpe(c)):o;if(typeof o=="string")return[o]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=ge("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Xt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Kp)?this.client.auth.authKeys.get(Kp):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===Ut.link_mode?Ro:Ur});eb(o)?(this.client.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o,attestation:i,transportType:s,encryptedId:Pi(r)})):N3(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o,transportType:s}),this.client.core.history.delete(n,o.id)):await this.onRelayEventUnknownPayload({topic:n,payload:o,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(Si.expired,async e=>{const{topic:n,id:r}=eM(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ge("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ge("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Pc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Pc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ln(e,!1)){const{message:n}=ge("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ms(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ge("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!ln(e,!1)){const{message:n}=ge("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ms(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ge("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ge("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ln(e,!1)){const{message:n}=ge("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ge("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!n3e(e)){const{message:n}=ge("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ge("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ms(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ge("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},f4e=class extends k2{constructor(e,n){super(e,n,Y5e,nb),this.core=e,this.logger=n}},p4e=class extends k2{constructor(e,n){super(e,n,J5e,nb),this.core=e,this.logger=n}};class m4e extends k2{constructor(e,n){super(e,n,e4e,nb,r=>r.id),this.core=e,this.logger=n}}class g4e extends k2{constructor(e,n){super(e,n,i4e,j3,()=>Kp),this.core=e,this.logger=n}}let y4e=class extends k2{constructor(e,n){super(e,n,s4e,j3),this.core=e,this.logger=n}},w4e=class extends k2{constructor(e,n){super(e,n,a4e,j3,r=>r.id),this.core=e,this.logger=n}};var b4e=Object.defineProperty,v4e=(t,e,n)=>e in t?b4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gm=(t,e,n)=>v4e(t,typeof e!="symbol"?e+"":e,n);let _4e=class{constructor(e,n){this.core=e,this.logger=n,Gm(this,"authKeys"),Gm(this,"pairingTopics"),Gm(this,"requests"),this.authKeys=new g4e(this.core,this.logger),this.pairingTopics=new y4e(this.core,this.logger),this.requests=new w4e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var C4e=Object.defineProperty,E4e=(t,e,n)=>e in t?C4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ot=(t,e,n)=>E4e(t,typeof e!="symbol"?e+"":e,n);let x4e=class TN extends C6e{constructor(e){super(e),ot(this,"protocol",LN),ot(this,"version",SN),ot(this,"name",qm.name),ot(this,"metadata"),ot(this,"core"),ot(this,"logger"),ot(this,"events",new gi.EventEmitter),ot(this,"engine"),ot(this,"session"),ot(this,"proposal"),ot(this,"pendingRequest"),ot(this,"auth"),ot(this,"signConfig"),ot(this,"on",(r,i)=>this.events.on(r,i)),ot(this,"once",(r,i)=>this.events.once(r,i)),ot(this,"off",(r,i)=>this.events.off(r,i)),ot(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),ot(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),ot(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),ot(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),ot(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),ot(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||qm.name,this.metadata=bfe(e?.metadata),this.signConfig=e?.signConfig;const n=Xw({logger:e?.logger||qm.logger,name:this.name});this.logger=n,this.core=e?.core||new K5e(e),this.session=new p4e(this.core,this.logger),this.proposal=new f4e(this.core,this.logger),this.pendingRequest=new m4e(this.core,this.logger),this.engine=new h4e(this),this.auth=new _4e(this.core,this.logger)}static async init(e){const n=new TN(e);return await n.initialize(),n}get context(){return Jr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const A4e=x4e;var X5={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof s<"u"&&s||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function f(v){return typeof v!="string"&&(v=String(v)),v}function p(v){var E={next:function(){var O=v.shift();return{done:O===void 0,value:O}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function m(v){this.map={},v instanceof m?v.forEach(function(E,O){this.append(O,E)},this):Array.isArray(v)?v.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(E){this.append(E,v[E])},this)}m.prototype.append=function(v,E){v=h(v),E=f(E);var O=this.map[v];this.map[v]=O?O+", "+E:E},m.prototype.delete=function(v){delete this.map[h(v)]},m.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},m.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},m.prototype.set=function(v,E){this.map[h(v)]=f(E)},m.prototype.forEach=function(v,E){for(var O in this.map)this.map.hasOwnProperty(O)&&v.call(E,this.map[O],O,this)},m.prototype.keys=function(){var v=[];return this.forEach(function(E,O){v.push(O)}),p(v)},m.prototype.values=function(){var v=[];return this.forEach(function(E){v.push(E)}),p(v)},m.prototype.entries=function(){var v=[];return this.forEach(function(E,O){v.push([O,E])}),p(v)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function C(v){return new Promise(function(E,O){v.onload=function(){E(v.result)},v.onerror=function(){O(v.error)}})}function L(v){var E=new FileReader,O=C(E);return E.readAsArrayBuffer(v),O}function w(v){var E=new FileReader,O=C(E),k=/charset=([A-Za-z0-9_-]+)/.exec(v.type),$=k?k[1]:"utf-8";return E.readAsText(v,$),O}function b(v){for(var E=new Uint8Array(v),O=new Array(E.length),k=0;k<E.length;k++)O[k]=String.fromCharCode(E[k]);return O.join("")}function A(v){if(v.slice)return v.slice(0);var E=new Uint8Array(v.byteLength);return E.set(new Uint8Array(v)),E.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&l(v)?(this._bodyArrayBuffer=A(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||d(v))?this._bodyArrayBuffer=A(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=y(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(L);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=y(this);if(v)return v;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(v){var E=v.toUpperCase();return I.indexOf(E)>-1?E:v}function D(v,E){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var O=E.body;if(v instanceof D){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,E.headers||(this.headers=new m(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!O&&v._bodyInit!=null&&(O=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new m(E.headers)),this.method=M(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in o){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function B(v){var E=new FormData;return v.trim().split("&").forEach(function(O){if(O){var k=O.split("="),$=k.shift().replace(/\+/g," "),j=k.join("=").replace(/\+/g," ");E.append(decodeURIComponent($),decodeURIComponent(j))}}),E}function W(v){var E=new m,O=v.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var $=k.split(":"),j=$.shift().trim();if(j){var V=$.join(":").trim();try{E.append(j,V)}catch(Z){console.warn("Response "+Z.message)}}}),E}_.call(D.prototype);function P(v,E){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new m(E.headers),this.url=E.url||"",this._initBody(v)}_.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var v=new P(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var T=[301,302,303,307,308];P.redirect=function(v,E){if(T.indexOf(E)===-1)throw new RangeError("Invalid status code");return new P(null,{status:E,headers:{location:v}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(E,O){this.message=E,this.name=O;var k=Error(E);this.stack=k.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function U(v,E){return new Promise(function(O,k){var $=new D(v,E);if($.signal&&$.signal.aborted)return k(new a.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function V(){j.abort()}j.onload=function(){var J={statusText:j.statusText,headers:W(j.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(j.status<200||j.status>599)?J.status=200:J.status=j.status,J.url="responseURL"in j?j.responseURL:J.headers.get("X-Request-URL");var ee="response"in j?j.response:j.responseText;setTimeout(function(){O(new P(ee,J))},0)},j.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){k(new a.DOMException("Aborted","AbortError"))},0)};function Z(J){try{return J===""&&o.location.href?o.location.href:J}catch{return J}}if(j.open($.method,Z($.url),!0),$.credentials==="include"?j.withCredentials=!0:$.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof m||o.Headers&&E.headers instanceof o.Headers)){var X=[];Object.getOwnPropertyNames(E.headers).forEach(function(J){X.push(h(J)),j.setRequestHeader(J,f(E.headers[J]))}),$.headers.forEach(function(J,ee){X.indexOf(ee)===-1&&j.setRequestHeader(ee,J)})}else $.headers.forEach(function(J,ee){j.setRequestHeader(ee,J)});$.signal&&($.signal.addEventListener("abort",V),j.onreadystatechange=function(){j.readyState===4&&$.signal.removeEventListener("abort",V)}),j.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return U.polyfill=!0,o.fetch||(o.fetch=U,o.Headers=m,o.Request=D,o.Response=P),a.Headers=m,a.Request=D,a.Response=P,a.fetch=U,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(X5,X5.exports);var L4e=X5.exports;const IE=y2(L4e);var S4e=Object.defineProperty,I4e=Object.defineProperties,T4e=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,k4e=Object.prototype.hasOwnProperty,P4e=Object.prototype.propertyIsEnumerable,kE=(t,e,n)=>e in t?S4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PE=(t,e)=>{for(var n in e||(e={}))k4e.call(e,n)&&kE(t,n,e[n]);if(TE)for(var n of TE(e))P4e.call(e,n)&&kE(t,n,e[n]);return t},OE=(t,e)=>I4e(t,T4e(e));const O4e={Accept:"application/json","Content-Type":"application/json"},R4e="POST",RE={headers:O4e,method:R4e},$E=10;let kN=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new gi.EventEmitter,this.isAvailable=!1,this.registering=!1,!JC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Ha(e),r=await(await IE(this.url,OE(PE({},RE),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!JC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Ha({id:1,jsonrpc:"2.0",method:"test",params:[]});await IE(e,OE(PE({},RE),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?d2(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=M3(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iN(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$E&&this.events.setMaxListeners($E)}};function rb(t){return t==null||typeof t!="object"&&typeof t!="function"}function PN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function ON(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $4e="[object RegExp]",RN="[object String]",$N="[object Number]",MN="[object Boolean]",NN="[object Arguments]",M4e="[object Symbol]",N4e="[object Date]",D4e="[object Map]",j4e="[object Set]",U4e="[object Array]",B4e="[object ArrayBuffer]",F4e="[object Object]",z4e="[object DataView]",W4e="[object Uint8Array]",V4e="[object Uint8ClampedArray]",H4e="[object Uint16Array]",q4e="[object Uint32Array]",Z4e="[object Int8Array]",G4e="[object Int16Array]",K4e="[object Int32Array]",Y4e="[object Float32Array]",J4e="[object Float64Array]";function ib(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function X4e(t,e){return fl(t,void 0,t,new Map,e)}function fl(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(rb(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=fl(t[o],o,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[o,c]of t)a.set(o,fl(c,o,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const o of t)a.add(fl(o,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(ib(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=fl(t[o],o,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Oc(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Oc(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Oc(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Oc(a,t,n,r,i),a}if(typeof t=="object"&&Q4e(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Oc(a,t,n,r,i),a}return t}function Oc(t,e,n=t,r,i){const s=[...Object.keys(e),...PN(e)];for(let a=0;a<s.length;a++){const o=s[a],c=Object.getOwnPropertyDescriptor(t,o);(c==null||c.writable)&&(t[o]=fl(e[o],o,n,r,i))}}function Q4e(t){switch(ON(t)){case NN:case U4e:case B4e:case z4e:case MN:case N4e:case Y4e:case J4e:case Z4e:case G4e:case K4e:case D4e:case $N:case F4e:case $4e:case j4e:case RN:case M4e:case W4e:case V4e:case H4e:case q4e:return!0;default:return!1}}function e8e(t,e){return X4e(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case $N:case RN:case MN:{const a=new t.constructor(t?.valueOf());return Oc(a,t),a}case NN:{const a={};return Oc(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function ME(t){return e8e(t)}function NE(t){return t!==null&&typeof t=="object"&&ON(t)==="[object Arguments]"}function DE(t){return typeof t=="object"&&t!==null}function t8e(){}function n8e(t){return ib(t)}function r8e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function i8e(t){if(rb(t))return t;if(Array.isArray(t)||ib(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function s8e(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=Q5(i,a,r,new Map)}return i}function Q5(t,e,n,r){if(rb(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return i8e(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...PN(e)];for(let s=0;s<i.length;s++){const a=i[s];let o=e[a],c=t[a];if(NE(o)&&(o={...o}),NE(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(o)&&(o=ME(o)),Array.isArray(o))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,o,a,t,e,r);l!=null?t[a]=l:Array.isArray(o)||DE(c)&&DE(o)?t[a]=Q5(c,o,n,r):c==null&&r8e(o)?t[a]=Q5({},o,n,r):c==null&&n8e(o)?t[a]=ME(o):(c===void 0||o!==void 0)&&(t[a]=o)}return t}function a8e(t,...e){return s8e(t,...e,t8e)}const jE="error",o8e="wss://relay.walletconnect.org",c8e="wc",DN="universal_provider",mp=`${c8e}@2:${DN}:`,jN="https://rpc.walletconnect.org/v1/",UN="generic",l8e=`${jN}bundler`,Tl="call_status",u8e=86400,sb={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var d8e=Object.defineProperty,h8e=Object.defineProperties,f8e=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,p8e=Object.prototype.hasOwnProperty,m8e=Object.prototype.propertyIsEnumerable,BE=(t,e,n)=>e in t?d8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gp=(t,e)=>{for(var n in e||(e={}))p8e.call(e,n)&&BE(t,n,e[n]);if(UE)for(var n of UE(e))m8e.call(e,n)&&BE(t,n,e[n]);return t},g8e=(t,e)=>h8e(t,f8e(e));function BN(t,e,n){var r;const i=ja(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${jN}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function y8e(t){return t.includes(":")?t.split(":")[1]:t}function FN(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function w8e(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function FE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function yp(t={},e={}){const n=FE(zE(t)),r=FE(zE(e));return a8e(n,r)}function zE(t){var e,n,r,i,s;const a={};if(!Vs(t))return a;for(const[o,c]of Object.entries(t)){const l=$3(o)?[o]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=hl(o);a[f]=g8e(gp(gp({},a[f]),c),{chains:Ws(l,(e=a[f])==null?void 0:e.chains),methods:Ws(u,(n=a[f])==null?void 0:n.methods),events:Ws(d,(r=a[f])==null?void 0:r.events)}),(Vs(h)||Vs(((i=a[f])==null?void 0:i.rpcMap)||{}))&&(a[f].rpcMap=gp(gp({},h),(s=a[f])==null?void 0:s.rpcMap))}return a}function WE(t){return t.includes(":")?t.split(":")[2]:t}function VE(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],o=$3(n)?[n]:r.chains?r.chains:FN(r.accounts);e[n]={chains:o,methods:i,events:s,accounts:a}}return e}function Km(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function b8e(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const zN={},kl=t=>zN[t],Ym=(t,e)=>{zN[t]=e};var v8e=Object.defineProperty,HE=Object.getOwnPropertySymbols,_8e=Object.prototype.hasOwnProperty,C8e=Object.prototype.propertyIsEnumerable,qE=(t,e,n)=>e in t?v8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZE=(t,e)=>{for(var n in e||(e={}))_8e.call(e,n)&&qE(t,n,e[n]);if(HE)for(var n of HE(e))C8e.call(e,n)&&qE(t,n,e[n]);return t};const GE="eip155",E8e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],x8e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Jm=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,KE=t=>Object.keys(t).filter(e=>E8e.includes(e)).reduce((e,n)=>(e[n]=A8e(t[n]),e),{}),A8e=t=>typeof t=="string"&&b8e(t)?JSON.parse(t):t,L8e=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Vs(i)&&!Vs(r))return;const a=KE(r);for(const o of n){const c=x8e(o);if(!c)continue;s[Jm(c)]=a;const l=i?.[`${GE}:${c}`];if(l){const u=l?.[`${GE}:${c}:${e}`];s[Jm(c)]=ZE(ZE({},s[Jm(c)]),KE(u||l))}}for(const[o,c]of Object.entries(s))Object.keys(c).length===0&&delete s[o];return Object.keys(s).length>0?s:void 0};var S8e=Object.defineProperty,I8e=(t,e,n)=>e in t?S8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T8e=(t,e,n)=>I8e(t,e+"",n);let Xm,k8e=class WN{constructor(e){T8e(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return Xm||(Xm=new WN(e)),Xm}};var P8e=Object.defineProperty,O8e=Object.defineProperties,R8e=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,$8e=Object.prototype.hasOwnProperty,M8e=Object.prototype.propertyIsEnumerable,JE=(t,e,n)=>e in t?P8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N8e=(t,e)=>{for(var n in e||(e={}))$8e.call(e,n)&&JE(t,n,e[n]);if(YE)for(var n of YE(e))M8e.call(e,n)&&JE(t,n,e[n]);return t},D8e=(t,e)=>O8e(t,R8e(e));async function j8e(t,e){const n=ja(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(d=>U8e(n.reference,d,e))),s=i.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);i.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const a=!s.length||s.some(d=>!d),o=s.every(d=>d?.status==="0x1"),c=s.every(d=>d?.status==="0x0"),l=s.some(d=>d?.status==="0x0");let u;return a?u=100:o?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:u}}async function U8e(t,e,n){return await n(parseInt(t)).request(ts("eth_getTransactionReceipt",[e]))}async function B8e({sendCalls:t,storage:e}){const n=await e.getItem(Tl);await e.setItem(Tl,D8e(N8e({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:sn(u8e)}}))}async function F8e({resultId:t,storage:e}){const n=await e.getItem(Tl);if(n){delete n[t],await e.setItem(Tl,n);for(const r in n)Ms(n[r].expiry)&&delete n[r];await e.setItem(Tl,n)}}async function z8e({resultId:t,storage:e}){const n=await e.getItem(Tl),r=n?.[t];if(r&&!Ms(r.expiry))return r;await F8e({resultId:t,storage:e})}var W8e=Object.defineProperty,V8e=Object.defineProperties,H8e=Object.getOwnPropertyDescriptors,XE=Object.getOwnPropertySymbols,q8e=Object.prototype.hasOwnProperty,Z8e=Object.prototype.propertyIsEnumerable,e4=(t,e,n)=>e in t?W8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qm=(t,e)=>{for(var n in e||(e={}))q8e.call(e,n)&&e4(t,n,e[n]);if(XE)for(var n of XE(e))Z8e.call(e,n)&&e4(t,n,e[n]);return t},eg=(t,e)=>V8e(t,H8e(e)),bc=(t,e,n)=>e4(t,typeof e!="symbol"?e+"":e,n);class G8e{constructor(e){bc(this,"name","eip155"),bc(this,"client"),bc(this,"chainId"),bc(this,"namespace"),bc(this,"httpProviders"),bc(this,"events"),bc(this,"storage"),this.namespace=e.namespace,this.events=kl("events"),this.client=kl("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=k8e.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(sb.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||BN(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new tb(new kN(r,kl("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(y8e(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=eg(Qm({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const o=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((a=l?.sessionProperties)==null?void 0:a.capabilities)||{},d=`${o}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=L8e(l,o,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:eg(Qm({},l.sessionProperties||{}),{capabilities:eg(Qm({},u||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const l=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,o)}const c=await z8e({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await j8e(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ts("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${l8e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),a=(n=e.request.params)==null?void 0:n[0],o=s?.id,c=s?.capabilities||{},l=(r=c?.caip345)==null?void 0:r.caip2,u=(i=c?.caip345)==null?void 0:i.transactionHashes;return!o||!l||!(u!=null&&u.length)||await B8e({sendCalls:{request:a,result:s},storage:this.storage}),s}}var K8e=Object.defineProperty,Y8e=(t,e,n)=>e in t?K8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K2=(t,e,n)=>Y8e(t,typeof e!="symbol"?e+"":e,n);class J8e{constructor(e){K2(this,"name",UN),K2(this,"client"),K2(this,"httpProviders"),K2(this,"events"),K2(this,"namespace"),K2(this,"chainId"),this.namespace=e.namespace,this.events=kl("events"),this.client=kl("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(sb.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return ja(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,a;const o=ja(i),c=(a=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:a[`${o.namespace}:${o.reference}`];r[o.reference]=this.createHttpProvider(i,c)}),r}getHttpProvider(e){const n=ja(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||BN(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new tb(new kN(r,kl("disableProviderPing")))}}var X8e=Object.defineProperty,Q8e=Object.defineProperties,ewe=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,twe=Object.prototype.hasOwnProperty,nwe=Object.prototype.propertyIsEnumerable,t4=(t,e,n)=>e in t?X8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e)=>{for(var n in e||(e={}))twe.call(e,n)&&t4(t,n,e[n]);if(QE)for(var n of QE(e))nwe.call(e,n)&&t4(t,n,e[n]);return t},wp=(t,e)=>Q8e(t,ewe(e)),Ai=(t,e,n)=>t4(t,typeof e!="symbol"?e+"":e,n);class ab{constructor(e){Ai(this,"client"),Ai(this,"namespaces"),Ai(this,"optionalNamespaces"),Ai(this,"sessionProperties"),Ai(this,"scopedProperties"),Ai(this,"events",new mw),Ai(this,"rpcProviders",{}),Ai(this,"session"),Ai(this,"providerOpts"),Ai(this,"logger"),Ai(this,"uri"),Ai(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=Xw({logger:(n=e.logger)!=null?n:jE,name:(r=this.providerOpts.name)!=null?r:DN}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new ab(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Vu({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,Eh(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Bt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=VE(this.session.namespaces);this.namespaces=yp(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=VE(i.namespaces);return this.namespaces=yp(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Mi(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await A4e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||jE,relayUrl:this.providerOpts.relayUrl||o8e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hl(n)))];Ym("client",this.client),Ym("events",this.events),Ym("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=w8e(n,this.session);if(r?.length===0)return;const i=FN(r),s=yp(this.namespaces,this.optionalNamespaces),a=wp(Vu({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new G8e({namespace:a});break;default:this.rpcProviders[n]=new J8e({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&Mi(a)&&this.events.emit("accountsChanged",a.map(WE))}else if(s.name==="chainChanged"){const a=r.chainId,o=r.event.data,c=hl(a),l=Km(a)!==Km(o)?`${c}:${Km(o)}`:a;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=wp(Vu({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",wp(Vu({},Bt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(sb.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(wp(Vu({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[UN]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=yp(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>hl(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=hl(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const o=a.filter(c=>c.includes(`${n}:`)).map(WE);if(!Mi(o))return;this.events.emit("accountsChanged",o)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${mp}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${mp}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${mp}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(mp)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const rwe=ab,iwe="wc",swe="ethereum_provider",awe=`${iwe}@2:${swe}:`,owe="https://rpc.walletconnect.org/v1/",n4=["eth_sendTransaction","personal_sign"],VN=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],r4=["chainChanged","accountsChanged"],HN=["chainChanged","accountsChanged","message","disconnect","connect"],cwe=async()=>{const{createAppKit:t}=await we(()=>import("./launchpad-core-DjWw8DfU.js").then(e=>e.ai),__vite__mapDeps([2,1]));return t};var lwe=Object.defineProperty,uwe=Object.defineProperties,dwe=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,hwe=Object.prototype.hasOwnProperty,fwe=Object.prototype.propertyIsEnumerable,i4=(t,e,n)=>e in t?lwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ec=(t,e)=>{for(var n in e||(e={}))hwe.call(e,n)&&i4(t,n,e[n]);if(ex)for(var n of ex(e))fwe.call(e,n)&&i4(t,n,e[n]);return t},Hu=(t,e)=>uwe(t,dwe(e)),ti=(t,e,n)=>i4(t,typeof e!="symbol"?e+"":e,n);function l1(t){return Number(t[0].split(":")[1])}function bp(t){return`0x${t.toString(16)}`}function pwe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=t;if(!Mi(e))throw new Error("Invalid chains");const c={chains:e,methods:r||n4,events:s||r4,rpcMap:Ec({},e.length?{[l1(e)]:o[l1(e)]}:{})},l=s?.filter(f=>!r4.includes(f)),u=r?.filter(f=>!n4.includes(f));if(!n&&!a&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=l?.length&&u?.length||!n,h={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:VN))],events:[...new Set(c.events.concat(a!=null&&a.length?a:HN))],rpcMap:o};return{required:e.length?c:void 0,optional:n.length?h:void 0}}class ob{constructor(){ti(this,"events",new gi.EventEmitter),ti(this,"namespace","eip155"),ti(this,"accounts",[]),ti(this,"signer"),ti(this,"chainId",1),ti(this,"modal"),ti(this,"rpc"),ti(this,"STORAGE_KEY",awe),ti(this,"on",(e,n)=>(this.events.on(e,n),this)),ti(this,"once",(e,n)=>(this.events.once(e,n),this)),ti(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),ti(this,"off",(e,n)=>(this.events.off(e,n),this)),ti(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new ob;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=pwe(this.rpc);try{const s=await new Promise(async(o,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Hu(Ec({namespaces:Ec({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:d})).then(h=>{o(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const a=V_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:bp(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(a,o)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Hu(Ec({},e),{chains:this.rpc.chains}),n).then(u=>{a(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),o(new Error(u.message))})}),s=i.session;if(s){const a=V_(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:bp(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",bp(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Hu(Ec({},Bt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",bp(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?e?.methods||n4:[],c=i.length?e?.events||r4:[],l=e?.optionalMethods||[],u=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(a,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:o,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?l1(this.rpc.chains):l1(this.rpc.optionalChains),this.signer=await rwe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await cwe(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return Awe}),a=s(Hu(Ec({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect·");r=i(Hu(Ec({},a),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Mi(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&Mi(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${owe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const mwe=ob;var gwe=Object.defineProperty,ywe=Object.defineProperties,wwe=Object.getOwnPropertyDescriptors,tx=Object.getOwnPropertySymbols,bwe=Object.prototype.hasOwnProperty,vwe=Object.prototype.propertyIsEnumerable,nx=(t,e,n)=>e in t?gwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qN=(t,e)=>{for(var n in e||(e={}))bwe.call(e,n)&&nx(t,n,e[n]);if(tx)for(var n of tx(e))vwe.call(e,n)&&nx(t,n,e[n]);return t},_we=(t,e)=>ywe(t,wwe(e));function Cwe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Ewe=t=>{const[e,n]=t.split(":");return ZN({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function xwe(t){var e,n,r,i,s,a,o;const c=(e=t.chains)==null?void 0:e.map(Ewe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:Cwe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:_we(qN({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(o=t.desktopWallets)!=null&&o.length){const d=[...(t.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(t.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(p=>!h.includes(p.id));f.length&&(u.customWallets=f)}return u}function ZN(t){return qN({formatters:void 0,fees:void 0,serializers:void 0},t)}var Awe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:xwe,defineChain:ZN});const Lwe=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,o]of Object.entries(n))o!==void 0&&i.searchParams.set(a,o);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[o,c]of s)c!==void 0&&a.append(o,c);i.hash=a.toString()}return i.href},GN=R.createContext({plugins:{current:{}}}),Swe=({children:t,configPlugins:e})=>{let n=R.useRef({});return R.useEffect(()=>{if(e&&e.length!==0){for(let r of e)n.current[r.id]=r;return()=>{for(let r of e)delete n.current[r.id]}}},[e]),g.jsx(GN.Provider,{value:{plugins:n},children:t})},KN=()=>{let{plugins:t}=R.useContext(GN);return R.useCallback(e=>t.current[e],[t])},rx=Symbol("data-suffix-plugin");var Iwe=Object.defineProperty,cb=(t,e)=>{for(var n in e)Iwe(t,n,{get:e[n],enumerable:!0})},Twe={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},kwe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const lb=50000n,ix=Gz*32n,YN={block:xL({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=YN.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?vt(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?vt(t.l1BatchTimestamp):null,transactions:e}}}),transaction:EL({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?vt(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?vt(t.l1BatchTxIndex):null}}}),transactionReceipt:oS({format(t){return{l1BatchNumber:t.l1BatchNumber?vt(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?vt(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...ls(e),l1BatchNumber:e.l1BatchNumber?vt(e.l1BatchNumber):null,transactionLogIndex:hi(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:vt(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?vt(e.l1BatchNumber):null,transactionIndex:vt(e.transactionIndex),shardId:vt(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:vt(e.logIndex)}))}}}),transactionRequest:Hz({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Ze(t.gasPerPubdata)}:{gasPerPubdata:Ze(lb)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(_r(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(_r(e)))}:{},...t.customSignature?{customSignature:Array.from(_r(t.customSignature))}:{}},type:"0x71"}:{}}})};class JN extends te{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function _f(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function XN(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!_f(t))throw new JN;if(!e||e<=0)throw new Hh({chainId:e});if(n&&!Pt(n))throw new hn({address:n});if(r&&!Pt(r))throw new hn({address:r});if(i&&!Pt(i))throw new hn({address:i});if(i&&!s)throw new te("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new te("`paymaster` must be provided when `paymasterInput` is defined")}function Pwe(t,e){return _f(t)?Rwe(t):l8(t,e)}const Owe={transaction:Pwe};function Rwe(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:p}=t;XN(t);const m=[r?Ze(r):"0x",c?Ze(c):"0x",o?Ze(o):"0x",n?Ze(n):"0x",i??"0x",a?Ze(a):"0x",p??"0x",Ze(e),Ze(""),Ze(""),Ze(e),s??"0x",Ze(f||lb),u??[],l??"0x",d&&h?[d,h]:[]];return Ui(["0x71",Fa(m)])}class $we extends te{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class Mwe extends te{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class Nwe extends te{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function s4(t){const e=Ra(t);if(e.length%32!==0)throw new Nwe({givenLength:e.length});if(e.length>ix)throw new $we({givenLength:e.length,maxBytecodeSize:ix});const n=SL(e),r=Ra(n),i=e.length/32;if(i%2===0)throw new Mwe({givenLengthInWords:i});const s=Ra(i),a=w2(s,{size:2}),o=new Uint8Array([1,0]);return r.set(o,0),r.set(a,2),r}const Dwe=t=>{XN(t);const e=jwe(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function jwe(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:o,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:d,data:h}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:d??lb,maxFeePerGas:a??0n,maxPriorityFeePerGas:o??0n,paymaster:l?BigInt(l):0n,nonce:n?BigInt(n):0n,value:s??0n,data:h??"0x",factoryDeps:c?.map(f=>Ze(s4(f)))??[],paymasterInput:u||"0x"}}const QN={blockTime:1e3,formatters:YN,serializers:Owe,custom:{getEip712Domain:Dwe}},Uwe=Gn({...QN,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),Bwe=Gn({...QN,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),Fwe={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},zwe={block:xL({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=Uh(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?vt(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:EL({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?vt(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:oS({format(t){return{l1GasPrice:t.l1GasPrice?vt(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?vt(t.l1GasUsed):null,l1Fee:t.l1Fee?vt(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Wwe(t,e){return qwe(t)?Hwe(t):l8(t,e)}const Vwe={transaction:Wwe};function Hwe(t){Zwe(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:a,to:o,value:c}=t,l=[e,r,o??"0x",a?Ze(a):"0x",c?Ze(c):"0x",i?Ze(i):"0x",s?"0x1":"0x",n??"0x"];return Ui(["0x7e",Fa(l)])}function qwe(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Zwe(t){const{from:e,to:n}=t;if(e&&!Pt(e))throw new hn({address:e});if(n&&!Pt(n))throw new hn({address:n})}const u1={blockTime:2e3,contracts:Fwe,formatters:zwe,serializers:Vwe},Gwe=Gn({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Kwe=Gn({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),qu=1,eD=Gn({...u1,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...u1.contracts,disputeGameFactory:{[qu]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[qu]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[qu]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[qu]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:qu});({...eD});const Zu=11155111,tD=Gn({...u1,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...u1.contracts,disputeGameFactory:{[Zu]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Zu]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Zu]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Zu]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Zu});({...tD});const Ywe=Gn({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),Jwe=Gn({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),Xwe=Gn({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),Qwe=Gn({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),ebe=Gn({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon.drpc.org"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),tbe=Gn({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),nbe=Gn({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seiscan",url:"https://seiscan.io",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),rbe=Gn({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seiscan",url:"https://testnet.seiscan.io",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),ibe=Gn({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function sbe(t){if(typeof t=="string"){if(!Pt(t,{strict:!1}))throw new hn({address:t});return{address:t,type:"json-rpc"}}if(!Pt(t.address,{strict:!1}))throw new hn({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let tg=!1;async function Cf({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=U1.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:vr(tg,{strict:!1})?_r(tg):tg}),a={r:oe(r,{size:32}),s:oe(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?nI({...a,to:n}):a}async function abe(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,a=await Cf({hash:bL({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...a}:a}async function obe({message:t,privateKey:e}){return await Cf({hash:u8(t),privateKey:e,to:"hex"})}async function cbe(t){const{privateKey:e,transaction:n,serializer:r=l8}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await Cf({hash:On(await r(i)),privateKey:e});return await r(n,s)}async function lbe(t){const{privateKey:e,...n}=t;return await Cf({hash:xS(n),privateKey:e,to:"hex"})}function ube(t,e={}){const{nonceManager:n}=e,r=Ze(U1.getPublicKey(t.slice(2),!1)),i=mL(r);return{...sbe({address:i,nonceManager:n,async sign({hash:a}){return Cf({hash:a,privateKey:t,to:"hex"})},async signAuthorization(a){return abe({...a,privateKey:t})},async signMessage({message:a}){return obe({message:a,privateKey:t})},async signTransaction(a,{serializer:o}={}){return cbe({privateKey:t,transaction:a,serializer:o})},async signTypedData(a){return lbe({...a,privateKey:t})}}),publicKey:r,source:"privateKey"}}const dbe="0x0000000000000000000000000000000000008006",hbe="0x0000000000000000000000000000000000010000",sx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],ax=1,ng="/docs/contract/encodeDeployData";function fbe(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:u,argsContractDeployer:d}=ox(i,s??v7,Ze(s4(r)),"0x");return ur({abi:sx,functionName:u,args:d})}const a=e.find(u=>"type"in u&&u.type==="constructor");if(!a)throw new DA({docsPath:ng});if(!("inputs"in a))throw new e0({docsPath:ng});if(!a.inputs||a.inputs.length===0)throw new e0({docsPath:ng});const o=Jo(a.inputs,n),{functionName:c,argsContractDeployer:l}=ox(i,s??v7,Ze(s4(r)),o);return ur({abi:sx,functionName:c,args:l})}function ox(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,ax]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,ax]}}[t||"create"]}function nD(t){if(!_f(t))throw new JN;Ks(t)}async function pbe(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?Ot(n):t.account;if(!s)throw new Js({docsPath:"/docs/actions/wallet/signTransaction"});if(nD({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new te("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new te("transaction serializer not found on chain.");const a=await Ce(t,Ys,"getChainId")({});r!==null&&Gh({currentChainId:a,chain:r});const o=r?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),c=await cI(t,{...o,account:s});return r?.serializers?.transaction({chainId:a,...i,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function rD(t,e){return _f(e)?pbe(t,e):await oI(t,e)}async function iD(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?Ot(n):t.account;if(!i)throw new Js({docsPath:"/docs/actions/wallet/sendTransaction"});try{nD(e);const s=await lu(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let a;r!==null&&(a=await Ce(t,Ys,"getChainId")({}),Gh({currentChainId:a,chain:r}));const o=await rD(t,{...s,chainId:a});return await Ce(t,M1,"sendRawTransaction")({serializedTransaction:o})}catch(s){throw Bh(s,{...e,account:i,chain:r})}}function mbe(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:a,...o}=e,c=fbe({abi:n,args:r,bytecode:i,deploymentType:s,salt:a});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(i)||o.factoryDeps.push(i),iD(t,{...o,data:c,to:s==="create2"||s==="create2Account"?hbe:dbe})}async function cx(t,e){return _f(e)?iD(t,e):Kh(t,e)}function gbe(){return t=>({sendTransaction:e=>cx(t,e),signTransaction:e=>rD(t,e),deployContract:e=>mbe(t,e),writeContract:e=>Bl(Object.assign(t,{sendTransaction:n=>cx(t,n)}),e)})}var ybe=10,wbe=-32700,bbe=-32603,vbe=-32602,_be=-32601,Cbe=-32600,Ebe=-32015,xbe=-32014,Abe=-32012,Lbe=-32010,Sbe=-32009,Ibe=-32007,Tbe=-32006,kbe=-32004,lx=-32002,Pbe=-32001,Obe=28e5,Rbe=2800001,$be=2800003,Mbe=2800006,Nbe=2800007,sD=2800008,Dbe=2800009,tTe=32300001,nTe=3230004,jbe=361e4,Ube=3610001,Bbe=3610003,Fbe=3610005,zbe=3610006,Wbe=3610007,Vbe=3611e3,Hbe=3704e3,qbe=3704001,Zbe=3704004,Gbe=4615e3,Kbe=4615026,Ybe=5663e3,ux=5663001,Jbe=5663004,Xbe=5663005,Qbe=5663006,e7e=5663007,t7e=5663008,n7e=5663015,r7e=5663016,i7e=5663017,aD=5663021,s7e=705e4,a7e=7050030,o7e=7050031,c7e=7050035,l7e=8078e3,u7e=8078001,d7e=8078004,h7e=8078005,f7e=8078006,p7e=8078007,m7e=8078011,d1=8078012,g7e=8078013,y7e=8078014,w7e=8078017,oD=81e5,b7e=8100002,v7e=8100003,_7e=819e4,C7e=8190001,E7e=8190002,a4=8190003,x7e=8190004,A7e=99e5,L7e=9900001,S7e=9900004;function cD(t){return Array.isArray(t)?"%5B"+t.map(cD).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function I7e([t,e]){return`${t}=${cD(e)}`}function T7e(t){const e=Object.entries(t).map(I7e).join("&");return btoa(e)}function k7e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${T7e(e)}'`),`${n}\``}}function lD(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Pe=class extends Error{constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,o])=>{a==="cause"?i={cause:o.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,o))});const s=k7e(e,r);super(s,i);q3(this,"cause",this.cause);q3(this,"context");this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function U3(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function uD({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const o=n.indexOf(s),c=t+o,l=e(c,s,a),u=new Pe(c,l);return U3(u,i),u}var P7e=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function dD(t,e){const n=Number(t);return uD({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===Gbe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===Kbe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:P7e,rpcEnumError:e},dD)}var O7e=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function hD(t){return typeof t=="object"&&"InstructionError"in t?dD(...t.InstructionError):uD({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===s7e)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===a7e)return{index:Number(r)};if(e===o7e||e===c7e)return{accountIndex:Number(r.account_index)}},orderedErrorNames:O7e,rpcEnumError:t},hD)}function h1(t){let e;if(R7e(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===lx){const{err:a,...o}=r,c=a?{cause:hD(a)}:null;e=new Pe(lx,{...o,...c})}else{let a;switch(s){case bbe:case vbe:case Cbe:case _be:case wbe:case Abe:case Pbe:case kbe:case xbe:case Lbe:case Sbe:case Ibe:case Tbe:case Ebe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new Pe(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Pe(ybe,{error:t,message:n})}return U3(e,h1),e}function R7e(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function $7e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var M7e=(t,e)=>$7e(t.length<=e?t:t.slice(0,e),e);function N7e(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function p2(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Zn(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(p2(e,t));return t.write(e,n,0),n}})}function dr(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function tn(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function D7e(t){return!tn(t)}function j7e(t,e){if(tn(t)!==tn(e))throw new Pe(d7e);if(tn(t)&&tn(e)&&t.fixedSize!==e.fixedSize)throw new Pe(h7e,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!tn(t)&&!tn(e)&&t.maxSize!==e.maxSize)throw new Pe(f7e,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function U7e(t,e,n=0){if(e.length-n<=0)throw new Pe(l7e,{codecDescription:t})}function ub(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Pe(u7e,{bytesLength:i,codecDescription:t,expected:e})}function dx(t,e,n){if(e<0||e>n)throw new Pe(y7e,{bytesLength:n,codecDescription:t,offset:e})}function B7e(t,e){const n=(a,o,c)=>{const l=t.encode(a);return c=e.write(l.length,o,c),o.set(l,c),c+l.length};if(tn(e)&&tn(t))return Zn({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=tn(e)?e.fixedSize:e.maxSize??null,i=tn(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Zn({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:a=>{const o=p2(a,t);return p2(o,e)+o},write:n})}function F7e(t,e){const n=(a,o)=>{const[c,l]=e.read(a,o),u=Number(c);return o=l,(o>0||a.length>u)&&(a=a.slice(o,o+u)),ub("addDecoderSizePrefix",u,a),[t.decode(a),o+u]};if(tn(e)&&tn(t))return dr({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=tn(e)?e.fixedSize:e.maxSize??null,i=tn(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return dr({...t,...s!==null?{maxSize:s}:{},read:n})}function f1(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;let s;return typeof SharedArrayBuffer>"u"?s=t.buffer:t.buffer instanceof SharedArrayBuffer?(s=new ArrayBuffer(t.length),new Uint8Array(s).set(new Uint8Array(t))):s=t.buffer,(r===0||r===-t.byteLength)&&i===t.byteLength?s:s.slice(r,r+i)}function db(t,e){return Zn({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function hb(t,e){return dr({fixedSize:e,read:(n,r)=>{ub("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),tn(t)&&(n=M7e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function z7e(t,e){return dr({...t,read:(n,r)=>{const i=l=>W7e(l,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;dx("offsetDecoder",s,n.length);const[a,o]=t.read(n,s),c=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:o,preOffset:r,wrapBytes:i}):o;return dx("offsetDecoder",c,n.length),[a,c]}})}function W7e(t,e){return e===0?0:(t%e+e)%e}function V7e(t,e){if(tn(t)){const n=e(t.fixedSize);if(n<0)throw new Pe(g7e,{bytesLength:n,codecDescription:"resizeDecoder"});return dr({...t,fixedSize:n})}return t}function H7e(t,e){return z7e(V7e(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function bu(t,e){return Zn({...D7e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function fb(t,e){return dr({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function q7e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Pe(d1,{alphabet:t,base:t.length,value:n})}var Z7e=t=>Zn({getSizeFromValue:e=>{const[n,r]=hx(e,t[0]);if(!r)return e.length;const i=fx(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(q7e(t,e),e==="")return r;const[i,s]=hx(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=fx(s,t);const o=[];for(;a>0n;)o.unshift(Number(a%256n)),a/=256n;const c=[...Array(i.length).fill(0),...o];return n.set(c,r),r+c.length}}),G7e=t=>dr({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),o=K7e(a,t);return[s+o,e.length]}});function hx(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function fx(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function K7e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var fD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Y7e=()=>Z7e(fD),J7e=()=>G7e(fD),px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X7e=()=>Zn({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new Pe(d1,{alphabet:px,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new Pe(d1,{alphabet:px,base:64,value:t})}}}),Q7e=()=>dr({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}});function e9e(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new Pe(Vbe)}function B3(){if(!globalThis.isSecureContext)throw new Pe(jbe)}function t9e(){if(B3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Pe(Ube)}function pD(){if(B3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new Pe(Bbe)}function n9e(){if(B3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new Pe(Fbe)}function r9e(){if(B3(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new Pe(zbe)}var rg,ig;function pb(){return rg||(rg=Y7e()),rg}function i9e(){return ig||(ig=J7e()),ig}function s9e(t){if(t.length<32||t.length>44)return!1;const e=pb();try{return e.encode(t).byteLength===32}catch{return!1}}function o4(t){if(t.length<32||t.length>44)throw new Pe(Rbe,{actualLength:t.length});const r=pb().encode(t).byteLength;if(r!==32)throw new Pe(Obe,{actualLength:r})}function a9e(t){return o4(t),t}function Pl(){return bu(db(pb(),32),t=>a9e(t))}function Ef(){return hb(i9e(),32)}function o9e(){return j7e(Pl(),Ef())}function mb(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var c9e=37095705934669439343138083508754565189542113879843219016388785533085940283555n,yr=57896044618658097711785492504343953926634992332820282019728792003956564819949n,mx=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function ki(t){const e=t%yr;return e>=0n?e:yr+e}function Is(t,e){let n=t;for(;e-- >0n;)n*=n,n%=yr;return n}function l9e(t){const n=t*t%yr*t%yr,r=Is(n,2n)*n%yr,i=Is(r,1n)*t%yr,s=Is(i,5n)*i%yr,a=Is(s,10n)*s%yr,o=Is(a,20n)*a%yr,c=Is(o,40n)*o%yr,l=Is(c,80n)*c%yr,u=Is(l,80n)*c%yr,d=Is(u,10n)*s%yr;return Is(d,2n)*t%yr}function u9e(t,e){const n=ki(e*e*e),r=ki(n*n*e),i=l9e(t*r);let s=ki(t*n*i);const a=ki(e*s*s),o=s,c=ki(s*mx),l=a===t,u=a===ki(-t),d=a===ki(-t*mx);return l&&(s=o),(u||d)&&(s=c),(ki(s)&1n)===1n&&(s=ki(-s)),!l&&!u?null:s}function d9e(t,e){const n=ki(t*t),r=ki(n-1n),i=ki(c9e*n+1n),s=u9e(r,i);if(s===null)return!1;const a=(e&128)!==0;return!(s===0n&&a)}function h9e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function f9e(t){const n=`0x${t.reduce((r,i,s)=>`${h9e(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function p9e(t){if(t.byteLength!==32)return!1;const e=f9e(t);return d9e(e,t[31])}var gx=32,yx=16,m9e=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function g9e({programAddress:t,seeds:e}){if(t9e(),e.length>yx)throw new Pe(Mbe,{actual:e.length,maxSeeds:yx});let n;const r=e.reduce((c,l,u)=>{const d=typeof l=="string"?(n||(n=new TextEncoder)).encode(l):l;if(d.byteLength>gx)throw new Pe(Nbe,{actual:d.byteLength,index:u,maxSeedLength:gx});return c.push(...d),c},[]),i=o9e(),s=i.encode(t),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...m9e])),o=new Uint8Array(a);if(p9e(o))throw new Pe(sD);return i.decode(o)}async function y9e({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await g9e({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(lD(r,sD))n--;else throw r}throw new Pe(Dbe)}async function mD(t){if(pD(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new Pe($be);const e=await crypto.subtle.exportKey("raw",t);return Ef().decode(new Uint8Array(e))}function gD(t,e,n,r){if(r<e||r>n)throw new Pe(m7e,{codecDescription:t,max:n,min:e,value:r})}function yD(t){return t?.endian!==1}function gb(t){return Zn({fixedSize:t.size,write(e,n,r){t.range&&gD(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,yD(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function wD(t){return dr({fixedSize:t.size,read(e,n=0){U7e(t.name,e,n),ub(t.name,t.size,e,n);const r=new DataView(f1(e,n,t.size));return[t.get(r,yD(t.config)),n+t.size]}})}var m2=()=>Zn({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{gD("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),Yo=()=>dr({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,!(s&128))break}return[n,e+r]}}),w9e=(t={})=>gb({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),b9e=(t={})=>wD({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4}),v9e=(t={})=>gb({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),tu=()=>gb({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),xh=()=>wD({get:t=>t.getUint8(0),name:"u8",size:1});function _9e(t,e,n){if(e!==n)throw new Pe(p7e,{actual:n,codecDescription:t,expected:e})}function C9e(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function nu(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function xf(t){return tn(t)?t.fixedSize:null}function vu(t){return tn(t)?t.fixedSize:t.maxSize??null}function ru(t,e={}){const n=e.size??w9e(),r=p1(n,xf(t)),i=p1(n,vu(t))??void 0;return Zn({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?p2(s.length,n):0)+[...s].reduce((o,c)=>o+p2(c,t),0),maxSize:i},write:(s,a,o)=>(typeof n=="number"&&_9e("array",n,s.length),typeof n=="object"&&(o=n.write(s.length,a,o)),s.forEach(c=>{o=t.write(c,a,o)}),o)})}function g2(t,e={}){const n=e.size??b9e(),r=xf(t),i=p1(n,r),s=p1(n,vu(t))??void 0;return dr({...i!==null?{fixedSize:i}:{maxSize:s},read:(a,o)=>{const c=[];if(typeof n=="object"&&a.slice(o).length===0)return[c,o];if(n==="remainder"){for(;o<a.length;){const[d,h]=t.read(a,o);o=h,c.push(d)}return[c,o]}const[l,u]=typeof n=="number"?[n,o]:n.read(a,o);o=u;for(let d=0;d<l;d+=1){const[h,f]=t.read(a,o);o=f,c.push(h)}return[c,o]}})}function p1(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function yb(){return Zn({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function c4(){return dr({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function E9e(t){return Zn({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function x9e(t){const e=nu(t.map(xf)),n=nu(t.map(vu))??void 0;return dr({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(a=>{const[o,c]=a.read(r,i);s.push(o),i=c}),[s,i]}})}function A9e(t,e){const n=L9e(t),r=(s,a,o)=>{const c=e(s);return wx(t,c),t[c].write(s,a,o)};if(n!==null)return Zn({fixedSize:n,write:r});const i=S9e(t);return Zn({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const a=e(s);return wx(t,a),p2(s,t[a])},write:r})}function wx(t,e){if(typeof t[e]>"u")throw new Pe(w7e,{maxRange:t.length-1,minRange:0,variant:e})}function L9e(t){if(t.length===0)return 0;if(!tn(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>tn(r)&&r.fixedSize===e)?e:null}function S9e(t){return C9e(t.map(e=>vu(e)))}function oc(t){const e=t.map(([,i])=>i),n=nu(e.map(xf)),r=nu(e.map(vu))??void 0;return Zn({...n===null?{getSizeFromValue:i=>t.map(([s,a])=>p2(i[s],a)).reduce((s,a)=>s+a,0),maxSize:r}:{fixedSize:n},write:(i,s,a)=>(t.forEach(([o,c])=>{a=c.write(i[o],s,a)}),a)})}function Af(t){const e=t.map(([,i])=>i),n=nu(e.map(xf)),r=nu(e.map(vu))??void 0;return dr({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const a={};return t.forEach(([o,c])=>{const[l,u]=c.read(i,s);s=u,a[o]=l}),[a,s]}})}function P2(t,...e){return e.reduce((n,r)=>r(n),t)}var dn=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(dn||{}),I9e=2,T9e=1;function iu(t){return t>=2}function Ah(t){return(t&T9e)!==0}function bx(t,e){return t|e}function k9e(t){return t|I9e}function P9e(t){return s9e(t)}function O9e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&P9e(t.lifetimeConstraint.blockhash)}function R9e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function $9e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Pe(d1,{alphabet:t,base:t.length,value:n})}var M9e=t=>Zn({getSizeFromValue:e=>{const[n,r]=vx(e,t[0]);if(!r)return e.length;const i=_x(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if($9e(t,e),e==="")return r;const[i,s]=vx(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=_x(s,t);const o=[];for(;a>0n;)o.unshift(Number(a%256n)),a/=256n;const c=[...Array(i.length).fill(0),...o];return n.set(c,r),r+c.length}}),N9e=t=>dr({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),o=D9e(a,t);return[s+o,e.length]}});function vx(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function _x(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function D9e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var bD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",j9e=()=>M9e(bD),U9e=()=>N9e(bD),sg;function B9e(){if(!sg){const t=ru(tu(),{size:m2()});sg=oc([["lookupTableAddress",Pl()],["writableIndexes",t],["readonlyIndexes",t]])}return sg}var ag;function F9e(){if(!ag){const t=g2(xh(),{size:Yo()});ag=Af([["lookupTableAddress",Ef()],["writableIndexes",t],["readonlyIndexes",t]])}return ag}var og;function cg(){return og||(og=tu()),og}var lg;function ug(){return lg||(lg=xh()),lg}function z9e(){return oc([["numSignerAccounts",cg()],["numReadonlySignerAccounts",cg()],["numReadonlyNonSignerAccounts",cg()]])}function W9e(){return Af([["numSignerAccounts",ug()],["numReadonlySignerAccounts",ug()],["numReadonlyNonSignerAccounts",ug()]])}var dg;function V9e(){return dg||(dg=bu(oc([["programAddressIndex",tu()],["accountIndices",ru(tu(),{size:m2()})],["data",B7e(yb(),m2())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),dg}var hg;function H9e(){return hg||(hg=fb(Af([["programAddressIndex",xh()],["accountIndices",g2(xh(),{size:Yo()})],["data",F7e(c4(),Yo())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),hg}var vD=0,l4=128;function q9e(){return Zn({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new Pe(Jbe,{actualVersion:t});if(t>vD)throw new Pe(aD,{unsupportedVersion:t});return e.set([t|l4],n),n+1}})}function _D(){return dr({maxSize:1,read:(t,e)=>{const n=t[e];if(n&l4){const r=n^l4;if(r>vD)throw new Pe(aD,{unsupportedVersion:r});return[r,e+1]}else return["legacy",e]}})}function Cx(){return oc(CD())}function Ex(){return bu(oc([...CD(),["addressTableLookups",G9e()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function CD(){const t=A9e([E9e(new Uint8Array(32)),db(j9e(),32)],e=>e===void 0?0:1);return[["version",q9e()],["header",z9e()],["staticAccounts",ru(Pl(),{size:m2()})],["lifetimeToken",t],["instructions",ru(V9e(),{size:m2()})]]}function Z9e(){return[["version",_D()],["header",W9e()],["staticAccounts",g2(Ef(),{size:Yo()})],["lifetimeToken",hb(U9e(),32)],["instructions",g2(H9e(),{size:Yo()})],["addressTableLookups",K9e()]]}function G9e(){return ru(B9e(),{size:m2()})}function K9e(){return g2(F9e(),{size:Yo()})}function Y9e(){return Zn({getSizeFromValue:t=>t.version==="legacy"?Cx().getSizeFromValue(t):Ex().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?Cx().write(t,e,n):Ex().write(t,e,n)})}function J9e(){return fb(Af(Z9e()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function xx(t,e,n){t[e]=n(t[e]??{role:dn.READONLY})}var an=Symbol("AddressMapTypeProperty");function X9e(t,e){const n={[t]:{[an]:0,role:dn.WRITABLE_SIGNER}},r=new Set;for(const i of e){xx(n,i.programAddress,a=>{if(r.add(i.programAddress),an in a){if(Ah(a.role))switch(a[an]){case 0:throw new Pe(Ybe,{programAddress:i.programAddress});default:throw new Pe(ux,{programAddress:i.programAddress})}if(a[an]===2)return a}return{[an]:2,role:dn.READONLY}});let s;if(i.accounts)for(const a of i.accounts)xx(n,a.address,o=>{const{address:c,...l}=a;if(an in o)switch(o[an]){case 0:return o;case 1:{const u=bx(o.role,l.role);if("lookupTableAddress"in l){if(o.lookupTableAddress!==l.lookupTableAddress&&(s||(s=mb()))(l.lookupTableAddress,o.lookupTableAddress)<0)return{[an]:1,...l,role:u}}else if(iu(l.role))return{[an]:2,role:u};return o.role!==u?{...o,role:u}:o}case 2:{const u=bx(o.role,l.role);if(r.has(a.address)){if(Ah(l.role))throw new Pe(ux,{programAddress:a.address});return o.role!==u?{...o,role:u}:o}else return"lookupTableAddress"in l&&!iu(o.role)?{...l,[an]:1,role:u}:o.role!==u?{...o,role:u}:o}}return"lookupTableAddress"in l?{...l,[an]:1}:{...l,[an]:2}})}return n}function Q9e(t){let e;return Object.entries(t).sort(([r,i],[s,a])=>{if(i[an]!==a[an]){if(i[an]===0)return-1;if(a[an]===0)return 1;if(i[an]===2)return-1;if(a[an]===2)return 1}const o=iu(i.role);if(o!==iu(a.role))return o?-1:1;const c=Ah(i.role);return c!==Ah(a.role)?c?-1:1:(e||(e=mb()),i[an]===1&&a[an]===1&&i.lookupTableAddress!==a.lookupTableAddress?e(i.lookupTableAddress,a.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function eve(t){var n;const e={};for(const r of t){if(!("lookupTableAddress"in r))continue;const i=e[n=r.lookupTableAddress]||(e[n]={readonlyIndexes:[],writableIndexes:[]});r.role===dn.WRITABLE?i.writableIndexes.push(r.addressIndex):i.readonlyIndexes.push(r.addressIndex)}return Object.keys(e).sort(mb()).map(r=>({lookupTableAddress:r,...e[r]}))}function tve(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=Ah(i.role);iu(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function nve(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function rve(t,e){const n=nve(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:a})=>n[a])}:null,...i?{data:i}:null}))}function ive(t){return"nonce"in t?t.nonce:t.blockhash}function sve(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function ave(t){const e=X9e(t.feePayer.address,t.instructions),n=Q9e(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:eve(n)}:null,...r?{lifetimeToken:ive(r)}:null,header:tve(n),instructions:rve(t.instructions,n),staticAccounts:sve(n),version:t.version}}function ove(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var ED="SysvarRecentB1ockHashes11111111111111111111",xD="11111111111111111111111111111111";function Ax(t,e){return{accounts:[{address:t,role:dn.WRITABLE},{address:ED,role:dn.READONLY},{address:e,role:dn.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:xD}}function wb(t){return t.programAddress===xD&&t.data!=null&&cve(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===dn.WRITABLE&&t.accounts[1].address===ED&&t.accounts[1].role===dn.READONLY&&t.accounts[2].address!=null&&iu(t.accounts[2].role)}function cve(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function AD(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&wb(t.instructions[0])}function lve(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function uve({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&wb(s))if(lve(s,e,n)){if(AD(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(Ax(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(Ax(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function dve(t,e){if("feePayer"in e&&t===e.feePayer?.address&&hve(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function hve(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function fve(t,e){return pve([t],e)}function pve(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function mve(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let a=0;a<n;a++)i.push({address:t.staticAccounts[s],role:dn.WRITABLE_SIGNER}),s++;for(let a=0;a<e.numReadonlySignerAccounts;a++)i.push({address:t.staticAccounts[s],role:dn.READONLY_SIGNER}),s++;for(let a=0;a<r;a++)i.push({address:t.staticAccounts[s],role:dn.WRITABLE}),s++;for(let a=0;a<e.numReadonlyNonSignerAccounts;a++)i.push({address:t.staticAccounts[s],role:dn.READONLY}),s++;return i}function gve(t,e){const r=t.map(a=>a.lookupTableAddress).filter(a=>e[a]===void 0);if(r.length>0)throw new Pe(Xbe,{lookupTableAddresses:r});const i=[],s=[];for(const a of t){const o=e[a.lookupTableAddress],c=a.readonlyIndexes,l=a.writableIndexes,u=Math.max(...c,...l);if(u>=o.length)throw new Pe(Qbe,{highestKnownIndex:o.length-1,highestRequestedIndex:u,lookupTableAddress:a.lookupTableAddress});const d=c.map(f=>({address:o[f],addressIndex:f,lookupTableAddress:a.lookupTableAddress,role:dn.READONLY}));i.push(...d);const h=l.map(f=>({address:o[f],addressIndex:f,lookupTableAddress:a.lookupTableAddress,role:dn.WRITABLE}));s.push(...h)}return[...s,...i]}function yve(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new Pe(e7e,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function wve(t,e,n){if(!e||!wb(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;o4(r);const i=e.accounts[2].address;return o4(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function rTe(t,e){const n=t.staticAccounts[0];if(!n)throw new Pe(t7e);const r=mve(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?gve(t.addressTableLookups,{}):[],s=[...r,...i],a=t.instructions.map(l=>yve(l,s)),o=a[0],c=wve(t.lifetimeToken,o);return P2(ove({version:t.version}),l=>dve(n,l),l=>a.reduce((u,d)=>fve(d,u),l),l=>"blockhash"in c?R9e(c,l):uve(c,l))}var F3=Object.freeze({name:"Ed25519"});function bve(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function u4(t,e=!1){const n=t.byteLength;if(n!==32)throw new Pe(qbe,{actualLength:n});const r=bve(t);return await crypto.subtle.importKey("pkcs8",r,F3,e,["sign"])}async function vve(t,e=!1){if(pD(),t.extractable===!1)throw new Pe(Wbe,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function bb(t,e){n9e();const n=await crypto.subtle.sign(F3,t,f1(e));return new Uint8Array(n)}async function _ve(t,e,n){return r9e(),await crypto.subtle.verify(F3,t,f1(e),f1(n))}async function Cve(t,e=!1){if(e9e(),t.byteLength!==64)throw new Pe(Hbe,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),F3,!0,["verify"]),u4(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await bb(r,i);if(!await _ve(n,s,i))throw new Pe(Zbe);return{privateKey:r,publicKey:n}}async function Eve(t,e=!1){const n=u4(t,e),[r,i]=await Promise.all([(e?n:u4(t,!0)).then(async s=>await vve(s,!0)),n]);return{privateKey:i,publicKey:r}}function xve(t){const e=Object.values(t);if(e.length===0)throw new Pe(r7e);return e.map(n=>n||new Uint8Array(64).fill(0))}function Ave(){return bu(ru(db(yb(),64),{size:m2()}),xve)}function Lve(){return oc([["signatures",Ave()],["messageBytes",yb()]])}function Sve(){return fb(Af([["signatures",g2(hb(c4(),64),{size:Yo()})],["messageBytes",c4()]]),Ive)}function Ive(t){const{messageBytes:e,signatures:n}=t,r=x9e([_D(),H7e(xh(),2),g2(Ef(),{size:Yo()})]),[i,s,a]=r.decode(e),o=a.slice(0,s);if(o.length!==n.length)throw new Pe(i7e,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:o});const c={};return o.forEach((l,u)=>{const d=n[u];d.every(h=>h===0)?c[l]=null:c[l]=d}),{messageBytes:e,signatures:Object.freeze(c)}}function iTe(t){const e=ave(t),n=Y9e().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const a of r)i[a]=null;let s;return O9e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:AD(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function Tve(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await mD(i.publicKey),a=e.signatures[s];if(a===void 0){r||(r=new Set),r.add(s);return}if(r)return;const o=await bb(i.privateKey,e.messageBytes);a!==null&&N7e(o,a)||(n||(n={}),n[s]=o)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new Pe(n7e,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function kve(t){const e=Lve().encode(t);return Q7e().decode(e)}function Lx(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Pve(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var fg=new WeakMap;async function Ove(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!Lx(s)){Promise.resolve(s).then(r,i);continue}let a=fg.get(s);a===void 0?(a=Pve(s),a.deferreds.add(e),fg.set(s,a)):a.settled?Promise.resolve(s).then(r,i):a.deferreds.add(e)}}).finally(()=>{for(const r of t)Lx(r)&&fg.get(r).deferreds.delete(e)})}function LD(t){return JSON.parse(Rve(t),(e,n)=>Dve(n)?Nve(n):n)}function Rve(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=$ve(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(Mve(s));continue}}e.push(t[r])}return e.join("")}function $ve(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function Mve(t){return`{"$n":"${t}"}`}function Nve({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function Dve(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var Sx=0n;function jve(){const t=Sx;return Sx++,t.toString()}function d4(t){return{id:jve(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function SD(t,e){return Bve(JSON.stringify(t,(n,r)=>typeof r=="bigint"?Uve(r):r,e))}function Uve(t){return{$n:`${t}`}}function Bve(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function Fve(t){return zve(t)}function zve(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Pe(v7e,{method:s,params:i});const o=a(...i);return Wve(t,o)}}})}function Wve({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function Vve(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a=Object.freeze({methodName:i,params:s}),o=t?.requestTransformer?t?.requestTransformer(a):a;return Object.freeze({execute:async({signal:c,transport:l})=>{const u=d4(o),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,o):d}})}}})}function ID(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function Hve(t){return typeof t=="bigint"?Number(t):t}var de={};function TD(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const a={...r,keyPath:[...r.keyPath,s]};return e(i,a)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const a={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],a)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function kD(t,e){return n=>{const r=TD(t);return Object.freeze({...n,params:r(n.params,e)})}}function PD(t,e){return n=>TD(t)(n,e)}function qve(){return kD([Hve],{keyPath:[]})}function Zve({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:a,...o}=i;return Object.keys(o).length>0?s[n]=o:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function Gve({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:Zve({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function Kve(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function Yve(t){return e=>kD([Kve((...r)=>t(e,...r))],{keyPath:[]})(e)}var Jve={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function OD(t){const e=t?.onIntegerOverflow;return n=>P2(n,e?Yve(e):r=>r,qve(),Gve({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:Jve}))}function RD(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?Xve(r,t)?Number(n):BigInt(n):n}}function Xve(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==de||typeof i!="number"))return!1}return!0})}function $D(t){return PD([RD(t)],{keyPath:[]})}function Qve(){return t=>t.result}var h4=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",de,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",de,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",de,"state","preUpdateAverageRate"],["data","parsed","info","extensions",de,"state","currentRate"]],zc=[...h4,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",de,"confirmationCount"]],Yp=[["index"],["instructions",de,"accounts",de],["instructions",de,"programIdIndex"],["instructions",de,"stackHeight"]],Ix=[["addressTableLookups",de,"writableIndexes",de],["addressTableLookups",de,"readonlyIndexes",de],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",de,"accounts",de],["instructions",de,"programIdIndex"],["instructions",de,"stackHeight"]];function e_e(){return[["loadedAccountsDataSize"],...zc.map(t=>["accounts",de,...t]),...Yp.map(t=>["innerInstructions",de,...t])]}function t_e(){return(t,e)=>{const n=t;if("error"in n){const{error:r}=n;if(r&&typeof r=="object"&&"code"in r&&(r.code===-32002||r.code===-32002n)&&"data"in r&&r.data){const a=PD([RD(e_e())],{keyPath:[]})(r.data,e),o={...r,data:a};throw h1(o)}throw h1(n.error)}return n}}function n_e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return P2(e,s=>t_e()(s,n),s=>Qve()(s,n),s=>$D(i??[])(s,n))}}function r_e(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return P2(e,s=>$D(i??[])(s,n))}}function i_e(t){return Vve({requestTransformer:OD(t),responseTransformer:n_e({allowedNumericKeyPaths:s_e()})})}var pg;function s_e(){return pg||(pg={getAccountInfo:zc.map(t=>["value",...t]),getBlock:[["transactions",de,"meta","preTokenBalances",de,"accountIndex"],["transactions",de,"meta","preTokenBalances",de,"uiTokenAmount","decimals"],["transactions",de,"meta","postTokenBalances",de,"accountIndex"],["transactions",de,"meta","postTokenBalances",de,"uiTokenAmount","decimals"],["transactions",de,"meta","rewards",de,"commission"],...Yp.map(t=>["transactions",de,"meta","innerInstructions",de,...t]),...Ix.map(t=>["transactions",de,"transaction","message",...t]),["rewards",de,"commission"]],getClusterNodes:[[de,"featureSet"],[de,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[de,"commission"]],getMultipleAccounts:zc.map(t=>["value",de,...t]),getProgramAccounts:zc.flatMap(t=>[["value",de,"account",...t],[de,"account",...t]]),getRecentPerformanceSamples:[[de,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:h4.map(t=>["value",de,"account",...t]),getTokenAccountsByOwner:h4.map(t=>["value",de,"account",...t]),getTokenLargestAccounts:[["value",de,"decimals"],["value",de,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",de,"accountIndex"],["meta","preTokenBalances",de,"uiTokenAmount","decimals"],["meta","postTokenBalances",de,"accountIndex"],["meta","postTokenBalances",de,"uiTokenAmount","decimals"],["meta","rewards",de,"commission"],...Yp.map(t=>["meta","innerInstructions",de,...t]),...Ix.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",de,"commission"],["delinquent",de,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...zc.map(t=>["value","accounts",de,...t]),...Yp.map(t=>["value","innerInstructions",de,...t])]}),pg}function a_e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function o_e(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const a=n&&a_e(n);return async function({payload:c,signal:l}){const u=r?r(c):JSON.stringify(c),d={...s,body:u,headers:{...a,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},h=await fetch(i,d);if(!h.ok)throw new Pe(b7e,{headers:h.headers,message:h.statusText,statusCode:h.status});return e?e(await h.text(),c):await h.json()}}var c_e=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Tx(t){return ID(t)&&c_e.includes(t.method)}function l_e(t){return o_e({...t,fromJson:(e,n)=>Tx(n)?LD(e):JSON.parse(e),toJson:e=>Tx(e)?SD(e):JSON.stringify(e)})}var u_e=Object.prototype.toString,d_e=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function dd(t,e){let n,r,i,s,a,o,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return dd(t.toJSON(),e);if(c=u_e.call(t),c==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=dd(t[n],!0)+",";return r>-1&&(i+=dd(t[n],!0)),i+"]"}else if(c==="[object Object]"){for(s=d_e(t).sort(),r=s.length,i="",n=0;n<r;)a=s[n],o=dd(t[a],!1),o!==void 0&&(i&&(i+=","),i+=JSON.stringify(a)+":"+o),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function MD(t){const e=dd(t,!1);if(e!==void 0)return""+e}function ND(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,o=a%10,c=a%100;o==1&&c!=11?r=a+"st":o==2&&c!=12?r=a+"nd":o==3&&c!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new Pe(oD,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return U3(s,ND),s}var h_e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw ND(t.methodName,e,n)}},f_e=globalThis.AbortController,kx;function Px(){return{}}function p_e(t,e){let n;return async function(i){const{payload:s,signal:a}=i,o=e(s);if(o===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[o]==null){const l=new f_e,u=(async()=>{try{return await t({...i,signal:l.signal})}catch(d){if(d===(kx||(kx=Px())))return;throw d}})();n[o]={abortController:l,numConsumers:0,responsePromise:u}}const c=n[o];if(c.numConsumers++,a){const l=c.responsePromise;return await new Promise((u,d)=>{const h=f=>{a.removeEventListener("abort",h),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(kx||(kx=Px()))}),d(f.target.reason)};a.addEventListener("abort",h),l.then(u).catch(d).finally(()=>{a.removeEventListener("abort",h)})})}else return await c.responsePromise}}function m_e(t){return ID(t)?MD([t.method,t.params]):void 0}function g_e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function y_e(t){return P2(l_e({...t,headers:{...t.headers?g_e(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>p_e(e,m_e))}function DD(t,e){return w_e(y_e({url:t,...e}))}function w_e(t){return Fve({api:i_e(h_e),transport:t})}var b_e=globalThis.AbortController,v_e=globalThis.EventTarget,Ox;function Rx(){return Symbol(void 0)}var mg=Symbol();function __e({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(l){for(const[u,d]of i.entries())d.__hasPolled?(i.delete(u),d.onError(l)):d.publishQueue.push({__type:1,err:l})}const a=new b_e;t.addEventListener("abort",()=>{a.abort(),s(Ox||(Ox=Rx()))});const o={signal:a.signal};let c=mg;return n.on(r,l=>{c===mg&&(c=l,a.abort(),s(l))},o),n.on(e,l=>{i.forEach((u,d)=>{if(u.__hasPolled){const{onData:h}=u;i.set(d,{__hasPolled:!1,publishQueue:[]}),h(l)}else u.publishQueue.push({__type:0,data:l})})},o),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(c!==mg)throw c;const l=Symbol();i.set(l,{__hasPolled:!1,publishQueue:[]});try{for(;;){const u=i.get(l);if(!u)throw new Pe(A7e);if(u.__hasPolled)throw new Pe(L7e);const d=u.publishQueue;try{if(d.length){u.publishQueue=[];for(const h of d)if(h.__type===0)yield h.data;else throw h.err}else yield await new Promise((h,f)=>{i.set(l,{__hasPolled:!0,onData:h,onError:f})})}catch(h){if(h===(Ox||(Ox=Rx())))return;throw h}}}finally{i.delete(l)}}}}function jD(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const a=s.detail;n(a)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function C_e(t,e,n){let r;const i=new v_e,s=jD(i);return{...s,on(a,o,c){r||(r={dispose:t.on(e,f=>{const p=n(f);if(!p)return;const[m,y]=p;i.dispatchEvent(new CustomEvent(m,{detail:y}))}),numSubscribers:0}),r.numSubscribers++;const l=s.on(a,o,c);let u=!0;function d(){u&&(u=!1,c?.signal.removeEventListener("abort",d),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),l())}return c?.signal.addEventListener("abort",d),d}}}function E_e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Pe(_7e,{notificationName:s});const o=a(...i);return x_e(t.transport,o)}}})}function x_e(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return __e({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function A_e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a={methodName:i,params:s},o=t.requestTransformer?t.requestTransformer(a):a;return{execute(c){return t.planExecutor({...c,request:o})},request:o}}}})}function L_e(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function S_e(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var I_e=globalThis.AbortController,f4=new WeakMap;function T_e(t,e){return UD(-1,t,e)}function k_e(t,e){UD(1,t,e)}function P_e(t){let e=f4.get(t);return e||f4.set(t,e={}),e}function UD(t,e,n){if(n===void 0)return;const r=P_e(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var $x=new WeakMap;function O_e(t,e,n){let r=$x.get(t);r||$x.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=C_e(t,"message",a=>{const o=a;if(!("method"in o))return;const c=n?n(o.params.result,e):o.params.result;return[`notification:${o.params.subscription}`,c]})),s}async function R_e({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,f4.delete(t)},{signal:n});const a=new Promise((d,h)=>{function f(){if(T_e(t,s)===0){const p=d4({methodName:i,params:[s]});s=void 0,t.send(p).catch(()=>{})}h(this.reason)}n.aborted?f.call(n):n.addEventListener("abort",f)}),o=d4(r);await t.send(o);const c=new Promise((d,h)=>{const f=new I_e;n.addEventListener("abort",f.abort.bind(f));const p={signal:f.signal};t.on("error",m=>{f.abort(),h(m)},p),t.on("message",m=>{m&&typeof m=="object"&&"id"in m&&m.id===o.id&&(f.abort(),"error"in m?h(h1(m.error)):d(m.result))},p)});if(s=await Ove([a,c]),s==null)throw new Pe(C7e);k_e(t,s);const l=O_e(t,r,e),u=`notification:${s}`;return{on(d,h,f){switch(d){case"notification":return l.on(u,h,f);case"error":return t.on("error",h,f);default:throw new Pe(S7e,{channelName:d,supportedChannelNames:["notification","error"]})}}}}function $_e(t){const e=OD(t),n=r_e({allowedNumericKeyPaths:N_e()});return A_e({planExecutor({request:r,...i}){return R_e({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function M_e(t){return $_e(t)}var gg;function N_e(){return gg||(gg={accountNotifications:zc.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",de,"meta","preTokenBalances",de,"accountIndex"],["value","block","transactions",de,"meta","preTokenBalances",de,"uiTokenAmount","decimals"],["value","block","transactions",de,"meta","postTokenBalances",de,"accountIndex"],["value","block","transactions",de,"meta","postTokenBalances",de,"uiTokenAmount","decimals"],["value","block","transactions",de,"meta","rewards",de,"commission"],["value","block","transactions",de,"meta","innerInstructions",de,"index"],["value","block","transactions",de,"meta","innerInstructions",de,"instructions",de,"programIdIndex"],["value","block","transactions",de,"meta","innerInstructions",de,"instructions",de,"accounts",de],["value","block","transactions",de,"transaction","message","addressTableLookups",de,"writableIndexes",de],["value","block","transactions",de,"transaction","message","addressTableLookups",de,"readonlyIndexes",de],["value","block","transactions",de,"transaction","message","instructions",de,"programIdIndex"],["value","block","transactions",de,"transaction","message","instructions",de,"accounts",de],["value","block","transactions",de,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",de,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",de,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",de,"commission"]],programNotifications:zc.flatMap(t=>[["value",de,"account",...t],[de,"account",...t]])}),gg}var D_e=globalThis.EventTarget,Gu=globalThis.WebSocket,Mx=1e3;function j_e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function a(){s.forEach(C=>{C()}),s.clear()}function o(){a(),i||m(e.reason),p.readyState!==Gu.CLOSED&&p.readyState!==Gu.CLOSING&&p.close(Mx)}function c(C){a(),r?.onCancel(),e.removeEventListener("abort",o),p.removeEventListener("close",c),p.removeEventListener("error",l),p.removeEventListener("message",u),p.removeEventListener("open",f),!e.aborted&&!(C.wasClean&&C.code===Mx)&&d.dispatchEvent(new CustomEvent("error",{detail:new Pe(a4,{cause:C})}))}function l(C){if(!e.aborted&&!i){const L=new Pe(x7e,{errorEvent:C});m(L),d.dispatchEvent(new CustomEvent("error",{detail:L}))}}function u(C){e.aborted||d.dispatchEvent(new CustomEvent("message",{detail:C.data}))}const d=new D_e,h=jD(d);function f(){i=!0,y({...h,async send(C){if(p.readyState!==Gu.OPEN)throw new Pe(a4);if(!r&&p.bufferedAmount>t){let L;const w=new Promise((b,A)=>{const _=setInterval(()=>{(p.readyState!==Gu.OPEN||!(p.bufferedAmount>t))&&(clearInterval(_),r=void 0,b())},16);L=()=>{r=void 0,clearInterval(_),A(new Pe(E7e))}});r={onCancel:L,promise:w}}if(r){if(ArrayBuffer.isView(C)&&!(C instanceof DataView)){const L=C.constructor;C=new L(C)}await r.promise}p.send(C)}})}const p=new Gu(n);e.addEventListener("abort",o),p.addEventListener("close",c),p.addEventListener("error",l),p.addEventListener("message",u),p.addEventListener("open",f);let m,y;return new Promise((C,L)=>{m=L,y=C})}function BD(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,o=a%10,c=a%100;o==1&&c!=11?r=a+"st":o==2&&c!=12?r=a+"nd":o==3&&c!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new Pe(oD,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return U3(s,BD),s}var U_e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw BD(t.methodName,e,n)}},vb=globalThis.AbortController,B_e={jsonrpc:"2.0",method:"ping"};function F_e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(B_e).catch(o=>{lD(o,a4)&&a.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const a=new vb;return a.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{a.abort()}),e.on("error",()=>{a.abort()},{signal:a.signal}),e.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...e,send(...o){return a.signal.aborted||s(),e.send(...o)}}}function z_e(){return{entries:[],freeChannelIndex:-1}}function W_e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=z_e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let a=0;a<r.entries.length;a++){const o=(r.freeChannelIndex+a+2)%r.entries.length,c=r.entries[o];c.subscriptionCount<e&&(!s||s.subscriptionCount>=c.subscriptionCount)&&(s={poolIndex:o,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:a}){let o;function c(){const l=r.entries.findIndex(u=>u===o);r.entries.splice(l,1),o.dispose(),i()}if(r.freeChannelIndex===-1){const l=new vb,u=t({abortSignal:l.signal});u.then(d=>{d.on("error",c,{signal:l.signal})}).catch(c),o={channel:u,dispose(){l.abort()},subscriptionCount:0},r.entries.push(o)}else o=r.entries[r.freeChannelIndex];return o.subscriptionCount++,a.addEventListener("abort",function(){o.subscriptionCount--,o.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),o.channel}}function V_e(t){return P2(t,e=>L_e(e,LD),e=>S_e(e,SD))}function H_e(t){return q_e({...t,jsonSerializer:V_e})}function q_e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return W_e(({abortSignal:i})=>j_e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>F_e({abortSignal:i,channel:s,intervalMs:e??5e3})),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function Z_e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,a=MD([i.methodName,i.params]);let o=e.get(a);if(!o){const c=new vb,l=t({...r,signal:c.signal});l.then(u=>{u.on("error",()=>{e.delete(a),c.abort()},{signal:c.signal})}).catch(()=>{}),e.set(a,o={abortController:c,dataPublisherPromise:l,numSubscribers:0})}return o.numSubscribers++,s.addEventListener("abort",()=>{o.numSubscribers--,o.numSubscribers===0&&queueMicrotask(()=>{o.numSubscribers===0&&(e.delete(a),o.abortController.abort())})},{signal:o.abortController.signal}),o.dataPublisherPromise}}function G_e({createChannel:t}){return P2(K_e(t),e=>Z_e(e))}function K_e(t){return async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})}}function Y_e(t,e){const n=G_e({createChannel:H_e({...e,url:t})});return J_e(n)}function Nx(t,e){return Y_e(t,e)}function J_e(t){return E_e({api:M_e(U_e),transport:t})}function FD(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function zD(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function X_e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function WD(t){return zD(t)||FD(t)||X_e(t)}function sTe(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function VD(t){const e=await mD(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await bb(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await Tve([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function Q_e(t,e){return await VD(await Cve(t,e))}async function eCe(t,e){return await VD(await Eve(t,e))}var tCe="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",HD="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function nCe(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function qD(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:dn.READONLY});const r=n.isWritable?dn.WRITABLE:dn.READONLY;return Object.freeze({address:nCe(n.value),role:Dx(n.value)?k9e(r):r,...Dx(n.value)?{signer:n.value}:{}})}}function Dx(t){return!!t&&typeof t=="object"&&"address"in t&&WD(t)}async function aTe(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await y9e({programAddress:n,seeds:[Pl().encode(t.owner),Pl().encode(t.tokenProgram),Pl().encode(t.mint)]})}var rCe=1;function iCe(){return bu(oc([["discriminator",tu()]]),t=>({...t,discriminator:rCe}))}function oTe(t,e){const n=tCe,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=qD(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:iCe().encode({}),programAddress:n})}var sCe=3;function aCe(){return bu(oc([["discriminator",tu()],["amount",v9e()]]),t=>({...t,discriminator:sCe}))}function cTe(t,e){const n=HD,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},a=(s.multiSigners??[]).map(c=>({address:c.address,role:dn.READONLY_SIGNER,signer:c})),o=qD(n);return Object.freeze({accounts:[o(i.source),o(i.destination),o(i.authority),...a],data:aCe().encode(s),programAddress:n})}var oCe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";bI([kt().transform(t=>t.replace(/[^0-9.-]+/g,"")),Ri()]).pipe(TG.number().min(1e-4).max(999999999));var z3=Xs(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),cCe=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],lCe=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),ZD=["solana-devnet","solana"];Object.fromEntries([...cCe,...ZD].map(t=>[lCe.get(t),t]));var uCe={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function _b(t){const e=Eb(t);return _8({chain:e,transport:z1()}).extend(c0)}function dCe(){return _b("base-sepolia")}function hCe(){return _b("avalanche-fuji")}function Cb(t,e){const n=Eb(t),r=kZ({chain:n,transport:z1(),account:ube(e)});return GD(n)?r.extend(c0).extend(gbe()):r.extend(c0)}function fCe(t){return Cb("base-sepolia",t)}function pCe(t){return Cb("avalanche-fuji",t)}function mCe(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function gCe(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function Eb(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return Uwe;case"abstract-testnet":return Bwe;case"base":return eD;case"base-sepolia":return tD;case"avalanche":return Gwe;case"avalanche-fuji":return Kwe;case"sei":return nbe;case"sei-testnet":return rbe;case"polygon":return ebe;case"polygon-amoy":return tbe;case"peaq":return Qwe;case"story":return ibe;case"educhain":return Ywe;case"iotex":return Jwe;case"iotex-testnet":return Xwe;case"skale-base-sepolia":return uCe;default:throw new Error(`Unsupported network: ${t}`)}}var yCe=new Set([2741,11124]);function GD(t){return yCe.has(t.id)}var wCe="https://api.devnet.solana.com",bCe="https://api.mainnet-beta.solana.com",vCe="wss://api.devnet.solana.com",_Ce="wss://api.mainnet-beta.solana.com";function KD(t){return DD(t||wCe)}function YD(t){return DD(t||bCe)}function JD(t,e){if(t==="solana-devnet")return KD(e);if(t==="solana")return YD(e);throw new Error("Invalid network")}function CCe(t,e){if(t==="solana-devnet")return Nx(e?jx(e):vCe);if(t==="solana")return Nx(e?jx(e):_Ce);throw new Error("Invalid network")}function jx(t){return t.startsWith("http")?t.replace("http","ws"):t}function ECe(t){if(!ZD.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return JD(t)}async function xCe(t){const e=vre.decode(t);if(e.length===64)return await Q_e(e);if(e.length===32)return await eCe(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function ACe(t){return typeof t=="object"&&t!==null&&WD(t)}var LCe={};cb(LCe,{authorizationPrimaryType:()=>ICe,authorizationTypes:()=>SCe,config:()=>Twe,createClientAvalancheFuji:()=>hCe,createClientSepolia:()=>dCe,createConnectedClient:()=>_b,createSigner:()=>Cb,createSignerAvalancheFuji:()=>pCe,createSignerSepolia:()=>fCe,getChainFromNetwork:()=>Eb,isAccount:()=>gCe,isSignerWallet:()=>mCe,isZkStackChain:()=>GD,usdcABI:()=>kwe});var SCe={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},ICe="TransferWithAuthorization",TCe={};cb(TCe,{SvmAddressRegex:()=>xb});var xb=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,kCe=/^[A-Za-z0-9+/]*={0,2}$/,PCe=18,p4=/^0x[0-9a-fA-F]{40}$/,Ab=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,OCe=/^0x[0-9a-fA-F]{64}$/,RCe=/^0x[0-9a-fA-F]+$/,Lb=["exact"],Lf=[1],Sb=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Jp=t=>Number.isInteger(Number(t))&&Number(t)>=0,$Ce=t=>e=>e.length<=t,Ib=kt().regex(p4).or(kt().regex(xb)),MCe=kt().regex(Ab).or(kt().regex(xb)),Sf=$n({scheme:Xs(Lb),network:z3,maxAmountRequired:kt().refine(Jp),resource:kt().url(),description:kt(),mimeType:kt(),outputSchema:qc(Wl()).optional(),payTo:Ib,maxTimeoutSeconds:Ri().int(),asset:MCe,extra:qc(Wl()).optional()}),NCe=$n({from:kt().regex(p4),to:kt().regex(p4),value:kt().refine(Jp).refine($Ce(PCe)),validAfter:kt().refine(Jp),validBefore:kt().refine(Jp),nonce:kt().regex(OCe)}),DCe=$n({signature:kt().regex(RCe),authorization:NCe}),jCe=$n({transaction:kt().regex(kCe)}),XD=$n({x402Version:Ri().refine(t=>Lf.includes(t)),scheme:Xs(Lb),network:z3,payload:bI([DCe,jCe])});$n({x402Version:Ri().refine(t=>Lf.includes(t)),error:Xs(Sb).optional(),accepts:W1(Sf).optional(),payer:kt().regex(Ab).optional()});var UCe=Xs(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),BCe=$n({type:IG("http"),method:UCe,queryParams:qc(kt(),kt()).optional(),bodyType:Xs(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:qc(kt(),Wl()).optional(),headerFields:qc(kt(),Wl()).optional()});SG("type",[BCe]);var FCe=$n({resource:kt(),type:Xs(["http"]),x402Version:Ri().refine(t=>Lf.includes(t)),accepts:W1(Sf),lastUpdated:LG(),metadata:qc(Wl()).optional()});$n({paymentPayload:XD,paymentRequirements:Sf});$n({paymentPayload:XD,paymentRequirements:Sf});$n({isValid:wI(),invalidReason:Xs(Sb).optional(),payer:Ib.optional()});$n({success:wI(),errorReason:Xs(Sb).optional(),payer:Ib.optional(),transaction:kt().regex(Ab),network:z3});$n({type:kt().optional(),limit:Ri().optional(),offset:Ri().optional()});$n({x402Version:Ri().refine(t=>Lf.includes(t)),items:W1(FCe),pagination:$n({limit:Ri(),offset:Ri(),total:Ri()})});var zCe=$n({x402Version:Ri().refine(t=>Lf.includes(t)),scheme:Xs(Lb),network:z3,extra:qc(Wl()).optional()});$n({kinds:W1(zCe)});var WCe={};cb(WCe,{createDevnetRpcClient:()=>KD,createMainnetRpcClient:()=>YD,createSignerFromBase58:()=>xCe,createSvmConnectedClient:()=>ECe,decodeTransactionFromPayload:()=>VCe,getRpcClient:()=>JD,getRpcSubscriptions:()=>CCe,getTokenPayerFromTransaction:()=>HCe,isSignerWallet:()=>ACe,signAndSimulateTransaction:()=>qCe,signTransactionWithSigner:()=>QD});function VCe(t){try{const n=X7e().encode(t.transaction);return Sve().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function HCe(t){const e=J9e().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,a=n[s].toString();if(a===HD.toString()||a===oCe.toString()){const o=i.accountIndices??[];if(o.length>=4){const c=o[3],l=n[c].toString();if(l)return l}}}return""}async function qCe(t,e,n){const r=await QD(t,e),i=kve(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function QD(t,e){if(FD(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(zD(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return ZCe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function ZCe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}$n({paymentHeader:kt(),paymentRequirements:Sf});class $o{static parse(e){try{return new $o(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return Lg(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Lg(e)}}class Tb extends $o{static parse(e){try{return new Tb(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const lTe=({style:t,...e})=>g.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),GCe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",KCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Y2,Ku;class YCe extends C2{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:KCe,id:"com.coinbase.wallet"}}async promptConnection(){ae.debug("Prompting connection via Base Account",{wallet:this.walletClientType});try{await this.importPromise,ae.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(ae.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Ft("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw ae.connectionFailed(this.walletClientType,e,{method:"base_account"}),rc(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new E2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},Y2?(this.proxyProvider.setWalletProvider(Y2.getProvider()),this.setBaseAccountSdk(Y2)):this.importPromise=we(async()=>{const{createBaseAccountSDK:a}=await import("./launchpad-index-B8ckVHWO.js");return{createBaseAccountSDK:a}},__vite__mapDeps([3,1,4])).then(({createBaseAccountSDK:a})=>{Y2=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Y2.getProvider()),this.setBaseAccountSdk(Y2)}).catch(console.error)}}let JCe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class XCe extends C2{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:GCe,id:"com.coinbase.wallet"}}async promptConnection(){ae.debug("Prompting connection via Coinbase Wallet",{wallet:this.walletClientType});try{ae.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(ae.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Ft("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw ae.connectionFailed(this.walletClientType,e,{method:"coinbase_wallet"}),rc(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Ku=gv({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Ku.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new E2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(s=>s.id))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Ku){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(a=>!JCe.includes(a)):[];s.length>0&&!s.every(a=>rB.has(a))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),Ku=gv(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Ku.getProvider())}}const QCe=({...t})=>g.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class Ux extends C2{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Uy(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:QCe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function jt(){let t=gj();return t?t.getAccessToken():Promise.resolve(Me.get(Sp)||Me.get(Qu)||null)}const eEe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function Lh(t){return t?{"privy-ui":"t"}:void 0}class pl{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new G("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Cne,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new G("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Ene,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw lt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new G("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new G("Email must be set when initialzing authentication.");let i=Lh(r);try{return await this.api.post(_ne,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw lt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class tEe extends pl{async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new G("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Ane,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw lt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class ss{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class Bx{get meta(){return this._meta}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.channelToken)throw new G("Auth flow must be initialized first");try{let e=await this.api.post(gne,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new G("No response from authentication");return e}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(yne,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw lt(e)}}async _startChannelOnce(){if(!this.api)throw new G("Auth flow has no API instance");let e=await this.api.post(mne,{token:this.captchaToken});ah&&!wQ&&e.connect_uri&&dO(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new G("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.channelToken)throw new G("Auth flow must be initialized first");let e=await this.api.get(wne,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ss(this._startChannelOnce.bind(this)),this.pollForReady=new ss(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function kb(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function ej(){return kb()?window.chrome?.runtime?.id:void 0}function m4(){return kb()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function Fx(t){return new Promise((e,n)=>{m4()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){return kb()?window.chrome?.runtime?.lastError?.message:void 0}();if(i||!r){let l=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(l)}let s=new URL(r),a=ej();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let l=s.hostname.split(".");if(l.length!==3||l[1]!=="chromiumapp"||l[2]!=="org"||l[0]!==a)throw Error("Invalid responseUri origin")}}let o=s.searchParams.get("privy_oauth_state"),c=s.searchParams.get("privy_oauth_code");if(!o||!c)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:o,privyOAuthCode:c})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}function g4(t){return crypto.getRandomValues(new Uint8Array(t))}function Pb(){return Gc(g4(36))}function tj(){return Pb()}async function nj(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return Gc(n)}}class al{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new G("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new G("User denied confirmation during OAuth flow");let e=function(){let n=Me.get(xu);if(!n)throw new G("Authentication error.");return n}();try{let n=await this.api.post(sO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Me.del(xu),Me.del(x0),Me.del(fd),n}catch(n){let r=lt(n);throw r.privyErrorCode?new G(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new G("Invalid code during oauth flow.",void 0,ne.OAUTH_USER_DENIED):new G("Invalid code during OAuth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new G("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new G("User denied confirmation during OAuth flow");let e=Me.get(xu);if(!e)throw new G("Authentication error.");try{let n=await this.api.post(aO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Me.del(xu),n}catch(n){throw lt(n)}}async getAuthorizationUrl(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.provider)throw new G("Provider must be set when initializing OAuth authentication.");let e=Pb();Me.put(xu,e);let n=tj();Me.put(E0,n);let r=await nj(e);this.meta.withPrivyUi||Me.put(x0,!0),this.meta.disableSignup?Me.put(fd,!0):Me.del(fd);let i=Lh(this.meta.withPrivyUi),s=window.location.href,a=function(){let o=ej();if(o)return`https://${o}.chromiumapp.org`}();a&&(s=a);try{return await this.api.post(iO,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(o){throw lt(o)}}constructor(e){this.meta=e}}function nEe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Me.get(x0),popupFlow:window.opener!==null&&i,disableSignup:!!Me.get(fd)}}function uTe(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Me.del(E0),window.history.replaceState({},"",t)}class J2{async initRegisterFlow(e){if(!this.api)throw new G("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new G("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new G("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await we(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Bne,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):lt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await we(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map(r=>({type:"public-key",id:r}))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Une,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):lt(r)}}async link(){let e=await we(()=>import("./launchpad-index-D9std1Z8.js"),[]);if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(jne,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,ne.PASSKEY_NOT_ALLOWED):lt(n)}}async _initRegisterOnce(e){if(!this.api)throw new G("Auth flow has no API instance");let n=Lh(e);return await this.api.post(Dne,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new G("Auth flow has no API instance");let n=Lh(e);return await this.api.post(Nne,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new G("Auth flow has no API instance");return await this.api.post(Mne,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(n=>({type:n.type,alg:n.alg})),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map(n=>({id:n.id,type:n.type,transports:n.transports})),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(n=>({id:n.id,type:n.type,transports:n.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ss(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ss(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ss(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const y4=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Xp{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new G("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new G("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw lt(e)}}async link(){if(!this.client)throw new G("SiweFlow has no client instance");try{if(!this.wallet)throw new G("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw lt(e)}}async sign(){if(!this.client)throw new G("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new G("Could not prepare SIWE message");if(!this.wallet)throw new G("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new G("SiweFlow has no client instance");if(!this.wallet)throw new G("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new G("SiweFlow has no client instance");if(!this.wallet)throw new G("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=y4({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ss(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class zx{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new G("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw lt(e)}}async link(){if(!this.client)throw new G("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw lt(e)}}async sign(){let e,n;if(!this.client)throw new G("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new G("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new G("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:J6.decode(this.preparedMessage)});e=J6.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=J6.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new G("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new G("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=ore({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ss(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}class ml{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new G("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(kne,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new G("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Ine,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw lt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new G("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new G("phone nNumber must be set when initialzing authentication.");let i=Lh(r);try{return await this.api.post(Sne,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw lt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class rEe extends ml{async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new G("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(Pne,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw lt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const rj=R.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:Y,setError:Y,setExecuting:Y,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:BI,reset:Y,execute:Y});class w4 extends Qo{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const iEe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=R.useRef(null),s=R.useRef(null),[a,o]=R.useState(),[c,l]=R.useState(),[u,d]=R.useState(!1),h=R.useMemo(()=>r?u||a||c?!u||a||c?a&&!c?{status:"success",token:a}:c?{status:"error",error:c}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,a,c,u]),f=R.useMemo(()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),d(!1),l(void 0),o(void 0)},reset:()=>{i.current?.reset(),d(!1),l(void 0),o(void 0)},execute:()=>{d(!0),i.current?.execute()},waitForResult:async()=>{try{return await $9(()=>i.current?.getResponse(),{interval:200,timeout:2e4})}catch{throw new w4("Captcha failed",null,ne.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),d(!1),l(void 0),o(void 0)},reset:()=>{s.current?.resetCaptcha(),d(!1),l(void 0),o(void 0)},execute:()=>{d(!0),s.current?.execute()},waitForResult:async()=>{try{return await $9(()=>{let m=s.current?.getResponse();if(m)return m},{interval:200,timeout:2e4})}catch{throw new w4("Captcha failed",null,ne.CAPTCHA_TIMEOUT)}}}:null,[r]),p=R.useMemo(()=>{if(!r||!f)return{...h,enabled:!1,siteKey:"",appId:e,setToken:Y,setError:Y,setExecuting:Y,waitForResult:()=>Promise.resolve(void 0),remove:BI,reset:Y,execute:Y,provider:void 0,ref:{current:null}};let m={...h,enabled:!0,appId:e,setToken:o,setError:l,setExecuting:d};return r==="turnstile"?{...m,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...f}:{...m,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...f}},[h,r,f,e,n]);return g.jsx(rj.Provider,{value:p,children:t})},ij=()=>R.useContext(rj);class Yu{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(Fne,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(zne,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw lt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function dTe(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===ne.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===ne.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===ne.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ne.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===ne.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof w4&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function Wx(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Vx(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let sEe=R.lazy(()=>we(()=>import("./launchpad-TurnstileWrapper-Co-t5mTh-DpQbCh7W.js"),__vite__mapDeps([5,1]))),aEe=R.lazy(()=>we(()=>import("./launchpad-HCaptchaWrapper-CUi9LJsp-d9WQjF88.js"),__vite__mapDeps([6,1])));const oEe=t=>{let e=ij();return R.useEffect(()=>e.remove,[e.remove]),e.enabled&&e.provider?g.jsx(R.Suspense,{fallback:null,children:g.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&g.jsx(sEe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&g.jsx(aEe,{...t,captchaContext:e})]})}):null};var W3=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>we(()=>import("./launchpad-AccountNotFoundScreen-CeH1-Vk6-D8uOxCsW.js"),__vite__mapDeps([7,1,8,9,10,11,12])),AffirmativeConsentScreen:()=>we(()=>import("./launchpad-AffirmativeConsentScreen-CXITm_N9-L61A1JN0.js"),__vite__mapDeps([13,1,9,14,8,10,11,12,15])),AllowlistRejectionScreen:()=>we(()=>import("./launchpad-AllowlistRejectionScreen-lgFXWCYE-cAykV7zJ.js"),__vite__mapDeps([16,1,8,9,10,11,17,12])),AuthenticateWithWalletScreen:()=>we(()=>import("./launchpad-AuthenticateWithWalletScreen-m06-fuCA-yCkdfBuH.js"),__vite__mapDeps([18,1,19,9,20,21,12,22,23,24,25,26,27,28,29,10,11])),AwaitingEvmToSolBridgingScreen:()=>we(()=>import("./launchpad-AwaitingEvmToSolBridgingScreen-CckTG9KA-D6Qk3TrF.js"),__vite__mapDeps([30,1,31,32,9,33,34,11,35,36,37,38,39,40,41,42,43,44,45,27,46,47,48,49,50,51,52,21,12,22,53,54,55,56,57,58,59,60,8,10,61,62,63,64])),AwaitingExternalEthereumTransferScreen:()=>we(()=>import("./launchpad-AwaitingExternalEthereumTransferScreen-eF2GWu8M-DZ5LrsXB.js"),__vite__mapDeps([65,1,31,32,9,33,34,11,35,36,66,56,57,37,38,42,43,44,45,27,46,47,48,39,49,50,51,52,21,12,22,53,54,55,58,59,60,8,10,61,62,63,67,64])),AwaitingPasswordlessCodeScreen:()=>we(()=>import("./launchpad-AwaitingPasswordlessCodeScreen-BOBPSamI-C5NWm0VI.js"),__vite__mapDeps([68,1,69,70,32,23,14,8,9,10,11])),AwaitingSolToEvmBridgingScreen:()=>we(()=>import("./launchpad-AwaitingSolToEvmBridgingScreen-P3cpg0C5-BuoktSRg.js"),__vite__mapDeps([71,1,31,32,9,33,34,11,37,38,50,51,48,44,45,52,21,12,22,53,67])),CaptchaScreen:()=>we(()=>import("./launchpad-CaptchaScreen-B3Ykiq24-BXnfMx_2.js"),__vite__mapDeps([72,1,8,9,10,11,61,12,73])),CoinbaseOnrampStatusScreen:()=>we(()=>import("./launchpad-CoinbaseOnrampStatusScreen-w23Wg5d9-CnBDPJlF.js"),__vite__mapDeps([74,1,75,76,9,32,37])),ConnectLedgerScreen:()=>we(()=>import("./launchpad-ConnectLedgerScreen-CeefF4eo-BNP4D1hE.js"),__vite__mapDeps([77,1,8,9,10,11,12])),ConnectOnlyLandingScreen:()=>we(()=>import("./launchpad-ConnectOnlyLandingScreen-DsUmsQqW-DmiRR8ZT.js"),__vite__mapDeps([78,1,19,9,20,21,12,22,23,24,25,26,27,28,29,10,11])),ConnectOnlyStatusScreen:()=>we(()=>import("./launchpad-ConnectOnlyStatusScreen-BWSDA11j-BN5QW1jt.js"),__vite__mapDeps([79,1,8,9,10,11,80,23,28,14])),ConnectOrCreateScreen:()=>we(()=>import("./launchpad-ConnectOrCreateScreen-2uZYB3jh-D3dz2FgC.js"),__vite__mapDeps([81,1,82,9,19,20,21,12,22,23,24,25,26,27,28,29,10,11,83,49,45,84,85,86,87,88,89,90,8])),ConnectionStatusScreen:()=>we(()=>import("./launchpad-ConnectionStatusScreen-DC1viuqC-BrtL5EFR.js"),__vite__mapDeps([80,1,23,28,14,8,9,10,11])),CrossAppAuthScreen:()=>we(()=>import("./launchpad-CrossAppAuthScreen-BBpfShQF-B_QBoFZS.js"),__vite__mapDeps([91,1,14,8,9,10,11])),DelegatedActionsConsentScreen:()=>we(()=>import("./launchpad-DelegatedActionsConsentScreen-BcanXrk2-DlIkkrP7.js"),__vite__mapDeps([92,1,93,9,27,94,52,21,12,22,54,8,10,11,95,61])),DelegatedActionsRevokeScreen:()=>we(()=>import("./launchpad-DelegatedActionsRevokeScreen-CEToWbrk-PZ_te_wC.js"),__vite__mapDeps([96,1,8,9,10,11,95,12,61])),EmbeddedWalletConnectingScreen:()=>we(()=>import("./launchpad-EmbeddedWalletConnectingScreen-CTdp8K5o-eASJQvsN.js"),__vite__mapDeps([97,1,8,9,10,11,73,12])),EmbeddedWalletCreatedScreen:()=>we(()=>import("./launchpad-EmbeddedWalletCreatedScreen-BEBjX0Mt-BskPRNzS.js"),__vite__mapDeps([98,1,8,9,10,11,61,12])),EmbeddedWalletKeyExportScreen:()=>we(()=>import("./launchpad-EmbeddedWalletKeyExportScreen-DdviAcYq-LHQ7u_iU.js"),__vite__mapDeps([99,1,100,101,93,9,27,94,52,21,12,22,54,8,10,11])),EmbeddedWalletOnAccountCreateScreen:()=>we(()=>import("./launchpad-EmbeddedWalletOnAccountCreateScreen-eKriq-Nq-BWKvcaGA.js"),__vite__mapDeps([102,1,8,9,10,11,73,12])),EmbeddedWalletPasswordCreateScreen:()=>we(()=>import("./launchpad-RecoveryPasswordCreateScreen-BRb1syw7-D-Stc79N.js"),__vite__mapDeps([103,1,104,101,32,9,105,106,76,33])),EmbeddedWalletPasswordUpdateScreen:()=>we(()=>import("./launchpad-EmbeddedWalletPasswordUpdateScreen-BAlUIAfz-BqDouKsQ.js"),__vite__mapDeps([107,1,104,101,32,9,105,106,76,33])),EmbeddedWalletPasswordUpdateSplashScreen:()=>we(()=>import("./launchpad-EmbeddedWalletPasswordUpdateSplashScreen-DX_WQZdd-BOiE5M_s.js"),__vite__mapDeps([108,1,8,9,10,11,17,12])),ErrorScreen:()=>we(()=>import("./launchpad-ErrorScreen-V8ec2dKP-D_hRhYgC.js"),__vite__mapDeps([109,1,38,8,9,10,11,12,17])),FarcasterConnectStatusScreen:()=>we(()=>import("./launchpad-FarcasterConnectStatusScreen-BB7egF78-CsQ1GbXX.js"),__vite__mapDeps([110,1,111,24,25,9,94,14,8,10,11,85,21,12,22])),FarcasterSignerStatusScreen:()=>we(()=>import("./launchpad-FarcasterSignerStatusScreen-DE_ssKid-UQW6BP08.js"),__vite__mapDeps([112,1,113,111,24,25,8,9,10,11,85])),FundSolWalletWithExternalSolanaWallet:()=>we(()=>import("./launchpad-FundSolWalletWithExternalSolanaWallet-DAhHczol-D_QMSqkN.js"),__vite__mapDeps([114,1,31,9,32,33,34,51,48,11,44,45,115,35,36,37,41,116,39,63])),FundWithBankDepositScreen:()=>we(()=>import("./launchpad-FundWithBankDepositScreen-wFJhtxMV-hGUT1FrH.js"),__vite__mapDeps([117,1,20,21,12,22,8,9,10,11,118,73])),FundingAmountEditScreen:()=>we(()=>import("./launchpad-FundingEditAmountScreen-kwQjuyb9-BFsjAcNz.js"),__vite__mapDeps([119,1,9,32,34,11,47,35,36,57,58,59,60,12,21,8,10,61,62])),FundingMethodSelectionScreen:()=>we(()=>import("./launchpad-FundingMethodSelectionScreen-CbxUWw1v-Cb7Jmxhm.js"),__vite__mapDeps([120,1,75,9,34,121,122,118,29,123,124,37,58,59,60,12,21,8,10,11,61,62])),InAppBrowserLoginNotPossible:()=>we(()=>import("./launchpad-InAppBrowserLoginNotPossible-BR9y7vrg-R_p18n6e.js"),__vite__mapDeps([125,1,8,9,10,11,15,12])),InstallWalletScreen:()=>we(()=>import("./launchpad-InstallWalletScreen-DkaJ2iZK-VgGP5flO.js"),__vite__mapDeps([126,1,23,60,12,21,8,9,10,11])),LandingScreen:()=>we(()=>import("./launchpad-LandingScreen-BtCc-4_K-Rz7lbMgE.js"),__vite__mapDeps([127,1,82,9,19,20,21,12,22,23,24,25,26,27,28,29,10,11,83,49,45,84,85,86,87,88,89,90,8])),LinkConflictScreen:()=>we(()=>import("./launchpad-LinkConflictScreen-CSZu5Mc7-DMbK-AH4.js"),__vite__mapDeps([128,1,101,48,9,129,52,21,12,22,130,122])),LinkEmailScreen:()=>we(()=>import("./launchpad-LinkEmailScreen-CMX1b5QU---EwhCfx.js"),__vite__mapDeps([131,1,69,83,9,49,45,26,27,84,12,32,8,10,11])),LinkPasskeyScreen:()=>we(()=>import("./launchpad-LinkPasskeyScreen-BfLq2-Q5-DEl3FY6W.js"),__vite__mapDeps([59,1,60,12,21,8,9,10,11,61,62])),LinkPhoneScreen:()=>we(()=>import("./launchpad-LinkPhoneScreen-CGYAeavW-BHAmoJJv.js"),__vite__mapDeps([132,1,70,87,9,49,45,8,10,11])),LoginFailedScreen:()=>we(()=>import("./launchpad-LoginFailedScreen-DpfFaY7V-CsMczcEr.js"),__vite__mapDeps([133,1,8,9,10,11,73,12])),ManualTransferScreen:()=>we(()=>import("./launchpad-ManualTransferScreen-D3CPPofR-Dd-PUmj2.js"),__vite__mapDeps([134,1,9,32,24,25,34,118,46,47,93,27,94,52,21,12,22,54,135,37,39,116,41,40,43,63])),MfaAuthEnrollmentFlowScreen:()=>we(()=>import("./launchpad-MfaAuthEnrollmentFlowScreen-YWkK-71P-DJ-Lj4zx.js"),__vite__mapDeps([136,1,9,137,138,139,86,70,49,45,109,38,8,10,11,12,17,59,60,21,61,62,113,32,94,46,47,54,24,25])),MfaAuthVerifyFlowScreen:()=>we(()=>import("./launchpad-MfaAuthVerifyFlowScreen-BIGip6ll-Dsl12tBP.js"),__vite__mapDeps([140,1,141,139,86,70,137,9,8,10,11,101,129,35,36,142,143,57,41,40,32,55])),MfaEnrollmentFlowScreen:()=>we(()=>import("./launchpad-MfaEnrollmentFlowScreen-XrdyfmmI-HBRnpVuD.js"),__vite__mapDeps([144,1,9,137,138,139,86,70,49,45,109,38,8,10,11,12,17,59,60,21,61,62,113,32,94,46,47,54,24,25,31,87])),MoonpayStatusScreen:()=>we(()=>import("./launchpad-MoonpayStatusScreen-CqsI_vjN-C71QfAri.js"),__vite__mapDeps([145,1,75,76,9,32,124,37])),OAuthStatusScreen:()=>we(()=>import("./launchpad-OAuthStatusScreen-DB8OcP_K-D6pLGvWk.js"),__vite__mapDeps([146,1,88,53,14,8,9,10,11,130])),PasskeySelectSignupOrLogin:()=>we(()=>import("./launchpad-PasskeySelectSignupOrLogin-DCaGA7kA-JgNkOwrz.js"),__vite__mapDeps([147,1,8,9,10,11,62,12])),PasskeyStatusScreen:()=>we(()=>import("./launchpad-PasskeyStatusScreen-5cLO3m8F-C19ChpQd.js"),__vite__mapDeps([148,1,14,8,9,10,11,62,12])),PasswordRecoveryScreen:()=>we(()=>import("./launchpad-PasswordRecoveryScreen-Bfqx2sWJ-DJ_UNTXD.js"),__vite__mapDeps([149,1,137,9,32,105,10,11])),RecoveryOAuthScreen:()=>we(()=>import("./launchpad-RecoveryOAuthStatusScreen-CScuB-aG-CL7GzpD_.js"),__vite__mapDeps([150,1,9,33,151])),RecoverySelectionScreen:()=>we(()=>import("./launchpad-RecoverySelectionScreen-DfHkr07F-D86UclQl.js"),__vite__mapDeps([152,1,153,9,33,151])),SendTransactionScreen:()=>we(()=>import("./launchpad-index-BAAWn9Kv-9OOPAor6.js"),__vite__mapDeps([154,1,52,9,21,12,22,35,36,135,123,56,57,109,38,8,10,11,17,155,156,44,45,27,94,46,47,93,54,106,121,122,100,101,55,63,32,33,142,143,41,40,66])),SetAutomaticRecoveryScreen:()=>we(()=>import("./launchpad-SetAutomaticRecoveryScreen-Ol789UQM-ZcVyVaPX.js"),__vite__mapDeps([157,1,101,153,9,46,47])),SignRequestScreen:()=>we(()=>import("./launchpad-SignRequestScreen-CUMcsLye-BPDxVlrE.js"),__vite__mapDeps([158,1,113,32,155,8,9,10,11,12])),StandardSignAndSendTransactionScreen:()=>we(()=>import("./launchpad-StandardSignAndSendTransactionScreen-C8nW4u5b-DmR2XjzA.js"),__vite__mapDeps([159,1,36,109,38,8,9,10,11,12,17,31,32,33,44,45,143,57,41,40,129,156,27,94,46,47,52,21,22,93,54,106,121,122,100,101,55,63,115])),TelegramAuthScreen:()=>we(()=>import("./launchpad-TelegramAuthScreen-jb192MAl-DiAFuiz7.js"),__vite__mapDeps([160,1,14,8,9,10,11,89])),TransferFromWalletScreen:()=>we(()=>import("./launchpad-TransferFromWalletScreen-B8AzQgyG-DLt3zcq3.js"),__vite__mapDeps([161,1,9,33,34,49,45,46,90,12,51,48,58,59,60,21,8,10,11,61,62])),UpdateEmailScreen:()=>we(()=>import("./launchpad-UpdateEmailScreen-deteEdyS-B8-I0ztj.js"),__vite__mapDeps([162,1,69,32,9,26,27,8,10,11,84,12])),UpdatePhoneScreen:()=>we(()=>import("./launchpad-UpdatePhoneScreen-D3RSZlDk-CfBjYHzj.js"),__vite__mapDeps([163,1,70,87,9,49,45,8,10,11])),UserLimitReachedScreen:()=>we(()=>import("./launchpad-UserLimitReachedScreen-QT4sbDev-COj4sqBi.js"),__vite__mapDeps([164,1,8,9,10,11])),WalletInterstitialScreen:()=>we(()=>import("./launchpad-WalletInterstitialScreen-DPTs9K3X-Buv7lhB1.js"),__vite__mapDeps([165,1,8,9,10,11]))});function cEe(t){tf("configureMfa",t)}const Sh=ec(()=>({inProgressMfaFlow:void 0})),lEe=XJ`
  :root {
     ${t=>uEe(t.palette)}
  };
`,uEe=t=>{let e=function(n){return{"--privy-color-background":n.background,"--privy-color-background-2":n.background2,"--privy-color-background-3":n.background3,"--privy-color-foreground":n.foreground,"--privy-color-foreground-2":n.foreground2,"--privy-color-foreground-3":n.foreground3,"--privy-color-foreground-4":n.foreground4,"--privy-color-foreground-accent":n.foregroundAccent,"--privy-color-accent":n.accent,"--privy-color-accent-light":n.accentLight,"--privy-color-accent-hover":n.accentHover,"--privy-color-accent-dark":n.accentDark,"--privy-color-accent-darkest":n.accentDarkest,"--privy-color-success":n.success,"--privy-color-success-dark":n.successDark,"--privy-color-success-light":n.successLight,"--privy-color-success-bg":n.successBg,"--privy-color-error":n.error,"--privy-color-error-light":n.errorLight,"--privy-color-error-bg":n.errorBg,"--privy-color-error-bg-hover":n.errorBgHover,"--privy-color-warn":n.warn,"--privy-color-warn-light":n.warnLight,"--privy-color-warn-bg":n.warnBg,"--privy-color-warning-dark":n.warningDark,"--privy-color-error-dark":n.errorDark,"--privy-color-info-bg":n.infoBg,"--privy-color-info-bg-hover":n.infoBgHover,"--privy-color-border-default":n.borderDefault,"--privy-color-border-hover":n.borderHover,"--privy-color-border-focus":n.borderFocus,"--privy-color-border-error":n.borderError,"--privy-color-border-success":n.borderSuccess,"--privy-color-border-warning":n.borderWarning,"--privy-color-border-info":n.borderInfo,"--privy-color-border-interactive":n.borderInteractive,"--privy-color-border-interactive-hover":n.borderInteractiveHover,"--privy-color-background-hover":n.backgroundHover,"--privy-color-background-clicked":n.backgroundClicked,"--privy-color-background-disabled":n.backgroundDisabled,"--privy-color-background-interactive":n.backgroundInteractive,"--privy-color-background-interactive-hover":n.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":n.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":n.backgroundInteractiveDisabled,"--privy-color-foreground-hover":n.foregroundHover,"--privy-color-foreground-clicked":n.foregroundClicked,"--privy-color-foreground-disabled":n.foregroundDisabled,"--privy-color-foreground-interactive":n.foregroundInteractive,"--privy-color-foreground-interactive-hover":n.foregroundInteractiveHover,"--privy-link-navigation-color":n.linkNavigationColor,"--privy-link-navigation-decoration":n.linkNavigationDecoration,"--privy-accent-has-good-contrast":n.accentHasGoodContrast,"--privy-color-icon-default":n.iconDefault,"--privy-color-icon-muted":n.iconMuted,"--privy-color-icon-subtle":n.iconSubtle,"--privy-color-icon-inverse":n.iconInverse,"--privy-color-icon-success":n.iconSuccess,"--privy-color-icon-warning":n.iconWarning,"--privy-color-icon-error":n.iconError,"--privy-color-icon-interactive":n.iconInteractive,"--privy-color-icon-default-hover":n.iconDefaultHover,"--privy-color-icon-muted-hover":n.iconMutedHover,"--privy-color-icon-subtle-hover":n.iconSubtleHover,"--privy-color-icon-default-clicked":n.iconDefaultClicked,"--privy-color-icon-muted-clicked":n.iconMutedClicked,"--privy-color-icon-subtle-clicked":n.iconSubtleClicked,"--privy-color-icon-default-disabled":n.iconDefaultDisabled,"--privy-color-icon-muted-disabled":n.iconMutedDisabled,"--privy-color-icon-subtle-disabled":n.iconSubtleDisabled,"--privy-color-icon-error-hover":n.iconErrorHover,"--privy-color-icon-interactive-hover":n.iconInteractiveHover,"--privy-color-icon-error-clicked":n.iconErrorClicked,"--privy-color-icon-interactive-clicked":n.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":n.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":n.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t);return Xh`
    ${Object.entries(e).map(([n,r])=>`${n}: ${r};`).join(`
`)}
  `},Hx=$t.div`
  // css normalize only the privy application to avoid conflicts
  // with consuming application
  ${`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`}

  // Privy styles
  color: var(--privy-color-foreground-2);

  h3 {
    font-size: 16px;
    line-height: 24px;
    font-weight: 500;
    color: var(--privy-color-foreground-2);
  }

  h4 {
    font-size: 14px;
    line-height: 20px;
    font-weight: 500;
    color: var(--privy-color-foreground);
  }

  p {
    font-size: 13px;
    line-height: 20px;
    color: var(--privy-color-foreground-2);
  }

  button:focus,
  input:focus,
  optgroup:focus,
  select:focus,
  textarea:focus {
    outline: none;
    border-color: var(--privy-color-accent-light);
    box-shadow: 0 0 0 3px var(--privy-color-border-focus);
  }

  .mobile-only {
    @media (min-width: 441px) {
      display: none;
    }
  }

  /* Animations */

  @keyframes fadein {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
`,dEe=({children:t,open:e,onClick:n,...r})=>g.jsx(XO,{show:e,as:Te.Fragment,children:g.jsxs(Tse,{onClose:n,...r,as:fEe,children:[g.jsx(fh,{as:Te.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(hEe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),g.jsx(pEe,{children:g.jsx(fh,{as:Te.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(QO,{as:mEe,children:t})})})]})});let hEe=$t.div`
  position: fixed;
  inset: 0;

  transition: backdrop-filter 100ms ease;
  backdrop-filter: blur(3px);
  -webkit-backdrop-filter: blur(3px);

  &.entering,
  &.leaving {
    backdrop-filter: unset;
    -webkit-backdrop-filter: unset;
  }
`,fEe=$t.div`
  position: relative;
  z-index: 999999;
`,pEe=$t.div`
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100vw;
  min-height: 100vh;
`;const mEe=$t.div`
  // reset some default dialog styles
  padding: 0;
  background: transparent;
  border: none;
  width: 100%;
  pointer-events: auto;

  outline: none;
  display: block;

  /*
   * Normally it is bad to mix media queries like this We are doing
   * this here specifically for animations to avoid weird jank.
   */
  /* Mobile animation is a bottom drawer */
  @media (max-width: 440px) {
    opacity: 1;
    transform: translate3d(0, 0, 0);
    transition: transform 200ms ease-in;
    position: fixed;
    bottom: 0;

    &.entering,
    &.leaving {
      opacity: 0;
      transform: translate3d(0, 100%, 0);
      transition:
        transform 150ms ease-in 0ms,
        opacity 0ms ease 150ms;
    }
  }

  /* Tablet/Desktop animation is a fade in */
  @media (min-width: 441px) {
    opacity: 1;
    transition: opacity 100ms ease-in;

    &.entering,
    &.leaving {
      opacity: 0;
      transition-delay: 5ms;
    }

    margin: auto;
    width: 360px;
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`;$t.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`;const gEe=()=>{let{ready:t}=hu(),{currentScreen:e}=Vl(),[n,r]=R.useState(null),[i,s]=R.useState(!1),a=function(o){let[c,l]=R.useState(!1),u=R.useRef(null),d=R.useRef(null),h=R.useRef(null);return R.useEffect(()=>{if(u.current&&(clearTimeout(u.current),u.current=null),d.current&&(clearTimeout(d.current),d.current=null),o)h.current=Date.now(),u.current=setTimeout(()=>{l(!0)},150);else if(h.current!==null){let f=Date.now()-h.current;if(f>=150){let p=Math.max(0,400-(f-150));d.current=setTimeout(()=>{l(!1),h.current=null},p)}else u.current&&(clearTimeout(u.current),u.current=null),l(!1),h.current=null}return()=>{u.current&&clearTimeout(u.current),d.current&&clearTimeout(d.current)}},[o]),c}(i);return R.useEffect(()=>{if(!e)return r(null),void s(!1);s(!0),W3[e]().then(o=>{(!e||t||o.default.isShownBeforeReady)&&(r(()=>o.default.component),s(!1))}).catch(()=>{r(null),s(!1)})},[e,t]),{component:n,isLoading:a}};let qx=R.lazy(()=>we(()=>import("./launchpad-MfaVerifyFlowScreen-2H1EX_qQ-Bi-VY2eS.js"),__vite__mapDeps([166,1,141,139,86,70,137,9,8,10,11,101,129,35,36,142,143,57,41,40,32,55]))),yEe=R.lazy(()=>(t=>W3[t]().then(e=>({default:e.default.component})))("MfaAuthVerifyFlowScreen")),wEe=()=>g.jsx(CEe,{children:g.jsx(e3,{})}),sj=()=>{let{currentScreen:t}=Vl(),e=Sh(s=>s.inProgressMfaFlow),n=()=>Sh.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=gEe();return function(){let{isModalOpen:s}=hu(),{headless:a}=pi(),{currentScreen:o}=Vl(),{status:c,execute:l,reset:u,enabled:d}=ij(),[h,f]=R.useState(!1);R.useEffect(()=>{!s&&d&&u()},[s,d,u]),R.useEffect(()=>{o?W3[o]().then(p=>{f(!!p.default.isCaptchaRequired)}).catch(()=>{f(!1)}):f(!1)},[o]),R.useEffect(()=>{s&&h&&!a&&c==="ready"&&d&&l()},[s,h,a,c,d,l])}(),t||e!=="txn"?i?g.jsx(wEe,{}):r?g.jsxs(g.Fragment,{children:[g.jsx(Ik,{$if:!!e,children:g.jsx(R.Suspense,{children:g.jsx(r,{})})}),g.jsxs(R.Suspense,{children:[e==="txn"&&g.jsx(qx,{onClose:n}),e==="auth"&&g.jsx(yEe,{})]})]}):null:g.jsx(R.Suspense,{children:g.jsx(qx,{onClose:n})})},bEe=()=>{let t=R.useRef(null);return g.jsx(_Ee,{style:{height:RQ(t)},id:"privy-modal-content",children:g.jsx("div",{ref:t,children:g.jsx(sj,{})})})};const vEe=({open:t})=>{let e=pi(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=Ya(),{onUserCloseViaDialogOrKeybindRef:s}=Vl();return{gracefulClosePrivyModal:R.useCallback(()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=Sh(i=>i.inProgressMfaFlow);return cEe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||Sh.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?g.jsx(Hx,{children:g.jsx(aj,{id:"privy-modal-content",children:g.jsx(sj,{})})}):g.jsx(dEe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:g.jsx(Hx,{children:g.jsx(bEe,{})})})};let aj=$t.div`
  display: flex;
  flex-direction: column;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  width: 100%;
  background: var(--privy-color-background);
  padding: 0 16px;
`,_Ee=$t(aj)`
  transition: height 150ms ease-out;
  overflow-x: hidden;
  overflow-y: auto;
  scrollbar-width: none;

  // Ensure the modal gets pinned to the top if it ever gets too tall
  max-height: calc(100svh - 32px);

  border-radius: var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;
  box-shadow: 0px 0px 36px rgba(55, 65, 81, 0.15);

  @media (min-width: 441px) {
    box-shadow: 0px 8px 36px rgba(55, 65, 81, 0.15);
    border-radius: var(--privy-border-radius-lg);
  }
`,CEe=$t.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: 2rem;
`;function EEe(t){let e=R.useRef(null),n=R.useRef();return R.useEffect(()=>{n.current?.remove(),n.current=function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:a}=new URL(i);return s.async=!0,s.src=`${a}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s}(t),e.current?.after(n.current)},[t]),g.jsx("div",{ref:e,hidden:!0})}const xEe=()=>{let{ready:t}=gk(),{client:e}=Ya();return R.useEffect(()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));Me.put(PI,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}},[t,e.connectors]),null};class b4 extends C2{async initialize(){ae.debug("Initializing WalletConnect V2 connector",{wallet:this.walletClientType});let e=await this.createProvider();if(this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session){let n=this.walletProvider?.session?.peer.metadata;ae.debug("Restoring existing WalletConnect session",{peerName:n?.name,accountsCount:this.walletProvider?.accounts?.length}),this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=B6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()}this.initialized=!0,this.emit("initialized")}async connect(e){ae.connectionStart(this.walletClientType,"wallet_connect_v2",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection();let n=await this.getConnectedWallet();return n&&ae.connectionSuccess(this.walletClientType),n}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:kQ(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:AQ,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){let n=this.walletClientType;ae.debug("Resetting WalletConnect connection for new wallet",{previousWallet:n,newWallet:e}),this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,ire(),this.onDisconnect())}async promptConnection(){if(this.provider)return ae.debug("Prompting WalletConnect connection",{wallet:this.walletClientType}),new Promise((e,n)=>{(async()=>{ae.debug("Enabling WalletConnect provider",{wallet:this.walletClientType,timeoutMs:this.proxyProvider.rpcTimeoutDuration});let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout().then(()=>{})]);if(i?.length&&(r=i[0],ae.debug("WalletConnect accounts received",{address:r,accountsCount:i.length})),!r||r==="")throw new Ft("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=B6(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",ae.debug("Identified wallet from session",{wallet:this.walletClientType}),this.proxyProvider.rpcTimeoutDuration=B8(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{ae.connectionFailed(this.walletClientType,r,{method:"wallet_connect_v2"}),n(r?rc(r):new Ft("Unknown error during connection"))})});ae.warn("WalletConnect provider not initialized")}disconnect(){this.walletProvider?.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){ae.debug("Creating WalletConnect EthereumProvider",{chainsCount:this.chains.length,defaultChainId:this.defaultChain.id});let e={};for(let s of this.chains){let a=OQ(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id);ae.debug("Initializing WalletConnect EthereumProvider",{requiredChains:n.join(", ")||"none",optionalChainsCount:r.length});let i=await mwe.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:HN,optionalMethods:VN,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{if(ae.debug("WalletConnect URI generated",{wallet:this.walletClientType,isMobile:ah,hasWalletEntry:!!this.walletEntry}),ae.debug("Aborting WalletConnect pairing attempt"),i.signer.abortPairingAttempt(),are(),!this.showPrivyQrModal)throw new Ft("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(ah&&this.walletEntry){let{redirect:a,href:o}=rre(s,this.walletEntry),c=a.startsWith("http");ae.debug("Opening mobile wallet via deep link",{wallet:this.walletEntry.name,redirectType:c?"universal":"native"}),dO(a,"_self"),sre({href:o,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let l=yv(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=l?.redirect,this.showPrivyQrModal({native:a,universal:a})}if(ae.debug("Displaying WalletConnect QR code",{wallet:this.walletEntry?.name||"generic"}),this.redirectUri=void 0,this.walletEntry){let a=yv(s,this.walletEntry);this.fallbackUniversalRedirectUri=a?.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{let s=i.session?.peer.metadata;ae.debug("WalletConnect session established",{peerName:s?.name,peerIcon:s?.icons?.[0]?"present":"none"}),i.session?.peer.metadata.url&&(this.walletEntry=B6(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")}),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:o,walletClientType:c}){super(c||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new E2(void 0,this.rpcTimeoutDuration),c&&(this.walletEntry=IQ(c),this.walletClientType=c)}}const AEe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Gt extends Error{constructor(e,n){super(n),this.type=e}}function _u(t){let e=t.type;return typeof e=="string"&&AEe.includes(e)}function m1(t){return _u(t)&&t.type==="wallet_not_on_device"}function hTe(t){return _u(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function fTe(t){return!!_u(t)&&t.type==="mfa_timeout"}function pTe(t){return!!_u(t)&&t.type==="missing_or_invalid_mfa"}function mTe(t){return!!_u(t)&&t.type==="mfa_verification_max_attempts_reached"}function gTe(t){return!(!_u(t)||!t.message.includes("code 429"))}function yTe(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}async function Li(t,e,n,r,i,s=!1){let a=s,o=async l=>{if(a&&e&&e.length>0){l===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new Gt("missing_or_invalid_mfa","MFA verification failed, retry."));let u=await new Promise((d,h)=>{n.current={resolve:d,reject:h},setTimeout(()=>{let f=new Gt("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(f),h(f)},3e5)});return await t(u)}return await t()},c=null;for(let l=0;l<4;l++)try{c=await o(l),r.current?.resolve(void 0);break}catch(u){if(u.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),u;a=!0}if(c===null){let l=new Gt("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(l),l}return c}var Zx;let LEe=(Zx=0,()=>"id-"+Zx++);function gn(t){return t.error!==void 0}let rn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},yg=new Map,SEe=(t,e)=>typeof e=="bigint"?e.toString():e;function yn(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((o,c)=>`${o}${JSON.stringify(c,SEe)}`)(t,e);if(t==="privy:wallet:create"||t==="privy:wallets:add"||t==="privy:solana-wallet:create"){let o=yg.get(s);if(o)return o}let a=new Promise((o,c)=>{let l=LEe();rn.enqueue(l,{resolve:o,reject:c}),i.postMessage({id:l,event:t,data:e},r)}).finally(()=>{yg.delete(s)});return yg.set(s,a),a}function IEe(t){let e=$I(),n=R.useRef(null),r=R.useRef(t.mfaMethods),i=Q1(),[s,a]=R.useState(!1);return R.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),R.useEffect(()=>{if(!s)return;let o=n.current;if(!o)return;function c(d){var h;d&&d.origin===t.origin&&typeof(h=d.data).event=="string"&&/^privy:.+/.test(h.event)&&function(f){switch(f.event){case"privy:iframe:ready":let p=rn.dequeue(f.event,f.id);return gn(f)?p.reject(new Gt(f.error.type,f.error.message)):p.resolve(f.data);case"privy:user-signer:sign":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:add":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:set-recovery":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:connect":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:recover":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallets:rpc":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:wallet:create":let m=rn.dequeue(f.event,f.id);return gn(f)?m.reject(new Gt(f.error.type,f.error.message)):m.resolve(f.data);case"privy:wallets:import":let y=rn.dequeue(f.event,f.id);return gn(f)?y.reject(new Gt(f.error.type,f.error.message)):y.resolve(f.data);case"privy:mfa:verify":let C=rn.dequeue(f.event,f.id);return gn(f)?C.reject(new Gt(f.error.type,f.error.message)):C.resolve(f.data);case"privy:mfa:init-enrollment":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:submit-enrollment":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:unenroll":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:mfa:clear":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:auth:unlink-passkey":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:solana-wallet:create":let L=rn.dequeue(f.event,f.id);return gn(f)?L.reject(new Gt(f.error.type,f.error.message)):L.resolve(f.data);case"privy:farcaster:init-signer":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:farcaster:sign":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}case"privy:delegated-actions:consent":{let w=rn.dequeue(f.event,f.id);return gn(f)?w.reject(new Gt(f.error.type,f.error.message)):w.resolve(f.data)}default:console.warn("Unsupported wallet proxy method:",f)}}(d.data)}let l={signWithUserSigner:d=>Li(h=>yn("privy:user-signer:sign",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:d=>Li(h=>yn("privy:wallets:add",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:d=>Li(h=>yn("privy:wallets:set-recovery",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:d=>Li(h=>yn("privy:wallets:connect",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:d=>Li(h=>yn("privy:wallets:recover",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!d.recoveryAccessToken&&!d.recoveryPassword&&!d.recoverySecretOverride),rpc:d=>Li(h=>yn("privy:wallets:rpc",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:d=>yn("privy:wallet:create",d,o,t.origin),importWallet:d=>yn("privy:wallets:import",d,o,t.origin),createSolana:d=>Li(h=>yn("privy:solana-wallet:create",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:d=>yn("privy:delegated-actions:consent",d,o,t.origin),verifyMfa:d=>Li(h=>yn("privy:mfa:verify",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:d=>Li(h=>yn("privy:mfa:init-enrollment",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:d=>Li(h=>yn("privy:mfa:submit-enrollment",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:d=>Li(h=>yn("privy:mfa:unenroll",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:d=>yn("privy:mfa:clear",d,o,t.origin),unlinkPasskeyAccount:d=>Li(h=>yn("privy:auth:unlink-passkey",{...d,...h},o,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:d=>yn("privy:farcaster:init-signer",d,o,t.origin),signFarcasterMessage:d=>yn("privy:farcaster:sign",d,o,t.origin)};window.addEventListener("message",c);let u=new AbortController;return jy(()=>yn("privy:iframe:ready",{},o,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(l),(...d)=>{console.warn("Privy iframe failed to load: ",...d),t.onLoadFailed()}),()=>{window.removeEventListener("message",c),u.abort()}},[s]),e?g.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:Lwe({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const TEe=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new G("Address to delegate is not associated with current user.");if(!X1(n))throw new G(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},kEe=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new G("Address to delegate is not associated with current user.");let r=n.imported?n:rh(e);if(!r)throw new G("Unable to determine root address for delegated address.");if(!X1(r))throw new G(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},Gx=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),Kx="popup-privy-oauth",Yx="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class PEe{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(sO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(aO,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw lt(e)}}constructor(e){this.meta=e}}async function oj({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new G("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const vp=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t?.linkedAccounts.find(d=>d.type==="cross_app"&&(d.embeddedWallets.some(h=>h.address===e)||d.smartWallets.some(h=>h.address===e)));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new G("Cannot request a signature with this wallet address");let o=n.getProviderAccessToken(a.providerApp.id),c=await oj({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!o){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new G("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(o=n.getProviderAccessToken(a.providerApp.id))}if(!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new G("Transactions require a valid token");let l=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);l.searchParams.set("token",o||""),l.searchParams.set("request",OEe(r));let u=tO({location:l.href});if(!u)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new G("Failed to initialize signature request");return new Promise((d,h)=>{let f=setTimeout(()=>{y(),h(new G("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),p=setInterval(()=>{u.closed&&(y(),h(new G("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=C=>{C.data&&(C.data.token?.action==="set"&&C.data.token?.value!==void 0?n.storeProviderAccessToken(a.providerApp.id,C.data.token.value):C.data.token?.action==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),C.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&C.data.result&&(y(),d(C.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),C.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&C.data.error&&(y(),h(C.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:C.data.error,address:e}})))};window.addEventListener("message",m);let y=()=>{u.close(),clearInterval(p),clearTimeout(f),window.removeEventListener("message",m)}})};let OEe=t=>JSON.stringify({content:{request:{request:v4(t,Ze)}},timestamp:Date.now(),callbackUrl:window.origin});const v4=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>v4(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,v4(r,e)])):t;function REe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function $Ee({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?REe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function MEe(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function Jx(t,e){if(t.onComplete)switch(e){case"external":t.fundingResult?t.onComplete({...t.fundingResult,fundingMethod:e}):t.onComplete({status:"cancelled",address:t.address,fundingMethod:e,amount:t.amount});break;case null:t.onComplete({status:"cancelled",address:t.address,fundingMethod:void 0,amount:t.amount});break;default:t.onComplete({status:"completed",address:t.address,fundingMethod:e,amount:t.amount})}}function wTe(t,e,n,r,i,s,a){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":a.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const wg=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function Xx(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some(n=>e.includes(n))}async function NEe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let DEe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const jEe=t=>{if(zI(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=DEe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};async function Qx(t,e,n,r){let i=l0(t),{chain:s,...a}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:uI[a.type]}}const UEe=()=>{let t=pi(),{user:e}=hu(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Ya();return{migrate:R.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0,migrated:!1};if(!e)throw new G("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);if(!i)throw new G("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new G("User must be authenticated before migrating wallets",ne.MUST_BE_AUTHENTICATED);let a=e.linkedAccounts.filter(l=>l.type==="wallet"&&l.walletClientType==="privy"&&X1(l)&&!si(l));if(a.length===0)return{success:!0,migrated:!1};let o=a.filter(l=>l.imported),c=a.filter(l=>!l.imported);if(c.length>0){let l=c.find(h=>h.chainType==="ethereum"&&h.walletIndex===0)??c.find(h=>h.chainType==="solana"&&h.walletIndex===0)??null;if(!l)throw new G("Primary wallet not found");let{entropyId:u,entropyIdVerifier:d}=R0(l);try{await i.connect({accessToken:s,entropyId:u,entropyIdVerifier:d})}catch(h){if(!m1(h)||l.recoveryMethod!=="privy")throw h;await i.recover({accessToken:s,entropyId:u,entropyIdVerifier:d})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:l.address,chainType:l.chainType,imported:!1},delegatedWallets:c.map(h=>({address:h.address,chainType:h.chainType,walletIndex:h.walletIndex??0}))})}for(let l of o){let{entropyId:u,entropyIdVerifier:d}=R0(l);try{await i.connect({accessToken:s,entropyId:u,entropyIdVerifier:d})}catch(h){if(!m1(h)||l.recoveryMethod!=="privy")throw h;await i.recover({accessToken:s,entropyId:u,entropyIdVerifier:d})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:l.address,chainType:l.chainType,imported:!0},delegatedWallets:[{address:l.address,chainType:l.chainType,walletIndex:l.walletIndex??0}]})}return await r(),{success:!0,migrated:!0}},[t.embeddedWallets.mode,e,i,n,r])}},BEe=({disabled:t})=>{let{migrate:e}=UEe(),{user:n}=hu(),{walletProxy:r}=Ya(),i=R.useRef(!1),s=R.useRef(0);return R.useEffect(()=>{t||s.current>2||i.current||!n||!r||(i.current=!0,s.current++,e().catch(a=>{console.debug("Unable to migrate wallets: ",a)}).finally(()=>{i.current=!1}))},[n,r,t,e]),null},FEe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),_4=ec(()=>({ethereum:[]})),_p=()=>_4.getState().ethereum,g1=ec(()=>({user:null,authenticated:!1})),Ve=t=>g1.setState({user:t}),zEe=t=>g1.setState({authenticated:t});class cj{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(Gne,{token:this.meta.token})}catch(e){throw lt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(Kne,{token:this.meta.token})}catch(e){throw lt(e)}}constructor(e){this.meta={token:e}}}const WEe=(t,e,n)=>!Mo(t)&&n!==!1&&(e==="all-users"||e==="users-without-wallets"&&!VEe(t).length);let VEe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const HEe=(t,e,n)=>!S8(t)&&n!==!1&&(e==="all-users"||e==="users-without-wallets"&&!qEe(t).length);let qEe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const ZEe=Symbol("wallet-creation-on-login-plugin"),GEe=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=Ya(),a=pi();return{create:async({walletIndex:o,chainType:c,latestUser:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})=>{let p=l;p||(p=await r());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await hO({appConfig:a,user:p,refreshSessionAndUser:r,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:o,chainType:c,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h,idempotencyKey:f})}}};function KEe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,setAuthenticated:o,setUser:c,setIsNewUser:l}=Ya(),{logout:u,authenticated:d,ready:h}=pO(),f=KN(),{create:p}=GEe(),m=pi();if(!a)throw new G("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[y,C]=R.useState({status:"initial"}),L=R.useRef(),w=R.useRef(!1),b=R.useRef(e);R.useEffect(()=>{b.current=e},[e]);let A=R.useRef(r);R.useEffect(()=>{A.current=r},[r]);let _=R.useRef(i);R.useEffect(()=>{_.current=i},[i]);let I=R.useRef(s);R.useEffect(()=>{I.current=s},[s]);let M=R.useRef(p);R.useEffect(()=>{M.current=p},[p]);let D=R.useRef(m.embeddedWallets.ethereum.createOnLogin);R.useEffect(()=>{D.current=m.embeddedWallets.ethereum.createOnLogin},[m.embeddedWallets.ethereum.createOnLogin]);let B=R.useRef(m.embeddedWallets.solana.createOnLogin);R.useEffect(()=>{B.current=m.embeddedWallets.solana.createOnLogin},[m.embeddedWallets.solana.createOnLogin]);let W=R.useRef(c);R.useEffect(()=>{W.current=c},[c]);let P=R.useRef(l);R.useEffect(()=>{P.current=l},[l]);let T=R.useRef(o);return R.useEffect(()=>{T.current=o},[o]),R.useEffect(()=>{if(!n||!h)return;let U=async()=>{if(!w.current){w.current=!0;try{C({status:"loading"});let v=await b.current();if(L.current!==void 0&&L.current===v)return void C({status:"done"});if(!v)return d&&(await u(),_.current?.()),L.current=v,void C({status:"done"});a.startAuthFlow(new cj(v));let{user:E,isNewUser:O=!1}=await a.authenticate();if(!E)throw new G("Failed to sync with custom auth provider");A.current?.({user:E,isNewUser:O}),W.current(E),P.current(O),T.current(!0);let k=f(ZEe)?.shouldCreateWallet({user:E}),$=WEe(E,D.current,k),j=HEe(E,B.current,k);if($&&j){let V=await M.current({chainType:"ethereum",walletIndex:0,latestUser:E});await M.current({chainType:"solana",walletIndex:0,latestUser:V.user})}else j?await M.current({chainType:"solana",walletIndex:0,latestUser:E}):$&&await M.current({chainType:"ethereum",walletIndex:0,latestUser:E});L.current=v,C({status:"done"})}catch(v){if(console.warn(v),await u().catch(()=>{}),_.current?.(),v instanceof L0&&v.privyErrorCode===ne.LINKED_TO_ANOTHER_USER)return C({status:"initial"}),void setTimeout(()=>{U()},0);I.current?.(v),C({status:"error",error:v})}finally{w.current=!1}}};return U(),t(U)},[t,a,d,u,n,h,f]),n?{state:y}:{state:{status:"not-enabled"}}}let YEe=ec(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function JEe({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=Q1(),i=R.useRef(),s=R.useCallback(c=>(i.current=c,()=>{i.current=void 0}),[]),a=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:o}=KEe({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:c,isNewUser:l})=>{r("login","onComplete",{user:c,isNewUser:l,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:c})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:c=>{r("login","onError",c.privyErrorCode||ne.UNKNOWN_AUTH_ERROR)}});return R.useEffect(()=>{(async()=>n&&!n.isLoading&&i.current?.())()},[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:o}}({customAuth:t});return R.useEffect(()=>{YEe.setState({jwtAuthFlowState:e})},[e]),null}const lj=R.createContext(!1);let uj,dj,hj,fj,pj;const XEe=t=>{let e=t.client,n=t.privy,r=KN(),i=pi();Ek(Dy(i?.appearance.walletList??[]));let[s,a]=R.useState(!1),o=Sh(S=>S.inProgressMfaFlow),[c,l]=R.useState(!1),u=g1(S=>S.user),d=_4(S=>S.ethereum),[h,f]=R.useState(void 0),[p,m]=R.useState(!1),[y,C]=R.useState(null),[L,w]=R.useState(!1),[b,A]=R.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:Y}),[_,I]=R.useState({status:"initial"}),[M,D]=R.useState({status:"initial"}),[B,W]=R.useState({status:"initial"}),[P,T]=R.useState({status:"initial"}),[U,v]=R.useState({status:"initial"}),[E,O]=R.useState({status:"initial"}),[k,$]=R.useState(null),j=$I(),[V,Z]=R.useState({}),[X,J]=R.useState(null),ee=R.useRef(null),[ue,le]=R.useState(!1),Ee=R.useRef(null),se=R.useRef(null),q=R.useRef(SQ),[Ne,je]=R.useState(!1),ce=g1(S=>S.authenticated),Re=R.useCallback(S=>{zEe(S),!S&&y&&W3[y]().then(x=>{x.default.isUnauthenticatedScreem&&C(null)})},[y]);e.onStoreCustomerAccessToken=S=>{S&&re(q,"accessToken","onAccessTokenGranted",{accessToken:S})},e.onDeleteCustomerAccessToken=()=>{Ve(null),Re(!1),re(q,"accessToken","onAccessTokenRemoved")};let pe=R.useRef(null),fe=R.useRef(null),gs=R.useRef(!1),Sr=({showWalletUIs:S})=>gs.current?gs.current:S!==void 0?!S:!i.embeddedWallets.showWalletUIs,Ue=S=>{C(S),setTimeout(()=>{a(!0)},15)};R.useEffect(()=>{if(!u)return void e.connectors?.removeEmbeddedWalletConnectors();let S=Mo(u),x=WI(u),N=Ey(u);S&&x.length||e.connectors?.removeEmbeddedWalletConnectors(),N.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?k?(S&&e.connectors.addEmbeddedWalletConnectors({walletProxy:k,user:u,embeddedWallets:x,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),N.forEach(F=>e.connectors?.addImportedWalletConnector(k,F.address,i.defaultChain,t.appId))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[k,u]),R.useEffect(()=>{k&&ee.current?.(k)},[k]),R.useEffect(()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()},[i.externalWallets.solana.connectors]),R.useEffect(()=>{!c&&j&&async function(){let S,x=Ir(),N=ea(),F=nne();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:F,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:f,connectorsDebugLogs:i.connectorsDebugLogs}),e.connectors?.on("connectorInitialized",()=>{S&&clearTimeout(S);let Q=e.connectors.walletConnectors.length,K=e.connectors.walletConnectors.reduce((be,Ae)=>be+(Ae.initialized?1:0),0);K===Q?je(!0):S=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:K,expected:Q}),je(!0)},1500)}),e.connectors?.initialize().then(()=>{ta()});let z=await e.getAuthenticatedUser(),H=!!z;i.legal.requireUsersAcceptTerms&&z&&!z.hasAcceptedTerms?(await e.logout(),me.setReadyToTrue(!0),re(q,"logout","onSuccess")):(i.customAuth?.enabled||(Re(!!z),z&&re(q,"login","onComplete",{user:z,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),Ve(z)),x?fe.current=H?"link":"login":N&&!H?(fe.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),Ue("TelegramAuthScreen")):me.setReadyToTrue(!!z))}()},[e,X,c,j]),R.useEffect(()=>{if(c){if(!u||!u.linkedAccounts.find(S=>S.type==="wallet"&&S.walletClientType==="privy"))return void le(!!k);if([...d].some(S=>S.walletClientType==="privy"))return void le(!0);le(!!k)}},[c,u,d,k]),R.useEffect(()=>{e.connectors?.setWalletList(i.appearance.walletList)},[i.appearance.walletList.join()]);let Ir=()=>{let S=nEe();return S.inProgress&&S.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):S.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:S.stateCode,authorizationCode:S.authorizationCode}):(S.inProgress&&S.provider.startsWith("privy:")&&!S.popupFlow&&(new BroadcastChannel(Kx).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:S.stateCode,authorizationCode:S.authorizationCode}),window.close()),!!S.inProgress&&!!S.withPrivyUi&&(e.startAuthFlow(new al({...S,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),Ue("OAuthStatusScreen"),!0))},ea=()=>{let S=function(){let N;return(N=function(){let F=new URLSearchParams(window.location.search),z=Number(F.get("id")||""),H=F.get("hash"),Q=Number(F.get("auth_date")||""),K=F.get("first_name");if(z&&K&&Q&&H)return Object.fromEntries(F.entries())}())?(Vx(),{flowType:"login-url",authData:N}):(N=function(){let F=window.location.hash;if(!F||!F.startsWith("#tgWebAppData"))return;let z=Wx(F.replace("#tgWebAppData=","")),{user:H,auth_date:Q,hash:K}=z;return H&&Q&&K?z:void 0}())?(Vx(),{flowType:"web-app",authData:N}):void 0}();if(!S||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let x=new Yu;return e.startAuthFlow(x),S.flowType==="login-url"&&(x.meta.telegramWebAppData=void 0,x.meta.telegramAuthResult=S.authData),S.flowType==="web-app"&&(x.meta.telegramAuthResult=void 0,x.meta.telegramWebAppData=S.authData),!0},Tr=async(S,x,N,F)=>{if(S!=="solana_adapter")Mn(await e.connectors?.createEthereumWalletConnector({connectorType:S,walletClientType:x})||null,x,N,F);else{let z=e.connectors?.findSolanaWalletConnector(x);if(!z)return;Mn(z,x,N,F)}};async function Mn(S,x,N,F){if(!S)return A({status:"disconnected",connectedWallet:null,connectError:new Ft("Unable to connect to wallet."),connector:null,connectRetry:Y}),F?.(null,N);A({status:"disconnected",connectedWallet:null,connectError:null,connector:S,connectRetry:Y}),S instanceof b4&&x&&await S.resetConnection(x),A({connector:S,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Mn(S,x,N,F)});try{let z=await S.connect({showPrompt:!0});if((!z||Co(z))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find(H=>H.id===Number(z?.chainId.replace("eip155:","")))&&(z?.connectorType!=="wallet_connect_v2"||z?.walletClientType!=="metamask")){A(H=>({...H,connector:S,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:Y}));try{await z?.switchChain(i.defaultChain.id),z&&(z.chainId=yd(Ze(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return A(H=>({...H,status:"connected",connectedWallet:z,connectError:null,connectRetry:Y})),z&&re(q,"connectWallet","onSuccess",{wallet:z}),F?.(z,N)}catch(z){return z instanceof Qo?(console.warn(z.cause?z.cause:z.message),re(q,"connectWallet","onError",z.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(z),re(q,"connectWallet","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR)),A(H=>({...H,status:"disconnected",connectedWallet:null,connectError:z})),F?.(null,N)}}let fr=async(S,x,N)=>{if(S===null||!Co(S))return;let F=new Xp(e,S,x,N);e.startAuthFlow(F)},Wi=async(S,x,N,F="plain")=>{let z=r(lre);if(F==="transaction"&&!z)throw new G("useSolanaLedger plugin hook must be mounted");if(S===null||!zQ(S))return;let H=new zx(S,e,x,N,F,z);e.startAuthFlow(H)},ta=async()=>{let S=new URLSearchParams(window.location.search),x=S.get("privy_connector"),N=S.get("privy_wallet_client"),F=S.get("privy_connect_only")==="true";if(!x||!N)return;ae.debug("Mobile wallet return detected",{connectorType:x,wallet:N,connectOnly:F});let z=UQ({connectorType:x,walletClientType:N});if(!z||!z.isInstalled)return ae.warn("Wallet not installed on mobile return",{wallet:N,hasConfig:!!z,isInstalled:z?.isInstalled}),Ue("LoginFailedScreen");if(!e.connectors)throw new G("Connector not initialized");await Ue(F?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let H=new URL(window.location.href);H.searchParams.delete("privy_connector"),H.searchParams.delete("privy_wallet_client"),H.searchParams.delete("privy_connect_only"),window.history.pushState({},"",H),ae.debug("Launching connection flow from mobile return",{wallet:N,connectorType:x,connectOnly:F}),Tr(x,N,void 0,F?void 0:x==="solana_adapter"?Wi:fr)};R.useEffect(()=>{c&&ce&&u===null&&e.getAuthenticatedUser().then(Ve)},[c,ce,u,e]);let xt=S=>{if(!ce)throw re(q,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:S}),new G("User must be authenticated before linking an account.")},pn=S=>{if(!ce||!u)return!1;if(S.walletClientType==="privy")return!0;for(let x of u.linkedAccounts)if(x.type==="wallet"&&x.address===S.address&&x.walletClientType!=="privy")return!0;return!1},pr=()=>{_4.setState(S=>{let x=e.connectors?.wallets.filter(Co).map(N=>({...N,linked:pn(N),loginOrLink:async()=>{if(!await N.isConnected())throw new G("Wallet is not connected");if(N.connectorType==="embedded"&&N.walletClientType==="privy")throw new G("Cannot link or login with embedded wallet");(async F=>{let z;if(!e.connectors)throw new G("Connector not initialized");z=F.type==="ethereum"?e.connectors.findWalletConnector(F.connectorType,F.walletClientType)||null:e.connectors.findSolanaWalletConnector(F.walletClientType)||null,A(H=>({...H,connector:z,status:"connected",connectedWallet:F,connectError:null,connectRetry:Y})),i.captcha.enabledProvider&&!ce?(Z({captchaModalData:{callback:H=>Co(F)?fr(F,H):Wi(F,H),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await Ue("CaptchaScreen")):(Co(F)?await fr(F):await Wi(F),await Ue("ConnectionStatusScreen"))})(N)},fund:async F=>{await me.fundWallet(N.address,F)},unlink:async()=>{if(!ce)throw new G("User is not authenticated.");if(N.connectorType==="embedded"&&N.walletClientType==="privy")throw new G("Cannot unlink an embedded wallet");Ve(await e.unlinkEthereumWallet(N.address))}}))||[];return Lk(S.ethereum,x)?{}:{ethereum:x}})};R.useEffect(()=>{pr()},[u?.linkedAccounts,ce,c]),R.useEffect(()=>{if(c){if(!e.connectors)throw new G("Connector not initialized");pr(),e.connectors.on("walletsUpdated",pr)}},[c]),R.useEffect(()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter(S=>S.startsWith("privy:")).forEach(S=>e.getCrossAppProviderDetails(S.replace("privy:","")))},[!!e]);let Xr=({transaction:S,sponsor:x,uiOptions:N,fundWalletConfig:F,address:z,signOnly:H})=>new Promise(async(Q,K)=>{let{requesterAppId:be}=N||{},Ae=H?"signTransaction":"sendTransaction",qe=z?il(u,z):Mo(u);if(!qe&&z){let ht=R6(_p(),z);if(ht){if(x)throw new G("Cannot sponsor transactions for externally connected wallet.");try{let Zt=await ht.getEthereumProvider(),Ye=S.data,En=r(rx);En&&(Ye=En.appendDataSuffix({data:Ye}));let Vi={...S,from:z,chainId:S.chainId||Number(ht.chainId.replace("eip155:","")),value:S.value!==void 0?Ze(S.value):void 0,data:Ye},Ja=await Zt.request({method:Ae==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Vi]});return re(q,Ae,"onSuccess",{hash:Ja}),void Q({hash:Ja})}catch(Zt){return re(q,Ae,"onError",ne.TRANSACTION_FAILURE),void K(Zt??new Ts("Unable to "+Ae+Zt))}}}if(!qe)return re(q,Ae,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void K(new G("No embedded or connected wallet found for address."));if(!ce||!u)return re(q,Ae,"onError",ne.MUST_BE_AUTHENTICATED),void K(Error("User must be authenticated before signing with a Privy wallet"));let Ge=qe.address,Qe=qe.walletIndex??0,{entropyId:xe,entropyIdVerifier:yt}=To(u,qe),Mt=mr.wallets.find(ht=>ht.walletClientType==="privy"&&kn(ht.address)===kn(Ge));if(!Mt)return re(q,Ae,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void K(Error("Must have a Privy wallet before signing"));let Cn=await Mt.getEthereumProvider(),ys=await Cn.request({method:"eth_chainId"}),wi=S.chainId?Number(S.chainId):bk(ys);(ht=>{if(!i.chains.map(Zt=>Zt.id).includes(ht))throw new Ft(`Chain ID ${ht} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ne.UNSUPPORTED_CHAIN_ID)})(wi);let kr=S.data,ws=r(rx);ws&&(kr=ws.appendDataSuffix({data:kr}));let Kt={...S,from:S.from??Ge,chainId:wi,data:kr},gr=await jt();if(!gr||!k)return re(q,Ae,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),void K(Error("Must have valid access token and Privy wallet to send transaction"));let V3=$0(Kt.chainId,i.chains,i.rpcConfig,{appId:t.appId}),H3=si(qe),Ob=async({transactionRequest:ht})=>{try{let Zt;if(!await me.recoverEmbeddedWallet({address:Ge}))throw re(q,Ae,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),K(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(x){let Ye=await(async({transactionRequest:En})=>{if(!H3)throw new G("Sponsoring is only supported for wallets on the TEE stack");if(H)throw new G("Cannot sponsor a sign transaction request");let Vi=O2=>O2==null?void 0:Ze(O2),Ja=await es(n,async({message:O2})=>await k.signWithUserSigner({accessToken:gr,requesterAppId:be,message:O2}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:yd(Ze(En.chainId)),sponsor:!0,params:{transaction:{from:En.from,to:En.to,chain_id:Vi(En.chainId),data:vr(En.data)?En.data?En.data:Ze(Uint8Array.from(En.data)):void 0,value:Vi(En.value)}},wallet_id:qe.id});if(Ja.data&&"hash"in Ja.data)return Ja.data.hash;throw new Ts("Unable to sign transaction")})({transactionRequest:ht});return re(q,"sendTransaction","onSuccess",{hash:Ye}),Ye}if(H3){let Ye=Vi=>Vi==null?void 0:Ze(Vi),En=await es(n,async({message:Vi})=>await k.signWithUserSigner({accessToken:gr,requesterAppId:be,message:Vi}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:ht.from,to:ht.to,nonce:Ye(ht.nonce),chain_id:Ye(ht.chainId),data:vr(ht.data)?ht.data?ht.data:Ze(Uint8Array.from(ht.data)):void 0,value:Ye(ht.value),type:ht.type,gas_limit:Ye(ht.gasLimit??ht.gas),gas_price:Ye(ht.gasPrice??ht.gas),max_fee_per_gas:Ye(ht.maxFeePerGas),max_priority_fee_per_gas:Ye(ht.maxPriorityFeePerGas)}},wallet_id:qe.id});if(!En.data||!("signed_transaction"in En.data))throw new Ts("Unable to sign transaction");Zt=En.data.signed_transaction}else Zt=await async function({accessToken:Ye,entropyId:En,entropyIdVerifier:Vi,transactingWalletIndex:Ja,walletProxy:O2,transactionRequest:bj,requesterAppId:vj}){return(await O2.rpc({entropyId:En,entropyIdVerifier:Vi,hdWalletIndex:Ja??0,chainType:"ethereum",accessToken:Ye,requesterAppId:vj,request:{method:"eth_signTransaction",params:[bj]}})).response.data}({accessToken:gr,entropyId:xe,entropyIdVerifier:yt,transactingWalletIndex:Qe,walletProxy:k,transactionRequest:ht,requesterAppId:be});if(H)return re(q,"signTransaction","onSuccess",{signature:Zt}),Zt;{let Ye=await V3.sendRawTransaction({serializedTransaction:Zt});return re(q,"sendTransaction","onSuccess",{hash:Ye}),Ye}}catch(Zt){throw re(q,Ae,"onError",ne.TRANSACTION_FAILURE),Zt}};if(Sr({showWalletUIs:N?.showWalletUIs})){let ht=H||x?Kt:await Qx(Kt,V3,Kt.from);try{let Zt=await Ob({transactionRequest:ht});H?re(q,"signTransaction","onSuccess",{signature:Zt}):re(q,"sendTransaction","onSuccess",{hash:Zt}),Q({hash:Zt})}catch(Zt){re(q,Ae,"onError",ne.TRANSACTION_FAILURE),K(Zt)}}else{let ht={connectingWalletAddress:Ge,recoveryMethod:qe.recoveryMethod,entropyId:xe,entropyIdVerifier:yt,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:H3,onFailure:Ye=>{re(q,Ae,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),K(Ye)}},Zt=(Ye=>!!Ye.fundingConfig&&U8(Ye.fundingConfig.options).length>=1)(i)?R9({address:Ge,appConfig:i,fundWalletConfig:F,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:Kt.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:ht,sendTransaction:{transactionRequest:Kt,transactingWalletIndex:Qe,transactingWalletAddress:Ge,entropyId:xe,entropyIdVerifier:yt,signOnly:H,scanTransaction:async()=>{let Ye=await Qx(Kt,V3,Kt.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:Ye.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Ye.from,to:Ye.to,value:Ye.value?.toString(),gas:Ye.gas?.toString(),gasPrice:Ye.gasPrice?.toString(),nonce:Ye.nonce?.toString(),data:Ye.data}]}})},getIsSponsored:async()=>!!x,onConfirm:({transactionRequest:Ye})=>Ob({transactionRequest:Ye}),onSuccess:Ye=>{H?re(q,"signTransaction","onSuccess",{signature:Ye.hash}):re(q,"sendTransaction","onSuccess",{hash:Ye.hash}),Q(Ye)},onFailure:Ye=>{re(q,Ae,"onError",ne.TRANSACTION_FAILURE),K(Ye)},uiOptions:N||{},fundWalletConfig:F,requesterAppId:be},funding:Zt}),Ue("EmbeddedWalletConnectingScreen")}});function Xe(){return new Promise(async(S,x)=>{let N=await jt();if(!N||!k)throw Error("Must have valid access token to enroll in MFA");try{await k.verifyMfa({accessToken:N}),S()}catch(F){x(F)}})}let nt=S=>S?.linkedAccounts.filter(x=>x.latestVerifiedAt!==null&&!(x.type==="wallet"&&x.walletClientType==="privy")).sort((x,N)=>N.latestVerifiedAt.getTime()-x.latestVerifiedAt.getTime())[0],ke=S=>{let x=u?.linkedAccounts.filter(z=>z.type===S).length??0,{displayName:N,loginMethod:F}=jEe(S);if(S==="passkey"&&x>=5||S!=="passkey"&&x>=1)throw re(q,"linkAccount","onError",ne.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:F}),new G(`User already has an account of type ${N} linked.`)};async function ct({showAutomaticRecovery:S=!1,legacySetWalletPasswordFlow:x=!1}){C(null);let N=x?"setWalletPassword":"setWalletRecovery";if(!ce||!u)throw re(q,N,"onError",ne.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let F=rh(u);if(!F||!k)throw re(q,N,"onError",ne.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let z=si(F);if(z)throw re(q,N,"onError",ne.UNSUPPORTED_WALLET_TYPE),new G("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Xe()}catch(H){throw re(q,N,"onError",ne.MISSING_MFA_CREDENTIALS),H}return new Promise((H,Q)=>{let K=F.recoveryMethod==="user-passcode",be=$Ee({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:x,isResettingPassword:K,showAutomaticRecovery:S}),{entropyId:Ae,entropyIdVerifier:qe}=To(u),Ge={recoveryMethod:F.recoveryMethod,connectingWalletAddress:F.address,onCompleteNavigateTo:be,shouldForceMFA:!1,entropyId:Ae,isUnifiedWallet:z,entropyIdVerifier:qe,onFailure:Qe=>{re(q,N,"onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),Q(Qe)}};Z({setWalletPassword:{onSuccess:Qe=>{re(q,N,"onSuccess",{method:"user-passcode",wallet:Qe}),H(Qe)},onFailure:Qe=>{re(q,N,"onError",ne.USER_EXITED_SET_PASSWORD_FLOW),Q(Qe)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:Ae,entropyIdVerifier:qe,onFailure:Q},connectWallet:Ge,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:K,shouldCreateEth:!1,shouldCreateSol:!1}}),Ue("EmbeddedWalletConnectingScreen")})}async function Nn({appId:S,action:x,disableSignup:N}){let F=await jt();if(x==="link"&&!F)throw re(q,"linkAccount","onError",ne.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${S}`}),new G("User must be authenticated before linking an account.");if(x==="login"&&F)throw re(q,"login","onError",ne.UNKNOWN_AUTH_ERROR),new G("Attempted to log in, but user is already logged in. Use a `link` helper instead.");pe.current=`privy:${S}`,fe.current=x;let z=tO();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:S}}),new Promise(async(H,Q)=>{let{name:K,logoUrl:be}=await oj({api:e.api,providerAppId:S,requesterAppId:i.id});Z({crossAppAuth:{appId:S,name:K,logoUrl:be,action:x,popup:z,disableSignup:N,onSuccess:H,onError:Q}}),Ue("CrossAppAuthScreen")})}let Dn={ready:c,authenticated:ce,user:u,walletConnectors:e.connectors||null,connectWallet:S=>{S&&"target"in S&&S&&(S=void 0),Z({externalConnectWallet:{walletList:S?.walletList&&S?.walletList.length>0?S.walletList:void 0,walletChainType:S?.walletChainType,description:S?.description,hideHeader:S?.hideHeader}}),Ue("ConnectOnlyLandingScreen")},linkWallet:S=>(S&&"target"in S&&S&&(S=void 0),xt("siwe"),pe.current="siwe",fe.current="link",Z({...V,externalConnectWallet:{...V.externalConnectWallet,walletList:S?.walletList,walletChainType:S?.walletChainType,description:S?.description||`Link a wallet to your ${i?.name} account`}}),Ue("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:Nn,linkEmail:()=>{xt("email"),ke("email"),pe.current="email",fe.current="link",Ue("LinkEmailScreen")},linkPhone:()=>{xt("sms"),ke("phone"),pe.current="sms",fe.current="link",Ue("LinkPhoneScreen")},linkGoogle:async()=>{xt("google"),ke("google_oauth"),fe.current="link",await me.initLoginWithOAuth("google")},linkTwitter:async()=>{xt("twitter"),ke("twitter_oauth"),fe.current="link",await me.initLoginWithOAuth("twitter")},linkTwitch:async()=>{xt("twitch"),ke("twitch_oauth"),fe.current="link",await me.initLoginWithOAuth("twitch")},linkDiscord:async()=>{xt("discord"),ke("discord_oauth"),fe.current="link",await me.initLoginWithOAuth("discord")},linkGithub:async()=>{xt("github"),ke("github_oauth"),fe.current="link",await me.initLoginWithOAuth("github")},linkSpotify:async()=>{xt("spotify"),ke("spotify_oauth"),fe.current="link",await me.initLoginWithOAuth("spotify")},linkInstagram:async()=>{xt("instagram"),ke("instagram_oauth"),fe.current="link",await me.initLoginWithOAuth("instagram")},linkTiktok:async()=>{xt("tiktok"),ke("tiktok_oauth"),fe.current="link",await me.initLoginWithOAuth("tiktok")},linkLine:async()=>{xt("line"),ke("line_oauth"),fe.current="link",await me.initLoginWithOAuth("line")},linkLinkedIn:async()=>{xt("linkedin"),ke("linkedin_oauth"),fe.current="link",await me.initLoginWithOAuth("linkedin")},linkApple:async()=>{xt("apple"),ke("apple_oauth"),fe.current="link",await me.initLoginWithOAuth("apple")},linkPasskey:async()=>{xt("passkey"),ke("passkey"),await me.initLinkWithPasskey(),Ue("LinkPasskeyScreen")},linkTelegram:async S=>{if(xt("telegram"),ke("telegram"),fe.current="link",pe.current="telegram",S?.launchParams)if(S.launchParams.initDataRaw){let x=new Yu;e.startAuthFlow(x),x.meta.telegramAuthResult=void 0,x.meta.telegramWebAppData=Wx(S.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),Ue("TelegramAuthScreen")}else re(q,"linkAccount","onError",ne.INVALID_DATA,{linkMethod:"telegram"});else await me.initLoginWithTelegram();Ue("TelegramAuthScreen")},linkFarcaster:async()=>{xt("farcaster"),ke("farcaster"),await me.initLoginWithFarcaster(),fe.current="link",pe.current="farcaster",Ue("FarcasterConnectStatusScreen")},updateEmail:()=>{if(xt("email"),!u?.email)throw new G("User does not have an email linked to their account.");fe.current="update",pe.current="email",Ue("UpdateEmailScreen")},updatePhone:()=>{if(xt("sms"),!u?.phone)throw new G("User does not have a phone number linked to their account.");fe.current="update",pe.current="sms",Ue("UpdatePhoneScreen")},login:async S=>{S&&"target"in S&&S&&(S=void 0);let x="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!c){let N=await new Promise(F=>{J(z=>F.bind(z))});if(J(null),N)return void console.warn(x)}!u||u.isGuest?(fe.current="login",Z({login:S}),Ue("LandingScreen")):console.warn(x)},connectOrCreateWallet:async()=>{c||(await new Promise(S=>{J(()=>S)}),J(null)),ce?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(fe.current="connect-or-create",Ue("ConnectOrCreateScreen"))},logout:async()=>{if(fe.current=null,pe.current=null,u&&e.clearProviderAcccessTokens(u),C(null),await e.logout(),u&&k)try{await k.clearMfa({userId:u.id})}catch{}Ve(null),Re(!1),m(!1),D({status:"initial"}),W({status:"initial"}),I({status:"initial"}),T({status:"initial"}),v({status:"initial"}),O({status:"initial"}),re(q,"logout","onSuccess"),a(!1),Me.del(_y),Me.del(kI(i.id))},getAccessToken:R.useCallback(async()=>{let S=await e.getCustomerAccessToken();return S&&!ce&&Re(!0),S},[e,ce]),unlinkWallet:async S=>{let x;return Ve(x=S.startsWith("0x")?await e.unlinkEthereumWallet(S):await e.unlinkSolanaWallet(S)),x},unlinkEmail:async S=>{let x=await e.unlinkEmail(S);return Ve(x),x},unlinkPhone:async S=>{let x=await e.unlinkPhone(S);return Ve(x),x},unlinkGoogle:async S=>{let x=await e.unlinkOAuth("google",S);return Ve(x),x},unlinkTwitter:async S=>{let x=await e.unlinkOAuth("twitter",S);return Ve(x),x},unlinkTwitch:async S=>{let x=await e.unlinkOAuth("twitch",S);return Ve(x),x},unlinkDiscord:async S=>{let x=await e.unlinkOAuth("discord",S);return Ve(x),x},unlinkGithub:async S=>{let x=await e.unlinkOAuth("github",S);return Ve(x),x},unlinkSpotify:async S=>{let x=await e.unlinkOAuth("spotify",S);return Ve(x),x},unlinkInstagram:async S=>{let x=await e.unlinkOAuth("instagram",S);return Ve(x),x},unlinkTiktok:async S=>{let x=await e.unlinkOAuth("tiktok",S);return Ve(x),x},unlinkLine:async S=>{let x=await e.unlinkOAuth("line",S);return Ve(x),x},unlinkLinkedIn:async S=>{let x=await e.unlinkOAuth("linkedin",S);return Ve(x),x},unlinkApple:async S=>{let x=await e.unlinkOAuth("apple",S);return Ve(x),x},unlinkFarcaster:async S=>{let x=await e.unlinkFarcaster(S);return Ve(x),x},unlinkTelegram:async S=>{let x=await e.unlinkTelegram(S);return Ve(x),x},unlinkPasskey:async S=>{let x=await jt();if(!x)throw Error("Must have valid access token to enroll in MFA");if(!k)throw Error("Wallet proxy not initialized.");let N=i.passkeys.shouldUnenrollMfaOnUnlink;await k.unlinkPasskeyAccount({credentialId:S,accessToken:x,removeAsMfa:N});let F=await e.getAuthenticatedUser();return Ve(F),F},unlinkCrossAppAccount:async({subject:S})=>{let x=u?.linkedAccounts.find(F=>F.type==="cross_app"&&F.subject===S)?.providerApp;if(!x)throw new G("Invalid subject");e.storeProviderAccessToken(x.id,null);let N=await e.unlinkOAuth(`privy:${x.id}`,S);return Ve(N),N},setWalletRecovery:async S=>ct({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:S?.showAutomaticRecovery??!1}),setWalletPassword:async()=>ct({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(S,x)=>new Promise(async(N,F)=>{let{requesterAppId:z}=x?.uiOptions||{},H=S.message,Q=x?.address?il(u,x.address):Mo(u);if(!Q&&x?.address!==void 0){let xe=R6(_p(),x.address);if(xe)try{let yt=await xe.getEthereumProvider(),Mt=await yt.request({method:"personal_sign",params:[H,xe.address]});return re(q,"signMessage","onSuccess",{signature:Mt}),void N({signature:Mt})}catch(yt){return re(q,"signMessage","onError",ne.UNABLE_TO_SIGN),void F(yt??new Ts("Unable to sign message"))}}if(!Q)throw new G("No embedded or connected wallet found for address.");if(!ce||!u)return re(q,"signMessage","onError",ne.MUST_BE_AUTHENTICATED),void F(Error("User must be authenticated before signing with a Privy wallet"));let K=Q.address,be=Q.walletIndex??0,{entropyId:Ae,entropyIdVerifier:qe}=To(u,Q),Ge=si(Q);if(typeof H!="string"||H.length<1)return re(q,"signMessage","onError",ne.INVALID_MESSAGE),void F(Error("Message must be a non-empty string"));let Qe=async()=>{let xe;if(!ce)throw Error("User must be authenticated before signing with a Privy wallet");let yt=await jt();if(!k||!yt||!await me.recoverEmbeddedWallet({address:K}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:K,requesterAppId:z}}),Ge){let Mt=vr(S.message,{strict:!0}),Cn=await es(n,async({message:ys})=>await k.signWithUserSigner({accessToken:yt,requesterAppId:z,message:ys}),{chain_type:"ethereum",method:"personal_sign",params:Mt?{message:H.slice(2),encoding:"hex"}:{message:H,encoding:"utf-8"},wallet_id:Q.id});if(!Cn.data||!("signature"in Cn.data))throw new Ts("Unable to sign message");xe=Cn.data.signature}else{let{response:Mt}=await k.rpc({accessToken:yt,entropyId:Ae,entropyIdVerifier:qe,chainType:"ethereum",hdWalletIndex:be,requesterAppId:z,request:{method:"personal_sign",params:[H,K]}});xe=Mt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:K,requesterAppId:z}}),xe};if(Sr({showWalletUIs:x?.uiOptions?.showWalletUIs}))try{let xe=await Qe();re(q,"signMessage","onSuccess",{signature:xe}),N({signature:xe})}catch(xe){re(q,"signMessage","onError",ne.UNABLE_TO_SIGN),F(xe??new Ts("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:H,confirmAndSign:Qe,onSuccess:xe=>{re(q,"signMessage","onSuccess",{signature:xe}),N({signature:xe})},onFailure:xe=>{re(q,"signMessage","onError",ne.UNABLE_TO_SIGN),F(xe)},uiOptions:x?.uiOptions||{}},connectWallet:{recoveryMethod:Q.recoveryMethod,connectingWalletAddress:K,entropyId:Ae,entropyIdVerifier:qe,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:Ge,onFailure:xe=>{re(q,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),F(xe)}}}),Ue("EmbeddedWalletConnectingScreen")}),signTypedData:(S,x)=>new Promise(async(N,F)=>{let{requesterAppId:z}=x?.uiOptions||{},H=x?.address?il(u,x.address):Mo(u);if(!H&&x?.address){let xe=R6(_p(),x.address);if(xe)try{let yt=await xe.getEthereumProvider(),Mt=Np(S),Cn=await yt.request({method:"eth_signTypedData_v4",params:[xe.address,Mt]});return re(q,"signTypedData","onSuccess",{signature:Cn}),void N({signature:Cn})}catch(yt){return re(q,"signTypedData","onError",ne.UNABLE_TO_SIGN),void F(yt??new Ts("Unable to sign typed data "+yt))}}if(!H)throw new G("No embedded or connected wallet found for address.");if(!ce||!u)return re(q,"signTypedData","onError",ne.MUST_BE_AUTHENTICATED),void F(Error("User must be authenticated before signing with a Privy wallet"));let Q=H.address,K=H.walletIndex??0,{entropyId:be,entropyIdVerifier:Ae}=To(u,H),qe=si(H),Ge=Np(S),Qe=async()=>{let xe;if(!ce)throw Error("User must be authenticated before signing with a Privy wallet");let yt=await jt();if(!k||!yt||!await me.recoverEmbeddedWallet({address:Q}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Q,requesterAppId:z}}),qe){let{domain:Mt,types:Cn,primaryType:ys,message:wi}=Ge,kr=await es(n,async({message:ws})=>await k.signWithUserSigner({accessToken:yt,requesterAppId:z,message:ws}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Mt,types:Cn,primary_type:ys,message:wi}},wallet_id:H.id});if(!kr.data||!("signature"in kr.data))throw new Ts("Unable to sign message");xe=kr.data.signature}else{let{response:Mt}=await k.rpc({accessToken:yt,entropyId:be,entropyIdVerifier:Ae,chainType:"ethereum",hdWalletIndex:K,requesterAppId:z,request:{method:"eth_signTypedData_v4",params:[Q,Ge]}});xe=Mt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Q,requesterAppId:z}}),xe};if(Sr({showWalletUIs:x?.uiOptions?.showWalletUIs}))try{let xe=await Qe();re(q,"signTypedData","onSuccess",{signature:xe}),N({signature:xe})}catch(xe){re(q,"signTypedData","onError",ne.UNABLE_TO_SIGN),F(xe??new Ts("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:Ge,confirmAndSign:Qe,onSuccess:xe=>{re(q,"signTypedData","onSuccess",{signature:xe}),N({signature:xe})},onFailure:xe=>{re(q,"signTypedData","onError",ne.UNABLE_TO_SIGN),F(xe)},uiOptions:x?.uiOptions||{}},connectWallet:{recoveryMethod:H.recoveryMethod,connectingWalletAddress:H.address,entropyId:be,isUnifiedWallet:qe,entropyIdVerifier:Ae,onCompleteNavigateTo:"SignRequestScreen",onFailure:xe=>{re(q,"signMessage","onError",ne.UNKNOWN_CONNECT_WALLET_ERROR),F(xe)}}}),Ue("EmbeddedWalletConnectingScreen")}),sendTransaction:async(S,x)=>await Xr({transaction:S,sponsor:x?.sponsor,uiOptions:x?.uiOptions,fundWalletConfig:x?.fundWalletConfig,address:x?.address,signOnly:!1}),signTransaction:async(S,x)=>({signature:(await Xr({transaction:S,uiOptions:x?.uiOptions,address:x?.address,signOnly:!0})).hash}),promptMfa:Xe,async init(S){switch(S){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${S}`)}},async submit(S,x){switch(S){case"totp":case"sms":if(typeof x!="string")throw new G("Invalid MFA code");Ee.current?.resolve({mfaMethod:S,mfaCode:x,relyingParty:window.origin}),await new Promise((z,H)=>{se.current={resolve:z,reject:H}});break;case"passkey":if(typeof x=="string")throw new G("Invalid authenticator response");let N=await we(()=>import("./launchpad-index-D9std1Z8.js"),[]),F=FEe(await N.startAuthentication({optionsJSON:x}));Ee.current?.resolve({mfaMethod:S,mfaCode:F,relyingParty:window.origin}),await new Promise((z,H)=>{se.current={resolve:z,reject:H}});break;default:throw Ee.current?.reject(new G("Unsupported MFA method")),new G(`Unsupported MFA method: ${S}`)}},cancel(){Ee.current?.reject(new G("MFA canceled"))},async initEnrollmentWithSms(S){let x=await jt();if(!x||!k)throw Error("Must have valid access token to enroll in MFA");await k.initEnrollMfa({method:"sms",accessToken:x,phoneNumber:S.phoneNumber})},enrollInMfa:S=>new Promise((x,N)=>{if(!S)return me.closePrivyModal(),void x();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:x,onFailure:N}}),Ue("MfaEnrollmentFlowScreen")}),async initEnrollmentWithTotp(){let S=await jt();if(!S||!k)throw Error("Must have valid access token to enroll in MFA");let x=await k.initEnrollMfa({method:"totp",accessToken:S});return{secret:x.secret,authUrl:x.authUrl}},async submitEnrollmentWithSms(S){let x=await jt();if(!x||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"sms",accessToken:x,phoneNumber:S.phoneNumber,code:S.mfaCode}),Ve(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(S){let x=await jt();if(!x||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"totp",accessToken:x,code:S.mfaCode}),Ve(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:S},x={}){let N=await jt();if(!N||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"passkey",accessToken:N,credentialIds:S,removeForLogin:x.removeForLogin}),Ve(await e.getAuthenticatedUser())},async unenroll(S,x={}){let N=await jt();if(!N||!k)throw Error("Must have valid access token to remove MFA");S==="passkey"?await k.submitEnrollMfa({method:"passkey",accessToken:N,credentialIds:[],removeForLogin:x.removeForLogin}):await k.unenrollMfa({method:S,accessToken:N}),Ve(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let S=await jt(),x=u?.linkedAccounts.find(F=>F.type==="wallet"&&F.walletClientType==="privy");if(!S)throw Error("Must have valid access token to connect with Farcaster");if(!k||!x)throw Error("Must have an embedded wallet to use Farcaster signers");if(si(x))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await me.recoverEmbeddedWallet({address:x.address}))throw Error("Unable to connect to wallet");let N=await k.initFarcasterSigner({address:x.address,hdWalletIndex:null,accessToken:S,mfaCode:null,mfaMethod:null,relyingParty:window.origin});N.status==="approved"&&Ve(await e.getAuthenticatedUser()||u||null),Z({farcasterSigner:N}),Ue("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let S,x=await jt(),N=u?.linkedAccounts.find(F=>F.type==="wallet"&&F.walletClientType==="privy");if(!x)throw Error("Must have valid access token to connect with Farcaster");if(!k||!N)throw Error("Must have an embedded wallet to use Farcaster signers");if(si(N))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await me.recoverEmbeddedWallet({address:N.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return S=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(S.match(/.{1,2}/g).map(F=>parseInt(F,16)))},signFarcasterMessage:async S=>{let x=await jt(),N=u?.linkedAccounts.find(H=>H.type==="wallet"&&H.walletClientType==="privy");if(!x)throw Error("Must have valid access token to connect with Farcaster");if(!k||!N)throw Error("Must have an embedded wallet to use Farcaster signers");if(si(N))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await me.recoverEmbeddedWallet({address:N.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let F=await we(()=>import("./launchpad-index-D9std1Z8.js"),[]),z=await k.signFarcasterMessage({address:N.address,hdWalletIndex:null,accessToken:x,mfaCode:null,mfaMethod:null,payload:{hash:F.bufferToBase64URLString(S)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(F.base64URLStringToBuffer(z.signature))},signMessageWithCrossAppWallet(S,{address:x,chainId:N}){let F=u?.linkedAccounts.some(z=>z.type==="cross_app"&&z.smartWallets.some(H=>H.address===x));return vp({user:u,client:e,address:x,requesterAppId:i.id,request:{method:F?"privy_signSmartWalletMessage":"personal_sign",params:[S,x],chainId:N},reconnect:Nn})},signTypedDataWithCrossAppWallet(S,{address:x,chainId:N}){let F=u?.linkedAccounts.some(H=>H.type==="cross_app"&&H.smartWallets.some(Q=>Q.address===x)),z=Np(S);return vp({user:u,client:e,address:x,requesterAppId:i.id,request:{method:F?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[x,z],chainId:N},reconnect:Nn})},sendTransactionWithCrossAppWallet(S,{address:x}){let N=u?.linkedAccounts.some(F=>F.type==="cross_app"&&F.smartWallets.some(z=>z.address===x));return vp({user:u,client:e,address:x,requesterAppId:i.id,request:{method:N?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[S],chainId:S.chainId},reconnect:Nn})},signTransactionWithCrossAppWallet(S,{address:x}){let N=u?.linkedAccounts.some(F=>F.type==="cross_app"&&F.smartWallets.some(z=>z.address===x));return vp({user:u,client:e,address:x,requesterAppId:i.id,request:{method:N?"privy_signSmartWalletTx":"eth_signTransaction",params:[S],chainId:S.chainId},reconnect:Nn})},isModalOpen:s||!!o,mfaMethods:i.mfa.methods};uj=Dn.signMessage,dj=Dn.signTypedData,fj=async(S,x)=>await Xr({transaction:S,...x,signOnly:!1}),hj=async(S,x)=>({signature:(await Xr({transaction:S,...x,signOnly:!0})).hash});let it=async S=>{let x,N,F;w(!0),v({status:"loading"}),e.startAuthFlow(new al({...S,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let z=Me.get(E0),H=S.stateCode;if(z!==H)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:S.provider,storedStateCode:z??"",returnedStateCode:H??""}}),w(!1),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:x,oAuthTokens:F}=await e.link()),pe.current=S.provider;let Q=nt(x);x&&Q&&re(q,"linkAccount","onSuccess",{user:x,linkMethod:pe.current,linkedAccount:Q})}catch(Q){throw w(!1),re(q,"linkAccount","onError",Q.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:S.provider}),Q}else try{({user:x,isNewUser:N,oAuthTokens:F}=await e.authenticate()),pe.current=S.provider;let Q=nt(x);x&&Q&&N!==void 0&&re(q,"login","onComplete",{user:x,isNewUser:N,wasAlreadyAuthenticated:!1,loginMethod:pe.current,loginAccount:Q})}catch(Q){throw w(!1),v({status:"error",error:Q}),re(q,"login","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),Q}return Ve(x),m(N||!1),Re(!0),w(!1),v({status:"done"}),F&&x&&re(q,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:F,user:x}),x??void 0},me={privy:n,setAuthenticated:Re,setUser:Ve,setIsNewUser:m,isNewUserThisSession:p,pendingTransaction:null,walletConnectionStatus:b,setWalletConnectionStatus:A,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,hideWalletUIs:gs,isHeadlessSigning:R.useCallback(Sr,[i.embeddedWallets.showWalletUIs]),emailOtpState:M,setEmailOtpState:D,smsOtpState:B,setSmsOtpState:W,oAuthState:U,setOAuthState:v,telegramAuthState:E,setTelegramAuthState:O,siweState:P,setSiweState:T,isHeadlessOAuthLoading:L,baseAccountSdk:h,setBaseAccountSdk:f,nativeTokenSymbolForChainId:S=>i.chains.find(x=>x.id===Number(S))?.nativeCurrency.symbol,initializeWalletProxy:async S=>{if(k)return k;let x=new Promise(z=>{ee.current=z}),N=new Promise(z=>setTimeout(()=>z(null),S)),F=await Promise.race([x,N]);return ee.current=null,F},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(S={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let x,N=c&&ce&&u;if(N&&pe.current&&(x=nt(u)),fe.current==="login")S.shouldCallAuthOnSuccess&&N&&pe.current?re(q,"login","onComplete",{user:u,isNewUser:p,wasAlreadyAuthenticated:!1,loginMethod:pe.current,loginAccount:x??null}):re(q,"login","onError",ne.USER_EXITED_AUTH_FLOW);else if(fe.current==="link"&&x)S.isSuccess&&N&&pe.current?re(q,"linkAccount","onSuccess",{user:u,linkMethod:pe.current,linkedAccount:x}):pe.current&&re(q,"linkAccount","onError",ne.USER_EXITED_LINK_FLOW,{linkMethod:pe.current});else if(fe.current==="update"&&x)S.isSuccess&&N&&pe.current?re(q,"update","onSuccess",{user:u,updateMethod:pe.current,updatedAccount:x}):pe.current&&re(q,"update","onError",ne.USER_EXITED_UPDATE_FLOW,{linkMethod:pe.current});else if(fe.current==="connect-or-create"){let H=_p();H[0]?re(q,"connectOrCreateWallet","onSuccess",{wallet:H[0]}):re(q,"connectOrCreateWallet","onError",ne.USER_EXITED_AUTH_FLOW)}let F=y&&wg.has(y),z=y==="ErrorScreen"&&V.errorModalData&&wg.has(V.errorModalData.previousScreen);if((F||z)&&V.funding){let H,Q=wg.get(y)??null;if(z&&V.funding?.onError){let K=V.errorModalData?.error,be=K?.privyErrorCode||ne.UNKNOWN_FUNDING_ERROR,Ae=new G(K?.message||"Funding failed",K,be);V.funding?.onError?.(Ae)}if(V.funding.chainType==="solana"){let K=i.solanaRpcs[V.funding.chain];if(!K)return console.warn("Unable to load solana rpc, skipping balance"),re(q,"fundSolanaWallet","onUserExited",{address:V.funding.address,fundingMethod:Q,chain:V.funding.chain,balance:H}),a(!1),void Jx(V.funding,Q);if(r(cre))try{H=await NEe({rpc:K.rpc,address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");re(q,"fundSolanaWallet","onUserExited",{address:V.funding.address,fundingMethod:Q,chain:V.funding.chain,balance:H})}else{let K=$0(V.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{H=await K.getBalance({address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}re(q,"fundWallet","onUserExited",{address:V.funding.address,chain:V.funding.chain,fundingMethod:Q,balance:H}),Jx(V.funding,Q)}}Z(H=>({...H,externalConnectWallet:{}})),fe.current=null,pe.current=null,m(!1),a(!1),A({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ue,connectWallet:Mn,initLoginWithWallet:async(S,x,N,F)=>{Co(S)?(pe.current="siwe",fr(S,x,N)):(pe.current="siws",Wi(S,x,N,F))},loginWithWallet:async()=>{let S,x,N;if(!c)throw new fc;if(e.authFlow instanceof Xp?S="siwe":e.authFlow instanceof zx&&(S="siws"),!S)throw new G("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:x}=await e.link()),pe.current=S}catch(F){throw re(q,"linkAccount","onError",F.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:S}),F}else try{({user:x,isNewUser:N}=await e.authenticate()),pe.current=S}catch(F){throw re(q,"login","onError",F.privyErrorCode||ne.GENERIC_CONNECT_WALLET_ERROR),F}Ve(x||u||null),m(N||!1),Re(!0)},delegateWallet:async({address:S,chainType:x,showDelegationUIs:N})=>new Promise(async(F,z)=>{let H=await jt();if(!ce||!u||!H)throw new G("User must be authenticated and have an embedded wallet to delegate actions.");if(x!=="solana"&&x!=="ethereum")throw new G("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Q=me.walletProxy??await me.initializeWalletProxy(15e3);if(!Q)throw new G("Wallet proxy not initialized.");if((({address:Ge,user:Qe})=>!!Gx(Qe).find(xe=>xe.address===Ge))({address:S,user:u}))return F();let K=il(u,S);if(!K)throw new G("Address to delegate is not associated with current user.");if(si(K))throw new G("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let be=TEe({address:S,user:u}),Ae=kEe({address:S,user:u}),qe=async()=>{await Q.createDelegatedAction({accessToken:H,rootWallet:Ae,delegatedWallets:[be]}),await me.refreshSessionAndUser()};if(await me.recoverEmbeddedWallet({address:S}),N)Z({delegatedActions:{consent:{address:S,onDelegate:qe,onSuccess:async()=>{F()},onError:async Ge=>{z(Ge)}}}}),Ue("DelegatedActionsConsentScreen");else try{await qe(),F()}catch(Ge){z(Ge)}}),revokeDelegatedWallets:async({showDelegationUIs:S})=>new Promise(async(x,N)=>{if(!ce||!u)throw new G("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let F=Gx(u);if(F.length===0)throw new G("User has no delegated wallets to revoke.");if(F.some(si))throw new G("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let z=async()=>{await e.revokeDelegatedWallet(),await me.refreshSessionAndUser()};if(S)Z({delegatedActions:{revoke:{onRevoke:z,onSuccess:async()=>{x()},onError:async H=>{N(H)}}}}),Ue("DelegatedActionsRevokeScreen");else try{await z(),x()}catch(H){N(H)}}),initLoginWithFarcaster:async(S,x)=>{let N=new Bx(S,x);e.startAuthFlow(N);try{pe.current="farcaster",await N.initializeFarcasterConnect()}catch(F){throw fe.current==="login"?re(q,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):fe.current==="link"&&re(q,"linkAccount","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),F}},loginWithFarcaster:async()=>{let S,x;if(!c)throw new fc;if(!(e.authFlow instanceof Bx))throw new G("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:S}=await e.link()),pe.current="farcaster"}catch(N){throw re(q,"linkAccount","onError",N.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),N}else try{({user:S,isNewUser:x}=await e.authenticate()),pe.current="farcaster"}catch(N){throw re(q,"login","onError",N.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),N}Ve(S||null),m(x||!1),Re(!0)},async crossAppAuthFlow({appId:S,popup:x,action:N,disableSignup:F}){let z=`privy:${S}`;pe.current=z;let{url:H,stateCode:Q,codeVerifier:K}=await async function({api:be,appId:Ae}){let qe=Pb(),Ge=tj(),Qe=await nj(qe);try{let{url:xe}=await be.post(iO,{provider:`privy:${Ae}`,redirect_to:window.location.href,code_challenge:Qe,state_code:Ge});return{url:xe,stateCode:Ge,codeVerifier:qe}}catch(xe){throw lt(xe)}}({api:e.api,appId:S});if(!H)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:S}}),new G("No authorization URL returned for cross-app auth.");try{let be=await async function({url:xe,popup:yt}){return yt.location=xe,new Promise((Mt,Cn)=>{let ys,wi=setTimeout(()=>{Cn(new G("Authorization request timed out after 2 minutes.")),kr()},12e4);function kr(){yt?.close(),window.removeEventListener("message",Kt)}let ws=setInterval(()=>{yt?.closed&&!ys&&(kr(),clearInterval(ws),clearTimeout(wi),Cn(new G("User rejected request")))},300);function Kt(gr){gr.data&&(gr.data.type==="PRIVY_OAUTH_RESPONSE"&&gr.data.stateCode&&gr.data.authorizationCode&&(clearTimeout(wi),Mt(gr.data),kr()),gr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(wi),Cn(new G(gr.data.error)),kr()),gr.data.type===Yx&&((ys=new BroadcastChannel(Kx)).onmessage=Kt))}window.addEventListener("message",Kt)})}({url:H,popup:x,provider:z}),Ae=be.stateCode,qe=be.authorizationCode;if(Ae!==Q)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:z,storedStateCode:Q??"",returnedStateCode:Ae??""}}),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);let Ge=await async function({appId:xe,stateCode:yt,codeVerifier:Mt,authorizationCode:Cn,action:ys,client:wi,disableSignup:kr}){if(!Cn||!yt)throw new G("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Cn==="undefined")throw new G("User denied confirmation during cross-app auth flow");try{let ws=new PEe({authorizationCode:Cn,stateCode:yt,codeVerifier:Mt,provider:`privy:${xe}`,disableSignup:!!kr});wi.startAuthFlow(ws);let Kt=ys==="link"?await wi.link():await wi.authenticate(),gr=Kt.oAuthTokens?.accessToken;return console.debug(),gr}catch(ws){let Kt=lt(ws);throw Kt.privyErrorCode===ne.ACCOUNT_TRANSFER_REQUIRED?Kt:Kt.privyErrorCode?new G(Kt.message||"Invalid code during cross-app auth flow.",void 0,Kt.privyErrorCode):Kt.message==="User denied confirmation during cross-app auth flow"?new G("Invalid code during cross-app auth flow.",void 0,ne.OAUTH_USER_DENIED):new G("Invalid code during cross-app auth flow.",void 0,ne.UNKNOWN_AUTH_ERROR)}}({appId:S,codeVerifier:K,stateCode:Ae,authorizationCode:qe,action:N,client:e,disableSignup:F});Ge&&e.storeProviderAccessToken(S,Ge);let Qe=await me.refreshSessionAndUser();if(!Qe)throw new G("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:S}}),Qe}catch(be){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:be.toString(),provider:z}}),be}},async initLoginWithOAuth(S,x,N){if(pe.current=S,!Ny()||S==="google"&&!i.allowOAuthInEmbeddedBrowsers&&Xx(window.navigator.userAgent))return void Ue("InAppBrowserLoginNotPossible");S==="twitter"&&window.opener&&window.opener.postMessage({type:Yx},"*"),Me.del(x0),Me.del(fd);let F=new al({provider:S,disableSignup:!!N,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});x&&F.addCaptchaToken(x),e.startAuthFlow(F);let z=await e.authFlow.getAuthorizationUrl();if(z&&z.url)if(S==="twitter"&&pk&&(z.url=z.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&m4())try{let{privyOAuthCode:H,privyOAuthState:Q}=await Fx(z.url);Ue("OAuthStatusScreen"),F.meta.stateCode=Q,F.meta.authorizationCode=H}catch(H){throw console.error("OAuth in chrome extension flow failed:",H),H}else window.location.assign(z.url)},async initLoginWithTelegram(S,x){if(!c)throw new fc;pe.current="telegram";let N=new Yu(S,x);e.startAuthFlow(N),O({status:"loading"}),N.meta.telegramWebAppData=void 0,N.meta.telegramAuthResult=await new Promise((F,z)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},H=>H?F(H):(fe.current==="link"?re(q,"linkAccount","onError",ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):fe.current==="login"?re(q,"login","onError",ne.INVALID_CREDENTIALS):fe.current==="update"&&re(q,"login","onError",ne.FAILED_TO_UPDATE_ACCOUNT),z(new G("Telegram auth failed or was canceled by the client")))):z(new G("Telegram was not initialized")):z(new G("Telegram Auth configuration is not loaded")))},async loginWithTelegram(S){var Q;let x,N;if(!(e.authFlow instanceof Yu))throw new G("Must initialize Telegram flow before calling loginWithTelegram");(Q=e.authFlow.meta).captchaToken||(Q.captchaToken=S?.captchaToken);let F=await jt(),z=S?.intent||fe.current;if(z==="login")try{let K=await e.authenticate();x=K.user,N=K.isNewUser,pe.current="telegram"}catch(K){throw re(q,"login","onError",K.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),K}else{if(z!=="link")throw new G("Unknown auth intent");try{x=(await e.link()).user,pe.current="telegram"}catch(K){throw re(q,"linkAccount","onError",K.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),K}}Ve(x),m(N||!1),Re(!0),O({status:"done"});let H=x?.linkedAccounts.find(({type:K})=>K==="telegram")||null;return{user:x,isNewUser:N||!1,wasAlreadyAuthenticated:!!F,loginAccount:H}},async loginWithOAuth(S){let x,N,F;if(!(e.authFlow instanceof al))throw new G("Must initialize OAuth flow before calling loginWithOAuth");let z=Me.get(E0),H=e.authFlow.meta.stateCode;if(z!==H)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:S,storedStateCode:z??"",returnedStateCode:H??""}}),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,ne.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Q=await e.link();x=Q.user,N=!1,F=Q.oAuthTokens,pe.current=S}catch(Q){throw re(q,"linkAccount","onError",Q.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:S}),Q}else try{let Q=await e.authenticate();x=Q.user,N=Q.isNewUser,F=Q.oAuthTokens,pe.current=S}catch(Q){throw fe.current==="login"?re(q,"login","onError",Q.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):fe.current==="link"&&re(q,"linkAccount","onError",Q.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:S}),Q}return Ve(x),m(N||!1),Re(!0),F&&x&&re(q,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:F,user:x}),F},passkeyAuthState:_,setPasskeyAuthState:I,async initSignupWithPasskey({captchaToken:S,withPrivyUi:x}){let N=new J2({captchaToken:S,setPasskeyAuthState:I,hints:i.passkeys.registration?.hints});e.startAuthFlow(N),fe.current="login";try{pe.current="passkey",I({status:"generating-challenge"}),await N.initRegisterFlow(x),I({status:"awaiting-passkey"})}catch(F){throw I({status:"error",error:F}),re(q,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),F}},async signupWithPasskey(){let S,x;if(!c)throw new fc;if(!(e.authFlow instanceof J2))throw new G("Must initialize Passkey flow first.");if(pe.current!=="passkey"){let z=new G("Must init login with Passkey flow first.");throw I({status:"error",error:z}),z}let N=await jt();try{pe.current="passkey",I({status:"awaiting-passkey"}),{user:S,isNewUser:x}=await e.authenticate()}catch(z){throw I({status:"error",error:z}),re(q,"login","onError",z.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),z}Ve(S),m(x||!1),Re(!0),I({status:"done"});let F=S?.linkedAccounts.find(({type:z})=>z==="passkey")||null;return{user:S,isNewUser:x||!1,wasAlreadyAuthenticated:!!N,loginAccount:F}},async initLoginWithPasskey({captchaToken:S,withPrivyUi:x}){let N=new J2({captchaToken:S,setPasskeyAuthState:I,hints:void 0});e.startAuthFlow(N),fe.current="login";try{pe.current="passkey",I({status:"generating-challenge"}),await N.initAuthenticationFlow(x),I({status:"awaiting-passkey"})}catch(F){throw I({status:"error",error:F}),re(q,"login","onError",F.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),F}},async loginWithPasskey(S){let x,N;if(!c)throw new fc;if(!(e.authFlow instanceof J2))throw new G("Must initialize Passkey flow first.");if(S?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=S.credentialIds),pe.current!=="passkey"){let H=new G("Must init login with Passkey flow first.");throw I({status:"error",error:H}),H}let F=await jt();try{pe.current="passkey",I({status:"awaiting-passkey"}),{user:x,isNewUser:N}=await e.authenticate()}catch(H){throw I({status:"error",error:H}),re(q,"login","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),H}Ve(x),m(N||!1),Re(!0),I({status:"done"});let z=x?.linkedAccounts.find(({type:H})=>H==="passkey")||null;return{user:x,isNewUser:N||!1,wasAlreadyAuthenticated:!!F,loginAccount:z}},async initLinkWithPasskey(S){let x=new J2({captchaToken:S,hints:i.passkeys.registration?.hints});e.startAuthFlow(x),fe.current="link",pe.current="passkey",I({status:"generating-challenge"});try{await x.initLinkFlow(),I({status:"awaiting-passkey"})}catch(N){throw re(q,"linkAccount","onError",N.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),I({status:"error",error:N}),N}},async linkWithPasskey(){let S;if(!c)throw new fc;if(!(e.authFlow instanceof J2))throw new G("Must initialize Passkey flow first.");if(pe.current!=="passkey")throw new G("Must init login with Passkey flow first.");try{pe.current="passkey",{user:S}=await e.link()}catch(x){throw re(q,"linkAccount","onError",x.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),x}return Ve(S||u||null),I({status:"done"}),S},async initLoginWithHeadlessOAuth(S,x,N){if(!Ny()||S==="google"&&!i.allowOAuthInEmbeddedBrowsers&&Xx(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let F=new al({provider:S,withPrivyUi:!1,disableSignup:N??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});x&&F.addCaptchaToken(x),v({status:"loading"});let z=await e.startAuthFlow(F).getAuthorizationUrl();if(z?.url)if(window.location.protocol==="chrome-extension:"&&m4())try{let{privyOAuthCode:H,privyOAuthState:Q}=await Fx(z.url);F.meta.stateCode=Q,F.meta.authorizationCode=H,await it(F.meta)}catch(H){throw v({status:"error",error:H}),H}else window.location.assign(z.url)},loginWithHeadlessOAuth:it,initLoginWithEmail:async({email:S,captchaToken:x,disableSignup:N,withPrivyUi:F})=>{let z=new pl({email:S,captchaToken:x,disableSignup:N});e.startAuthFlow(z);try{pe.current="email",D({status:"sending-code"});let H=await z.sendCodeEmail({withPrivyUi:F});if(H?.ssoRedirectUrl)return window.location.href=H.ssoRedirectUrl,void await N0(1e4);D({status:"awaiting-code-input"})}catch(H){throw D({status:"error",error:H}),fe.current==="login"?re(q,"login","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):fe.current==="link"&&re(q,"linkAccount","onError",H.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),H}},initUpdateEmail:async({oldAddress:S,newAddress:x,captchaToken:N})=>{let F=new tEe(S,x,N);e.startAuthFlow(F);try{await F.sendCodeEmail({withPrivyUi:!0})}catch(z){throw re(q,"update","onError",z.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:pe.current}),z}},initUpdatePhone:async(S,x,N)=>{let F=new rEe(S,x,N);e.startAuthFlow(F);try{await F.sendSmsCode({withPrivyUi:!0})}catch(z){re(q,"update","onError",z.privyErrorCode||ne.UNKNOWN_AUTH_ERROR,{linkMethod:pe.current})}},initLoginWithSms:async({phoneNumber:S,captchaToken:x,disableSignup:N,withPrivyUi:F})=>{W({status:"sending-code"});let z=new ml({phoneNumber:S,captchaToken:x,disableSignup:N});e.startAuthFlow(z);try{pe.current="sms",await z.sendSmsCode({withPrivyUi:F}),W({status:"awaiting-code-input"})}catch(H){throw W({status:"error",error:H}),fe.current==="login"?re(q,"login","onError",H.privyErrorCode||ne.UNKNOWN_AUTH_ERROR):fe.current==="link"&&re(q,"linkAccount","onError",H.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),H}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async S=>{let x,N;function F(K){e.authFlow instanceof pl?D(K):e.authFlow instanceof ml&&W(K)}if(F({status:"submitting-code"}),!c){let K=new fc;throw F({status:"error",error:K}),K}if(e.authFlow instanceof pl)e.authFlow.meta.emailCode=S.trim();else{if(!(e.authFlow instanceof ml)){let K=new G("Must initialize a passwordless code flow first");throw F({status:"error",error:K}),K}e.authFlow.meta.smsCode=S.trim()}let z=await jt();if(fe.current==="link")try{({user:x}=await e.link())}catch(K){throw F({status:"error",error:K}),re(q,"linkAccount","onError",K.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:pe.current}),K}else if(fe.current==="update")try{({user:x}=await e.link())}catch(K){throw F({status:"error",error:K}),re(q,"update","onError",K.privyErrorCode||ne.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:pe.current}),K}else try{({user:x,isNewUser:N}=await e.authenticate())}catch(K){throw F({status:"error",error:K}),re(q,"login","onError",K.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),K}let H=x||u;Ve(H||null),m(N||!1),Re(!0),F({status:"done"});let Q=null;return e.authFlow instanceof pl?Q=H?.linkedAccounts.find(({type:K})=>K==="email")||null:e.authFlow instanceof ml&&(Q=H?.linkedAccounts.find(({type:K})=>K==="phone")||null),{user:H,isNewUser:N||!1,wasAlreadyAuthenticated:!!z,linkedAccount:Q}},generateSiweMessage:async({address:S,chainId:x,captchaToken:N})=>{fe.current=ce?"link":"login",pe.current="siwe",T({status:"generating-message"});let F=await e.generateSiweNonce({address:S,captchaToken:N});return T({status:"awaiting-signature"}),y4({address:S,chainId:x.replace("eip155:",""),nonce:F})},generateSiweMessageForSmartWallet:async({address:S,chainId:x})=>{let N=await e.generateSiweNonce({address:S});return y4({address:S,chainId:x.replace("eip155:",""),nonce:N})},linkSmartWallet:async({message:S,signature:x,smartWalletType:N,smartWalletVersion:F})=>{let z;z=await e.linkSmartWallet({message:S,signature:x,smartWalletType:N,smartWalletVersion:F}),Ve((z=await me.refreshSessionAndUser()??z)||u||null)},loginWithSiwe:async({message:S,signature:x,captchaToken:N,disableSignup:F,walletClientType:z,connectorType:H})=>{let Q,K=null;try{if(u)throw Error("User already authenticated");let be=new Xp(e,void 0,N,F,{message:S,signature:x,walletClientType:z,connectorType:H});if(e.startAuthFlow(be),pe.current="siwe",fe.current="login",T({status:"submitting-signature"}),{user:K,isNewUser:Q}=await e.authenticate(),!K)throw Error("Authentication failed - no user returned")}catch(be){throw re(q,"login","onError",be.privyErrorCode||ne.UNKNOWN_AUTH_ERROR),T({status:"error",error:be}),be}return Ve(K),m(Q||!1),Re(!0),T({status:"done"}),fe.current=null,pe.current=null,{user:K,isNewUser:Q||!1}},linkWithSiwe:async({message:S,signature:x,chainId:N,walletClientType:F,connectorType:z})=>{let H;xt("siwe");let Q=null;try{T({status:"submitting-signature"}),H=await e.linkWithSiwe({message:S,signature:x,chainId:N,walletClientType:F,connectorType:z}),H=await me.refreshSessionAndUser()??H,T({status:"done"}),(Q=nt(H)||null)&&re(q,"linkAccount","onSuccess",{user:H,linkMethod:"siwe",linkedAccount:Q})}catch(be){throw re(q,"linkAccount","onError",be.privyErrorCode||ne.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),fe.current=null,pe.current=null,T({status:"error",error:be}),be}let K=H||u;return Ve(K||null),fe.current=null,pe.current=null,{user:K,linkedAccount:Q}},refreshSessionAndUser:async()=>{let S=await e.getAuthenticatedUser();return Re(!!S),Ve(S),S},walletProxy:k,createAnalyticsEvent:({eventName:S,payload:x,timestamp:N})=>e.createAnalyticsEvent({eventName:S,payload:x,timestamp:N}),acceptTerms:async()=>{let S=await e.acceptTerms();return Ve(S),S},getUsdTokenPrice:S=>e.getUsdTokenPrice(S),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:S=>e.getSplTokenMetadata(S),recoverEmbeddedWallet:async S=>new Promise(async(x,N)=>{if(!u)return void x(!0);let F=S?.address?il(u,S.address):rh(u)||Ey(u).at(0)||qY(u).at(0);if(!F||si(F))return void x(!0);let z=await jt();if(!z||!k||!F)return void N(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:H,entropyIdVerifier:Q}=To(u,F);try{await k.connect({accessToken:z,entropyId:H,entropyIdVerifier:Q}),x(!0)}catch(K){if(m1(K)&&F.recoveryMethod==="privy"){let be;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:F.address}});try{be=await k.recover({entropyId:H,entropyIdVerifier:Q,accessToken:z})}catch(Ae){return void N(Ae)}be.entropyId||N(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:F.address}}),x(!0)}else m1(K)&&F.recoveryMethod!=="privy"&&F.recoveryMethod!=="privy-v2"?(Z(be=>({...be,recoverWallet:{entropyId:H,entropyIdVerifier:Q,onFailure:N,onSuccess:()=>{x(!0)},onCompleteNavigateTo:be.createWallet?"EmbeddedWalletOnAccountCreateScreen":void 0},recoveryOAuthStatus:{provider:F.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1,isInAccountCreateFlow:!!be.createWallet}})),Ue(MEe(F.recoveryMethod))):N(K)}}),setReadyToTrue:S=>{l(!0),X?.(S)},updateWallets:()=>pr(),fundWallet:async(S,x)=>{let N="FundingMethodSelectionScreen";return new Promise((F,z)=>{Z({funding:{...R9({address:S,appConfig:i,fundWalletConfig:x,methodScreen:N,onComplete:F,onError:z})}}),Ue(N)})},openModal:Ue,requestFarcasterSignerStatus:async S=>{let x=await jt(),N=u?.linkedAccounts.find(z=>z.type==="wallet"&&z.walletClientType==="privy");if(!x)throw Error("Must have valid access token to connect with Farcaster");if(!k||!N)throw Error("Must have an embedded wallet to use Farcaster signers");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let F=await e.requestFarcasterSignerStatus(S);return F.status==="approved"&&Ve(await e.getAuthenticatedUser()||u||null),F},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let S=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(S)return S.updateConnectionPreference("smartWalletOnly"),Mn(S);await Tr("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let S=e.connectors?.findWalletConnector("base_account","base_account");if(S)return Mn(S);await Tr("base_account","base_account")},initiateAccountTransfer:async({nonce:S,account:x,accountType:N,externalWalletMetadata:F,telegramAuthResult:z,telegramWebAppData:H,farcasterEmbeddedAddress:Q,oAuthUserInfo:K})=>{let be=await e.sendAccountTransferRequest({nonce:S,account:x,accountType:N,externalWalletMetadata:F,telegramAuthResult:z,telegramWebAppData:H,farcasterEmbeddedAddress:Q,oAuthUserInfo:K});return Ve(be),be},inProgressAuthFlowRef:fe,inProgressLoginOrLinkMethodRef:pe};pj=me.recoverEmbeddedWallet,me.recoverEmbeddedWallet;let mr=R.useMemo(()=>({wallets:d,ready:ue&&Ne}),[d,ue,Ne]),cc=e.authFlow instanceof Yu,{siteKey:lc,enabledProvider:uc}=i.captcha,If=!i.headless&&uc&&!ce&&(c||cc);return g.jsx(lj.Provider,{value:!0,children:g.jsx(_2.Provider,{value:Dn,children:g.jsx(vk.Provider,{value:q,children:g.jsx(mk.Provider,{value:mr,children:g.jsx(iEe,{appId:i.id,captchaSiteKey:lc,enabledCaptchaProvider:uc,children:g.jsxs(FI.Provider,{value:me,children:[g.jsx(WQ,{children:g.jsxs(GY,{data:V,setModalData:Z,setInitialScreen:C,initialScreen:y,authenticated:ce,open:s,children:[t.children,g.jsx(JEe,{customAuth:i.customAuth}),If&&g.jsx(oEe,{delayedExecution:!1}),g.jsx(xEe,{}),g.jsx(BEe,{disabled:i.embeddedWallets.disableAutomaticMigration}),g.jsx(lEe,{palette:i.appearance.palette||{}}),!i.render.standalone&&g.jsx(vEe,{open:s})]})}),g.jsx(IEe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u?.mfaMethods,mfaPromise:Ee,mfaSubmitPromise:se,onLoad:$,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&g.jsx(Ik,{$if:!0,children:g.jsx(EEe,{scriptHost:t.apiUrl||vy,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};class Gi extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class eA extends v2{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Gi(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await jt()||!this.address)throw new Gi("Disconnected",4900);let{hash:r}=await((i,s)=>fj(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Gi(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await jt()||!this.address)throw new Gi("Disconnected",4900);let{signature:r}=await((i,s)=>hj(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Gi(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Gi(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=$0(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,a)=>uj(s,a))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,a)=>dj(s,a))(Np(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:Uy(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...l0(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Uy(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>eEe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await jt();if(await(r=>pj(r))({address:this.address}),!n||!this.address)throw new Gi("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&si(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Gi("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Gi("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await es(i,async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Gi(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Gi(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:o,chainId:c=1,walletIndex:l,privyClient:u,walletAccount:d}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=c,this.rpcConfig=s,this.chains=a,this.publicClient=$0(c,this.chains,s,{appId:o}),this.rpcTimeoutDuration=B8(s,"privy"),this.appId=o,this.walletIndex=l,this.privyClient=u,this.walletAccount=d}}const QEe=({style:t,...e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),exe=({style:t,...e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function bg(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var txe=0;class mj extends C2{async initialize(){ae.debug("Initializing injected connector (EIP-6963)",{wallet:this.walletClientType}),await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){if(ae.connectionStart(this.walletClientType,"injected",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection(),!await this.isConnected())return ae.debug("Not connected after prompt",{wallet:this.walletClientType}),null;let n=await this.getConnectedWallet();return n&&ae.connectionSuccess(this.walletClientType),n}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){ae.debug("Prompting connection via eth_requestAccounts",{wallet:this.walletClientType});try{ae.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(ae.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Ft("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ae.connectionFailed(this.walletClientType,e,{method:"injected"}),rc(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new E2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var vc="__private_"+txe+++"__walletBranding";class vg extends C2{async initialize(){ae.debug("Initializing legacy injected connector",{wallet:this.walletClientType}),await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){if(ae.connectionStart(this.walletClientType,"injected (legacy)",{showPrompt:e.showPrompt}),e.showPrompt&&await this.promptConnection(),!await this.isConnected())return ae.debug("Not connected after prompt",{wallet:this.walletClientType}),null;let n=await this.getConnectedWallet();return n&&ae.connectionSuccess(this.walletClientType),n}get walletBranding(){return bg(this,vc)[vc]??{name:"Browser Extension",icon:QEe,id:"extension"}}disconnect(){ae.debug("Disconnect requested (not supported for legacy injected)",{wallet:this.walletClientType})}async promptConnection(){ae.debug("Prompting connection via eth_requestAccounts (legacy)",{wallet:this.walletClientType});try{ae.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(ae.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Ft("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ae.connectionFailed(this.walletClientType,e,{method:"injected (legacy)"}),rc(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,vc,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new E2(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?bg(this,vc)[vc]={name:"MetaMask",icon:HQ,id:"io.metamask"}:s==="phantom"&&(bg(this,vc)[vc]={name:"Phantom",icon:exe,id:"phantom"})}}class nxe extends mj{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){ae.debug("Prompting connection via MetaMask",{wallet:this.walletClientType});try{ah||(ae.rpcRequest("wallet_requestPermissions",this.walletClientType),await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),ae.rpcResponse("wallet_requestPermissions",this.walletClientType)),ae.rpcRequest("eth_requestAccounts",this.walletClientType);let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(ae.rpcResponse("eth_requestAccounts",this.walletClientType),!e||e.length===0||!e[0])throw new Ft("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw ae.connectionFailed(this.walletClientType,e,{method:"metamask"}),rc(e)}}}class rxe extends v2{get wallets(){let e=new Set;return this.walletConnectors.flatMap(n=>n.wallets).sort((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0).filter(n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)})}async initialize(e){if(ae.info("Starting connector initialization",{reInit:e??!1}),this.initialized&&!e)return;if(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets)return void ae.info("All external wallets disabled, skipping initialization");let n=PQ({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(a=>{ae.info("Detected injected providers",{count:a.length,wallets:a.map(o=>o.type).join(", ")}),a.forEach(({type:o,eip6963InjectedProvider:c,legacyInjectedProvider:l})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:o,providers:{eip6963InjectedProvider:c,legacyInjectedProvider:l}})})});for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Tk)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new BQ({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||Dy(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||Dy(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async a=>{if(!r)return;let o=a.find(c=>c.walletBranding?.id==="walletconnect_solana");o&&o.wallet&&await o.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter(a=>r||a.walletBranding?.id!=="walletconnect_solana").forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.(a=>{s(a),a?.filter(o=>r||o.walletBranding?.id!=="walletconnect_solana").forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(Au).find(i=>i.connectorType===e&&(!r||i.wallets.some(s=>s.address===r)))??null:this.walletConnectors.filter(Au).find(i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some(s=>s.address===r)))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(FQ).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}findImportedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded_imported")}onInitialized(e){ae.connectorInit(e.connectorType,e.walletClientType,{walletsCount:e.wallets.length}),e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:o,entropyIdVerifier:c}=To(n);for(let l of r){let u=this.findEmbeddedWalletConnectors().find(d=>d.walletIndex===l.walletIndex);if(u&&Au(u))u.proxyProvider.walletProxy=e;else{let d=new Ux({provider:new eA({walletProxy:e,address:l.address,entropyId:o,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:l.walletIndex,privyClient:a,walletAccount:l}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:l.walletIndex});this.addWalletConnector(d)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&Au(s))s.proxyProvider.walletProxy=e;else{let a=new Ux({provider:new eA({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=Mp(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach(n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)}),this.storedConnections=Mp(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){ae.debug("Creating Ethereum wallet connector",{connector:e,wallet:n});let s=this.findWalletConnector(e,n);if(s&&Au(s))return ae.debug("Found existing connector, reusing",{connector:e,wallet:n}),s instanceof b4&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new XCe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new YCe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new b4({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new VQ({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new nxe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new vg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new vg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new vg(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new mj(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return a?(ae.connectorCreated(e,n),this.addWalletConnector(a)):ae.debug("No connector created",{connector:e,wallet:n}),a||null}addWalletConnector(e){ae.debug("Adding wallet connector",{connector:e.connectorType,wallet:e.walletClientType}),this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{ae.error("Failed to initialize connector",n,{connector:e.connectorType,wallet:e.walletClientType})})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,o,c,l,u,d,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if(m?.connectorType==="null"){let y=this.walletConnectors.indexOf(m);this.walletConnectors.splice(y,1)}this.addWalletConnector(p)}},ae.setEnabled(f??!1),ae.info("ConnectorManager initializing",{walletChainType:h||void 0,walletListCount:o.length}),this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=c,this.externalWalletConfig=l,this.privyAppName=u,this.walletChainType=h||"ethereum-only",this.setBaseAccountSdk=d,this.storedConnections=Mp()}}const tA=ec(()=>({identityToken:null}));let ixe=[nO,rO,oO];class sxe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw lt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw lt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw lt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=UK,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=WY.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let o=new Headers(a.headers);o.set("privy-app-id",this.appId),this.appClientId&&o.set("privy-client-id",this.appClientId),o.set("privy-ca-id",this.clientAnalyticsId||""),o.set("privy-client",`react-auth:${this.sdkVersion}`);let c=ixe.includes(s.toString());if(!o.has("authorization")){let l=await this.client.getAccessToken({disableAutoRefresh:c});l!==null&&o.set("authorization",`Bearer ${l}`)}a.headers=o,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new VY}})}}const axe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class oxe{getOrCreateGuestCredential(e){let n=kI(e);if(Ny()){if(Me.get(n))return Me.get(n);{let r=Gc(g4(32));return Me.put(n,r),r}}return Gc(g4(32))}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(Yne,{guest_credential:this.meta.guestCredential})}catch(e){throw lt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function _g(){return!(bQ&&window.location.origin.startsWith("http://localhost"))}var Cg,nA=((Cg={}).PRIVY="privy_access_token",Cg.CUSTOMER="customer_access_token",Cg);class cxe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Qu)}get privyAccessToken(){return this._getToken(Sp)}_getToken(e){try{let n=Me.get(e);return typeof n=="string"?$o.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Me.get(I6);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Me.get(Uf(e));if(typeof n!="string")return null;{let r=new $o(n);return r.isExpired()?(Me.del(Uf(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Jt.get(T6);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==zK;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=$o.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Me.put(Uf(e),n):Me.del(Uf(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Hn(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),Wt(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof pl?"email":i instanceof ml?"sms":i instanceof Xp?"siwe":i instanceof oxe?"guest":i instanceof cj?"custom_auth":i instanceof al?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Hn(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Wt(n)}}async _refresh(){if(!this.api)throw new G("Session has no API instance");if(!this.client)throw new G("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(nO,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Hn(r.user)}catch(r){if(r instanceof L0&&r.privyErrorCode===ne.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Wt(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(rO,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=Me.get(Qu);if(Me.put(Qu,e),!this.client?.useServerCookies){let r=$o.parse(e)?.expiration;Jt.set(n9,e,{sameSite:"Strict",secure:_g(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Me.del(Qu),Jt.remove(n9),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Me.put(I6,e),this.client?.useServerCookies||Jt.set(T6,"t",{sameSite:"Strict",secure:_g(),expires:30})):(Me.del(I6),Jt.remove(BK),Jt.remove(T6))}storePrivyAccessToken(e){typeof e=="string"?Me.put(Sp,e):Me.del(Sp)}storeIdentityToken(e){if(tA.setState({identityToken:e}),this.client?.useServerCookies)return;Me.put(r9,e);let n=$o.parse(e)?.expiration;Jt.set(i9,e,{sameSite:"Strict",secure:_g(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Me.del(r9),tA.setState({identityToken:null}),Jt.remove(i9)}constructor(){this.authenticateOnce=new ss(async e=>this._authenticate(e)),this.linkOnce=new ss(async e=>this._link(e)),this.refreshOnce=new ss(this._refresh.bind(this)),this.destroyOnce=new ss(this._destroy.bind(this))}}let Eg,y1;var lxe=0,xg="__private_"+lxe+++"__getOrGenerateClientAnalyticsId";class uxe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:c,appName:l,walletChainType:u,setBaseAccountSdk:d,connectorsDebugLogs:h}){this.connectors||(this.connectors=new rxe(this.appId,e,n,r,i,s,a,o,c,l,d,u,h))}generateApi(){let e=new sxe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new G("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new G("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Hne,{action:"verify"})}catch(e){throw lt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(qne,{});return axe(e.options)}catch(e){throw lt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Zne,{});return Hn(e)}catch(e){throw Wt(e)}}async unlinkEmail(e){try{let n=await this.api.post(xne,{address:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async unlinkPhone(e){try{let n=await this.api.post(Tne,{phoneNumber:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(cne,{address:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(fne,{address:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Rne,{provider:e,subject:n});return await this.getAuthenticatedUser()??Hn(r)}catch(r){throw Wt(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(bne,{fid:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Wne,{telegram_user_id:e});return await this.getAuthenticatedUser()??Hn(n)}catch(n){throw Wt(n)}}async revokeDelegatedWallet(){try{await this.api.post(ere,{})}catch(e){throw Wt(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(oO,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(Jne,e)}catch(n){throw Wt(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Xne,e)}catch(n){throw Wt(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Qne}?partnerUserId=${e}`)}catch(n){throw Wt(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(nA.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(nA.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?Tb.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(ine,{address:e,token:n})).nonce}catch(r){throw Wt(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(sne,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(ane,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(one,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Hn(s)}catch(s){throw Wt(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Hn(a)}catch(a){throw Wt(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(une,{address:e,token:n})).nonce}catch(r){throw Wt(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(dne,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(o);let c=Hn(o.user);if(!c)throw Error("Authentication failed - no user returned");return{user:c,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:o,oAuthUserInfo:c}){try{let l,u;switch(r){case"email":l=Lne,u={nonce:e,email:n};break;case"sms":l=One,u={nonce:e,phoneNumber:n};break;case"siwe":if(l=lne,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":l=vne,u={nonce:e,farcaster_id:n,farcaster_embedded_address:o};break;case"telegram":l=Vne,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":l=pne,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l=$ne,u={nonce:e,userInfo:c}}let d=await this.api.post(l,u);return await this.getAuthenticatedUser()??Hn(d)}catch(l){throw Wt(l)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(hne,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Hn(a)}catch(a){throw Wt(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(tre);return this.session.updateIdentityToken(e.identity_token),Hn(e.user)}catch(e){throw Wt(e)}}async scanTransaction(e){try{return await this.api.post(nre,e)}catch(n){throw Wt(n)}}constructor({apiUrl:e=vy,appId:n,appClientId:r,timeout:i=jK}){Object.defineProperty(this,xg,{value:dxe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==vy&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s}(this,xg)[xg](),Eg||(Eg=new cxe),this.session=Eg,this.api=this.generateApi(),this.session.client=this}}function dxe(){if(typeof window>"u")return null;try{let e=Me.get(_y);if(typeof e=="string"&&e.length>0)return e}catch{}let t=uy();try{return Me.put(_y,t),t}catch{return t}}function gj(){if(!y1)throw new G("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return y1}const hxe=({config:t,...e})=>{(()=>{if(R.useContext(lj))throw new G("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),a=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!a)throw new G("Embedded wallet is only available over HTTPS")}(),function(s){if(typeof s!="string"||s.length!==25)throw new G("Cannot initialize the Privy provider with an invalid Privy app ID")}(e.appId),function(s){y1||(y1=new uxe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))}(e);let n=R.useMemo(()=>new dK({appId:e.appId,clientId:e.clientId,storage:Me,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.15.0"}),[]),r=gj(),i=Object.assign({},t);return g.jsx(YK,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:g.jsx(Swe,{configPlugins:t?.plugins,children:g.jsx(XEe,{...e,client:r,privy:n})})})};function bTe(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=R.useContext(_2);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function vTe(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:o}=R.useContext(_2);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:c=>a("passkey",c),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}const fxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138102)",children:[g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H512V512H0V0Z",fill:"#229E45"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M261.4 405.4L491.2 256.2L260 106.6L29.2998 256.6L261.4 405.4Z",fill:"#F8E509"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M361.5 256C361.904 269.02 359.687 281.989 354.98 294.136C350.273 306.283 343.173 317.359 334.1 326.708C325.028 336.056 314.17 343.486 302.17 348.555C290.17 353.624 277.273 356.229 264.246 356.216C251.22 356.202 238.329 353.57 226.339 348.477C214.349 343.383 203.506 335.931 194.453 326.564C185.4 317.197 178.323 306.106 173.641 293.949C168.959 281.793 166.769 268.82 167.2 255.8C168.035 230.574 178.649 206.662 196.798 189.122C214.947 171.582 239.207 161.79 264.447 161.816C289.686 161.842 313.926 171.684 332.039 189.262C350.151 206.839 360.717 230.773 361.5 256Z",fill:"#2B49A3"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M232.3 314.2L229.3 312.4L226.2 314L226.9 310.5L224.5 308L227.9 307.6L229.5 304.4L231 307.7L234.4 308.3L231.8 310.7M297.5 330.7L294.5 328.9L291.3 330.5L292 327L289.6 324.5L293.1 324.1L294.7 320.9L296.1 324.2L299.5 324.8L297 327.2M269.4 304.3L266.8 302.8L264.1 304.1L264.7 301.1L262.7 298.9L265.6 298.6L267 295.9L268.2 298.7L271.2 299.2L269 301.2M335.2 294.8L332.6 293.3L330 294.6L330.6 291.7L328.6 289.6L331.5 289.2L332.8 286.6L334.1 289.3L337 289.8L334.8 291.8M268.2 275.1L265.2 273.3L262.1 274.9L262.8 271.4L260.4 268.9L263.8 268.5L265.4 265.4L266.9 268.6L270.3 269.2L267.7 271.6M188 245L185 243.2L182 244.8L182.6 241.3L180.2 238.8L183.7 238.4L185.3 235.2L186.7 238.5L190.1 239.1L187.6 241.5M197.7 285L194.7 283.3L191.6 284.8L192.3 281.4L189.9 278.8L193.3 278.4L194.9 275.4L196.4 278.5L199.8 279.2L197.2 281.5M297.8 230.2L295.2 228.7L292.4 230L293 227L291 224.7L294 224.4L295.4 221.6L296.7 224.5L299.7 225L297.4 227.1M292.4 256.3L290 255L287.9 256L288.3 253.6L286.7 251.9L289.1 251.6L290.2 249.4L291.2 251.7L293.6 252.1L291.8 253.7M183.4 292.2L181.4 291L179.3 292L179.7 289.7L178.1 288L180.5 287.8L181.5 285.8L182.5 287.8L184.8 288.3L183.1 289.9M335.7 301.4L334 300.6L332.3 301.3L332.7 299.6L331.4 298.3L333.3 298.1L334.2 296.6L334.9 298.2L336.8 298.5L335.4 299.7",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.5 292.3L181.5 291.1L179.4 292.1L179.9 289.8L178.2 288.1L180.5 287.9L181.6 285.9L182.6 287.9L184.9 288.4L183.2 290",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.5 292.3L181.5 291.1L179.4 292.1L179.9 289.8L178.2 288.1L180.5 287.9L181.6 285.9L182.6 287.9L184.9 288.4L183.2 290M215.4 292.3L213.4 291.1L211.4 292.1L211.8 289.8L210.2 288.1L212.5 287.9L213.5 285.8L214.5 287.9L216.8 288.4L215.1 290M211.4 303L209.4 301.8L207.4 302.8L207.8 300.5L206.2 298.8L208.5 298.5L209.5 296.5L210.5 298.5L212.8 299L211.1 300.6M277.8 283.6L275.8 282.4L273.7 283.4L274.1 281.1L272.5 279.4L274.8 279.2L275.9 277.1L276.9 279.2L279.1 279.6L277.4 281.2M258.3 283.6L256.3 282.4L254.2 283.4L254.7 281.1L253.1 279.4L255.4 279.2L256.4 277.1L257.4 279.2L259.7 279.6L258 281.2M205.5 276.8L204.3 276.1L203 276.7L203.2 275.2L202.2 274.2L203.7 274L204.4 272.7L204.9 274.1L206.4 274.3L205.4 275.3M333.2 310L331.2 308.9L329.1 309.9L329.6 307.6L328 305.9L330.3 305.6L331.3 303.6L332.3 305.6L334.6 306.1L332.9 307.7M316.9 312.1L315.3 311.1L313.6 312.1L314 310.1L312.6 308.7L314.6 308.5L315.4 306.8L316.2 308.5L318.2 308.9L316.7 310.2M324.7 312L323.1 311L321.5 311.9L321.8 310.1L320.6 308.8L322.4 308.6L323.2 307L323.9 308.6L325.7 308.9L324.4 310.2M346.6 292.8L345.1 291.9L343.5 292.7L343.9 291L342.7 289.7L344.4 289.5L345.2 288L345.9 289.6L347.6 289.9L346.3 291.1M317 322.9L315 321.8L313 322.8L313.5 320.6L311.9 319.1L314.1 318.8L315.2 316.9L316.2 318.9L318.3 319.3L316.7 320.7M317.1 331.6L315.3 330.6L313.5 331.5L313.9 329.3L312.5 327.8L314.5 327.5L315.5 325.6L316.3 327.6L318.3 328L316.8 329.4M302.3 312L300.8 311.1L299.2 311.9L299.6 310.1L298.4 308.9L300.1 308.7L300.9 307.1L301.6 308.7L303.3 309L302 310.2M288.5 312L287 311.1L285.4 311.9L285.8 310.1L284.6 308.9L286.3 308.7L287.1 307.1L287.8 308.7L289.5 309L288.3 310.2M265 291.4L263.5 290.5L261.9 291.3L262.3 289.6L261.1 288.3L262.8 288.1L263.6 286.6L264.3 288.2L266 288.5L264.7 289.6M267.6 333.1L266.3 332.4L265 333.1L265.3 331.6L264.3 330.6L265.7 330.3L266.4 329L267 330.4L268.5 330.6L267.4 331.6M232.2 265.6L229.2 263.9L226.1 265.4L226.8 262L224.4 259.4L227.8 259L229.4 255.9L230.9 259.1L234.3 259.7L231.7 262.1",fill:"#FFFFEF"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M355.1 291C356.981 286.097 358.453 281.046 359.5 275.9C307.9 230.5 250.3 207.2 177.5 212C174.892 217.096 172.75 222.418 171.1 227.9C204.497 224.527 238.23 228.41 269.987 239.284C301.745 250.157 330.778 267.765 355.1 290.9V291Z",fill:"white"}),g.jsx("path",{d:"M331.9 265.4L333.7 266.4C333.45 266.965 333.38 267.594 333.5 268.2C333.633 268.667 333.967 269.067 334.5 269.4C335.033 269.733 335.567 269.933 336.1 270C336.5 270 336.833 269.8 337.1 269.4C337.233 269.2 337.267 268.967 337.2 268.7L336.9 267.9L335.7 266.6C335.065 265.949 334.586 265.163 334.3 264.3C334.164 263.65 334.248 262.974 334.537 262.377C334.827 261.78 335.306 261.296 335.9 261C336.435 260.77 337.026 260.7 337.6 260.8C338.325 260.948 339.008 261.256 339.6 261.7C340.467 262.309 341.157 263.137 341.6 264.1C341.721 264.543 341.739 265.007 341.652 265.458C341.566 265.909 341.377 266.334 341.1 266.7L339.3 265.6C339.5 265.067 339.567 264.6 339.5 264.2C339.367 263.867 339.033 263.533 338.5 263.2C337.967 262.867 337.5 262.7 337.1 262.7L336.5 263L336.4 263.7C336.4 264.1 336.8 264.667 337.6 265.4L339.1 267.4C339.373 267.898 339.499 268.463 339.463 269.029C339.428 269.595 339.233 270.14 338.9 270.6C338.555 271.1 338.067 271.483 337.5 271.7C336.905 271.972 336.238 272.042 335.6 271.9C334.841 271.707 334.128 271.367 333.5 270.9C332.577 270.308 331.875 269.43 331.5 268.4C331.167 267.533 331.3 266.533 331.9 265.4ZM323.1 259.7L325.1 260.7C324.889 261.205 324.819 261.758 324.9 262.3C325.033 262.833 325.367 263.267 325.9 263.6C326.433 263.933 326.967 264.067 327.5 264C327.9 264 328.233 263.8 328.5 263.4L328.6 262.8C328.6 262.533 328.467 262.267 328.2 262L327 260.7C326.342 260.088 325.829 259.336 325.5 258.5C325.381 258.101 325.346 257.682 325.397 257.268C325.449 256.855 325.586 256.457 325.8 256.1C326.105 255.667 326.519 255.322 327 255.1C327.535 254.87 328.126 254.8 328.7 254.9C329.3 254.9 329.967 255.167 330.7 255.7C331.767 256.367 332.433 257.133 332.7 258C332.85 258.428 332.9 258.884 332.848 259.334C332.797 259.785 332.643 260.217 332.4 260.6L330.5 259.5C330.767 258.967 330.833 258.533 330.7 258.2C330.567 257.867 330.233 257.533 329.7 257.2C329.497 257.019 329.259 256.881 329.001 256.796C328.744 256.71 328.471 256.677 328.2 256.7L327.6 257.1V257.8C327.6 258.133 328 258.7 328.8 259.5C329.6 260.3 330.133 260.9 330.4 261.3C330.708 261.8 330.863 262.378 330.845 262.965C330.827 263.552 330.638 264.12 330.3 264.6C329.98 265.138 329.499 265.563 328.925 265.814C328.351 266.065 327.713 266.13 327.1 266C326.314 265.85 325.566 265.544 324.9 265.1C323.957 264.551 323.219 263.708 322.8 262.7C322.505 261.699 322.613 260.623 323.1 259.7ZM312.3 256.7L317.9 247.7L324.6 251.7L323.6 253.3L318.8 250.3L317.5 252.3L322.1 255.1L321.1 256.7L316.6 253.9L315.1 256.4L320.1 259.4L319.2 261L312.3 256.7ZM296.5 243.8L297.4 242.2L301.4 244.4L299.5 248.1C297.88 248.477 296.178 248.264 294.7 247.5C293.81 247.028 293.054 246.341 292.5 245.5C291.998 244.724 291.721 243.824 291.7 242.9C291.7 241.9 291.967 240.967 292.5 240.1C292.958 239.174 293.646 238.382 294.5 237.8C295.233 237.2 296.133 236.9 297.2 236.9C297.933 236.9 298.767 237.133 299.7 237.6C300.686 238.063 301.493 238.836 302 239.8C302.4 240.6 302.5 241.5 302.3 242.5L300.2 241.9C300.332 241.393 300.261 240.855 300 240.4C299.709 239.93 299.294 239.549 298.8 239.3C298.443 239.086 298.045 238.949 297.632 238.897C297.218 238.846 296.799 238.881 296.4 239C295.733 239.333 295.067 240 294.4 241C293.926 241.924 293.751 242.972 293.9 244C294.1 244.8 294.633 245.4 295.5 245.8L296.8 246.2H298.1L298.7 245L296.5 243.8ZM227.7 226.8L229.3 216.2L232.5 216.7L233.3 224.2L236.3 217.2L239.4 217.7L237.9 228.3L235.9 228L237.1 219.7L233.8 227.7L231.8 227.4L230.9 218.7L229.7 227.1L227.7 226.8ZM217 225.5L218 214.9L225.8 215.6L225.7 217.4L219.9 216.9L219.7 219.2L225 219.7L224.9 221.5L219.6 221L219.3 224L225.2 224.5L225 226.3L217 225.5Z",fill:"#309E3A"}),g.jsx("path",{d:"M181.4 218.8C181.4 217.733 181.567 216.833 181.9 216.1L182.9 214.7L184.4 213.7C185.14 213.451 185.921 213.349 186.7 213.4C187.394 213.395 188.082 213.535 188.719 213.811C189.356 214.086 189.928 214.491 190.4 215C191.333 216 191.767 217.333 191.7 219C191.7 220.8 191.2 222.133 190.2 223C189.699 223.486 189.103 223.861 188.448 224.102C187.794 224.343 187.096 224.445 186.4 224.4C185.713 224.418 185.031 224.293 184.394 224.035C183.757 223.777 183.181 223.391 182.7 222.9C182.206 222.368 181.834 221.734 181.609 221.043C181.385 220.353 181.313 219.621 181.4 218.9V218.8Z",fill:"#309E3A"}),g.jsx("path",{d:"M183.6 218.8C183.6 220 183.867 220.933 184.4 221.6C184.933 222.267 185.6 222.6 186.4 222.6C186.809 222.608 187.215 222.532 187.593 222.377C187.971 222.222 188.314 221.992 188.6 221.7C189.133 221.1 189.433 220.2 189.5 219C189.5 217.667 189.233 216.733 188.7 216.2C188.187 215.621 187.471 215.263 186.7 215.2C185.7 215.2 184.967 215.5 184.5 216.1C183.9 216.7 183.567 217.6 183.5 218.8H183.6Z",fill:"#F7FFFF"}),g.jsx("path",{d:"M194 224.4L194.1 213.7H198.6C199.8 213.7 200.633 213.833 201.1 214.1C201.767 214.367 202.167 214.7 202.3 215.1C202.567 215.633 202.733 216.2 202.8 216.8C202.8 217.6 202.567 218.267 202.1 218.8C201.633 219.267 200.9 219.6 199.9 219.8C200.433 220 200.833 220.267 201.1 220.6L202.3 222.4L203.6 224.4H201L199.5 222.1L198.3 220.5L197.7 220.1L196.7 219.9H196.2V224.4H194Z",fill:"#309E3A"}),g.jsx("path",{d:"M196.2 218.2H199.8L200.3 217.7C200.5 217.5 200.6 217.233 200.6 216.9C200.6 216.567 200.5 216.267 200.3 216L199.5 215.6H196.3L196.2 218.2Z",fill:"white"}),g.jsx("path",{d:"M206.2 214.2L210.1 214.4L212.1 214.7C212.669 214.915 213.182 215.257 213.6 215.7C214.067 216.253 214.408 216.902 214.6 217.6C214.8 218.267 214.866 219.1 214.8 220.1C214.851 220.868 214.724 221.638 214.429 222.349C214.135 223.06 213.679 223.694 213.1 224.2C212.7 224.533 212.2 224.8 211.6 225H209.6L205.6 224.9L206.2 214.2Z",fill:"#309E3A"}),g.jsx("path",{d:"M208.199 216.1L207.899 223.1L209.499 223.3H210.799L211.699 222.8C211.966 222.6 212.166 222.267 212.299 221.8L212.599 219.8L212.499 218C212.366 217.533 212.166 217.2 211.899 217L210.899 216.4L209.199 216.2L208.199 216.1Z",fill:"white"}),g.jsx("path",{d:"M258.5 233.3L261 222.9L264.3 223.7C265.633 224.033 266.467 224.3 266.8 224.5C267.333 224.767 267.733 225.2 268 225.8C268.267 226.4 268.3 227.133 268.1 228C268.011 228.516 267.789 228.999 267.456 229.403C267.123 229.806 266.69 230.116 266.2 230.3L265.1 230.6L262.9 230.2L261.5 229.9L260.5 233.8L258.5 233.3Z",fill:"#309E3A"}),g.jsx("path",{d:"M262.6 225.2L261.9 228.2L263.1 228.4C263.9 228.6 264.467 228.667 264.8 228.6C265.077 228.572 265.339 228.461 265.553 228.283C265.767 228.105 265.922 227.867 266 227.6L265.9 226.5L265.1 225.8L263.6 225.4L262.6 225.2Z",fill:"white"}),g.jsx("path",{d:"M268.4 236.3L271.9 226.2L276.2 227.7L278.4 228.7C278.8 229.1 279.1 229.6 279.3 230.2C279.6 231.1 279.3 231.3 279.1 231.9C278.9 232.7 278.467 233.233 277.8 233.5C277.456 233.7 277.075 233.83 276.681 233.881C276.286 233.933 275.884 233.905 275.5 233.8L276.3 235L276.9 237L277.4 239.4L275 238.6L274.3 235.9L273.7 234L273.3 233.4L272.3 232.9L271.9 232.8L270.4 237L268.4 236.3Z",fill:"#309E3A"}),g.jsx("path",{d:"M272.4 231.2L273.9 231.7L275.8 232.2C276.067 232.2 276.3 232.133 276.5 232L277 231.3V230.3L276.4 229.7L274.9 229.2L273.3 228.6L272.4 231.2Z",fill:"white"}),g.jsx("path",{d:"M280.9 235.9C281.159 234.987 281.601 234.137 282.2 233.4C282.533 232.933 282.966 232.567 283.5 232.3L285.1 231.8C285.766 231.8 286.533 231.9 287.4 232.1C288.078 232.27 288.714 232.58 289.265 233.011C289.816 233.441 290.271 233.983 290.6 234.6C291.266 235.867 291.3 237.3 290.7 238.9C290.328 240.336 289.437 241.582 288.2 242.4C287.583 242.707 286.909 242.884 286.221 242.918C285.532 242.952 284.844 242.844 284.2 242.6C283.521 242.43 282.886 242.12 282.334 241.69C281.783 241.259 281.329 240.717 281 240.1C280.461 238.758 280.426 237.266 280.9 235.9Z",fill:"#309E3A"}),g.jsx("path",{d:"M283 236.5C282.667 237.567 282.667 238.5 283 239.3C283.333 240.1 283.933 240.633 284.8 240.9C285.6 241.1 286.333 241 287 240.6C287.667 240.2 288.233 239.4 288.7 238.2C288.967 237.067 288.967 236.1 288.7 235.3C288.516 234.942 288.262 234.625 287.952 234.367C287.643 234.109 287.285 233.917 286.9 233.8C286.516 233.695 286.115 233.667 285.72 233.719C285.325 233.77 284.944 233.9 284.6 234.1C283.933 234.5 283.4 235.3 283 236.5Z",fill:"white"}),g.jsx("path",{d:"M301.7 250.8L306.6 241.3L310.6 243.3C311.6 243.9 312.267 244.367 312.6 244.7C313 245.167 313.234 245.667 313.3 246.2C313.434 246.867 313.3 247.433 312.9 247.9C312.634 248.567 312.134 249.067 311.4 249.4C310.734 249.6 309.967 249.567 309.1 249.3C309.367 249.7 309.567 250.133 309.7 250.6L310 252.7L310.2 255.2L307.9 254L307.6 251.2L307.3 249.2L306.9 248.6L306 248L305.6 247.8L303.6 251.8L301.7 250.8Z",fill:"#309E3A"}),g.jsx("path",{d:"M306.4 246.3L307.8 247L309.6 247.8C309.867 247.8 310.1 247.733 310.3 247.6C310.536 247.424 310.729 247.199 310.868 246.939C311.006 246.68 311.085 246.393 311.1 246.1L310.5 245.4L309.2 244.6L307.7 243.9L306.4 246.3Z",fill:"white"}),g.jsx("path",{d:"M341.2 270.3C341.733 269.367 342.4 268.7 343.2 268.3L344.8 267.6H346.4C347.133 267.667 347.867 268 348.6 268.6C349.191 268.961 349.7 269.44 350.096 270.008C350.492 270.577 350.766 271.221 350.9 271.9C351.045 273.355 350.654 274.813 349.8 276C349.001 277.275 347.751 278.203 346.3 278.6C345.623 278.727 344.927 278.712 344.256 278.557C343.585 278.402 342.953 278.111 342.4 277.7C341.809 277.339 341.299 276.86 340.903 276.291C340.507 275.723 340.234 275.079 340.1 274.4C339.926 272.957 340.281 271.5 341.1 270.3H341.2Z",fill:"#309E3A"}),g.jsx("path",{d:"M343 271.4C342.334 272.467 342.067 273.4 342.2 274.2C342.269 274.605 342.419 274.991 342.643 275.335C342.867 275.679 343.158 275.973 343.5 276.2C344.155 276.612 344.943 276.755 345.7 276.6C346.5 276.4 347.267 275.767 348 274.7C348.734 273.633 349 272.733 348.8 272C348.8 271.267 348.4 270.6 347.6 270C346.4 269.1 346.1 269.4 345.3 269.6C344.5 269.8 343.767 270.4 343.1 271.4H343Z",fill:"white"}),g.jsx("path",{d:"M246.4 229L248.1 221.4L253.7 222.7L253.4 224L249.4 223L249 224.7L252.7 225.6L252.4 226.9L248.7 225.9L248.2 228L252.4 229L252.1 230.3L246.4 229Z",fill:"#309E3A"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138102",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),pxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138368)",children:[g.jsx("path",{d:"M0 0H512V512H0V0Z",fill:"#003399"}),g.jsx("path",{d:"M255.999 81.4124L248.414 106.696L261.056 109.225L255.999 81.4124Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 81.4124L263.584 106.696L250.942 109.225L255.999 81.4124Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 98.8831L253.656 99.4824L255.158 112.287L280.046 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 98.8831L258.343 113.91L252.032 102.668L280.046 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.861 127.151L262.136 102.238L250.422 107.623L270.861 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.86 127.151L249.862 111.155L258.604 101.678L270.86 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 98.8831L258.343 99.4824L256.841 112.287L231.953 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 98.8831L253.655 113.91L259.967 102.668L231.953 98.8831Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 127.151L249.863 102.238L261.576 107.623L241.138 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 127.151L262.136 111.155L253.395 101.678L241.138 127.151Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 384.82L248.414 410.104L261.056 412.632L255.999 384.82Z",fill:"#FFCC00"}),g.jsx("path",{d:"M255.999 384.82L263.584 410.104L250.942 412.632L255.999 384.82Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 402.291L253.656 402.89L255.158 415.694L280.046 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M280.046 402.291L258.343 417.318L252.032 406.076L280.046 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.862 430.559L262.137 405.645L250.423 411.031L270.862 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M270.861 430.559L249.863 414.562L258.604 405.086L270.861 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 402.291L258.343 402.89L256.841 415.694L231.953 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M231.953 402.291L253.655 417.318L259.967 406.076L231.953 402.291Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 430.559L249.863 405.645L261.576 411.031L241.138 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M241.138 430.559L262.136 414.562L253.395 405.086L241.138 430.559Z",fill:"#FFCC00"}),g.jsx("path",{d:"M104.296 233.116L96.7109 258.4L109.353 260.928L104.296 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M104.296 233.116L111.881 258.4L99.2394 260.928L104.296 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M128.342 250.587L101.952 251.186L103.454 263.991L128.342 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M128.343 250.587L106.64 265.614L100.329 254.372L128.343 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M119.157 278.855L110.432 253.942L98.7187 259.327L119.157 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M119.158 278.855L98.1595 262.858L106.901 253.382L119.158 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M80.2498 250.587L106.64 251.186L105.138 263.991L80.2498 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M80.2497 250.587L101.952 265.614L108.263 254.372L80.2497 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M89.4349 278.855L98.1599 253.942L109.874 259.327L89.4349 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M89.4347 278.855L110.433 262.858L101.691 253.382L89.4347 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M167.148 148.621L188.146 132.625L179.404 123.149L167.148 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M167.148 148.622L175.873 123.708L187.586 129.093L167.148 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M157.963 120.353L179.665 135.38L185.976 124.138L157.963 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M157.963 120.353L184.353 120.952L182.851 133.757L157.963 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M182.009 102.882L174.424 128.166L187.066 130.695L182.009 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M182.009 102.882L189.594 128.166L176.952 130.695L182.009 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M196.871 148.621L175.873 132.625L184.614 123.149L196.871 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M196.871 148.622L188.146 123.708L176.432 129.093L196.871 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M206.056 120.353L184.353 135.38L178.042 124.138L206.056 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M206.056 120.353L179.665 120.952L181.167 133.757L206.056 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.628 204.864L131.903 179.951L120.189 185.336L140.628 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.628 204.864L119.63 188.868L128.371 179.391L140.628 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.904 204.864L131.903 188.868L123.161 179.391L110.904 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.905 204.864L119.63 179.951L131.343 185.336L110.905 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.719 176.596L123.422 191.623L129.733 180.381L101.719 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.72 176.596L128.11 177.195L126.608 190L101.72 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.813 176.596L128.11 191.623L121.799 180.381L149.813 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.813 176.596L123.422 177.195L124.924 190L149.813 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.766 159.125L133.352 184.409L120.71 186.938L125.766 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.766 159.125L118.181 184.409L130.823 186.938L125.766 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.841 328.664L123.45 329.263L124.952 342.067L149.841 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M149.841 328.664L128.138 343.691L121.827 332.449L149.841 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.656 356.932L131.931 332.018L120.217 337.403L140.656 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M140.656 356.932L119.658 340.935L128.399 331.459L140.656 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.933 356.932L131.931 340.935L123.189 331.459L110.933 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M110.933 356.932L119.658 332.018L131.372 337.404L110.933 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.794 311.193L133.379 336.477L120.737 339.005L125.794 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M125.794 311.193L118.209 336.477L130.851 339.005L125.794 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.748 328.664L128.138 329.263L126.636 342.067L101.748 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M101.748 328.664L123.45 343.691L129.762 332.449L101.748 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M204.716 379.555L178.325 380.154L179.827 392.958L204.716 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M204.716 379.554L183.013 394.582L176.702 383.34L204.716 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M195.531 407.823L186.806 382.909L175.092 388.294L195.531 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M195.531 407.823L174.533 391.826L183.274 382.35L195.531 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M165.808 407.823L186.806 391.826L178.064 382.35L165.808 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M165.808 407.823L174.533 382.909L186.247 388.294L165.808 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M180.669 362.084L188.254 387.368L175.612 389.896L180.669 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M180.669 362.084L173.084 387.368L185.726 389.896L180.669 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M156.623 379.555L183.013 380.154L181.511 392.958L156.623 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M156.623 379.554L178.325 394.582L184.637 383.34L156.623 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M407.703 233.116L415.288 258.4L402.646 260.928L407.703 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M407.703 233.116L400.118 258.4L412.76 260.928L407.703 233.116Z",fill:"#FFCC00"}),g.jsx("path",{d:"M383.656 250.587L410.046 251.186L408.545 263.991L383.656 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M383.656 250.587L405.359 265.614L411.67 254.372L383.656 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M392.841 278.855L401.566 253.941L413.279 259.327L392.841 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M392.841 278.855L413.839 262.858L405.098 253.382L392.841 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M431.749 250.587L405.359 251.186L406.861 263.991L431.749 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M431.749 250.587L410.046 265.614L403.735 254.372L431.749 250.587Z",fill:"#FFCC00"}),g.jsx("path",{d:"M422.565 278.855L413.84 253.941L402.126 259.327L422.565 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M422.564 278.855L401.566 262.858L410.308 253.382L422.564 278.855Z",fill:"#FFCC00"}),g.jsx("path",{d:"M344.852 148.621L323.854 132.625L332.596 123.149L344.852 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M344.852 148.622L336.127 123.708L324.413 129.093L344.852 148.622Z",fill:"#FFCC00"}),g.jsx("path",{d:"M354.037 120.353L332.334 135.38L326.023 124.138L354.037 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M354.036 120.353L327.646 120.952L329.148 133.757L354.036 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M329.99 102.882L337.575 128.166L324.933 130.695L329.99 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M329.99 102.882L322.405 128.166L335.047 130.695L329.99 102.882Z",fill:"#FFCC00"}),g.jsx("path",{d:"M315.129 148.621L336.127 132.625L327.386 123.148L315.129 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M315.13 148.621L323.855 123.708L335.568 129.093L315.13 148.621Z",fill:"#FFCC00"}),g.jsx("path",{d:"M305.945 120.353L327.647 135.38L333.958 124.138L305.945 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M305.945 120.353L332.336 120.952L330.834 133.757L305.945 120.353Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.372 204.864L380.097 179.951L391.811 185.336L371.372 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.372 204.864L392.37 188.868L383.629 179.391L371.372 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.096 204.864L380.097 188.867L388.839 179.391L401.096 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.095 204.864L392.37 179.951L380.656 185.336L401.095 204.864Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.28 176.596L388.578 191.623L382.266 180.381L410.28 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.279 176.596L383.889 177.195L385.391 190L410.279 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.187 176.596L383.889 191.623L390.2 180.381L362.187 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.187 176.596L388.578 177.195L387.076 190L362.187 176.596Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.234 159.125L378.648 184.409L391.29 186.938L386.234 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.233 159.125L393.818 184.409L381.176 186.938L386.233 159.125Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.159 328.664L388.549 329.263L387.047 342.067L362.159 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M362.159 328.664L383.862 343.691L390.173 332.449L362.159 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.344 356.932L380.069 332.018L391.782 337.404L371.344 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M371.344 356.932L392.342 340.935L383.601 331.459L371.344 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.066 356.932L380.068 340.935L388.81 331.459L401.066 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M401.066 356.932L392.341 332.018L380.627 337.403L401.066 356.932Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.205 311.193L378.62 336.477L391.262 339.005L386.205 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M386.205 311.193L393.79 336.477L381.148 339.005L386.205 311.193Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.252 328.664L383.862 329.263L385.364 342.068L410.252 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M410.252 328.664L388.549 343.691L382.238 332.449L410.252 328.664Z",fill:"#FFCC00"}),g.jsx("path",{d:"M307.284 379.555L333.674 380.154L332.172 392.958L307.284 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M307.284 379.554L328.987 394.582L335.298 383.34L307.284 379.554Z",fill:"#FFCC00"}),g.jsx("path",{d:"M316.469 407.823L325.194 382.909L336.907 388.294L316.469 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M316.469 407.823L337.467 391.826L328.726 382.35L316.469 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M346.191 407.823L325.193 391.826L333.935 382.35L346.191 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M346.191 407.823L337.466 382.909L325.752 388.294L346.191 407.823Z",fill:"#FFCC00"}),g.jsx("path",{d:"M331.33 362.084L323.745 387.368L336.387 389.896L331.33 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M331.33 362.084L338.915 387.368L326.273 389.896L331.33 362.084Z",fill:"#FFCC00"}),g.jsx("path",{d:"M355.377 379.555L328.987 380.154L330.489 392.958L355.377 379.555Z",fill:"#FFCC00"}),g.jsx("path",{d:"M355.377 379.554L333.674 394.582L327.363 383.34L355.377 379.554Z",fill:"#FFCC00"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138368",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),mxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_138137)",children:[g.jsx("path",{d:"M0 0H512V512H0V0Z",fill:"#012169"}),g.jsx("path",{d:"M512 0V64L322 256L512 443V512H445L254 324L68 512H0V444L186 257L0 74V0H62L254 188L440 0H512Z",fill:"white"}),g.jsx("path",{d:"M184 324L195 358L42 512H0V509L184 324ZM308 312L362 320L512 467V512L308 312ZM512 0L320 196L316 152L466 0H512ZM0 1L193 190L134 182L0 49V1Z",fill:"#C8102E"}),g.jsx("path",{d:"M176 0V512H336V0H176ZM0 176V336H512V176H0Z",fill:"white"}),g.jsx("path",{d:"M0 208V304H512V208H0ZM208 0V512H304V0H208Z",fill:"#C8102E"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_4989_138137",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})})]}),gxe=t=>g.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_4989_137735)",children:[g.jsx("path",{d:"M341.3 0H512V512H341.3V0Z",fill:"#CE1126"}),g.jsx("path",{d:"M170.7 0H341.3V512H170.7V0Z",fill:"white"}),g.jsx("path",{d:"M0 0H170.7V512H0V0Z",fill:"#006847"}),g.jsx("path",{d:"M284.6 295.6L284.8 299.1L286.2 298.2L285.2 295.2L284.6 295.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M284.5 295.7C285.108 295.7 285.6 295.208 285.6 294.6C285.6 293.992 285.108 293.5 284.5 293.5C283.893 293.5 283.4 293.992 283.4 294.6C283.4 295.208 283.893 295.7 284.5 295.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M289 301.1L286.3 298.6L285.1 299.6L288.7 301.6L289 301.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M288.7 302.6C288.3 301.933 288.4 301.367 289 300.9C289.6 300.433 290.133 300.5 290.6 301.1C290.933 301.7 290.833 302.233 290.3 302.7C289.7 303.1 289.167 303.033 288.7 302.5V302.6ZM309 263.7L311.7 266.3L312.1 265L309.6 263.3L309 263.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M308.7 264.1C309.307 264.1 309.8 263.608 309.8 263C309.8 262.393 309.307 261.9 308.7 261.9C308.092 261.9 307.6 262.393 307.6 263C307.6 263.608 308.092 264.1 308.7 264.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M316.1 265.3L312.1 266.4L312.4 265.1L315.9 264.7L316.1 265.3Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M316.8 265.8C317.408 265.8 317.9 265.307 317.9 264.7C317.9 264.092 317.408 263.6 316.8 263.6C316.193 263.6 315.7 264.092 315.7 264.7C315.7 265.307 316.193 265.8 316.8 265.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M302.3 285.5L299.8 281.5L300.2 281.4L303.1 284.7L302.3 285.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M299.6 281.9C300.263 281.9 300.8 281.363 300.8 280.7C300.8 280.037 300.263 279.5 299.6 279.5C298.938 279.5 298.4 280.037 298.4 280.7C298.4 281.363 298.938 281.9 299.6 281.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M302.5 285.6L305.7 286.2L305.8 285.7L303.1 284.7L302.5 285.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M306.6 287.3C307.208 287.3 307.7 286.807 307.7 286.2C307.7 285.592 307.208 285.1 306.6 285.1C305.992 285.1 305.5 285.592 305.5 286.2C305.5 286.807 305.992 287.3 306.6 287.3Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M227.7 294.4C227.633 295.067 227.366 295.4 226.9 295.4C226.233 295.333 225.966 295 226.1 294.4C226.3 293.6 226.566 293.267 226.9 293.4C227.433 293.6 227.7 293.933 227.7 294.4ZM227.7 296.2L228.4 300.2L227.4 299.9L227.1 296.4L227.7 296.2Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M228.6 294.9C229 295.5 228.3 296.4 227.4 296.6C226.6 296.9 225.5 296.5 225.5 295.7C225.5 294.9 226.8 295.3 227.1 295.2C227.6 295 228.1 294.2 228.6 294.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M221.6 301.9C222.318 301.9 222.9 301.497 222.9 301C222.9 300.503 222.318 300.1 221.6 300.1C220.882 300.1 220.3 300.503 220.3 301C220.3 301.497 220.882 301.9 221.6 301.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M223.7 300.8L227.6 300.6L226.9 299.8L223.7 300.2V300.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M224 300.4C224.4 301.4 224.4 302.7 223.3 302.5C222.2 302.3 222.4 301.4 222.3 301C222.2 300.3 221.5 299.7 222.2 299C222.8 298.4 223.7 299.4 224 300.4Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M211.5 280.5C211.942 280.5 212.3 280.008 212.3 279.4C212.3 278.793 211.942 278.3 211.5 278.3C211.058 278.3 210.7 278.793 210.7 279.4C210.7 280.008 211.058 280.5 211.5 280.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M211.5 281.9L211.6 285.6L210.6 284.7L210.7 281.7L211.5 281.9Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M213 280.8C213.2 281.6 211.9 282.1 211 281.9C210.067 281.767 209.633 281.3 209.7 280.5C209.7 279.8 210.9 279.9 211.2 280.1C211.6 280.4 212.7 279.5 213 280.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M204.9 285.8C205.618 285.8 206.2 285.531 206.2 285.2C206.2 284.869 205.618 284.6 204.9 284.6C204.182 284.6 203.6 284.869 203.6 285.2C203.6 285.531 204.182 285.8 204.9 285.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M207.3 285.2L210.2 285L211.4 286L207.2 285.8L207.3 285.2Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M206.2 283.6C207 283.6 207.5 284.5 207.4 285.4C207.4 286.4 206.6 287.1 205.9 287C205.1 286.9 205.2 286.2 205.2 286L205.7 285.2C205.7 284.9 205.5 284.2 205.6 284C205.6 283.733 205.8 283.6 206.2 283.6ZM203.8 260.9C203.5 261.5 202.8 261.9 202.6 261.6C202.333 261.267 202.366 260.8 202.7 260.2C203.033 259.6 203.433 259.4 203.9 259.6C204.166 259.867 204.166 260.3 203.9 260.9H203.8ZM200.6 266.8L202.2 262.9L202 262.7L200.1 265.4L200.6 266.8Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M202 263C201.2 262.333 200.933 261.7 201.2 261.1C201.5 260.6 202.1 260.9 202.1 260.9L202.8 261.6C203 261.7 203.5 261.5 203.8 262C204.066 262.6 204.066 262.933 203.8 263C203.508 263.158 203.181 263.24 202.85 263.24C202.518 263.24 202.192 263.158 201.9 263H202ZM195.1 262.4C195.766 262.867 196 263.3 195.8 263.7C195.6 264.1 195.133 264.1 194.4 263.7C193.4 263.1 193.5 262.9 193.7 262.5C194.033 262.1 194.5 262.1 195.1 262.5V262.4ZM196.8 264.1L199.8 265.9V267.4L196.5 264.6L196.8 264.1Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M196.8 264.5C196.134 265.167 195.534 265.333 195 265C194.4 264.7 194.9 264.1 194.9 264.1L195.5 263.5C195.7 263.2 195.5 262.7 196.1 262.5C196.7 262.233 197.034 262.3 197.1 262.7C197.2 263 197.4 263.9 196.8 264.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M285.3 295.8L284.9 296.2L284.7 296.9V295.8L285.1 295.5L285.3 295.8Z",fill:"#AA8C30"}),g.jsx("path",{d:"M285.4 295C285.4 295 285.2 295.5 284.5 295.5C283.833 295.5 283.5 295.267 283.5 294.8L283.6 293.9L283.3 294.3V295L283.8 295.6H284.2L284.6 295.7L285.1 295.5L285.4 295.3V295.1V295ZM288.8 301H288.2L285.5 299.6L288.5 301.6L288.8 301ZM290.7 301.8C290.7 301.8 290.7 302.4 290.1 302.6C289.5 302.867 289.1 302.867 288.9 302.6C288.763 302.477 288.662 302.319 288.609 302.142C288.556 301.966 288.553 301.778 288.6 301.6L288.5 302.1L288.8 302.7L289.4 303H289.9L290.2 302.8L290.6 302.4L290.8 302L290.7 301.8ZM310.1 263.8V264.6L309.4 263.9L309.7 263.5L310.1 263.8ZM309.8 262.8C309.8 263.3 309 264.1 308.5 263.8C307.833 263.533 307.6 263.067 307.8 262.4L307.6 262.7L307.7 263.5L308.3 264H308.9L309.5 263.8L309.8 263.2V262.8ZM317.8 264.2C317.8 264.7 317.3 265.6 316.7 265.5C316.033 265.367 315.733 265 315.8 264.4V265.2L316.1 265.5L316.6 265.8H317.1L317.7 265.4L317.9 264.9V264.6L317.8 264.2Z",fill:"#AA8C30"}),g.jsx("path",{d:"M315 264.9C315 264.9 315 265.1 314.7 265.3L313.7 265.9L315.9 265.3L315.7 264.7L315 264.9ZM301.4 282.8L301.2 283.2V283.8L300 281.8L300.4 281.6L301.4 282.8ZM300.7 280.8C300.4 281.4 299.5 281.8 299.1 281.5C298.7 281.2 298.3 280.3 298.8 279.9L298.5 280.1L298.4 280.7L298.6 281.2L299 281.7L299.4 281.9L300.1 281.7L300.6 281.4C300.6 281.4 300.9 280.4 300.6 280.9L300.7 280.8ZM305.1 285.5C305.1 285.5 305.1 285.7 304.7 285.7H303.5L305.5 286.1L305.7 285.7L305.1 285.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M307.7 286C307.9 286.7 307.3 287.4 306.5 287.1C305.7 286.8 305.5 286.1 305.7 285.6L305.5 286.2L305.7 286.8L306.2 287.2L306.7 287.4L307.2 287.2L307.7 286.7L307.8 286.1V286H307.7ZM228.5 294.9C228.7 295.1 228.4 296.1 227.5 296.4C226.6 296.7 226.1 296.4 225.9 296.1L225.7 295.5L225.5 295.7L225.7 296.1L226.1 296.5L226.9 296.7L227.5 296.6L228.1 296.3L228.4 296L228.7 295.6V295.1L228.6 294.9H228.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M227.7 296.9L227.4 297.2L227.2 297.8V296.8L227.6 296.5L227.7 296.9ZM224.7 300.1C224.7 300.1 224.6 300.3 224.8 300.5L225.6 300.7H224.2L224 300.2L224.7 300.1ZM224.2 301.1L224.1 301.6C223.966 302.067 223.7 302.3 223.3 302.3C223.087 302.257 222.893 302.146 222.749 301.984C222.605 301.822 222.517 301.617 222.5 301.4L222.3 300.9V301.4L222.6 302.2L223.2 302.5H223.6L224 302.3L224.2 301.8V301V301.1ZM220.4 300.9C220.4 300.9 220.6 301.6 221.4 301.6L222.4 301.4V301.7L222.1 301.8L221.5 301.9L220.9 301.8L220.6 301.6L220.4 301.2V300.9ZM212.9 280.6V280.9C212.8 281.2 212.3 281.8 211.4 281.8C210.6 281.8 210.133 281.6 210 281.2C209.733 280.8 209.633 280.567 209.7 280.5V281L210 281.5L210.9 281.9H211.7L212.5 281.7L212.9 281.3V280.6ZM211.5 282.4L211 282.6L210.7 282.9V281.9H211.5V282.5V282.4ZM207.7 285.2L208.1 285.5C208.5 285.7 210.6 285.9 210.6 285.9L207.3 285.8L207.5 285.2H207.7ZM207.4 285.2L207.2 285.7C207 286 206.6 286.9 205.9 286.8C205.2 286.7 205.3 286.2 205.3 286.1V285.9L205.2 286.4L205.4 286.7L205.6 286.9H206.2L206.6 286.8L207 286.4L207.2 286L207.4 285.5V285.2ZM205.6 285.3C205.6 285.3 205.6 285.5 205 285.5L203.7 285.3L204 285.6L204.4 285.7H205.4L205.6 285.3ZM203.9 262.3C203.9 262.3 204 262.6 203.7 262.8C203.3 263.067 202.833 263.1 202.3 262.9C201.9 262.7 201.1 261.9 201.1 261.9L201.5 262.5L202 263L202.8 263.2H203.6L203.9 262.8L204 262.6L203.9 262.3Z",fill:"#AA8C30"}),g.jsx("path",{d:"M201.6 263.3V263.7L201.5 264.7L202.1 263.1L201.9 262.9L201.6 263.3ZM197.3 264.5L197.4 264.8C197.6 265.3 199.4 266.9 199.4 266.9L196.6 264.7L196.9 264.2L197.3 264.5ZM196.4 264.7L195.7 265C195.5 265 194.9 265 194.9 264.6V264.1L194.7 264.6L194.8 264.9L195.2 265.1H195.8L196.3 264.9L196.4 264.8V264.7ZM195.4 263.6H194.8C194.3 263.6 193.8 263 193.8 263L194.1 263.6L195 264L195.4 263.6Z",fill:"#AA8C30"}),g.jsx("path",{d:"M319.9 256.1C319.6 259.1 316.6 260.8 315 261.9C314.072 262.609 313.291 263.492 312.7 264.5L312.1 266.3L311.9 267.4V267.8L312.1 269.5L312 272.9L314.1 271.4L315.7 270.8H316.1C316.1 270.8 314.4 272.4 313.8 274.2C313.1 276.1 311.8 280 309.5 281.2C307.2 282.4 305.7 282 304.9 282.7L304.1 283.6L303.1 284.9L302.3 285.9L301.6 286.5L301.1 286.8L300.9 288.2L300.4 290.1L301.4 289.7H302.5L301.9 290.7C301.8 291.2 302 294.4 299 296.3C296 298.2 288.3 297.9 288.3 297.9L286.9 298.5L285.5 299.5L284.3 300.9L284.2 301.2C284.2 301.2 283.2 302.4 282.5 302.8L280.3 304.3L282.1 304.4L284.9 305.6C284.9 305.6 283.1 305.6 281.9 306C280.7 306.4 275.4 309.5 272.9 309.4C270.2 309.4 266.5 305.6 266.5 305.6L264.9 304.4L262.1 303.8L258.6 303.6V303.2L258.7 302.6L261.7 302.7C263.4 302.9 263.9 303.5 265.3 303.7C266.244 303.824 267.204 303.721 268.1 303.4L272.8 299.6L277.5 298L279.3 298.2L280.1 298.4L280.8 298.6L280 299.6L278.8 300.3L279.4 300.8L282.4 300.3L283.4 300.6L283.6 300.7L284 299.7C284.4 299.2 286 297.9 286.8 297.4C287.467 297 287.8 296.733 287.8 296.6C288.1 296.4 289.1 293.9 289.1 293.9L289.2 292.6L292.5 289.5L294.7 287.1L295.7 284.4L295.6 283.9C295.6 283.9 296.3 284.7 296.2 286.4C296 288 295.833 288.733 295.7 288.6C295.5 288.4 297.9 287.1 299.1 286.6C300.1 286.2 300.767 286.067 301.1 286.2C301.738 285.825 302.284 285.312 302.7 284.7C303.4 283.7 303.5 283.5 303.5 283.1L303.6 280.9L303.4 275.2L305.4 271L308.2 268.5L308.7 268.2L308.4 269.2V270.2C308.4 270.2 309.8 268.4 310.5 268L311 267.8L311.6 266.2C311.8 265.2 311.8 263.7 311.8 263.7V261.4L311.4 259.6L310.1 256.1V251.5L309.1 250.2C309.1 250.2 310 250.1 311.1 251.7C311.857 252.922 312.366 254.281 312.6 255.7L315.3 247.6C315.3 247.6 316 248.6 316.5 250.1L317.2 252.8L318.2 250.6L318.3 251.4C318.5 252.1 320.1 253.1 319.9 256.1ZM266.1 308.1C266.1 308.1 265.5 306.9 263 305.6C261.569 304.914 260.057 304.41 258.5 304.1V305.1L262.5 306.8L264.5 308.4L266.1 308.1Z",fill:"#9CA168"}),g.jsx("path",{d:"M284.3 300.5C285.352 299.432 286.527 298.492 287.8 297.7C288.621 297.321 289.5 297.085 290.4 297C291.9 296.7 292.1 297 295.6 295C299.1 293 299.9 290.9 300.6 290.3C301.3 289.8 302.5 289.6 302.5 289.6L299.8 292.8C298.5 294.2 297.1 295.1 295.1 296.4C293.1 297.7 289.1 297.8 289.1 297.8C287.848 298.004 286.693 298.599 285.8 299.5C284.8 300.3 284.2 301.2 284.2 301.2C284.2 301.2 284 300.8 284.2 300.5H284.3ZM294 290.3C290.7 293.3 289.7 296.1 289.7 296.1L294 292.1C295.5 290.7 297.6 290.1 298.5 289.1C299.5 288.3 299.5 287.6 300.1 287.1L301.1 286.2C301.1 286.2 299.7 285.2 294 290.3ZM287.1 297.2C287.1 297.2 288.5 296.6 289.1 295.3C289.4 294.4 289.2 294.2 289.8 293.1C289.8 293.1 293.2 289.9 294.4 288.5C296.5 286 295.6 283.9 295.6 283.9C295.6 283.9 295.8 284.9 294.9 286.1C294 287.1 289.7 290.1 289.1 291.9C288.5 293.7 288.9 293.6 288.7 294.6C288.1 296.6 287.1 297.2 287.1 297.2ZM284.9 305.6C284.9 305.6 283.2 304.5 281.3 304.6C277.4 304.9 274.1 307.2 271.6 307.3C269 307.3 268 306.1 266 304.7C263.9 303.3 258.7 303.5 258.7 303.5V303.6L258.6 303.8C258.6 303.8 262.2 303.8 263.7 304.2C266.7 305.1 268.2 308.2 271.6 307.9C275.9 307.7 279.4 305 281.2 305C284.2 305 284.9 305.6 284.9 305.6ZM265.6 303.6C265.6 303.6 268.6 304.2 271 302.5C273.3 300.8 276.1 298.5 277.6 298.4C279.2 298.3 280.8 298.7 280.8 298.7C280.8 298.7 278.8 297.7 277.3 297.8C275.696 297.75 274.108 298.13 272.7 298.9C271.2 299.8 270.5 301.4 268.9 302.4C267.3 303.4 265.6 303.7 265.6 303.7V303.6ZM265.1 307.7L264.1 307.9C263.9 307.9 263.1 306.9 261.7 306.3C260.3 305.7 258.5 305.2 258.5 305.2C258.5 305.2 258.3 305.2 258.7 305.4L261.7 306.5C262.549 306.943 263.298 307.556 263.9 308.3C263.9 308.4 264.3 308.9 265.1 308.9C265.767 308.767 266.1 308.533 266.1 308.2C265.9 307.867 265.567 307.7 265.1 307.7ZM267.2 304.7C267.2 304.7 268.4 305.5 270.4 305.4C274.6 305.4 277.2 302.4 280 301.4C282.8 300.4 284.2 301.2 284.2 301.2V301C283.279 300.387 282.206 300.041 281.1 300C276.5 300.1 272.1 303 270.2 303.8C268.267 304.533 267.267 304.867 267.2 304.8V304.7ZM312 273C310.5 274.5 308.4 279.2 307.5 280.4C306.5 281.7 305.4 282.1 304.9 282.6L302.4 285.9C302 286.5 301.9 286.3 301.6 286.5C301.267 286.767 301.267 286.833 301.6 286.7C302.1 286.6 302.2 286.3 302.9 285.5C303.6 284.7 303.6 284.3 304.7 283.3C305.8 282.3 307.8 281.2 308.8 280C309.8 278.7 311.8 274 313 272.8C314.1 271.6 316.1 270.8 316.1 270.8C316.1 270.8 314.5 270.4 312 273ZM304.8 281.9C304.8 281.9 304.8 281 305.8 279.8C306.8 278.6 307.2 278.8 308 276.9L309.9 271.4C310.5 269.4 311.7 267.6 311.7 267.6C311.7 267.6 310.6 267.6 309.5 269.2C307.906 271.34 306.627 273.697 305.7 276.2C304.7 278.8 304.7 281.9 304.7 281.9H304.8ZM303.4 283.7C303.4 283.7 303.8 283.4 303.9 281.1C304 278.8 303.8 275.5 304.4 273.8C305.1 272.2 308.7 268.3 308.7 268.3C308.7 268.3 307.2 268.6 305.1 270.3C303.1 272.1 302.167 273.867 302.3 275.6C302.3 277.2 303.3 279 303.3 280.6L303.4 283.6V283.7ZM311.9 267.5L313.1 263.5C313.5 262.8 313.5 262.3 315.3 260.3C316.3 259.2 317.3 258.4 317.8 256.8C318.3 255.2 318.2 250.7 318.2 250.7C318.2 250.7 317.7 251.1 317.4 251.9C317.1 252.7 317.3 255.6 316.6 256.9C315.9 258.3 314.4 261.5 313.6 262.2C313.6 262.2 313.5 259.9 313.7 257.6C313.9 255.3 314.7 254.6 315.1 253.1C315.5 251.6 315.3 247.7 315.3 247.7C315.3 247.7 314 248.9 313.4 250.4C312.8 251.9 312.4 254.4 312.4 256.4C312.4 258.4 312.9 260 313 261.1C313.1 262.2 313.1 262.8 312.7 264L312.2 265.6L311.6 267.6L311.9 267.5ZM309.1 250.3C309.1 250.3 310.1 251.6 310 253.2C309.8 254.7 309.2 256.8 309.8 258.4C310.4 260 311.3 260.1 311.6 261.1C311.8 262 311.8 263.8 311.8 263.8C311.8 263.8 312.3 260.4 312 259.4C311.6 258.4 311.5 258.9 311 257.9C310.5 256.9 311 254.2 310.6 252.6C310.387 251.68 309.856 250.866 309.1 250.3Z",fill:"#717732"}),g.jsx("path",{d:"M245.4 307.9C245.4 307.9 245.7 306.9 247.9 305.9C250.1 304.9 253.3 303.4 253.6 303.6C254 303.8 253.5 304.9 253.5 304.9L251.4 305.6L249.7 306.6L247.7 307.9H245.4Z",fill:"#9CA168"}),g.jsx("path",{d:"M251 302.1C248.1 302.2 246.6 302.9 246 303.1H245.1C244.5 302.9 243.9 302 243.9 302L243.3 301.5L243.2 303.5L239.2 299.9L238.7 302.3L238.2 303.3L234.2 299.5L234.3 302.5H233.3L230.3 300.5L229.5 300.9L230.5 302.6L226.8 302.9L226 303.5L225.3 304.4V304.7H226.7C227 304.5 227.2 304 227.3 304.2C227.4 304.4 227.5 305.2 228 305.2C228.5 305 230.2 303.8 231.4 304.3C232.7 305 229.6 305.9 230 306.8C230.3 307.8 232.5 307.4 233 307.1C233.5 306.8 235.3 304.7 236 305.5C237 306.5 234 307.5 234.5 308.5C235.1 309.6 236.7 309.4 237.5 308.9C238.3 308.4 240.2 305.6 240.6 306.2C241.3 307.2 239 308.3 239.6 309.2C240.2 310.1 241.5 309.2 242.3 308.5C243.1 307.8 243.5 306.5 244.7 305.8C245.8 305.2 245.7 305.5 246.1 305.4C246.4 305.4 247.3 304.5 247.3 304.5L250 303.4H251.4L252.1 303.8L253.5 304L253.6 302.8C253.6 302.8 252 302.1 250.9 302.1H251ZM229 302.1L229.5 301.1L229.2 300.6C229.2 300.6 228.2 300.1 227.3 299.2L225.7 297.9L224 296.8L223.4 294.5L223 293.9L222 294.3L220.6 289.4L220.3 288.5H219.7L218.6 291.5L217.3 289.6L217 285.6L216.2 286.5L215.2 287.5L213.4 283.8C213.4 283.8 213.2 283.8 213.1 284.1C213 284.4 212.9 285.5 213.1 286.2L210.6 284.4C208.933 282.8 208.166 282 208.3 282L207.5 280L208.3 278.3L208.7 276.3L206.9 277L206.6 272.4L206.3 271L204.2 274L203.4 272.8V269.8L202.8 269.7L201.9 271.3C201.9 271.3 201.1 269.6 200.7 269.3C200.8 268.6 200.9 267 200.5 265.7C200 264.1 199.5 263.2 199.6 261.9C199.8 260.5 200.4 260.4 200.3 259.9C200.3 259.2 199.3 260.2 199.7 259.4C200 258.7 202.7 256.9 202.2 256C201.6 255 198.9 257.4 199.5 255.8C200.2 254.2 202.7 254.2 202.9 251.9C202.9 250.6 200.4 252.9 200.2 252.1C200 251.4 201.8 250 201.8 249.1C201.8 248.1 202.1 248.1 201.6 247.6C201.1 247.1 199.6 249.5 199.6 249.5L197.9 248.9L197.3 251.3L196.8 253.3L194.7 252.1L195.2 254.6L195.7 257L193.6 256.4L194.7 258.5L196.2 260L197.2 261.3L197.8 261.6L198.8 262.6L199 263.8L199.5 265.3L199.6 266.8V269.1L199.5 269.9C199.1 269.9 198.5 269.3 198.2 269.7C197.9 270.2 199.4 271.3 199.2 271.7C198.9 271.9 196.6 271.2 196.5 271.9C196.4 272.6 196.7 273.6 198 273.9C199.3 274.2 202.2 274.9 201.7 275.5C201.2 276.1 198 273.7 198.2 275.5C198.225 276.098 198.43 276.675 198.786 277.156C199.143 277.637 199.635 278.001 200.2 278.2C201.1 278.5 204.3 278.2 204.2 278.9C203.9 279.6 201.5 278.6 201.2 279.7C200.9 280.8 203 281 203.4 281C203.8 281 205.1 281 205.7 281.4L209.1 284.6C210.1 285.5 212.2 286.9 212.8 287.3C212.2 287.3 210.9 287.1 210.7 287.6C210.5 288.1 215.6 290 214.1 290.6C212.6 291.2 211.1 289 210.6 290.3C210.1 291.6 211.6 292.7 212.4 293.3C213.2 293.7 217.7 293.3 216.9 294.3C215.9 295.3 212.7 293.6 212.6 294.9C212.5 296.2 214.8 298 216 297.9C217.1 297.9 218.4 296.1 218.9 297.1C219.4 298.1 218 298.5 219.1 298.7C220.2 298.9 221 297.7 222.3 297.9C223.5 298.1 225.5 298.9 226.7 299.9L228.9 302.2L229 302.1Z",fill:"#9CA168"}),g.jsx("path",{d:"M246.7 307.3C247.366 307.433 247.7 307.567 247.7 307.7C247.7 307.7 249.1 306.6 250.4 305.9C251.6 305.2 253.4 304.9 253.4 304.9H253.6C253.6 304.9 251.3 305.6 250.3 306.3L247.8 308C247.733 308.267 247.266 308.433 246.4 308.5C245.733 308.433 245.4 308.233 245.4 307.9C245.4 307.567 245.833 307.367 246.7 307.3ZM253.5 303.9C253.5 303.9 252.8 303.9 252.5 303.6C251.869 303.209 251.142 303.001 250.4 303C249.199 303.067 248.063 303.564 247.2 304.4C247.2 304.4 247 304.9 246.1 305.4C246.433 305.4 246.933 305.133 247.6 304.6C248.482 303.969 249.519 303.589 250.6 303.5C251.4 303.5 251.966 303.7 252.3 304.1C252.7 304.4 253.5 304.3 253.5 304.3V303.9ZM213.1 287.4V286.8C213.1 286.8 212.5 286.6 211.4 285.8C210.1 285.1 207.3 282.9 207.3 282.9L209.6 285L212.8 287.3L213.1 287.4ZM241.6 307.6L242.8 305.8C243.666 304.667 244.166 304.1 244.3 304.1C244.3 303.9 244.133 303.5 243.8 302.9L243.6 301.9C243.6 301.9 243.9 302.7 244.4 303.1L245.4 303.8C245.4 303.8 246.4 303.7 246.4 303.5C246.4 303.3 246.333 303.133 246.2 303H245.3C244.3 302.5 243.9 301 243.3 301C242.7 300.9 243.1 302.6 242.8 302.6C241.8 302.6 241.2 299.1 238.8 299C237.3 298.9 237 299.2 236.9 299.6C236.8 300 238.9 302 238.2 302.3C237.5 302.6 235.4 299 233.8 299C232.2 299 232.1 299.5 232.2 299.9C232.3 300.2 234 300.5 233.6 301.6C233.2 302.7 231.6 299.9 230.2 300.1C228.8 300.3 228.6 300.4 228.5 300.8C228.4 301.2 229 301.8 228.8 301.9C228.6 302 227.8 302 227 302.5C226.3 303 225.3 304.4 225.3 304.4C225.3 304.4 226.2 303 227.5 302.9H231.9L231 302.2C230.5 301.8 230.1 300.9 230.1 300.9L231.5 302.2L233 303.2C233 303.2 234.4 303.2 234.5 303.4C234.633 303.6 234.433 303.967 233.9 304.5L232.5 305.8L234.1 304.6L235.3 303.6C235.3 303.6 236.3 303.8 236.4 303.7C236.533 303.767 236.333 303.333 235.8 302.4L234.5 300.4C234.5 300.4 235.3 301.1 236.1 302.2C237 303.2 236.8 303.8 237.1 303.8L238.3 304C238.633 304 238.533 304.433 238 305.3L237 307.3L238.3 305.7C238.9 305.1 239.3 304.3 239.5 304.3H240.7L240 303C239.6 302 239.5 300.8 239.5 300.8C239.5 300.8 239.9 302 240.5 302.8L241.6 304.4H242.9C242.966 304.667 242.8 305.133 242.4 305.8L241.6 307.6ZM224.4 297.6L225.7 297.9C225.7 297.9 224.4 297.1 224 295.9C223.7 294.9 224 292.5 223.4 292.5C222.8 292.5 222.5 294.3 222 293.9C221.4 293.6 222.2 290.4 221.5 289.1C220.9 287.7 219.5 286.8 219.1 287.3C218.7 287.8 218.9 290.7 218 290.1C217.1 289.5 218 286.9 217.8 285.8C217.6 284.7 216.8 283.8 216.3 284.1C215.8 284.4 216.5 286.5 215.7 286.6C214.8 286.6 215 285.1 214.7 284.9C214.4 284.7 214.1 285.2 214 284.9C213.8 284.6 213.9 283.6 213.4 283.7C213 283.7 213.1 284.7 213.2 285.1L213.8 286.5C213.9 286.8 214.6 287.2 214.5 287.5C214.433 287.767 214.166 287.9 213.7 287.9H212.3L213.7 288.2C214.1 288.2 214.9 288.1 215.1 288.4L216.2 290.1C216.2 290.1 216.5 289.4 216.6 288.2V286.1C216.6 286.1 216.9 287.4 216.9 288.2L216.6 290.6C216.6 290.6 217.5 291.3 217.2 291.6H214.9C213.9 291.6 212.3 291.3 212.3 291.3C212.3 291.3 213.7 291.9 214.7 292.1C215.7 292.3 217.7 292.3 217.7 292.3L219.1 293.9C219.1 293.9 219.8 292.8 219.9 291.6V289L220.3 291.2C220.287 292.22 220.118 293.231 219.8 294.2L218.3 295C217.3 295.3 215.4 295.5 215.4 295.5C215.4 295.5 217.2 295.8 218.4 295.5C219.7 295.2 219.8 294.8 220.2 295L220.9 295.6L221.9 296.4L221.1 296.9L219.9 297.5L221.7 296.9L222.6 296.6L223 296.8L222.9 295.8L222.6 294.4C222.6 294.4 223.1 295 223.2 295.7L223.3 296.9C223.3 296.9 223.4 297.1 224.3 297.5L224.4 297.6ZM199.5 269C199.5 269 199.8 267.6 199.8 266C199.8 264.5 198.8 262.1 198.5 261.9L198.3 261.4L199 260.4L198 261.1L197 260.7L196.4 260L197.4 260.5L197.9 260.6L197.6 259.1L196 258.3C195 257.7 194 256.8 194 256.8L196.2 258L197.5 258.3C197.5 258.3 198.4 258.1 198.8 257.8L200.1 256.9C200.1 256.9 199.3 257.4 198.7 257.5L197.5 257.7L197.2 255.8L196.3 254.9C195.6 253.9 195.1 252.7 195.1 252.7C195.1 252.7 195.8 253.6 196.4 254C197 254.4 197.5 255.2 197.5 255.2L198.8 254.4L201.1 252.8L198.9 253.8L197.6 254.4V253.2L198.2 251.9C198.1 251.5 197.8 251.7 197.7 251.4L198.1 249.3V250.3C198.1 250.7 198.233 250.933 198.5 251C198.9 251.1 201.1 248.9 201.3 248.5C201.6 248.1 202 247 200.9 247.5C199.8 248 200 248.8 199.1 248.8C198.8 248.8 198.5 247.6 198.1 247.8C197.8 248.1 197.1 248.8 196.9 249.8C196.7 250.6 197.1 251.8 196.6 252.2C196.1 252.6 195.6 250.8 194.8 251C193.8 251.3 193.6 252.6 193.8 253C193.9 253.6 195.9 256 195.3 256.2C194.7 256.4 193.1 254.2 192.3 255.8C191.3 257.3 194.9 258.9 195.3 259.3C195.8 259.7 195.3 259.8 196 260.6C196.7 261.4 197.5 261.6 197.9 262.1C198.3 262.6 199.6 265.1 199.6 266.7V269H199.5ZM208.9 282.6C208.9 282.6 208 281.6 208.3 280C208.6 278.4 209.8 275.4 209.3 275C209 274.6 207.7 276.8 207.4 276.3C207.1 275.8 208.1 272.9 207.6 271.7C207.1 270.5 207 269.7 206 269.8C205 269.9 204.5 273.3 204 272.8C203.5 272.1 204.3 270.6 204 269.8C203.733 269 203.4 268.667 203 268.8C202.4 268.9 202.2 270.5 201.8 270.5C201.4 270.5 200.8 268.5 200.1 268.9C199.4 269.1 201.9 272.4 201.9 272.4C201.9 272.4 202.4 272 202.6 271.4L203.1 270.3C203.1 270.3 203.3 271.3 203.1 271.8L202.8 273.2C202.733 273.267 202.166 273.267 201.1 273.2C200.1 273.1 199.2 272.7 199.2 272.7C199.2 272.7 199.9 273.1 201 273.4L203.2 274L203.9 275L204.8 276.1L205.4 274.5L206.4 271.7C206.4 271.7 206.2 273.7 205.9 274.7L205.4 277.2C205.4 277.2 204.4 277.2 203.3 276.9L200.3 276.3L203.3 277.3L205.6 277.9L206.6 279.3L207.4 278.2C207.9 277.5 208.2 276.7 208.2 276.7C208.2 276.7 208 277.8 207.7 278.5L207.1 279.6L205.7 279.8H203.7C204.869 280.17 206.077 280.405 207.3 280.5C207.3 280.5 207.3 280.9 207.8 281.6L208.9 282.6Z",fill:"#717732"}),g.jsx("path",{d:"M251.6 312.7C251.6 312.7 251.1 312.1 250.4 311.7L249.4 311.5H249.1L249.8 309.9L254.2 305.6L254.9 301.3H257.6V307.2L258.4 307.5L263.4 310.5V311.8L262.6 312.1L262 312.4L260.2 312.6L256.9 310.2L255.5 308.8L253.1 311.9L251.5 312.7H251.6Z",fill:"white"}),g.jsx("path",{d:"M255 301.3V302.3C255 302.9 255 306.3 254.8 306.8C254.7 307.3 252.3 308.2 250.8 309.4C249.5 310.6 249.5 311.5 249.5 311.5L248.2 311.9C247.334 312.3 246.9 312.567 246.9 312.7C246.9 312.9 247.4 310.5 249.7 308.6C251.9 306.6 253 306.4 253.2 306.1C253.4 305.8 253.2 302 253.2 301.7C253.334 301.433 253.534 301.333 253.8 301.4H255.1L255 301.3ZM260.7 313.9L261.3 313L262 312.4L261 311.8C259.7 311.3 259 311.4 258.2 310.8L256.5 309.1L255.3 310.1L256.7 311.8C257.3 312.4 258.8 312.6 259.5 313L260.7 314V313.9Z",fill:"#016848"}),g.jsx("path",{d:"M257.2 301.3L258.7 301.4L258.9 301.9C258.9 302 258.9 305.1 258.7 306.1C258.56 306.998 258.218 307.853 257.7 308.6C257.3 308.9 255.3 310.6 254.4 311.6C253.4 312.5 252.5 313.8 252.5 313.8L251.9 313L251.3 312.3C251.956 311.159 252.883 310.197 254 309.5C255.5 308.5 256.9 307.3 257.1 305.6C257.3 303.9 257.2 301.3 257.2 301.3Z",fill:"#CD202A"}),g.jsx("path",{d:"M266 312C266 312 265.7 311.7 264.6 311.6C263.4 311.6 263.4 311.8 263.4 311.8C263.4 311.8 262.7 311 261.8 310.4C260.8 309.7 260 309.8 259 309.1C258 308.4 257.4 307.4 257.4 307.4L258.2 305.8C258.2 305.8 259.1 307.1 260 307.8C260.9 308.5 263 309.1 263.7 309.8C264.4 310.3 266 312 266 312Z",fill:"#CD202A"}),g.jsx("path",{d:"M276 293C276 293 273 292 273.3 291C273.6 290 279.9 288.3 279.9 288.3L280 286.6C280 286.6 279 286.6 277.5 287.1C275.243 287.86 272.881 288.265 270.5 288.3C268.966 288.3 267.966 288.2 267.5 288L244.3 286.6H243.1C240.1 286.3 238.2 281.8 238.2 281.8L236.8 282C236.8 282 237.2 284.3 236.5 284.5C235 284.9 225.4 279.7 225.4 279.7L224.8 281.8C224.8 281.8 230.8 285 230.6 286.1C230.4 287.3 228.6 287.2 228.6 287.2L229.4 288.6C229.7 288.6 239.1 289.1 239.3 291.9C239.3 293.1 237 293.8 237 293.8L237.8 294.8V295.2C237.8 295.2 243 295.2 244.5 296.1C245.9 296.9 246.7 298.1 248.5 299.1C253.697 299.917 258.984 299.984 264.2 299.3C266.3 298.7 267.6 296.3 271.1 295.3C274.6 294.2 275.7 294.1 275.7 294.1L276 293Z",fill:"#30C2DC",stroke:"#0872A7",strokeWidth:"0.4"}),g.jsx("path",{d:"M227.6 290.3C228.539 290.3 229.3 289.539 229.3 288.6C229.3 287.661 228.539 286.9 227.6 286.9C226.662 286.9 225.9 287.661 225.9 288.6C225.9 289.539 226.662 290.3 227.6 290.3Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M237.2 282.5C238.139 282.5 238.9 281.739 238.9 280.8C238.9 279.861 238.139 279.1 237.2 279.1C236.261 279.1 235.5 279.861 235.5 280.8C235.5 281.739 236.261 282.5 237.2 282.5Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M277.2 294.9C278.139 294.9 278.9 294.139 278.9 293.2C278.9 292.261 278.139 291.5 277.2 291.5C276.261 291.5 275.5 292.261 275.5 293.2C275.5 294.139 276.261 294.9 277.2 294.9Z",fill:"white",stroke:"#0872A7",strokeWidth:"0.8"}),g.jsx("path",{d:"M220.1 278.3C219.6 279.5 221.7 281.9 223.2 282.2C224.733 282.4 225.6 282.1 225.8 281.3C226 280.5 225.9 279.833 225.5 279.3C224.5 278 220.7 277 220.1 278.3Z",fill:"#F8C83C"}),g.jsx("path",{d:"M224.8 280.2C224.8 279.4 223.5 278.7 222.8 278.7C222.1 278.7 221.1 278.7 221.3 279.1C221.5 279.5 223.5 280.1 223.5 280.3C223.5 280.5 222.9 280.8 223.2 281.1C223.6 281.3 223.967 281.267 224.3 281C224.7 280.8 224.867 280.533 224.8 280.2Z",fill:"white"}),g.jsx("path",{d:"M238.2 294.6C238.5 295.7 237.6 296.3 236.5 296.8C235.4 297.3 233.1 297 232.5 296.1C232.1 295.1 233.5 293.7 234.8 293.4C236.2 293.1 237.8 293.6 238.2 294.6Z",fill:"#F8C83C"}),g.jsx("path",{d:"M235.8 295.3C236.3 295.2 236.3 295.9 236.7 295.9C237.1 295.9 237.4 295.2 237.3 294.8C237.1 294.2 236.6 293.867 235.8 293.8C235.2 293.8 233.4 295.4 233.6 295.8C233.8 296.2 234.134 296.267 234.6 296C234.9 295.9 235.4 295.3 235.8 295.3Z",fill:"white"}),g.jsx("path",{d:"M279.4 288.8C280.4 290.2 282.2 288.9 282.7 288.4C283.2 287.9 284.7 287 284.1 286.2C283.5 285.2 282.4 285.3 281.7 285.4C281 285.5 279.7 286.4 279.4 286.9C279 287.433 279 288.1 279.4 288.9V288.8Z",fill:"#F8C83C"}),g.jsx("path",{d:"M279.7 288C279.7 288 279.8 286.5 281.2 286.4C281.9 286.4 282 286.6 282.6 287C283.2 287.4 283.4 286.5 283.4 286.5C283.4 286.5 283.4 287.5 282.4 287.6C281.5 287.6 281.9 287.2 280.9 287C280.1 287 279.7 288 279.7 288Z",fill:"white"}),g.jsx("path",{d:"M257.5 285.1L256.8 284.7H251.8L254.5 292.7L257.8 297.3L259 297.7L261.5 297.6L262 296.3L261 288.7L257.5 285.1Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M248.5 285.6L248.6 284.7L250.1 284.6L251.8 284.7C251.9 284.7 253.8 287 254.3 288.5C254.9 289.9 255.7 292.3 256.5 293.8L259 297.8H255.8L254.3 297.3L249.7 290.1L248.5 285.6Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M246.6 284.6L248.6 284.7C248.8 284.8 250.9 286.7 251.7 288.9C252.5 291.1 252.1 291.5 253.2 293.9C254.2 296.2 255.8 297.9 255.8 297.9C255.8 297.9 252.6 297.9 250.8 297.7C249 297.5 248.5 297.4 248.1 296.9L246.7 295.9H244.9L245.4 293.4L244.9 287.9V285L246.6 284.6ZM265.3 286.1L262.3 284.9L256.8 284.6L257.2 287.4C257.4 288.8 258.4 292 259.2 293.6C260.2 295.2 261.1 297.1 261.6 297.6C262.1 298.1 265.2 296.7 265.2 296.7L267.3 296.4L267 294.1L266.7 293.4L267.2 287L266.8 286L265.3 286.1Z",fill:"#F9AA51",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M245.7 286.1C245.7 286.8 246.4 286.9 246.7 286.8C246.8 286.8 247.5 286.5 247.5 285.6C247.5 284.7 246.9 283.9 245.7 283.8C244.6 283.8 243.7 285.2 243.7 286.2C243.7 287.2 244.7 287.7 244.7 288.1C244.7 288.1 243.7 289 243.7 290.6C243.7 292.2 245.1 293.4 245.1 293.4C245.1 293.4 243.7 294.5 243.7 295.6C243.7 296.7 244.7 297.5 245.7 297.5C246.7 297.5 248 296.8 248 296C248 295.2 247.2 294.6 246.6 294.6C246 294.667 245.7 294.9 245.7 295.3M266.2 286.6C266.134 287.2 265.867 287.433 265.4 287.3C264.7 287.1 264.5 287.1 264.5 286.2C264.5 285.3 265.6 284.9 266.4 284.9C267.2 284.9 268.4 285.9 268.4 287.1C268.4 288.3 267.4 289.1 267.4 289.1C267.4 289.1 268 289.4 268 290.9C268 292.4 267 293.5 267 293.5C267 293.5 268.3 294 268.3 295.6C268.3 297.2 267.3 297.7 266.5 297.7C265.7 297.7 264.4 297.2 264.4 296.2C264.4 295.2 265.1 294.7 265.6 294.7C266.1 294.7 266.6 295.3 266.6 295.9",fill:"#F9AA51"}),g.jsx("path",{d:"M245.7 286.1C245.7 286.8 246.4 286.9 246.7 286.8C246.8 286.8 247.5 286.5 247.5 285.6C247.5 284.7 246.9 283.9 245.7 283.8C244.6 283.8 243.7 285.2 243.7 286.2C243.7 287.2 244.7 287.7 244.7 288.1C244.7 288.1 243.7 289 243.7 290.6C243.7 292.2 245.1 293.4 245.1 293.4C245.1 293.4 243.7 294.5 243.7 295.6C243.7 296.7 244.7 297.5 245.7 297.5C246.7 297.5 248 296.8 248 296C248 295.2 247.2 294.6 246.6 294.6C246 294.667 245.7 294.9 245.7 295.3M266.2 286.6C266.134 287.2 265.867 287.433 265.4 287.3C264.7 287.1 264.5 287.1 264.5 286.2C264.5 285.3 265.6 284.9 266.4 284.9C267.2 284.9 268.4 285.9 268.4 287.1C268.4 288.3 267.4 289.1 267.4 289.1C267.4 289.1 268 289.4 268 290.9C268 292.4 267 293.5 267 293.5C267 293.5 268.3 294 268.3 295.6C268.3 297.2 267.3 297.7 266.5 297.7C265.7 297.7 264.4 297.2 264.4 296.2C264.4 295.2 265.1 294.7 265.6 294.7C266.1 294.7 266.6 295.3 266.6 295.9",stroke:"#953220",strokeWidth:"0.4",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M247.6 295L247.9 295.4C248.033 295.8 248.233 296.133 248.5 296.4C249.2 297.1 254.3 297.3 255.9 297.3C257.5 297.3 262.1 297.5 263 297C264 296.4 264 295.6 264.5 295.2L265.2 294.8L264.6 295.4V296.4L264.9 297.1C264.9 297.1 264.9 297.4 264.3 297.7C263.833 298.033 263.233 298.233 262.5 298.3C261.7 298.3 251.9 298.3 250.3 298.1C248.7 297.9 248.8 297.8 248.3 297.5L247.6 296.8L247.9 296.1L247.6 295ZM263.6 285.5L264.4 285.9C264.4 285.9 263.7 286.1 263.1 287.7C262.5 289.2 263.1 289.7 262.6 289.9H258L257.3 288.1L263.6 285.5Z",fill:"#953220"}),g.jsx("path",{d:"M277.1 284.9C277.1 284.9 276.4 284.6 276.1 283.9C275.7 283.4 275.4 282.6 275.7 282.5C276.1 282.433 276.367 282.7 276.5 283.3C276.767 284.3 276.967 284.833 277.1 284.9ZM285.5 282.6L286.2 283.6L287.2 284.1C287.2 284.1 286 284.1 285.6 283.8L284.8 282.6H285.5Z",fill:"#231F20"}),g.jsx("path",{d:"M288 283.3C288 283.3 287.3 283.7 286.7 283.5C286.033 283.233 285.733 282.967 285.8 282.7C286 282.433 286.233 282.5 286.5 282.9C286.9 283.2 288 283.3 288 283.3ZM292.2 279.7C292.2 279.7 291.6 280.3 291.2 280.3C290.8 280.3 290 280.1 290 279.9C290 279.7 291 279.6 291.2 279.6L292.2 279.7ZM285.9 271.4C285.9 271.4 284.9 271.6 284.6 272.1C284.333 272.7 284.4 273.033 284.8 273.1C285.4 273.2 285.3 272.5 285.3 272.4C285.3 272.2 285.9 271.4 285.9 271.4ZM281.7 273.7C281.7 273.7 281 274.1 280.8 274.5C280.6 274.9 280.5 275.7 280.8 275.8C281.3 275.8 281.4 275.1 281.5 274.8L281.7 273.7Z",fill:"#231F20"}),g.jsx("path",{d:"M274.2 278.7L271.9 281.1C271.9 281.1 277.2 284.1 281.3 283.9C285.3 283.9 289.9 280.6 290.3 279.9C290.5 279.3 290.3 276.5 289.8 275.6C289.3 274.7 286.4 272.6 285.4 272.6C284.4 272.7 282.4 274.2 280.7 275.8C279 277.4 279.1 279 276.7 278.8L274.2 278.7Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M273.6 279.7C273.6 279.7 279.3 280.5 280.9 279.1C282.5 277.6 284.3 274.8 285.4 274.1C286.6 273.567 287.167 273.367 287.1 273.5L288.3 274.5L289.8 275.6L290.2 278.3V279.8L288.5 281.2L285.2 282.7L282.2 283.7L279.5 283.6L274.2 282L272.8 281.1L272.5 280.8L273.6 279.7Z",fill:"#0C8489"}),g.jsx("path",{d:"M282.2 276.4C282.267 276 282.533 275.867 283 276C283.7 276.2 283.9 276 283.9 276.5C283.9 277 283.4 277.7 282.9 277.7C282.6 277.7 282.2 276.9 282.2 276.4ZM284.5 277.8C284.5 277.4 284.767 277.2 285.3 277.2C285.9 277.2 286.3 277.8 286.3 278.2C286.3 278.6 285.9 279 285.4 279C284.9 279 284.5 278.3 284.5 277.8ZM283.7 281.2C283.7 280.733 284 280.533 284.6 280.6C285.5 280.7 285.4 280.8 285.4 281.3C285.4 281.8 285 282.3 284.4 282.3C284 282.233 283.767 281.9 283.7 281.3V281.2ZM280.7 280.2C280.7 279.6 281.3 279.4 281.7 279.4C282.233 279.467 282.533 279.8 282.6 280.4C282.533 281.067 282.267 281.433 281.8 281.5C281.2 281.367 280.867 280.933 280.8 280.2H280.7ZM276 280.8C276 280.495 276.121 280.202 276.337 279.987C276.552 279.771 276.845 279.65 277.15 279.65C277.455 279.65 277.747 279.771 277.963 279.987C278.179 280.202 278.3 280.495 278.3 280.8C278.3 281.105 278.179 281.397 277.963 281.613C277.747 281.829 277.455 281.95 277.15 281.95C276.845 281.95 276.552 281.829 276.337 281.613C276.121 281.397 276 281.105 276 280.8Z",fill:"#04534E"}),g.jsx("path",{d:"M284.5 277.8C284.633 277.4 284.9 277.2 285.3 277.2C285.7 277.2 285.9 277.433 285.9 277.9C285.9 278.367 285.733 278.6 285.4 278.6C284.933 278.533 284.633 278.267 284.5 277.8ZM283.7 281.1C283.767 280.633 284.1 280.4 284.7 280.4C285.167 280.4 285.433 280.633 285.5 281.1C285.5 281.767 285.2 282.033 284.6 281.9C283.7 281.7 283.7 281.5 283.7 281.1ZM280.7 280.1C280.7 279.6 281.6 279.4 281.9 279.4C282.167 279.4 282.267 279.667 282.2 280.2C282.067 280.867 281.867 281.167 281.6 281.1C281.133 281.033 280.867 280.7 280.8 280.1H280.7ZM282.2 276.4C282.2 276 282.4 275.833 282.8 275.9C283.4 276 283.3 276 283.3 276.5C283.3 276.967 283.133 277.233 282.8 277.3C282.333 277.3 282.133 276.967 282.2 276.3V276.4ZM276 280.4C276.067 279.8 276.433 279.467 277.1 279.4C277.9 279.4 278.367 279.633 278.5 280.1C278.5 280.7 277.7 281.6 277 281.6C276.3 281.6 276 280.9 276 280.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M278.2 279.5C278.2 279.5 277.4 279.6 277 280C276.6 280.467 276.533 280.8 276.8 281C277.066 281 277.233 280.833 277.3 280.5L278.2 279.5ZM281.9 278.7C281.9 278.7 281.2 279.2 281.1 279.7C281.1 280.3 281.166 280.567 281.3 280.5C281.5 280.3 281.6 279.967 281.6 279.5C281.5 279.3 281.9 278.7 281.9 278.7Z",fill:"#231F20"}),g.jsx("path",{d:"M282.5 279.5C282.5 279.5 282.1 279.5 281.7 279.8C281.3 280.2 281.167 280.433 281.3 280.5C281.567 280.5 281.767 280.4 281.9 280.2C281.9 280 282.5 279.5 282.5 279.5ZM283.3 275.1L282.8 275.6C282.467 275.933 282.4 276.233 282.6 276.5C282.8 276.5 283 276.333 283.2 276C283.4 275.533 283.467 275.233 283.4 275.1H283.3ZM286.2 276.9C286.2 276.9 285.5 277 285.2 277.4C284.933 277.733 284.933 277.933 285.2 278C285.467 278.067 285.633 277.933 285.7 277.6C285.7 277.3 286.2 276.9 286.2 276.9ZM285.7 280.3C285.7 280.3 285.6 280.8 285.1 281C284.767 281.4 284.533 281.467 284.4 281.2C284.267 280.867 284.367 280.667 284.7 280.6L285.7 280.3Z",fill:"#231F20"}),g.jsx("path",{d:"M290.3 278C290.3 278 290.6 279.6 289.3 280.3C287.9 281.1 284.1 283.8 280.5 283.5C276.9 283.1 272.8 281.1 272.8 281.1L272.3 281.4L273.2 281.8L276 282.9L279.1 283.9H281.1L282.8 283.8L286 282.7L288.7 281.3L290.1 280.3L290.4 279.8V278.2L290.3 278Z",fill:"#04534E"}),g.jsx("path",{d:"M219.9 257.8C219.9 257.8 220.7 258.5 220.7 259.1C220.567 259.7 220.367 259.933 220.1 259.8C219.9 259.8 219.9 259.1 219.9 258.8V257.8ZM226.1 263.5C226.1 263.5 225.8 264.5 225.4 264.6C224.934 264.6 224.7 264.433 224.7 264.1C224.8 263.9 225.2 264.1 225.4 263.9L226.1 263.5ZM212.7 264.3C212.7 264.3 213 264.9 213.5 265C214.1 265 214.334 264.833 214.2 264.5H213.6L212.7 264.3ZM215.1 269C215.1 269 215.6 269.6 216.2 269.6C216.424 269.64 216.656 269.603 216.856 269.494C217.056 269.385 217.213 269.21 217.3 269C217.3 268.9 216.5 268.9 216.3 269.1C216 269.3 215.1 269 215.1 269ZM219.3 272.6C219.3 272.6 220.3 272.4 220.6 272.1C220.867 271.7 220.934 271.367 220.8 271.1C220.6 270.7 220.4 271.4 220.3 271.7L219.3 272.6Z",fill:"#231F20"}),g.jsx("path",{d:"M226.1 269.7C226.1 269.7 226.8 264.8 222.9 261.4C219 258 216.4 258.8 215 260.1C213.7 261.3 212.5 265.5 216.7 269.1C220.9 272.7 226 271.6 226 271.6L226.1 269.7Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M214 264.6C214 264.6 214 261.9 215.3 261.1C215.948 260.756 216.659 260.545 217.389 260.479C218.12 260.414 218.857 260.496 219.556 260.719C220.255 260.943 220.902 261.304 221.459 261.782C222.016 262.259 222.472 262.843 222.8 263.5C224.8 267.5 224.8 269.5 224.3 271.5H222.1L218.7 270.1L215.9 268L214 264.6Z",fill:"#0C8489"}),g.jsx("path",{d:"M225.6 270.4C225.6 270.4 224.9 271.2 223.5 271.1C222 271.1 215.5 269.3 213.8 263.4V264.7L213.9 265.1L214.4 266.3L215.8 268.3L217.5 269.8L219.7 271L221.3 271.4L223.3 271.8H224.5L225.5 270.4H225.6Z",fill:"#04534E"}),g.jsx("path",{d:"M222.1 268.7C222.1 268.3 222.333 268.133 222.8 268.2C223.2 268.2 223.6 268 223.6 268.5C223.6 269 223.3 269.8 222.9 269.8C222.4 269.8 222.1 269.2 222.1 268.8V268.7ZM222.4 265.6C222.4 265.2 222.666 264.967 223.2 264.9C224 264.8 223.9 265.2 223.9 265.6C223.9 265.933 223.666 266.133 223.2 266.2C222.533 266.2 222.266 266 222.4 265.6ZM219.4 269C219.4 268.667 219.7 268.5 220.3 268.5C220.766 268.5 221.033 268.667 221.1 269C221.2 269.5 220.3 269.7 219.8 269.7C219.3 269.7 219.4 269.3 219.4 269ZM219.1 265.3C219.1 264.967 219.333 264.867 219.8 265C220.266 265 220.566 265.2 220.7 265.6C220.9 266.2 220.2 266.7 219.7 266.7C219.4 266.7 219.1 265.8 219.1 265.3ZM216.4 266C216.4 265.6 216.6 265 217.1 265C217.6 265 218.1 265.6 218.1 266C218.1 266.4 217.8 266.633 217.2 266.7C216.3 266.8 216.3 266.3 216.3 266H216.4ZM216.9 262.7C216.9 262.367 217.133 262.233 217.6 262.3C218.266 262.3 218.6 262.5 218.6 262.9C218.466 263.433 218.1 263.767 217.5 263.9C216.9 263.9 216.9 263.1 216.9 262.7ZM219.9 262.4C219.9 262.133 220.166 262.033 220.7 262.1C221.366 262.167 221.633 262.4 221.5 262.8C221.5 263.2 220.9 263.6 220.5 263.6C220.1 263.6 219.9 262.8 219.9 262.4Z",fill:"#04534E"}),g.jsx("path",{d:"M216.9 262.6C216.9 262.267 217.1 262.1 217.5 262.1C218.033 262.033 218.266 262.2 218.2 262.6C218.2 263 217.966 263.233 217.5 263.3C217.033 263.367 216.833 263.133 216.9 262.6ZM216.3 265.8C216.3 265.333 216.5 265.067 216.9 265C217.3 264.933 217.533 265.1 217.6 265.5C217.6 266.1 217.366 266.367 216.9 266.3C216.5 266.367 216.3 266.2 216.3 265.8ZM219.8 262.4C219.8 262.133 220.033 262.033 220.5 262.1C220.9 262.033 221.133 262.167 221.2 262.5C221.133 262.833 220.9 263 220.5 263C220.1 263 219.9 262.8 219.9 262.4H219.8ZM219.2 265.5C219.2 265.967 219.433 266.233 219.9 266.3C220.366 266.233 220.633 265.967 220.7 265.5C220.8 264.8 220.2 264.7 219.9 264.7C219.433 264.767 219.2 265.033 219.2 265.5ZM222.5 265C222.566 265.467 222.833 265.733 223.3 265.8C223.966 265.8 224.233 265.533 224.1 265C224.033 264.6 223.766 264.367 223.3 264.3C222.6 264.2 222.5 264.7 222.5 265ZM219.3 269C219.3 268.6 219.533 268.367 220 268.3C220.466 268.233 220.7 268.433 220.7 268.9C220.566 269.3 220.233 269.567 219.7 269.7C219.433 269.633 219.3 269.4 219.3 269ZM222.2 268.5C222.2 268.167 222.433 268 222.9 268C223.5 267.933 223.733 268.1 223.6 268.5C223.466 269.1 223.2 269.367 222.8 269.3C222.4 269.233 222.166 268.967 222.1 268.5H222.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M223 263.6C223 263.6 223.4 264.1 223.5 264.6L223.4 265.5C223.2 265.5 223.033 265.267 222.9 264.8V263.5L223 263.6ZM220.4 260.9C220.4 260.9 220.7 261.3 220.7 261.7C220.7 262.1 220.7 262.5 220.4 262.5C220.266 262.433 220.2 262.2 220.2 261.8L220.4 260.9ZM217.4 261.3C217.4 261.3 217.7 261.7 217.7 262.1C217.7 262.5 217.7 262.9 217.5 262.9C217.3 262.9 217.3 262.5 217.3 262.2L217.4 261.3Z",fill:"#231F20"}),g.jsx("path",{d:"M216.4 261.8L217.1 262.2C217.5 262.533 217.634 262.767 217.5 262.9C217.234 263.033 217.067 262.967 217 262.7L216.4 261.8ZM218.7 264.9C218.7 264.9 219.2 264.9 219.6 265.2C219.934 265.533 220.034 265.8 219.9 266C219.7 266.067 219.434 265.933 219.1 265.6L218.7 264.9ZM215.9 264.9L216.7 265.1C216.967 265.367 217.034 265.6 216.9 265.8C216.767 265.8 216.6 265.7 216.4 265.5L215.9 264.9ZM222.6 266.9L222.7 267.9C222.767 268.5 222.734 268.833 222.6 268.9C222.4 269 222.3 268.3 222.3 267.9L222.6 266.9Z",fill:"#231F20"}),g.jsx("path",{d:"M221.8 268L222.5 268.3C222.7 268.567 222.7 268.733 222.5 268.8L222.2 268.4L221.8 268ZM218.8 268.1L219.6 268.3C219.8 268.633 219.866 268.967 219.8 269.3C219.666 269.367 219.5 269.233 219.3 268.9L218.8 268.1Z",fill:"#231F20"}),g.jsx("path",{d:"M217.7 259C217.7 259 215.1 259.6 214.7 261.3C214.1 263 214.1 264.9 214.1 264.9L213.7 262.7L214.3 261.4L215 260.1L216.2 259.4L217.2 259H217.7ZM225.9 269C225.9 269 226.1 268.4 225.4 266.4C224.6 264.3 223 261.6 223 261.6L224.2 263L225.2 264.6L225.7 266L226.1 267.3V268.6L225.9 269Z",fill:"#04534E"}),g.jsx("path",{d:"M228.5 265.7C228.5 265.7 229.5 266.3 229.5 266.7V267.2C229.1 267.133 228.834 266.967 228.7 266.7L228.5 265.7ZM224.7 276C224.7 276 225.1 275.2 225.7 275C226.367 274.667 226.734 274.6 226.8 274.8C227 275 226.5 275.5 226.1 275.6L224.7 276ZM231.1 278.5C231.1 278.5 231.8 278.2 232.1 277.7C232.5 277.3 232.634 277 232.5 276.8C232.234 276.733 231.9 276.9 231.5 277.3L231.1 278.5ZM230.4 277.9C230.4 277.9 230.6 277.1 230.9 276.8C231.1 276.533 231.334 276.433 231.6 276.5C231.8 276.7 231.8 276.933 231.6 277.2L230.4 277.9Z",fill:"#231F20"}),g.jsx("path",{d:"M241.2 273C241.2 273 237.2 267.2 230.9 266.9C225.9 266.6 224.4 271.1 224.6 272.4C224.7 273.8 226.6 276.7 233.3 277.1C240 277.5 241 274.1 241.3 273.8C241.5 273.7 241.2 273 241.2 273Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M236.5 269C236.5 269 238.1 270.3 238.8 271.3C239.5 272.3 239.7 273 239.3 273.1C238.9 273.2 235.3 269.9 232.3 269.2C229.3 268.5 226.8 269.2 226.2 270.6C225.6 272 225.8 274.1 227.2 275C228.6 275.9 234.9 277 234.9 277L237.9 276.5L239.7 275.5L240.1 274.5L240.5 273.1L240.7 272.6L239.2 270.9L236.5 269Z",fill:"#0C8489"}),g.jsx("path",{d:"M231.4 269.8C231.333 270.2 231.067 270.4 230.6 270.4C230 270.4 229.767 270.2 229.9 269.8C229.9 269.4 230.133 269.167 230.6 269.1C231.067 269.033 231.333 269.267 231.4 269.8ZM227.7 271.1C227.7 270.833 228 270.733 228.6 270.8C229.5 270.9 229.3 271.1 229.3 271.4C229.3 271.8 228.6 272.4 228.3 272.2C227.833 271.867 227.633 271.533 227.7 271.2V271.1ZM231.7 273.3C231.7 272.767 231.967 272.467 232.5 272.4C233.233 272.4 233.567 272.7 233.5 273.3C233.3 274.1 232.9 274.433 232.3 274.3C231.4 274.1 231.6 273.8 231.6 273.3H231.7Z",fill:"#04534E"}),g.jsx("path",{d:"M228.7 274.2C228.767 273.8 229.034 273.633 229.5 273.7C229.9 273.767 230.167 274.033 230.3 274.5C230.5 275.2 229.8 275.2 229.5 275.2C229.034 275.067 228.767 274.733 228.7 274.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M234 275.6C234 275.267 234.167 275.067 234.5 275C234.967 275 235.233 275.167 235.3 275.5C235.3 275.967 235.067 276.2 234.6 276.2L234 275.6ZM236.4 273.8C236.4 273.467 236.6 273.333 237 273.4C237.533 273.4 237.833 273.633 237.9 274.1C237.833 274.5 237.5 274.7 236.9 274.7C236.5 274.633 236.333 274.3 236.4 273.7V273.8Z",fill:"#04534E"}),g.jsx("path",{d:"M231.1 269.5C231.1 269.833 230.967 270 230.7 270C230.234 270 229.967 269.833 229.9 269.5C229.9 269.167 230.067 269 230.4 269C230.867 269 231.1 269.167 231.1 269.5ZM229.2 271C229.134 271.4 228.834 271.6 228.3 271.6C227.5 271.6 227.8 271.4 227.8 271C227.8 270.733 228 270.6 228.4 270.6C228.8 270.533 229.067 270.667 229.2 271ZM230.1 274.1C230.1 274.433 229.934 274.633 229.6 274.7C229.067 274.7 228.767 274.5 228.7 274.1C228.6 273.5 228.9 273.6 229.2 273.6C229.734 273.6 230.034 273.767 230.1 274.1ZM233.2 273.1C233.067 273.5 232.734 273.733 232.2 273.8C231.4 273.9 231.7 273.2 231.7 272.8C231.7 272.467 231.934 272.267 232.4 272.2C232.8 272.267 233.067 272.567 233.2 273.1ZM237.9 274.1C237.767 274.367 237.434 274.467 236.9 274.4C236.634 274.333 236.467 274.067 236.4 273.6C236.4 273.3 236.4 273 237.3 273.1C237.634 273.233 237.834 273.567 237.9 274.1ZM235.1 275.4C235.1 275.8 234.9 276.033 234.5 276.1L233.9 275.5C233.9 275.1 234.1 274.933 234.5 275C234.9 275.067 235.1 275.233 235.1 275.5V275.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M235.6 273.5C235.6 273.5 236.2 273.3 236.6 273.4C237.066 273.4 237.266 273.5 237.2 273.7L236.6 273.9L235.6 273.5ZM232.9 275.8L233.8 275.4C234.266 275.4 234.466 275.5 234.4 275.7C234.4 275.967 234.233 276.067 233.9 276L232.9 275.8ZM231.1 271.8C231.1 271.8 232.2 272.3 232.5 272.8C232.766 273.133 232.766 273.333 232.5 273.4C232.3 273.533 232.1 273.433 231.9 273.1L231.1 271.8Z",fill:"#231F20"}),g.jsx("path",{d:"M230.8 273.3L232.1 273C232.5 273 232.666 273.067 232.6 273.2C232.533 273.333 232.4 273.433 232.2 273.5L230.8 273.2V273.3ZM228.1 273.3C228.1 273.3 229.1 273.4 229.3 273.7C229.5 273.9 229.533 274.1 229.4 274.3C229.2 274.367 228.966 274.333 228.7 274.2C228.3 274 228.1 273.3 228.1 273.3Z",fill:"#231F20"}),g.jsx("path",{d:"M228 274.6C228 274.6 228.3 274.1 228.7 274H229.5C229.5 274.333 229.3 274.533 228.9 274.6H228ZM227.3 270.6L228.2 270.8C228.534 271.067 228.634 271.267 228.5 271.4H227.8C227.4 271 227.2 270.733 227.2 270.6H227.3ZM229.3 268.2C229.3 268.2 230.3 268.5 230.5 268.9C230.767 269.3 230.834 269.567 230.7 269.7L229.9 269.3L229.3 268.2Z",fill:"#231F20"}),g.jsx("path",{d:"M240 275C240 275 238.1 276.6 233.8 276.5C229.5 276.4 225.5 274.5 224.6 272.5L225 273.5L226 274.7L229 276.3L232.4 277L235.1 277.2L237.6 276.8L239.6 275.8L239.9 275.3L240.1 275H240ZM240.6 273L238.9 271L233.9 267.6L237.1 269L239.2 270.8L240.7 272.4L240.6 273Z",fill:"#04534E"}),g.jsx("path",{d:"M240.8 269C240.8 269 241.9 269.5 242.1 269.8L242.5 270.3C242.5 270.3 242.2 271 242 270.7L241.4 270L240.8 269ZM244.1 267.3C244.1 267.3 245.1 267.8 245.4 268.3C245.733 268.833 245.8 269.167 245.6 269.3C245.4 269.3 244.7 268.7 244.6 268.5L244.1 267.3Z",fill:"#231F20"}),g.jsx("path",{d:"M245 267.1C245 267.1 246 267.8 246.2 268.1C246.534 268.5 246.6 268.833 246.4 269.1C246 268.967 245.667 268.7 245.4 268.3L245 267.1ZM250.6 268.4C250.6 268.4 251.3 268.7 251.4 269.4V270.4L250.8 269.8V269.3L250.6 268.4ZM252 268.9C252 268.9 252.6 269.5 252.7 269.9C252.767 270.3 252.7 270.533 252.5 270.6C252.167 270.6 252 270.4 252 270V269V268.9ZM242.2 280.9C242.2 280.9 242.7 281.1 243.1 280.9C243.634 280.7 243.867 280.433 243.8 280.1C243.8 279.767 243.6 279.733 243.2 280L242.8 280.6L242.2 280.9ZM247.6 282.4C247.6 282.4 248.3 282.3 248.8 281.7C249.334 281.167 249.467 280.833 249.2 280.7C248.8 280.567 248.5 280.7 248.3 281.1L247.6 282.4ZM252 282.5L253 281.8C253.467 281.467 253.6 281.133 253.4 280.8C253.134 280.667 252.9 280.7 252.7 280.9L252.6 281.5L252 282.5Z",fill:"#231F20"}),g.jsx("path",{d:"M253.4 282.5C253.4 282.5 254 281.8 254.1 281.4C254.234 280.867 254.234 280.6 254.1 280.6C253.767 280.667 253.534 280.867 253.4 281.2V282.5Z",fill:"#231F20"}),g.jsx("path",{d:"M239.9 275.3C239.9 273.3 242.7 268.8 245.9 268.9C247.2 268.9 249.9 269.6 251.9 270.6C253.7 271.4 254.3 272.2 255.4 272.6C256.6 272.8 258.4 272.6 258.4 272.6L262.4 272.1L259.2 276.7L258.2 277.7C258.2 277.7 257.2 279.7 254.2 280.7C251.5 281.8 246.7 281 244.5 280.5C242.3 280 239.8 277.9 239.9 275.3Z",fill:"#8CBEBF",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M239.9 275.3H240.1C240.1 274.9 240.267 274.333 240.6 273.6C241.11 272.479 241.822 271.462 242.7 270.6C243.7 269.667 244.734 269.167 245.8 269.1C247.861 269.371 249.878 269.909 251.8 270.7L253.8 271.9C254.72 272.592 255.85 272.945 257 272.9L258.4 272.8L261.9 272.4L259.1 276.6L257.9 277.6C257.055 279.002 255.746 280.063 254.2 280.6C253.2 280.933 252.034 281.1 250.7 281.1C248.4 281.1 245.9 280.6 244.6 280.3C243.474 279.992 242.443 279.408 241.6 278.6C240.727 277.751 240.194 276.614 240.1 275.4V275.3H239.7C239.709 275.977 239.856 276.645 240.131 277.264C240.406 277.883 240.804 278.439 241.3 278.9C242.188 279.774 243.292 280.395 244.5 280.7C245.9 281 248.3 281.5 250.7 281.5C251.959 281.513 253.21 281.31 254.4 280.9C257.3 279.8 258.3 277.9 258.3 277.8L258.1 277.7L258.2 277.9L259.4 276.9L262.8 271.9L258.3 272.4H257L255.5 272.3C254.967 272.167 254.467 271.933 254 271.6C253.6 271.2 252.934 270.8 252 270.4L248.7 269.2C247.567 268.867 246.634 268.7 245.9 268.7C244.967 268.7 244.134 268.967 243.4 269.5C242.343 270.236 241.456 271.191 240.8 272.3C240.207 273.202 239.831 274.228 239.7 275.3H239.9Z",fill:"#04534E"}),g.jsx("path",{d:"M259.2 275.9C258.867 276.167 258.5 276.267 258.1 276.2C257.6 276.2 248.8 270.8 246.1 271C243.3 271.2 240.7 272.4 240.6 275.2C240.5 278 241.2 278.1 241.8 278.9C242.4 279.7 247.8 280.9 247.8 280.9H251L253.7 280.5L256 279.2L257.3 278.2L258.2 277.2L259.2 275.9Z",fill:"#0C8489"}),g.jsx("path",{d:"M245.2 274.5C245.2 275.1 244.933 275.433 244.4 275.5C243.867 275.567 243.567 275.267 243.5 274.6C243.5 274.133 243.767 273.9 244.3 273.9C244.967 273.767 245.267 273.967 245.2 274.5ZM246.2 272C246.2 271.6 246.5 271.4 247.1 271.4C248 271.4 248 271.5 248 272C248 272.5 247.6 272.8 247 272.8C246.4 272.8 246.1 272.5 246.1 272H246.2ZM251.4 273.5C251.467 273.033 251.733 272.767 252.2 272.7C252.867 272.7 253.133 272.967 253 273.5C252.8 274.3 252.6 274.2 252.2 274.2C252.014 274.17 251.841 274.089 251.699 273.965C251.558 273.841 251.454 273.68 251.4 273.5ZM252.4 276.7C252.4 276.1 252.733 275.767 253.4 275.7C253.867 275.7 254.133 275.967 254.2 276.5C254.2 277.233 254 277.567 253.6 277.5C252.933 277.5 252.567 277.233 252.5 276.7H252.4ZM249.9 278.7C249.9 278.3 250.2 278.067 250.8 278C251.7 277.9 251.6 278.3 251.6 278.8C251.6 279.2 251.333 279.433 250.8 279.5C250.333 279.5 250.033 279.267 249.9 278.8V278.7ZM245 277.9C245.067 277.5 245.333 277.267 245.8 277.2C245.921 277.155 246.051 277.14 246.179 277.156C246.307 277.173 246.429 277.22 246.535 277.293C246.641 277.367 246.728 277.465 246.787 277.579C246.847 277.694 246.878 277.821 246.878 277.95C246.878 278.079 246.847 278.206 246.787 278.321C246.728 278.435 246.641 278.533 246.535 278.607C246.429 278.68 246.307 278.727 246.179 278.744C246.051 278.76 245.921 278.745 245.8 278.7C245.601 278.663 245.419 278.567 245.276 278.424C245.133 278.281 245.037 278.099 245 277.9Z",fill:"#04534E"}),g.jsx("path",{d:"M245.2 274.4C245.2 274.867 244.9 275.133 244.3 275.2C244.101 275.163 243.919 275.067 243.776 274.924C243.633 274.781 243.537 274.598 243.5 274.4C243.567 273.933 243.833 273.733 244.3 273.8C244.767 273.867 245.067 274.033 245.2 274.3V274.4ZM247.7 271.9C247.7 272.3 247.533 272.533 247.2 272.6C246.6 272.6 246.267 272.333 246.2 271.8C246.2 271.4 246.433 271.167 246.9 271.1C247.433 271.1 247.7 271.367 247.7 271.9ZM252.9 273.2C252.833 273.6 252.567 273.833 252.1 273.9C251.5 273.9 251.267 273.667 251.4 273.2C251.4 272.867 251.633 272.667 252.1 272.6C252.767 272.6 253.033 272.8 252.9 273.2Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M250.1 275.4C250.1 276.067 249.867 276.4 249.4 276.4C248.734 276.4 248.4 276.1 248.4 275.5C248.4 275.033 248.7 274.8 249.3 274.8C250.2 274.8 250.1 274.8 250.1 275.4Z",fill:"#04534E"}),g.jsx("path",{d:"M246.4 277.8C246.4 278.2 246.133 278.433 245.6 278.5C245.414 278.47 245.241 278.389 245.099 278.265C244.958 278.141 244.854 277.98 244.8 277.8C244.866 277.333 245.2 277.1 245.8 277.1C246.2 277.1 246.4 277.3 246.4 277.7V277.8ZM250 275.3C249.963 275.499 249.867 275.681 249.724 275.824C249.581 275.967 249.398 276.063 249.2 276.1C249.001 276.063 248.819 275.967 248.676 275.824C248.533 275.681 248.437 275.499 248.4 275.3C248.437 275.101 248.533 274.919 248.676 274.776C248.819 274.633 249.001 274.537 249.2 274.5C249.398 274.537 249.581 274.633 249.724 274.776C249.867 274.919 249.963 275.101 250 275.3ZM254.2 276.3C254.2 276.967 253.933 277.3 253.4 277.3C253.135 277.3 252.88 277.195 252.693 277.007C252.505 276.82 252.4 276.565 252.4 276.3C252.4 275.9 252.633 275.7 253.1 275.7C253.766 275.7 254.1 275.933 254.1 276.4L254.2 276.3ZM251.5 278.6C251.5 279 251.233 279.233 250.7 279.3C250.033 279.3 249.733 279.067 249.8 278.6C249.866 278.133 250.166 277.9 250.7 277.9C251.166 277.9 251.433 278.133 251.5 278.6Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M251.8 276C251.8 276 253.1 275.8 253.4 276C253.6 276.333 253.6 276.6 253.4 276.8L252.7 276.7L251.8 276ZM250.5 271.7C250.5 271.7 251.5 272 251.9 272.4C252.233 272.867 252.333 273.167 252.2 273.3C252.067 273.433 251.833 273.367 251.5 273.1L250.5 271.7ZM247.5 273.7C247.5 273.7 248.7 274.4 248.9 274.7C249.233 275.1 249.3 275.4 249.1 275.6C249.1 275.7 248.4 275.6 248.3 275.3L247.5 273.7Z",fill:"#231F20"}),g.jsx("path",{d:"M247 274.6C247 274.6 248.3 274.8 248.6 275.1C249 275.233 249.2 275.367 249.2 275.5C249.2 275.633 249.067 275.767 248.8 275.9L247.8 275.5C247.8 275.3 247 274.7 247 274.7V274.6ZM245.4 270.8C245.4 270.8 246.8 271 247.1 271.2C247.433 271.533 247.433 271.867 247.1 272.2C246.767 272.267 246.5 272.133 246.3 271.8C246.3 271.5 245.4 270.8 245.4 270.8ZM242.5 272.8C242.5 272.8 243.8 273.4 244.2 274C244.533 274.333 244.533 274.533 244.2 274.6C243.8 274.8 243.4 274.1 243.4 274L242.5 272.8Z",fill:"#231F20"}),g.jsx("path",{d:"M242.3 274.4L243.4 274.3C243.933 274.167 244.266 274.2 244.4 274.4C244.266 274.667 244 274.767 243.6 274.7L242.3 274.4ZM249.1 278.9C249.1 278.9 250.1 278.3 250.4 278.4C250.866 278.4 251.066 278.5 251 278.7C250.8 278.9 250.6 278.967 250.4 278.9H249.2H249.1ZM244.3 278.2C244.3 278.2 244.7 277.7 245 277.6L245.6 277.7C245.533 277.967 245.366 278.133 245.1 278.2H244.3Z",fill:"#231F20"}),g.jsx("path",{d:"M258 277.3C258 277.3 256.8 278.9 255 279.7C253 280.5 251.7 280.7 249.1 280.6C247.139 280.565 245.216 280.05 243.5 279.1C242.2 278.477 241.068 277.551 240.2 276.4C239.9 275.8 240.5 277.4 240.5 277.4L242 279.4L244 280.2L246.7 280.9L249.3 281.2H251.3L253.7 280.8L255.3 280.3L256.3 279.6L257.1 279L258 277.3ZM255.6 272.6C255.6 272.6 254.9 272.8 253.3 271.9C251.7 270.9 249.8 269.6 246.3 269.6C242.7 269.6 241.5 272 241.3 272.2L242.9 270.1L244.5 269.1L245.8 269H247L248.6 269.5L250 269.9L251.7 270.5L253.2 271.3L254.9 272.2L255.6 272.6ZM260.4 273.6H257.7C257.234 273.667 257 273.8 257 274L256.8 274.4L256.1 273L259 272.6L260.6 273.2L260.4 273.7V273.6Z",fill:"#04534E"}),g.jsx("path",{d:"M256.6 288.3C256.733 288.767 257 289.033 257.4 289.1H258.8L261.6 288.9L262.6 287.8L263.2 285.2L264 284.2L266.6 282.7L268.9 282.1L270.4 281.9L272.4 281.2L273.9 280.5L274.5 279.5L275.2 278L274.5 276L272.9 274L270.3 272.9H268L265.5 273.8L261.2 274.8C261.2 274.8 258.7 275.8 257.7 277.8C256.7 279.6 256.7 280.1 256.6 282.6C256.5 285.1 256.6 288.3 256.6 288.3Z",fill:"#0C8489",stroke:"#04534E",strokeWidth:"0.4"}),g.jsx("path",{d:"M257.7 287.4C258.6 287.4 257.9 286 258.9 284.4C259.9 282.8 260.9 280.7 261.3 280.7C261.5 280.833 261.733 280.9 262 280.9C262.3 280.8 263 280.2 263 280.1C262.866 279.767 263.1 279.2 263.7 278.4C264.4 277.8 265.5 277 265.9 276.9C266.366 276.767 266.633 276.767 266.7 276.9C266.8 277.1 266.5 277.4 266.8 277.6C267.266 277.667 267.7 277.5 268.1 277.1L268.2 276.4C268.1 276.4 268.7 275.9 269.7 276.1C270.7 276.3 270.7 276.3 270.8 276.6C270.9 277 270.4 277 270.5 277.3V277.7C270.6 277.9 270.8 278.5 271.5 278.5C272.1 278.367 272.366 278.233 272.3 278.1L272.5 277.8C272.5 277.8 272.7 277.4 272.5 277.2C272.233 276.933 272.233 276.867 272.5 277C272.8 277 273.7 278.4 274.1 277.9C274.366 277.167 274.433 276.633 274.3 276.3L272.7 274.1L270.3 273.2L267.1 273.5L263.9 275.3L261 276.8C261 276.8 260.9 279.2 260.4 278.8C259.8 278.3 259.1 277.2 258.9 277.5L257.9 280.5C257.6 281.4 256.7 284 256.9 285C256.9 286 257.4 287.4 257.7 287.4Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M260.6 283.6L260 283.9L259.8 284.7C259.9 285 260.4 285.3 260.4 285.3H260.8L261.5 285.1C261.5 285.1 261.8 284.8 261.8 284.4C261.8 284.067 261.7 283.9 261.5 283.9L260.6 283.6ZM265.6 279.5C265.133 279.433 264.9 279.5 264.9 279.7V280.2C264.9 280.2 264.9 280.8 265.2 280.9C265.5 281 266 281.2 266.2 281C266.4 280.867 266.533 280.633 266.6 280.3C266.6 279.9 266 279.7 266 279.7L265.6 279.5ZM269.6 280.5C269.533 280.3 269.3 280.2 268.9 280.2C268.5 280.2 268.333 280.5 268.4 281.1C268.6 281.567 268.933 281.7 269.4 281.5C269.8 281.5 269.7 280.9 269.7 280.8L269.6 280.4V280.5ZM258 281.2C258.067 281.6 258.4 281.833 259 281.9C259.234 281.905 259.462 281.827 259.645 281.681C259.828 281.535 259.953 281.329 260 281.1C260 280.8 259.7 281.4 259.3 281.5H258.4L258.1 281.2H258Z",fill:"#8CBEBF"}),g.jsx("path",{d:"M261.8 284.4C261.8 284.4 261.8 284.9 261.5 285.2L260.7 285.4C260.433 285.4 260.233 285.333 260.1 285.2L259.8 284.6C259.8 284.6 260.2 285.3 260.8 285.1C261.4 284.9 261.8 284.4 261.8 284.4ZM272.5 277.8C272.5 277.8 272.5 278.3 272.1 278.5C271.7 278.7 271.433 278.767 271.3 278.7C271.033 278.7 270.833 278.6 270.7 278.4C270.2 277.7 270.5 277.2 270.5 277.2C270.5 277.2 270.8 278.5 271.5 278.4C272.2 278.3 272.5 277.8 272.5 277.8ZM263 280C263 280 262.6 281 262 281C261.4 281 261.4 280.9 261.4 280.7H262C262.3 280.7 263 280.1 263 280.1V280ZM264.8 279.9C264.8 279.9 264.8 280.6 265 280.9C265.2 281.1 265.466 281.2 265.8 281.2C266.133 281.2 266.366 281.1 266.5 280.9V280.3L266.4 280.6L265.8 280.9C265.533 280.9 265.3 280.8 265.1 280.6L264.8 279.9ZM268.2 276.4C268.2 276.4 268.4 276.9 268 277.4C267.6 277.9 266.8 277.6 266.8 277.6C266.8 277.6 267.4 277.7 267.8 277.4C268.1 277 268.2 276.4 268.2 276.4Z",fill:"#04534E"}),g.jsx("path",{d:"M257.4 288.9C257.4 288.9 261.6 288.9 261.9 288.2C262.3 287.7 261.6 285.4 264.1 283.6C266.6 281.8 268.6 281.8 270 281.7C271.3 281.7 274.2 280.7 274.8 278.1C275.1 276.5 272.9 276.4 272.1 274.9C271.3 273.4 269.2 274 269.1 274C269.1 274 266.7 274 265.6 275C265 275.7 265.1 276.5 264.7 276.8C264.5 277.2 261.7 276.8 261.4 277.3C261.1 277.8 261.4 278.7 261.2 278.9C261 279.1 260.4 278.3 260.4 278.3L260.6 276L264.1 274L268.1 271.7H270.9L273.7 273.2L275.1 274.8C275.1 274.8 275.4 275.4 275.5 276.6L275.4 278.2C275.002 279.329 274.275 280.314 273.313 281.027C272.351 281.74 271.197 282.148 270 282.2C267.6 282.3 265.4 283.4 264.4 284.2C263.3 285 262.7 288.5 262.7 288.9C262.7 289.3 257.5 289.1 257.5 289.1L257.4 288.9Z",fill:"#04534E"}),g.jsx("path",{d:"M259.1 280.7C258.834 280.9 258.634 280.867 258.5 280.6C258.3 279.9 258.8 278.9 258.8 278.9V280.1L259.2 280.4L259.1 280.7ZM261.8 280.1C261.6 280.1 261.6 279.4 261.8 279.1L263.1 278L262.6 279.2C262.5 279.5 262.1 280.2 261.8 280.2V280.1ZM260.8 284.4C260.6 284.4 260.5 284.133 260.5 283.6C260.5 282.8 261.3 282.3 261.3 282.3L261.1 283.3V284C261.1 284.267 261 284.4 260.8 284.4Z",fill:"#231F20"}),g.jsx("path",{d:"M262.7 283.2L261.9 283.9C261.434 284.233 261.067 284.4 260.8 284.4C260.5 284.4 260.9 283.8 261.1 283.7L262.7 283.2ZM266.3 278.1L265.6 279.1C265.334 279.7 265.334 280.033 265.6 280.1C265.8 280.3 266.1 279.5 266.1 279.3L266.3 278.1Z",fill:"#231F20"}),g.jsx("path",{d:"M267.6 279.9C267.6 279.9 267.3 279.6 266.7 279.4C266.1 279.333 265.767 279.4 265.7 279.6C265.7 279.8 265.3 280 265.5 280.2L266.2 279.9L266.9 279.8H267.7L267.6 279.9ZM266.9 276.4C267.1 276.4 267.367 276.233 267.7 275.9L268.2 274.9L267.4 275.4C267 275.733 266.834 276.067 266.9 276.4ZM272.4 276.2L271.4 276.9C271.134 277.233 271.034 277.5 271.1 277.7C271.367 277.767 271.6 277.633 271.8 277.3L272.4 276.3V276.2ZM270.8 279.9C270.8 279.9 270.6 280.4 270.1 280.7C269.6 281 269.1 281.1 269.1 281C268.967 280.733 269.034 280.533 269.3 280.4L270 280.2L270.8 279.9Z",fill:"#231F20"}),g.jsx("path",{d:"M234.379 271.172C235.634 271.365 236.883 270.016 237.167 268.159C237.451 266.303 236.663 264.643 235.407 264.451C234.152 264.259 232.904 265.607 232.62 267.464C232.335 269.32 233.123 270.98 234.379 271.172Z",fill:"url(#paint0_radial_4989_137735)"}),g.jsx("path",{d:"M236.3 261.5L234.9 265L236 264.8L236.7 261.8L236.3 261.5Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M237 260C236.334 260 236 260.333 236 261C235.934 261.467 236.167 261.8 236.7 262C237.3 262 237.634 261.7 237.7 261.1C237.767 260.5 237.5 260.167 236.9 260.1L237 260ZM295.8 268.6L292.4 271.8L293.8 272.1L296.1 269.1L295.8 268.6Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M297.3 267.3C296.634 267.1 296.067 267.267 295.6 267.8C295.513 267.92 295.453 268.059 295.426 268.205C295.399 268.351 295.405 268.502 295.443 268.645C295.481 268.789 295.551 268.922 295.648 269.036C295.744 269.149 295.865 269.239 296 269.3C296.5 269.6 297.3 269.3 297.6 268.8C297.688 268.68 297.747 268.541 297.774 268.395C297.801 268.249 297.796 268.099 297.757 267.955C297.719 267.811 297.649 267.678 297.553 267.565C297.456 267.451 297.336 267.361 297.2 267.3H297.3ZM210.2 250.4L212 254.3L212.8 253.3L210.8 250.3L210.2 250.4Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M209.5 248.7C209.387 248.787 209.294 248.896 209.227 249.022C209.16 249.147 209.12 249.285 209.111 249.427C209.101 249.569 209.122 249.712 209.172 249.845C209.222 249.978 209.3 250.099 209.4 250.2C209.867 250.733 210.367 250.8 210.9 250.4C211.013 250.313 211.106 250.204 211.174 250.078C211.241 249.953 211.281 249.815 211.29 249.673C211.299 249.531 211.279 249.388 211.229 249.255C211.179 249.122 211.101 249.001 211 248.9C210.922 248.78 210.818 248.678 210.696 248.602C210.575 248.525 210.438 248.476 210.296 248.457C210.154 248.438 210.009 248.45 209.872 248.492C209.734 248.534 209.608 248.605 209.5 248.7Z",fill:"#FCCA3E",stroke:"#AA8C30",strokeWidth:"0.2"}),g.jsx("path",{d:"M237.3 260.2C236.9 260.2 236.1 260.5 236.1 261.1C236.167 261.633 236.434 261.9 236.9 261.9H236.3L236.1 261.5L235.9 261.1L236 260.6L236.3 260.2L236.7 260.1H237L237.3 260.2Z",fill:"#AA8C30"}),g.jsx("path",{d:"M236.5 262.5C236.5 262.5 236.3 262.5 236.1 262.8L235.5 263.6L236.2 261.7L236.7 261.9L236.5 262.5ZM297.5 267.6C297.2 267.3 296.1 267.4 295.8 268C295.6 268.667 295.767 269.1 296.3 269.3C296.8 269.5 296.1 269.3 296.1 269.3L295.6 268.9L295.5 268.5V267.9L295.9 267.5L296.5 267.2H297L297.3 267.4L297.6 267.6H297.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M295.5 269.8H294.9L293.7 270.5L295.6 268.8L296 269.3L295.5 269.8ZM209.9 248.5C209.6 248.8 209.3 249.7 209.7 250.1C209.881 250.255 210.112 250.34 210.35 250.34C210.589 250.34 210.819 250.255 211 250.1C211.4 249.8 211 250.3 211 250.3L210.4 250.6H210L209.5 250.4L209.2 249.9V249.3L209.3 248.8L209.6 248.6L209.9 248.5Z",fill:"#AA8C30"}),g.jsx("path",{d:"M211.2 251C211.2 251 211 251.2 211.1 251.6L211.3 252.8L210.3 250.6L210.8 250.4L211.2 251Z",fill:"#AA8C30"}),g.jsx("path",{d:"M212.036 258.936C212.967 260.755 214.718 261.72 215.947 261.091C217.176 260.462 217.418 258.477 216.487 256.658C215.556 254.839 213.805 253.874 212.576 254.503C211.347 255.132 211.105 257.117 212.036 258.936Z",fill:"url(#paint1_radial_4989_137735)"}),g.jsx("path",{d:"M210 257C210 257 210.8 257.2 211.2 257C211.6 256.667 211.8 256.433 211.8 256.3L212 255.6L211.2 254.4H210.4C210.4 254.2 210.334 254.033 210.2 253.9C210 253.9 208.9 255.2 209.1 255.4C209.3 255.6 209.4 255.3 209.5 255.4V256.4L210 257Z",fill:"#E92736"}),g.jsx("path",{d:"M211.2 254.5C211.2 254.7 211.7 255.3 211.9 255.3H212.8C212.9 255.3 213.5 254.8 213.5 254.5L213.4 253.9C213.3 253.7 213.4 253.1 213.1 253C212.967 253 212.867 252.933 212.8 252.8L212.6 252.3C212.5 252 210.6 253.1 210.8 253.3L211.2 253.5V254.5Z",fill:"#E92736"}),g.jsx("path",{d:"M215.4 254L215.3 252.6C215.033 252.6 214.833 252.5 214.7 252.3C214.833 252.233 214.933 252.1 215 251.9C215.1 251.6 213 252 213 252.2C213.2 252.5 213.5 252.3 213.5 252.5L213.1 253L213.3 253.9L213.5 254.3L214 254.4H215.1L215.4 254ZM232.9 264.3C232.9 264.3 233.2 264.9 233.6 265H234.3C234.5 265 234.7 264.9 234.9 264.7L235.2 263.6L234.7 263L234.9 262.6C234.9 262.4 233.3 262.6 233.3 262.8C233.3 263 233.5 262.9 233.5 263.1L232.9 263.6V264.3Z",fill:"#E92736"}),g.jsx("path",{d:"M235 263.6V264.6L235.5 265.1H236.4L236.7 264.6L237.1 264L237 263.6C237.133 263.533 237.233 263.4 237.3 263.2C237.4 262.9 235.6 262.4 235.6 262.6L235.7 263C235.7 263 235.1 263.4 235.1 263.6H235Z",fill:"#E92736"}),g.jsx("path",{d:"M237.8 266C238 265.9 238.6 265.3 238.6 265L238.5 264.6L238.9 264.5C238.9 264.4 237.6 263.2 237.6 263.5C237.5 263.7 237.8 263.8 237.6 263.9H237.2L236.7 264.6L236.6 264.9L236.7 265.3L237.4 266H237.8ZM290.7 270.4C290.7 270.4 290.7 271 291 271.4L291.6 271.7H292.2C292.4 271.7 292.9 271 292.9 270.8V270.1L293.1 269.9C293.2 269.7 291.8 269 291.7 269.3V269.6L291 269.8L290.7 270.4Z",fill:"#E92736"}),g.jsx("path",{d:"M292.7 270.8L292.2 271.4V272.1L293.1 272.5L293.5 272.3C293.834 272.3 294.067 272.2 294.2 272V271.7L294.7 271.5C294.8 271.4 293.7 270.2 293.6 270.3V270.6L292.7 270.8Z",fill:"#E92736"}),g.jsx("path",{d:"M293.2 273.8H294.2L294.5 273.4L294.8 273.5C295 273.5 294.8 272 294.7 272.1C294.567 272.167 294.5 272.267 294.5 272.4C294.3 272.4 294.167 272.3 294.1 272.1L293.4 272.2C293.2 272.2 293.067 272.267 293 272.4L292.9 272.7V273.6L293.2 273.8Z",fill:"#E92736"}),g.jsx("path",{d:"M211.3 255.3C211.5 255.5 211.3 256.1 211.1 256.3C211 256.5 210.1 256.3 210.1 256.1V255.4C210.233 255.2 210.466 255.033 210.8 254.9C211.066 254.967 211.233 255.1 211.3 255.3ZM211.6 254.1C211.533 254.433 211.6 254.633 211.8 254.7C211.8 254.9 212.5 255 212.8 254.9C212.8 254.9 213.2 253.8 213 253.6C212.866 253.467 212.666 253.433 212.4 253.5L211.6 254.1ZM213.8 253.1V253.7C213.8 253.7 214.3 254.1 214.6 254.1C214.8 254.1 214.9 253.3 214.9 253.1C214.9 252.9 214.9 253 214.7 252.9L213.8 253.1ZM234.7 264.1C234.7 264.4 234.1 264.6 233.9 264.6C233.7 264.6 233.4 263.9 233.5 263.8C233.5 263.667 233.633 263.567 233.9 263.5H234.6L234.7 264.1ZM235.5 263.6C235.366 263.667 235.3 263.833 235.3 264.1C235.3 264.2 235.5 264.7 235.7 264.8C235.9 264.9 236.7 264.4 236.7 264.2L236.4 263.8L235.5 263.6ZM237.5 264.4C237.3 264.467 237.166 264.6 237.1 264.8L237.3 265.5C237.633 265.5 237.9 265.4 238.1 265.2V264.9L237.5 264.4ZM292.3 271H291.5C291.3 271 291.3 270.1 291.5 270.1L291.9 270C292.1 270 292.266 270.133 292.4 270.4L292.3 271ZM293.1 271L292.6 271.2V272C292.7 272.1 293.6 272.2 293.6 272C293.8 272 293.7 271.6 293.7 271.6L293.1 271ZM294 272.6H293.5L293.2 273.2C293.2 273.4 293.7 273.5 293.8 273.5C293.933 273.5 294.033 273.433 294.1 273.3L294 272.6Z",fill:"#F7E204"}),g.jsx("path",{d:"M287.658 276.891C288.324 277.629 290.06 277.146 291.535 275.813C293.011 274.48 293.666 272.802 293 272.064C292.333 271.326 290.597 271.809 289.122 273.142C287.647 274.475 286.991 276.154 287.658 276.891Z",fill:"url(#paint2_radial_4989_137735)"}),g.jsx("path",{d:"M228.6 223.4C228.6 223.4 225.6 223.7 223.4 223.4C221.4 223 221.8 217.5 221.7 217.4C221.7 217.2 220.4 215.9 220.7 214.7C220.9 213.5 224.7 210.3 225.3 210.1C225.7 210 226.5 210.3 226.5 210.3C226.5 210.3 227.5 209.3 227.8 209.3C228.1 209.3 228.5 209.9 228.4 210.1C228.2 210.4 226.9 211.1 226.8 211.8C226.8 212.4 226.667 213 226.4 213.6C226 214.2 225.3 215 225.2 215.5C225 216.1 225 216.467 225.2 216.6C225.6 216.8 226.9 216.6 228 216.1L229.7 215.1C229.9 215.1 229.1 216.4 227.9 216.9C226.7 217.4 225.9 218 225.2 217.9C225.2 217.9 224.6 219.5 226.6 219.6C228.7 219.7 229.9 219.2 229.9 219.2L228.6 223.4ZM216.6 236.2C216.6 236.2 218.3 236.8 218.3 238.6C218.3 240.4 216.5 241.9 216.6 245.1C216.6 248.3 217.1 248.3 221.3 251.7C221.4 251.7 222.3 252.7 222.5 253.7C222.8 254.7 223.5 260.7 227.5 260.7C231.5 260.7 232.1 258.2 232.1 258.2L230.4 255.7C230.4 255.7 229 256.1 228.2 255.9C227.797 255.761 227.427 255.538 227.117 255.244C226.806 254.951 226.562 254.595 226.4 254.2C225.9 253.2 225.8 250.9 225.1 249.9C223.4 247.4 220.4 246.9 220.4 244.3C220.4 241.6 222.3 241.3 221.7 238.2C221.1 235.1 217.4 233.5 217.4 233.5L215.9 232.9L215.4 236L216.6 236.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M227.8 214.1C229.1 213.8 228.3 210.3 228.3 210.3L227.4 211C227.4 211 228 211.8 228 212.6C228 213.4 227.8 214.1 227.8 214.1Z",fill:"#F1A720"}),g.jsx("path",{d:"M230.2 249.2L229.5 248.6C229.1 248.3 226.9 246.6 227.3 241.6C227.7 235.8 236 232.8 236.5 230.5C237.2 227.9 239.1 226.8 232.4 221.6L230.8 223.5L233.6 225.5C233.6 225.5 234.2 225.2 234.2 226C234.2 226.7 233.5 227.4 233.2 228C233.2 228.5 229 231.4 228.7 231.7L226.3 233.7C226.3 233.7 225.2 234.7 224.2 236.9C223.2 239.1 223.7 241.9 223.7 241.9C223.7 241.9 223.7 248.1 230.2 249.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M226.2 252.4L226.6 254.6L225.3 255.1H224.7L224.3 255.2L223.3 256.2H223L222.8 255.5L222.7 254.4L223.9 254.9H224.4L224.7 254.8L225.2 253.6L226.2 252.4ZM222.2 252.8L221.7 252L220.9 251.3L221.9 250.8H222.9L222.7 252L222.2 252.8ZM224.5 249.3C224.5 249.3 225.1 249.6 225.3 250.1L225.8 251.1L224.2 251L223.1 250.6L223.8 249.6L224.5 249.3ZM223.9 258.9C223.9 258.9 223.6 258.7 223.4 258.2L223.1 256.9L224.1 256.7L225.3 257.2H225.6L225.3 257.8L224.2 258.8L223.9 258.9ZM227.9 255.6C227.9 255.6 227.1 255.3 226.9 254.9L226.7 254.5L226.4 255.7L226 256.9L226.1 257.1L227.1 256.8L227.7 256.1L227.9 255.6ZM224.2 259.4L225.2 260L226.2 260.4L226.8 259.9L227.2 258.9L227.3 258.8L224.8 259L224.2 259.4ZM227.7 258.4L229.8 257.2L229.9 256.1L229.5 255.8H228.3L228 257.2L227.7 258.5V258.4ZM226.2 260.4C226.2 260.4 227.7 261.1 230.2 260.2C231.267 259.6 231.734 259.267 231.6 259.2L230.6 258.8L229.6 259.6L226.2 260.4ZM224.2 244.2L223.9 243.2L223.8 242.2L224.5 242.6L225.6 243.4L224.9 244L224.2 244.2ZM226 247.2L225.3 246.4L224.8 245.4L225.6 245.6L226.5 246.1L226.1 247.2H226Z",fill:"#78732E"}),g.jsx("path",{d:"M221.3 213.7C221.1 214.2 220.9 215.1 221.6 215.3C222 215.3 223.6 215.3 225.3 213.3C226.1 212.3 226.1 211.3 226.1 211.3L226.5 210.3C226.5 210.3 225.8 209.8 224.7 210.5L221.3 213.7Z",fill:"#C6C7A6"}),g.jsx("path",{d:"M226 211.2C226.166 211.2 226.3 211.066 226.3 210.9C226.3 210.734 226.166 210.6 226 210.6C225.835 210.6 225.7 210.734 225.7 210.9C225.7 211.066 225.835 211.2 226 211.2Z",fill:"#1C242F"}),g.jsx("path",{d:"M223.8 211.2C223 211.8 222.4 212.5 222.4 212.5C222.4 212.5 223.5 212.2 224.4 211.4C225.026 210.918 225.817 210.703 226.6 210.8C226.734 210.733 226.734 210.6 226.6 210.4C226.3 210.2 225.5 210.1 225.3 210.2C225.3 210.2 224.5 210.6 223.8 211.2Z",fill:"#A8AC71"}),g.jsx("path",{d:"M227.3 243.6V241.8L226.6 242.4L225.9 243.4L226.9 243.7L227.3 243.6ZM223.7 241.6V239.7C223.7 238.8 224.1 237.2 224.1 237.2L224.5 238.3L225.8 240.3L226.2 240.6L225.2 241.3L224 241.7L223.7 241.6ZM227.3 241L227.5 240.2L227.9 239.2L226.8 240.2L226.3 240.6L226.9 241.1L227.3 241ZM224.3 236.3C224.3 236.3 224.5 235.7 225 235L226.1 233.5L226.6 235.5L226.9 237.1V237.4L226.4 237.6C226.3 237.6 225.1 237.6 224.9 237.3L224.3 236.3ZM228.1 238.5L228.8 237.8L229.6 237L227 237.5L227.4 238.3L228.1 238.5ZM226.6 233.2L227.5 232.4C228.2 231.7 228.5 231.8 228.5 231.8L228.8 234.6L227.5 234.2L226.6 233.2ZM229.8 237L231.4 235.4L228.8 234.6L229.3 236.4L229.8 237ZM230.9 232.8L231.1 230.1L229.9 230.9L228.9 231.7L229.2 232.1L230.2 232.7L230.9 232.8ZM233.2 230.2V228.2L232.3 229.1L231.7 229.7L232.4 230.1L233.2 230.2ZM234.2 233L235.4 232L236.6 230.7L233.3 230.4L233.4 231.8L234.2 233ZM226.4 222V223.5H229.1L228.4 222.5L227.6 222L226.8 221.2L226.4 222ZM231.8 235L233 234L234 233.2L231.3 232.9L231.4 234.7L231.8 235ZM236.8 230.2C236.8 230.2 237.1 229.2 237.1 228.2L236.9 226.7L234.9 228L235.2 229L236 229.9L236.8 230.2Z",fill:"#78732E"}),g.jsx("path",{d:"M233.4 227.8C233.4 227.8 234 227.1 234.1 226.7V226.4H235.7L236.6 226.5L236.7 226.6L236 227.4L235 228L233.8 228.1L233.4 227.8ZM236.6 226.3L235.6 224.6L235 223.8L234.2 226V226.3H236.6Z",fill:"#78732E"}),g.jsx("path",{d:"M217.3 241.8L217 242.4C217 242.4 218 241.8 218.9 241.9C219.8 242 220.6 242.9 220.6 242.9L220.8 242.2C220.8 242.2 219.7 241.2 219 241.1C218.3 241.1 217.3 241.8 217.3 241.8ZM217.8 237.1L218.1 237.4C218.1 237.5 218.1 236.7 219.2 236.2C220.2 235.8 220.9 236.2 220.9 236.2C220.9 236.2 220.7 235.5 220.2 235.4C219.666 235.267 219.166 235.4 218.7 235.8C218.1 236.2 217.8 237.1 217.8 237.1ZM221.4 240.6C221.4 240.6 220.9 239.6 220 239.3C219.2 239.1 218.1 239.8 218.1 239.8L217.9 240.3C217.9 240.3 219.1 239.7 219.9 240C220.8 240.4 221.2 241.4 221.2 241.4L221.4 240.6ZM217.4 236.6L217.7 236.9C217.7 236.9 217.5 235.9 218.1 235.2L219 234.4L218.5 234.2C218.5 234.2 217.8 234.7 217.5 235.2C217.3 235.8 217.266 236.233 217.4 236.5V236.6ZM216.9 234.6C217.2 234.1 217.9 233.9 217.9 233.9L217.6 233.7H217.3C217.3 233.7 216.9 233.9 216.6 234.5C216.3 235.1 216.3 236.1 216.3 236.1L216.8 236.3C216.8 236.3 216.7 235.3 216.9 234.7V234.6ZM223.2 219.4C223.933 219.133 224.333 219.033 224.4 219.1C224.5 219.2 223.4 220.1 223.9 221.4C223.3 222.4 223.1 223.3 223.1 223.3H223.7L224 221.8C224.363 222.474 224.876 223.056 225.5 223.5H226.3C226.3 223.5 226.3 222.5 226.8 221.5C227.223 222.029 227.773 222.442 228.4 222.7V222.4C228.4 222.4 227.5 221.9 227 221.2V221.1C227.6 220.1 228.4 219.8 228.4 219.8L229 220.2L229.1 220.1L228.7 219.5H228.2L226.8 220.9L226.2 219.6H225.8C225.8 219.6 225 219.6 224.2 220.9C224.1 219.9 225.2 218.9 225.2 218.9L225.1 218.6L223.1 219C222.4 219.3 221.9 220 221.9 220V220.6C221.9 220.6 222.6 219.8 223.2 219.4ZM224.4 221.1C224.9 220.4 225.9 219.9 225.9 219.9C225.9 219.9 225.9 220.5 226.6 221.2C226.2 222 226 223.1 226 223.1C226 223.1 225.1 222.5 224.4 221.5L224.3 221.2V221.1H224.4ZM218.4 238V238.6C218.4 238.6 219 237.9 219.9 237.9C220.8 237.9 221.7 238.6 221.7 238.6V237.7C221.5 237.7 220.7 237.2 220 237.2C219.2 237.2 218.3 238 218.3 238H218.4ZM235.4 229L235.1 228.2L235.5 228L236.9 226.7L236.6 226.3H235.3L234.2 226.2L234.6 224.8L235 223.7L234.6 223.3C234.6 223.3 234.7 223.7 233.9 223.8L231.7 223.1V223.5L233.7 224L234.7 223.8L234.2 224.8L234 225.6L234.2 225.7L234.1 226.4L235.2 226.5L236.6 226.6C236.6 226.6 235.9 227.4 235.2 227.7L234.9 227.8L234.1 226.6V227L234.6 228L233.4 227.8L233.1 228.1V230.1L231.7 229.7L231.4 229.9L231.1 230.1C231.1 230.1 230.8 231.3 230.8 232.7C229.6 232.4 228.9 231.7 228.9 231.7L228.6 231.9C228.6 231.9 228.4 233.1 228.7 234.5C227.948 234.263 227.263 233.852 226.7 233.3L226.3 233.7L226.7 237.2L226.8 237.5H226.2C225.2 237.5 224.4 236.4 224.4 236.4L224.1 237.2C224.1 237.2 224.5 239.4 225.7 240.4L226 240.6C225 241.4 223.7 241.6 223.7 241.6L223.8 242.2L225.5 243.5L224.2 244.2L224.4 244.6L225.8 243.6L227.3 244V243.6L226.1 243.4V243.3C226.6 242.9 227.3 241.8 227.3 241.8V241C227.3 241 226.9 241 226.4 240.6C227.9 239.6 227.9 239.1 227.9 239.1L228.2 238.6C228.2 238.6 227.7 238.4 227.3 237.6L229.7 237.1L229.9 236.9C229.9 236.9 229.3 236 229 234.9L231.4 235.4L231.8 235C231.8 235 231.5 234.1 231.4 233L233.9 233.3L234.2 233C234.2 233 233.4 231.5 233.4 230.7V230.6H236.6L236.8 230.2C236.8 230.2 235.8 229.5 235.4 229ZM227 241.4C227 241.4 226.7 242.2 226 243L225.7 243.2L225.3 243C224.566 242.4 224.233 242.067 224.3 242L226.3 240.7L227 241.4ZM227.7 238.9L226.2 240.4L225.9 240C225.2 239.1 224.3 238.4 224.4 237C224.4 237 224.9 238 226.1 237.9L226.9 237.7C227.3 238.5 227.566 238.9 227.7 238.9ZM229.3 236.9L227.3 237.4L227.1 237.1C226.7 235.8 226.7 233.9 226.7 233.9C226.7 233.9 227.6 234.5 228.7 234.8L229.3 236.9ZM229 234.5C228.8 233.4 229 232.2 229 232.2C229 232.2 229.7 232.8 230.9 233L231.1 234.7L229 234.5ZM233.6 232.7C233.6 232.7 232.9 233 231.4 232.8V230L233.2 230.5V230.6L233.6 232.7ZM233.6 230.2H233.4V228.1C233.4 228.1 234.2 228.3 234.8 228.2C234.8 228.467 234.933 228.8 235.2 229.2C235.5 229.8 236.1 230.2 236.1 230.2C236.1 230.2 234.2 230.4 233.5 230.2H233.6ZM227.6 245.2L227.4 244.7C227.4 244.7 226.7 245.2 226.4 245.8H226.2L224.6 245.1L224.8 245.4L226.3 246L226 247.2L226.2 247.5C226.2 247.5 226.2 246.7 226.6 246.1H227.6L227.4 246.8L227.1 248L227.4 248.2H229.1L228.8 247.9H227.3L227.6 246.9L227.8 246.3L227.6 245.7L226.7 245.8L227.5 245.1L227.6 245.2ZM218.5 244.1C219.161 244.129 219.793 244.375 220.3 244.8V244.3C220.3 244.3 219.5 243.3 218.6 243.3C217.6 243.3 216.6 244.2 216.6 244.2V245.2C216.6 245.2 217.5 244.1 218.5 244.1ZM229.1 259.6C228.1 260.1 226.9 260.1 226.9 260.1L227.6 258.8C229.6 258.3 230 256.9 230 256.9L229.9 256.4C229.9 256.4 229.4 257.7 227.7 258.4L228.3 255.8L227.8 255.6C227.8 255.6 227 256.6 226.2 256.9C226.539 256.212 226.742 255.465 226.8 254.7L226.6 254.3C226.6 254.3 226 254.8 225.2 254.9H224.7C225.2 254.3 226.1 252.4 226.1 252.4L226 252C226 252 225.3 253.7 224.6 254.5L224.3 254.8L222.6 254V254.3C222.6 254.3 223.3 254.8 224.1 255.1L223.1 256.1V256.9L225.5 257.2C225.083 257.866 224.539 258.444 223.9 258.9L224.2 259.4C224.2 259.4 225.3 259.4 227.2 258.9L226.2 260.4C226.1 260.4 228 260.5 229.2 259.9C230.4 259.3 230.8 258.7 230.8 258.7L230.4 258.3C230.4 258.3 230.2 259.2 229.1 259.6ZM223.6 256.3L224.6 255.2C225.8 255.5 226.2 255.1 226.2 255.1C226.2 255.1 226.4 255.8 225.7 256.9L223.6 256.3ZM224.7 258.8L225.7 257.5L226 257.2C227.2 257.2 227.9 256.2 227.9 256.2C227.9 256.2 228 257.2 227.5 258.4C225.9 259 224.7 258.8 224.7 258.8ZM223.2 250.9C224.4 251 225.8 251.5 225.8 251.5L225.7 250.9L223.4 250.5C223.8 249.6 224.6 249.2 224.6 249.2L224.2 249C224.2 249 223.8 249 223.2 250.2L223 250.4H222.7C221.7 250.4 220.8 251 220.8 251L221 251.3C221 251.3 221.9 250.9 222.8 250.9L222.2 252.9L222.4 253.4L223.2 250.9ZM220.8 246L220.6 245.4C220.6 245.4 219.3 245 218.4 245.4C217.5 245.8 216.8 246.9 216.8 246.9L217.2 247.7C217.2 247.7 217.8 246.5 218.7 246.2C219.6 245.9 220.8 246 220.8 246ZM223.2 247.9L222.4 247.5C222.4 247.5 221.1 247.8 220.6 248.3C220.1 248.8 219.7 250 219.9 250.3C220.1 250.7 220.266 250.9 220.4 250.9C220.6 250.9 220.6 249.6 221.3 249C222 248.4 223.2 247.9 223.2 247.9ZM220.2 247.5C220.6 247 221.6 246.8 221.6 246.8L221.1 246.3C221.1 246.3 219.9 246.5 219.3 247L217.9 248.7L218.6 249.4L220.1 247.5H220.2ZM224.2 211.7C224.9 210.9 225.5 210.9 225.7 210.9H226.3L225.6 212.9C225.4 213.7 225.1 213.9 224.8 214.4C224.333 215.067 224 215.833 223.8 216.7C223.8 217.5 223.966 217.933 224.3 218C224.566 217.867 224.733 217.7 224.8 217.5C224.8 217.2 224.6 217.5 224.4 217.5C224.2 217.5 224.4 217.2 224.2 216.7C224.2 216.2 224.8 214.9 225 214.5C225.4 214.1 225.7 213.567 225.9 212.9C225.9 212.2 226.4 210.9 226.4 210.9C226.4 210.767 226.066 210.7 225.4 210.7C225.098 210.727 224.806 210.821 224.546 210.977C224.286 211.133 224.065 211.346 223.9 211.6C223.5 212.1 222.5 212.5 222.5 212.5C222.5 212.5 223.6 212.5 224.2 211.7Z",fill:"white"}),g.jsx("path",{d:"M228.2 219.6H226.2L226.7 221.1L228.2 219.6ZM225.8 219.6L225.4 219.2L225.1 218.9L224.4 219.4L224 220.9L224.2 221.1L225.8 219.5V219.6ZM225.5 223.6L224.1 221.4L223.3 223.1L223.7 223.3L224.7 223.4L225.5 223.5V223.6ZM231.5 259.3H231.4C230.276 260.06 228.956 260.477 227.6 260.5C226.733 260.5 225.833 260.267 224.9 259.8C224.346 259.445 223.925 258.918 223.7 258.3C223.3 257.367 223.033 256.333 222.9 255.2C222.746 254.149 222.408 253.133 221.9 252.2C221.233 251.267 220.233 250.4 218.9 249.6C218.267 249.086 217.746 248.449 217.368 247.727C216.989 247.004 216.762 246.213 216.7 245.4V244.8C216.747 243.551 217.053 242.324 217.6 241.2C218.133 240.133 218.433 239.2 218.5 238.4V238C218.233 237.4 217.833 236.9 217.3 236.5L216.3 235.9L215.5 235.6V235.9L216.2 236.1L217.2 236.8C217.733 237.2 218.067 237.633 218.2 238.1V238.4C218.2 239.067 217.9 239.967 217.3 241.1C216.74 242.255 216.433 243.517 216.4 244.8C216.368 245.765 216.57 246.724 216.988 247.594C217.405 248.464 218.027 249.221 218.8 249.8C220 250.8 221.2 251.4 221.8 252.4C222.267 253.467 222.6 254.8 222.8 256.4L223.4 258.4C223.667 259.067 224.133 259.6 224.8 260C225.653 260.493 226.615 260.767 227.6 260.8C229.9 260.8 231.6 259.5 231.6 259.5L231.5 259.3Z",fill:"#78732E"}),g.jsx("path",{d:"M229.7 255.4L228.7 255.6C228.172 255.593 227.669 255.377 227.3 255C226.767 254.467 226.467 253.867 226.4 253.2C226.333 252.533 226.1 251.633 225.7 250.5C225.033 249.433 224.067 248.467 222.8 247.6C221.8 246.7 220.7 245.8 220.5 244.9V244.4C220.5 243.6 220.7 242.733 221.1 241.8C221.5 240.867 221.767 239.8 221.9 238.6V238C221.7 236.4 220.4 235.2 219.3 234.4L217 233.3V233.5H217.1C217.5 233.7 218.6 234.2 219.6 235C220.667 235.667 221.333 236.667 221.6 238V238.6C221.6 239.8 221.367 240.833 220.9 241.7C220.433 242.567 220.2 243.467 220.2 244.4V244.9C220.667 245.967 221.5 246.933 222.7 247.8C223.8 248.7 225 249.6 225.4 250.6C225.8 251.733 226.033 252.6 226.1 253.2C226.236 253.948 226.583 254.642 227.1 255.2C227.7 255.667 228.233 255.9 228.7 255.9L229.9 255.6L229.7 255.4Z",fill:"#78732E"}),g.jsx("path",{d:"M237 249.3C237 249.3 238.5 249.6 238.4 250.7C238.4 251.9 237.8 253.4 237.8 253.4L235.8 251.7L236.9 250.7L237.3 250.2L237.1 249.2L237 249.3Z",fill:"#A8AC71"}),g.jsx("path",{d:"M213.1 235.6C213.1 235.6 211.7 236.1 211.4 235.5C211.267 234.9 211.233 234.5 211.3 234.3C211.3 234.2 210.4 234.1 210.5 233.3C210.6 232.5 211.5 232.6 211.8 232.6C212 232.6 212.1 231.4 212.8 231.4C213.5 231.4 213.8 232.3 213.8 232.3L213.1 235.6Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M214.6 236C214.6 236 213.5 236.6 213.1 236C212.7 235.4 213.1 234.7 213 234.6C212.8 234.5 212.1 234.2 212.3 233.6C212.3 232.8 213.1 233.1 213.3 232.9C213.6 232.8 213.8 231.8 214.6 231.9C215.3 232.1 215.4 232.7 215.4 232.7L214.6 236Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M216.6 236.3C216.6 236.3 216.3 237 215.4 236.8C214.5 236.6 214.9 235.5 214.7 235.3C214.5 235.1 214 234.9 214.1 234.1C214.2 233.3 215 233.5 215.3 233.4C215.6 233.3 215.8 232.1 216.3 232.3C216.8 232.5 217.5 233.1 217.3 233.4C217.3 233.4 216.2 233.8 216 234.6C215.8 235.4 216.6 236.3 216.6 236.3Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M235 249L233.2 246.9L231.4 244.7L229.6 243.8L228.4 241.9V239.7L228.8 238.4L229.5 237.4C229.5 237.4 225.8 238.8 227.7 245.9C228.5 248.9 230.5 249.3 230.5 249.3L233.9 249.1L234.9 249H235Z",fill:"#AF7029"}),g.jsx("path",{d:"M233.3 225.4C233.633 225.4 233.833 225.467 233.9 225.6L234 226.2V226.4L234.1 226.5C232.8 229.2 230.2 230.5 227.9 232.1C226.705 232.925 225.685 233.979 224.9 235.2C223.912 236.86 223.425 238.77 223.5 240.7C223.6 244.7 225.1 247 226.8 248.1C228.051 248.917 229.506 249.367 231 249.4H231.3L232.5 249.3L234.9 249.1L236.3 249.2C236.7 249.2 236.933 249.3 237 249.5L237.2 249.9C237.2 250.233 237.033 250.567 236.7 250.9L236 251.4V251.7L236.9 251.1C237.233 250.767 237.4 250.367 237.4 249.9L237.2 249.4C237 249.2 236.7 249.067 236.3 249L234.9 248.9L231.3 249.1H231.1C230.4 249.1 228.6 249.1 227 247.9C225.4 246.9 223.9 244.7 223.8 240.7V240.4C223.8 238.267 224.2 236.6 225 235.4C226.2 233.4 228 232.4 229.8 231.1C231.6 229.8 233.3 228.7 234.2 226.6C235.1 224.5 234.2 226.4 234.2 226.2L234.1 225.5C233.966 225.3 233.7 225.167 233.3 225.1V225.4Z",fill:"#816C2A"}),g.jsx("path",{d:"M238.3 250.1C238.3 250.1 237.3 251.7 237.1 251.8C236.9 251.9 237.9 252 238.1 252.4L237.9 252.8C237.9 252.8 236.9 252.1 236.4 252.1L236.3 251.5C236.3 251.5 236.8 251.3 237.2 250.9C237.5 250.6 237.9 249.8 237.9 249.6L238.3 250.1Z",fill:"white"}),g.jsx("path",{d:"M241.7 251.2L239.5 251.8L238.4 251.1C238.4 251.1 238.4 250.2 238 249.8C237.534 249.467 237.1 249.233 236.7 249.1C236.3 248.9 234.7 248.9 234.7 248.9L230.7 244.6L232.2 244.8L234.6 244.5L236.7 244.3L237.9 244.5L239.1 244.8L239.7 245.4L240.4 246L241.1 247L241.5 248.3L241.7 249.6V251.2Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M241.8 251C241.8 251 241 251.3 240 251.3C239 251.3 238.4 251.1 238.4 251.1L238.2 251.8L237.8 252.8V255.4L239.9 255.8L241 255.4L241.6 252.6L241.7 251.1L241.8 251Z",fill:"#AF7029"}),g.jsx("path",{d:"M241.2 250V251H241.7V250.2L241.2 250ZM239.2 226L239 224.3L238.3 223.1L237.4 221.9L236.5 220.9L236 220.4L235.8 220.1L233.5 220.2L232.3 221.6C232.3 221.6 235.3 223.8 236.6 226.2C237.666 226.6 238.4 227.067 238.8 227.6L238.9 227.4L239.2 226Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M237 228C237 229.667 236.8 230.667 236.4 231L237.8 229.4L238.8 227.6C238.179 226.978 237.428 226.5 236.6 226.2C236.867 226.8 237 227.4 237 228Z",fill:"#AF7029"}),g.jsx("path",{d:"M240.2 254.3L239.1 253L238.1 252.3L237.9 252.5H238L239 253.2L240 254.5L240.2 254.3Z",fill:"#816C2A"}),g.jsx("path",{d:"M241.6 252.4C241.6 252.4 241.4 253.2 240.6 253.9C239.8 254.6 238.8 255 238.8 255L241 255.9L242.5 254.5L241.5 252.4H241.6Z",fill:"#6F5B24"}),g.jsx("path",{d:"M241.9 254.3L241.7 254.5L241.3 254.9L241 255.3L241.6 252.9L242 253.6V254L241.9 254.3Z",fill:"#404118"}),g.jsx("path",{d:"M228.6 223.4C228.6 223.4 225.6 223.7 223.4 223.4C221.4 223 221.8 217.5 221.7 217.4C221.7 217.2 220.4 215.9 220.7 214.7C220.9 213.5 224.7 210.3 225.3 210.1C225.7 210 226.5 210.3 226.5 210.3C226.5 210.3 227.5 209.3 227.8 209.3C228.1 209.3 228.5 209.9 228.4 210.1C228.2 210.4 226.9 211.1 226.8 211.8C226.8 212.4 226.667 213 226.4 213.6C226 214.2 225.3 215 225.2 215.5C225 216.1 225 216.467 225.2 216.6C225.6 216.8 226.9 216.6 228 216.1L229.7 215.1C229.9 215.1 229.1 216.4 227.9 216.9C226.7 217.4 225.9 218 225.2 217.9C225.2 217.9 224.6 219.5 226.6 219.6C228.7 219.7 229.9 219.2 229.9 219.2L228.6 223.4Z",stroke:"#78732E",strokeWidth:"0.2"}),g.jsx("path",{d:"M255 200.5C255 200.5 249.3 199.5 249.4 204.1C249.4 205.433 249.9 206.2 250.9 206.4C252.1 206.7 254.5 206.9 256.5 208.7C258.5 210.5 258.7 211.8 258.7 212.9C258.7 213.9 258.2 214.9 258.2 214.9L259.5 221.1L260.7 225.7L264.5 223.5L266.8 216.7L263.9 204.5L255 200.5Z",fill:"#AB6D29",stroke:"#4D2A15",strokeWidth:"0.3"}),g.jsx("path",{d:"M260.5 224C260.5 224 262.5 223.2 263 221.6C263 221.2 261 219.3 261 219.3L262.5 220.3C263.1 220.833 263.434 221.033 263.5 220.9C263.8 220.9 264.7 218.8 264.3 218.3C263.9 217.8 263.4 216.8 262.6 216.3C261.8 215.8 260.7 215.8 260.7 215.8C260.7 215.8 262.2 215.3 263 215.8C263.7 216.1 263.8 216.6 263.9 216.4C263.905 215.379 263.736 214.364 263.4 213.4C263.134 212.733 262.6 212.367 261.8 212.3C260.8 212.1 259.9 212.2 259.9 212.2C259.9 212.2 261.2 211.4 262.2 211.7C263.2 211.9 263.2 212.4 263.2 212.3L262.5 210C262.056 209.376 261.474 208.863 260.8 208.5L259.4 208.3H258.9C258.9 208.3 259.6 207.8 260.6 207.9C261.6 208 261.6 208.3 261.7 208.3C261.9 208.3 261.667 208.1 261 207.7L257.6 206.1H255.1C255.1 206.1 255.1 205.4 255.8 205.3C256.467 205.3 256.767 205.267 256.7 205.2C256.7 205 254.5 204.5 254.5 204.5H252.8L250.4 204.8L250.9 204.1C251.3 203.833 251.667 203.667 252 203.6C252.9 203.4 251.6 202.7 251.6 202.7L252.2 201.7L255.4 201.9L261.9 205.8L265 208.4L267 213.4L266.4 222L262 225.6L260 225.8L260.5 224Z",fill:"#4D2A15"}),g.jsx("path",{d:"M254.8 202.7C254.8 202.7 254.6 202.1 254.6 201.3V200.6C254.6 200.6 252.6 200.3 251.1 201.5C249.5 202.7 250.4 204.8 250.4 204.8C250.4 204.8 251.1 204.2 251.9 203.8C252.8 203.5 254.3 203.6 254.3 203.6C254.5 203.4 254 202.8 253.4 202.7L251.7 202.6C251.7 202.6 252.4 202.1 253.5 202.2C254.5 202.4 254.933 202.567 254.8 202.7Z",fill:"#D2A567"}),g.jsx("path",{d:"M261.3 224.7L259.9 225.2L260.8 231.2L266.5 240.9L269.5 240.4L270.5 238.6L271.2 238.9C271.6 239.3 272.7 241.2 273.6 241.6C274.6 241.9 275 241.8 275.9 242.5C276.8 243.2 279.8 247.7 279.9 247.8C280.1 248 279.7 245.9 279.7 245.9L278.8 243.2L277.7 241.3L277.5 240.8H279L280 241.4L281.5 242.7L282.3 243.6L282.7 244.6L282.9 245.4L283.3 246.7L284.1 248.4L285.1 250.1L285.4 249.5L284.9 247.5L283.4 242.6L282.4 241L284 242C284.4 242 285.5 243.8 285.5 243.8L286.2 245.5L286.7 247.1L287.1 248.5L287.6 250L288.5 249.5L288.3 248.4L287.5 245L287.2 241.4C287.2 241.4 287.6 241.4 288.2 242C288.8 242.6 289.2 243.9 289.2 243.9L289.5 247.1L290 250.1L291 253.1L292 255.1L292.7 256.1V254.6L291.5 241.8L291.6 241.3C291.6 241.3 291.8 241.2 292.2 241.8L293.1 243.3L293.4 245.3L293.6 246.7L293.9 249.3L294.2 252.1L295.5 255.1L296.2 256.8L296.6 254.8L296 241.2L296.3 240.8L297.3 241.8L297.9 242.6L298.4 245.6L298.7 254.3L299 256.5L301.6 233.9L303.1 233.6L303.3 233.1L302.2 232.3L299.6 228.3L297.9 224.4L294.9 218.8L289.6 212.4L285.5 209L284 208L284.2 207.1L285.1 205.7H284.3L282.5 206L280.7 205.4L277.2 203L273.5 201.2L271.3 200.4L266 199.1L260.7 198.4H258.4L256.2 198.7C256.2 198.7 255.2 199.2 254.8 199.9C254.466 200.367 254.366 201.067 254.5 202C254.5 202.867 255.233 203.567 256.7 204.1C258.2 204.7 261.7 207.1 261.7 207.1L263.3 208.7L263.9 209.5L264 210.1L265.2 219.1L262.9 223.9L261.3 224.7Z",fill:"#8F4620"}),g.jsx("path",{d:"M267 238.6C267 238.6 268 240.2 269.3 238.9C270.7 237.7 268.7 234.1 268.8 233.9C268.9 233.7 269.4 233.6 269.4 233.6L270.4 235.5C270.4 235.5 271 236.5 270.7 238C270.5 239.6 269 241 269 241L267.3 240.5L267 238.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M300.2 259.4L299 255.8L298.6 253L298.3 245.5C298.2 244.5 298.3 243.2 298.1 243L296.8 241.2L296.3 240.7L296.6 240.4C296.6 240.4 297.1 240.9 297.2 240.7C297.334 240.367 297.167 239.167 296.7 237.1C296 234 293.7 230.4 293.7 230.4L293.9 230.7L294.6 231.4L296.1 232.6L299.4 233.8L301.1 234.1L302.3 236.4C302.3 236.4 303.1 240.3 303 242.3C303 244.3 302.9 245.9 302.1 247.9C301.3 249.9 301.1 256.1 301.1 257.1L300.6 259.1L300.2 259.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M300.2 249C300.2 249 300.9 248.1 301.2 247C301.5 246 301.6 237.1 300.6 236C299.658 235.146 298.527 234.529 297.3 234.2L298.1 237.1L298.8 238.1L299.3 239.6C299.3 240.3 300 242.1 300.1 244.4L300.2 249Z",fill:"#8F4620"}),g.jsx("path",{d:"M295.4 254.4C295.4 254.4 295.9 250.3 295.7 247.3C295.5 244.3 295.2 243.9 294.9 243.3C294.062 241.707 293.392 240.031 292.9 238.3C292.234 235.633 291.7 233.967 291.3 233.3C290.8 232.8 289.9 231.7 289.7 232C289.5 232.3 289.5 232.9 289.5 232.9L288.2 232.6L287.9 231.8L288.3 230.5V229.9L288.1 229L289.7 230.3L293 232.5L294.7 239.5L296.2 243.7L296.4 250.9L296.3 257.3L295.4 254.4ZM297.4 234.7L298.7 235.7C299.2 236.1 300.2 236.7 300 236.7L298.4 236.1L297.4 235.4V234.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M291 252.8C291 252.8 291.6 251.4 291.5 249.5C291.4 247.6 290.5 243.2 290.2 242.7C289.9 242.2 288.6 241.3 287.5 238.7C286.3 236.3 286.4 235.7 285.6 234.9L284 232.9L284.3 230.2L287.1 231.7L288.4 232.3L289.8 239.3L291.1 241.3L291.7 244L292.4 250.5L292.7 255.7L292.5 256.2L291 252.8ZM287.6 249.8C287.6 249.8 287.6 247.8 287.2 246C286.733 244.067 286.233 242.8 285.7 242.2C284.479 240.972 283.374 239.633 282.4 238.2L279.3 234.2V231.5L281 232.7L282.8 233.7L283.6 236.7L284.6 238.8L286 240.8L287 241.6L287.5 244.8L287.8 246.6L288.6 249.2L288.3 250.5L287.6 249.8ZM285.2 249.8L284.4 249.1C284.4 249.1 284.9 248.6 284.7 247.6L283.7 244.6C283.1 243.1 283.1 243 282.8 242.7L279.3 239.5L276.3 236.9C275.433 236.433 274.967 236.233 274.9 236.3L274.5 233.1C274.5 233.1 275.5 234.5 276.2 234.7L277.8 235.3L280.1 239.3L280.9 240.3L282.9 242L283.8 243.7L284.4 245.7L285.2 248.4L285.4 250.1L285.2 249.8ZM280.8 249C280.8 249 279.5 247.5 279.2 246.5C279 245.5 279.4 245.5 279 244.4C278.313 242.943 277.283 241.674 276 240.7C274.9 239.7 273.3 238.4 273.4 237.7C273.467 237.033 273.567 236.767 273.7 236.9L274.4 237.5L277.9 241.3L279 243.3L279.9 245.8L280.4 246.9L280.9 248.4L280.8 249ZM293.6 230.4C293.6 230.4 296.1 233.4 296.7 230.6C297 229.4 295.9 227 295.9 227L292.9 222L288.2 216.2L285.4 214.9L286.4 216.5C286.4 216.5 288.4 218.5 291.1 223.2C293.8 227.8 293.2 230.2 293.2 230.2L293.6 230.4ZM279.4 212C279.4 212 284.3 216.2 287.4 220.7C290.5 225.2 291.8 228.2 291.1 228.7C290.4 229.4 288.4 228.4 287.6 227.2C286.8 225.9 286.1 223.7 283.2 220.3C280.3 216.9 278.8 216.4 278.8 216.4L276.6 213L279.4 212ZM276.8 222C276.8 222 279.8 224.4 281.5 226.3L284.3 229.7L285.4 230.8C285.4 230.8 284.8 229.6 285.2 229.2C285.6 228.8 286 229 286 229L276.8 219.3V222ZM276.2 222.2C276.2 222.2 277.2 224 278.7 225.5L281.9 228.6L282.6 231C282.6 231 278.4 227.8 278.4 228.6C278.581 229.455 278.92 230.269 279.4 231L278.1 230.3L276.3 227.8L275.3 225.5L274.1 222.5L276.2 222.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M263.6 232.2C263.6 232.2 265.8 234.2 267 232.2C268.2 230.3 267.2 228.2 267.2 228.2C267.2 228.2 270.3 232.7 271.2 228.4C271.3 227.6 269.3 224.7 269.3 224.7L270 224L271.6 226.6C271.6 226.6 273.1 226 273.1 224.2C273.1 222.4 271.5 220 271.5 220L273 221.6C273 221.6 275.8 221.6 275.9 219.9C275.9 218.2 273.5 216.4 273.5 216.4C273.5 216.4 275.5 216.5 275.5 215.4C275.4 214.2 272.8 213.4 272.7 212.7C272.6 212 273.5 210.8 274.7 211.5C275.9 212.2 277.5 212.7 278.2 211.4C278.9 210.1 278.2 209.8 278.2 209.8L276.5 209.4L273.7 208L271.6 207.2L269.4 206.9L270.2 208.6L270.8 213.1V215.2L271.2 219.8L270.2 223.6L269.5 224.3L269.1 224.8L268.1 226.8L266.9 228.3L265.2 230.5L263.6 232.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M279 240.7C279 240.7 278.5 239.4 277.3 238.4C276.1 237.4 274.3 237.4 274.3 237.4L277.5 240.8L279 240.7ZM283.5 241.5C283.5 241.5 282.5 239.5 281.3 238.2C280.1 236.9 279.3 235.2 278.9 235.2L278.4 235.3L278.7 237.9L280.9 240.1C280.9 240.1 282.9 241.6 283.5 241.5ZM287.2 241.3C287.2 241.3 286.7 238.9 285.5 236.6C284.3 234.3 282.9 233.3 282.9 233.3L283.2 235.8L284.2 238.2L285.9 240.6L287.2 241.3ZM290.2 240C290.2 240 291.1 235 290.3 233.7C289.793 232.888 289.013 232.285 288.1 232L287.6 232.7L288.1 236.3L289.2 239L290.2 240ZM293.2 231.7C293.2 231.7 293.9 232.1 294.8 233.7C295.7 235.3 296.9 240.4 296.9 240.7C296.9 241 296.4 240.8 296.3 240.7L293.3 236L292.7 231.7H293.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M272.3 237.5C272.3 237.5 273.9 237.1 273.9 236.5C273.9 235.9 271.9 234.9 272.1 234C272.2 233.6 273.7 234.1 273.8 233.8C274 233.5 272.3 230.8 272.8 230.2C273.3 229.6 274.8 233.1 274.8 233.1C274.8 233.1 275.6 234.7 275.3 235.6C274.3 238.6 272.3 237.5 272.3 237.5ZM276 233.9C276 233.7 278.5 234.2 278.5 234C278.6 233.5 276.3 231.7 276.3 231.7C276.3 231.7 275.8 230.7 276 230.6C276.1 230.4 277.6 230.7 277.7 230.6C277.7 230.3 276 228 276 227.6C276 227.2 276.5 227.6 276.5 227.6C276.5 227.6 277.8 229 278.5 230.1C279.3 231.3 280 232.2 279.7 234.1C279.5 236.1 275.7 234.5 276 233.9ZM287 230.3C287 230.3 286.5 228.6 286.8 228.4L287.6 228C287.6 228 286.3 227.2 285.7 227.2C285.167 227.067 284.9 227.067 284.9 227.2C284.7 227.5 285.9 229.2 285.9 229.2L287 230.3Z",fill:"#D2A567"}),g.jsx("path",{d:"M279.6 231.5C279.6 231.5 283.3 232.5 283.4 232.2C283.6 231.9 280.4 229 280.4 229V228.3C280.4 228.1 281.7 228.1 282.1 228.4C282.5 228.7 282.1 229.4 282.1 229.6C282.3 229.8 283.5 231.6 283.7 231.3C283.9 231 283.5 228.8 283.6 228.7C283.6 228.5 285 229.9 285.3 230.2C285.7 230.4 287.8 232 288 231.2C288.2 230.5 288.3 230.4 288.3 229.9C288.2 229.5 288.9 232 288 232.3C287 232.7 285.9 232 285.9 232L285 231.3L284.5 230.8C284.5 230.8 285.1 232.8 284.5 233C283.9 233.2 283 233.1 283 233.1L281.5 232.9L279.5 231.5H279.6ZM288.1 229C288.1 229 292.1 231.4 292.4 231C292.8 230.5 291.4 225 291.6 224.4C291.8 223.8 294.8 230.7 293.4 231.6C292.2 232.3 291.7 231.8 291.7 231.8L289.7 230.8L288.1 229ZM299.1 239L300 239.4L300.5 239.6L299.4 239.8L299.1 239ZM295.3 225.9L295.9 226.2L296.4 226.4L295.9 226.6L295.6 226.5L295.3 225.9ZM294.1 223.9C294.1 223.9 294.5 224.1 295.1 223.8C295.7 223.5 295.6 223.1 295.6 223L294.4 222.6L294.2 222.1H293L294.1 223.9ZM297.6 235.5L299.2 236.2C299.5 236.2 300.1 236.6 300 236.7C299.9 236.8 299 236.9 298.6 236.7L298 236.5L297.6 235.5ZM291.1 217.4H292.1C292.3 217.6 292.1 218.4 291.8 218.7L291 219.1L289.7 217.3L291.1 217.4ZM285.4 212.4L286.6 212.3C287.067 212.367 287.467 212.533 287.8 212.8C288.2 213 288.5 215.4 288.3 215.8C288.1 216.3 285.5 214.3 285.4 214.1C285.4 213.9 284.2 212.1 284.2 212.1L285.4 212.4ZM282.9 211.2C282.9 211.2 284.9 211.4 284.7 210.2C284.612 209.465 284.256 208.788 283.7 208.3L281.3 210L282.9 211.2ZM277.7 209C277.7 209 278.2 209.2 278.8 209C279.4 208.8 280.9 206.8 282 206.6C283 206.333 283.533 206.333 283.6 206.6C283.8 206.8 283.6 208 283.4 208.3C283.2 208.6 279.9 210 279.9 210L278.7 209.8L277.7 209.5V209ZM277.1 205.4C276.6 204.2 275.7 203.8 275.4 203.8C275.1 203.9 276.5 205.1 276.7 206.6L276.9 209.4H277.6V208.9L277.8 208.4V208L277.7 207.2L277.5 206.6L277.4 206.1L277.1 205.4ZM272.5 203.7C271.276 202.383 269.773 201.358 268.1 200.7C267.9 200.7 271.3 202.7 272.1 204.1C272.8 205.3 272.8 207.1 273.1 207.3C273.4 207.5 273.8 207.3 273.8 207.2C273.933 207.067 274 206.9 274 206.7L273.8 205.8L273.3 205L273 204.4L272.5 203.7ZM268.1 201.9C265.782 200.206 262.969 199.327 260.1 199.4C257.2 199.4 255.8 199.6 256.2 201.2C256.6 202.667 257.933 203.367 260.2 203.3C262.6 203.3 263.2 203.1 264.4 203.5C265.733 203.967 266.7 204.5 267.3 205.1C267.7 205.5 266.3 203.9 265.2 203.1L263.2 201.6C263.2 201.6 263 201.1 264.6 201.4C266.2 201.7 268.4 202.6 268.9 204C269.5 205.3 269.4 206 269.4 206.4C269.4 206.6 270 206.2 270 206.2L270.2 205.5C270.2 205.5 270.3 205 270 204.5C269.7 203.8 269.6 203.6 268.9 202.8L268.1 201.9ZM260.4 224.7C261.6 224.7 264.2 222.5 264.6 219.3C264.587 215.836 263.908 212.407 262.6 209.2C262.1 208.5 263.3 208.9 264 209.5C264.7 210.1 266 214.7 266 218C266 221.3 265.2 222.3 263.5 224C261.7 225.6 260.3 225.5 260.3 225.5L260.4 224.7ZM264.5 234C264.5 234 265.1 234.7 265.7 234.5C266.9 234 268.8 233.1 268.8 231.5C268.8 230.3 267.4 229.3 267.3 228.9V228.1L268.6 228.4L268.9 230.2C268.9 230.2 269.4 230.7 269.9 230.5C270.4 230.3 271.9 229.2 271.8 228.1C271.7 227 270.1 225.8 270 225.3V224.3L271.2 224.5L271.6 226C271.6 226 271.9 226.6 272.6 226.4C273.3 226.2 274.6 225 274.3 224.4L273 222.3V221.6L273.5 221.9C273.5 221.9 273.9 222.1 274.9 221.8C275.9 221.5 276.7 220.8 276.7 220.2C276.7 219.6 276 219 275.9 218.6V218.1L276.5 218.2L277.3 219.2L277.5 220.2L277.2 221.2L276.1 222.5L274.9 222.9H274.6L275.3 224.1L275.1 225.7L274.1 226.7L272.7 227.4V228.9L271.9 230.5L270.2 231.5H269.7L269.5 232.5L268.5 234L266.5 235.3L265.2 235.5L264.4 234.4L264.5 234Z",fill:"#D2A567"}),g.jsx("path",{d:"M274.7 217.1C274.7 217.1 277.8 218.1 277.7 216.1C277.7 214.9 274.7 212.4 274.5 212C274.366 211.4 274.333 211.067 274.4 211L275.9 212.4C275.9 212.4 277.9 212.9 278.5 211.7C279 210.6 278.5 209.9 278.5 209.8H278.9L279.9 209.9L279.7 211.7L278.7 216.1C278.7 216.1 279 217.8 277.7 218C276.3 218 274.7 217.1 274.7 217.1ZM277.7 240.7C277.7 240.7 277.7 239.8 277 239.2C276.3 238.6 275 238 274.8 237.8L277 240.6L277.7 240.7ZM282.2 240.8L280.2 238.3C280 237.6 279.2 236.2 278.5 236.1C277.9 236.1 279.1 238.5 279.1 238.5L281.6 240.8H282.2ZM286.5 240.8L284.8 237.5C284.5 236.8 283.8 234.8 283 234.2C282.2 233.6 283 235.2 283 235.2L284 237.8L285.4 240.1L286.4 240.8H286.5ZM289.6 239C289.6 239 289.5 236.8 289.2 235.3C288.997 234.264 288.472 233.319 287.7 232.6L287.8 235.3L289.6 239ZM296.1 240.6L294.6 236.8L292.9 233.5L293.2 235.8L294.6 239.6L296.1 240.6ZM301.7 233.8C301.7 233.8 300.7 232.8 298.6 231.9C297.218 231.391 295.769 231.087 294.3 231L294.5 231.3L295.5 232.1L297.7 233.3L300.7 234L301.7 233.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M278.6 235C278.6 235 278.6 237 279.6 238.1L283.3 241.8C283.7 242.2 284.1 244.5 284.8 246.4L285.9 250.4C286.2 251 286.8 251.9 286.4 251.8C285.866 251.733 285.466 251.3 285.2 250.5C284.9 249.8 285 249.8 285.1 248.8C285.1 247.8 283.6 242.9 282.9 242.4C282.2 241.9 279 239.2 277.8 237.4C276.6 235.5 276.8 235.1 276.8 235.1L278.6 235Z",fill:"#202020"}),g.jsx("path",{d:"M283.7 247.5C283.1 246.033 282.767 244.867 282.7 244C281.779 242.639 280.588 241.482 279.2 240.6C278.7 240.4 277.7 240.7 277.2 240.4L274.3 237.2C274.3 237.2 274 237.6 274.1 237.7C274.2 237.8 276.8 240.7 277.8 241.5C278.8 242.5 279.3 244.5 280 246.1C280.6 247.7 280.4 247.3 280.4 248.1C280.6 248.9 280.934 249.3 281.4 249.3C282.067 249.3 282.234 249.2 281.9 249C281.147 248.194 280.568 247.241 280.2 246.2C279.6 244.8 279 242.2 278.2 241.3L277.9 241.1L278.9 241C279.6 241 282.3 243.4 282.5 244.1C282.7 244.8 282.5 245.1 283.5 247.5C284.7 249.9 285.2 250.5 285.2 250.5H285.4L283.7 247.5ZM279.6 231.5L282 232.9L283 233.1C283 233.1 283.3 236.6 284.7 238.6C286.1 240.6 287.3 241.3 287.3 241.3C287.3 241.3 287.3 245.1 288.3 247.7C289.114 249.695 289.456 251.851 289.3 254C289.1 254.5 288.3 252.5 287.7 250.7L286.2 245.7C285.791 244.374 285.11 243.148 284.2 242.1C283.5 241.6 284 241.7 284.4 242.1C285.323 243.1 286.007 244.297 286.4 245.6C287 247.6 287.3 249.6 287.6 249.6C288 249.6 288.2 249.367 288.2 248.9L287.5 245.6C287.1 243.6 286.767 242.367 286.5 241.9C286.2 241.3 285.7 241.3 284.5 239.1C283.633 237.805 282.959 236.39 282.5 234.9V233.9C282.2 233.7 282.1 233.9 281.1 233.4C280.1 232.9 279.6 231.5 279.6 231.5Z",fill:"#202020"}),g.jsx("path",{d:"M284.5 230.8C284.5 230.8 285.7 231.8 286.4 232C287 232.3 288 232.3 288 232.3C288 232.3 287.7 235.7 289 237.8C290.3 240 291.7 241.2 291.7 241.2C291.7 241.2 291.9 242 292.3 246.7L292.9 253.3C292.9 255.1 293 261.7 292.8 261.5C291.8 260.7 292.6 257.2 292.1 255.7C291.6 254.2 290.8 254 289.8 249.7C288.8 245.7 289.5 244.7 288.8 243.1C288.1 241.5 287.2 241.4 287.2 241.4C287.2 241.4 288.5 241.6 289 243C289.5 244.3 289.6 247.8 290 249.5C291 253.5 292.4 255.5 292.4 255.5C292.4 255.5 292.1 250.5 291.7 247.7C291.3 244.9 291.4 242.6 290.8 241.5C290.3 240.5 289.2 239.5 288.5 238.2C287.8 236.7 287.6 233.9 287.3 233.2C287 232.5 286.8 232.7 286.3 232.5C284.8 231.9 284.5 230.8 284.5 230.8Z",fill:"#202020"}),g.jsx("path",{d:"M288 229C288 229 289.1 230.2 290.6 231C292 231.9 292.8 231.6 293 231.8C293.2 232 292.7 234.9 294.2 237.6C295.7 240.4 296.2 240.4 296.3 240.8L296.8 251.8C297 254.6 297.2 263.8 296.1 263.8C295 263.8 296 257 295.4 255.4L294.4 253C293.9 251.7 293.8 246.8 293 243.8C292.3 241.6 291.7 241.2 291.7 241.2C291.7 241.2 292.7 241.8 293.3 243.7C293.8 245.5 293.9 251.7 294.5 252.6C295.233 253.733 295.767 254.733 296.1 255.6C296.3 256.6 296.1 244.1 295.7 243.3C295.5 242.5 293 238 292.7 235.5C292.6 233 292.5 232.7 292.3 232.5C292.1 232.3 291.3 232.5 290.1 231.4C288.9 230.3 288.1 229 288.1 229H288Z",fill:"#202020"}),g.jsx("path",{d:"M293.8 230.4C293.8 230.2 294.6 231.8 296.8 232.7C299 233.6 301.3 233.4 301.6 233.7C302.788 236.231 303.37 239.005 303.3 241.8C303.3 246.3 302.5 245.9 301.8 249.8C301.1 253.7 301.1 261.6 300.7 262.8C300.5 263.3 300.2 263.5 300 264.3C299.7 265 300.2 266.5 299.5 266.5C298.8 266.5 298.7 265.4 298.7 264.8C298.7 264.2 299.4 262 299.4 259.8C299.4 257.6 299 257.4 298.6 254.8C298.3 252.3 298.3 244.1 298 243.3C297.7 242.5 296.3 240.8 296.3 240.8C296.3 240.8 297.8 241.8 298.2 242.8C298.6 244 298.6 253.1 299 254.9C299.4 256.8 299.3 254.5 299.4 253.4C299.6 252.4 300.1 247.9 300.1 245.5C300 243.1 299 237.9 298.1 237.1L299.1 238.7L299.7 239.2L300.5 239.6L299.7 239.4L299.2 239.1C299.897 241.16 300.236 243.325 300.2 245.5C300.3 249.5 299.7 258.5 300.3 258.7C301 258.7 300.8 253.7 301.5 249.7C302.2 245.7 303.1 245.1 302.8 241.7C302.5 238.5 301.6 234.9 300.9 234.4C300.2 233.9 298.3 234.1 296.5 233C294.7 231.9 293.7 230.7 293.8 230.4ZM265.2 235C265.2 235 265.8 235.3 266.6 235C267.3 234.6 269.3 233 269.3 232.3V231C269.3 231 269.3 231.3 270 231.4C270.5 231.4 272.2 230.2 272.3 229.4V227C272 226.8 272.7 227.3 273.1 227C273.4 226.7 275 225.7 275 224.6C275 223.5 274 222.6 274 222.6H275.3C275.8 222.5 277.3 221.6 277.3 220.6C277.3 219.6 276.7 218.2 275.5 218.1C275.5 218.1 276.4 218.3 277.3 218.1C278.167 217.7 278.567 217.033 278.5 216.1C278.4 214.7 276.7 213.1 276.4 212.9C276.1 212.7 278.3 213.5 278.9 212.6C279.367 211.667 279.5 211 279.3 210.6C279.2 210.1 278.7 209.9 278.7 209.9C278.7 209.9 279.7 210.2 281 209.5C282.3 208.8 283.4 208 284 208C284.6 208 282.1 209.4 282 210.1C282 210.367 282.6 210.933 283.8 211.8L284 211.9C284.5 212.2 286.5 212.3 286.6 212.4C286.7 212.5 284.7 212.4 284.9 212.6C286.596 213.849 288.14 215.292 289.5 216.9C289.5 216.9 289.8 217.2 290.2 217.3L291.2 217.5H290L292.6 221.3C292.6 221.3 293 221.8 293.3 221.9L294.3 222.1C294.3 222.3 293.1 222.1 293.3 222.3L295.9 227.1C295.9 227.1 293.4 222.8 290.4 219.5C287.4 216.1 286.8 215.7 286.6 216C286.4 216.3 288.8 219.3 290.1 221.3C291.4 223.4 292.5 226 292.5 226C292.5 226 289.5 219.8 285.3 216C281.1 212.1 280.7 211.5 280.3 211.7C279.7 211.8 279.3 214.7 279.7 215.2C280 215.8 283 218.2 285.7 221.2C288.3 224.2 291.6 229.6 291.6 229.6C291.6 229.6 289.2 225.8 285.2 221.6C281.2 217.4 279.7 216.3 279.4 216.3C279.1 216.3 279 217.1 278.6 217.8C278.2 218.5 277.1 218.3 277.1 218.6C277.1 218.9 280.5 222 281.1 222.4C281.7 222.8 282.2 222.6 282.7 222.9L283.8 223.6L282.6 223.2C282 223 281.667 223 281.6 223.2C281.5 223.5 284.3 226.7 284.8 226.9L286.1 227.3C286.7 227.5 287.6 228.1 287.6 228.1L286 227.4C285.334 227.4 285 227.467 285 227.6C285 227.8 287.1 230.5 287 230.6C287 230.6 283.8 226.8 281.2 224.5C278.5 222.1 277.3 221.6 277.2 221.7C277.1 221.8 277.2 222.5 276.5 222.7C275.834 222.9 275.434 223.1 275.3 223.3C275.3 223.5 277.6 225.8 279.3 227.6L282.5 231.3L278.9 227.8C277.034 226.067 276.034 225.267 275.9 225.4C275.7 225.5 275.7 226.4 275.9 226.7C276 226.9 279.5 231 279.4 231.1C279.3 231.2 275.3 226.2 275 226.2C274.8 226.333 274.6 226.667 274.4 227.2C274.1 227.4 273 227.4 273 227.8C273 228.2 278.6 233.8 278.4 233.8C278.4 233.8 273.8 229.8 273.6 230.1C273.5 230.3 275.6 234.1 275.5 234.2C275.4 234.3 272.7 230.2 272.5 230.2C272.3 230.2 272.3 230.7 271.6 231.3C270.9 231.9 270.1 231.7 270.1 231.9C270.1 232.2 273.9 236.5 273.8 236.6C273.8 236.6 269.8 232.5 269.8 232.7C269.667 232.7 269.6 232.9 269.6 233.3C269.9 234.3 270.8 236.2 270.6 236.3C270.6 236.3 269.4 233.8 269.1 233.9C268.8 233.9 268.8 234.5 268.1 234.9C267.6 235.2 267.1 235.1 267.1 235.4C267.1 235.7 267.8 236.1 268.1 236.7C268.4 237.3 268.7 238.7 268.7 238.7C268.7 238.7 268.3 237.5 267.7 236.8C267.167 236.067 266.7 235.667 266.3 235.6C265.9 235.733 265.667 235.867 265.6 236L265.2 235Z",fill:"#202020"}),g.jsx("path",{d:"M301.6 233.7C301.6 233.7 302.8 233.6 303 233.3C303.2 233 302.5 233.3 301.4 232C300.2 230.8 297.4 222.3 294.1 218C288.9 211.1 284.1 208 284.1 208C284.1 208 289.8 211.3 294.3 217.9C298.9 224.5 300 229.8 301.3 231.1C302.6 232.5 303.8 232.7 303.7 233.1C303.7 233.5 303.467 233.767 303 233.9L301.3 234L301.5 233.7H301.6ZM263.2 231.8L263.4 231.9C263.7 231.9 265.3 230.4 265.2 229.9C265.067 229.9 264.634 229.633 263.9 229.1C263.3 228.5 263.2 227.6 263.2 227.6C263.2 227.6 263.7 228.6 264.2 228.9C264.734 229.233 265.2 229.333 265.6 229.2C265.8 228.9 268.1 227.2 268 226.6C267.867 226.667 267.4 226.5 266.6 226.1C265.4 225.5 265.8 224.5 265.8 224.5C265.8 224.5 266.2 225.4 266.9 225.7C267.7 225.967 268.234 225.967 268.5 225.7C268.7 225.4 270.2 223.3 270 222.7C269.867 222.767 269.4 222.633 268.6 222.3C267.9 221.8 267.5 220.6 267.5 220.6C267.5 220.6 268 221.6 268.9 221.8C269.834 221.867 270.4 221.533 270.6 220.8C270.8 220.2 271.3 217.8 270.6 217.2C270.6 217.2 269.4 217.6 268.6 217.2C267.8 216.8 267.5 215.7 267.5 215.7C267.5 215.7 268.1 216.7 269.1 216.7C270 216.9 270.4 216.4 270.5 216C270.7 215.7 270.7 214.3 270.5 213.6C270.3 212.9 269.6 212.9 269.5 211.8C269.567 211.933 269.067 212.067 268 212.2C266.4 212.4 266.2 210.9 266.2 210.9C266.2 210.9 267.2 211.8 268.1 211.7C269 211.6 269.3 210.9 269.4 210.3C269.267 209.7 269 209.1 268.6 208.5C268.4 207.9 268.3 207.2 268.2 207.3C268 207.3 267.8 207.9 266.6 207.7C265.4 207.5 265.1 206.7 265.1 206.7C265.1 206.7 266 207.3 266.6 207.3C267.334 207.3 267.734 207 267.8 206.4C267.8 206 267.5 205.1 266 203.8L263.2 201.6C263.2 201.6 265.2 202.7 266.5 203.8C267.8 204.8 268.5 205.9 268.5 205.9C268.5 205.9 269.9 206.4 270 205.9C270.267 205.5 270.167 204.833 269.7 203.9C269.3 203.2 268.1 201.9 268.1 201.9C268.1 201.9 269.3 202.9 269.9 204C270.5 205.1 270.3 205.9 270.3 206.1C270.3 206.3 273 207.4 273.6 207.1C274.067 206.633 274 205.967 273.4 205.1L272.4 203.7C272.4 203.7 273.1 204.4 273.6 205.2C274.134 206 274.334 206.567 274.2 206.9L273.7 207.6L275.5 208.6C276.4 209.1 277.4 209.6 277.5 209.3C277.7 209.033 277.767 208.433 277.7 207.5C277.6 206.7 277.1 205.4 277.1 205.4C277.1 205.4 277.7 206.6 277.8 207.5V209.5C278.1 209.7 278.8 209.8 278.8 209.8C278.8 209.8 278.2 210.2 277.1 209.8C275.9 209.5 270.9 207 270.7 207.2C270.5 207.5 273 209 274.2 210.2C275.4 211.2 275.9 212.4 275.9 212.4C275.9 212.4 275 211.6 274.1 211.1C273.2 210.6 270.6 209.3 270.4 209.5C270.3 209.7 271.4 209.9 271.5 210.1C271.6 210.3 270.7 211.1 270.7 211.5C270.7 211.9 274.5 214.5 274.4 214.7C274.2 215 273.4 215.7 273.2 215.7C273 215.7 271.2 214.2 271.2 214.4C271.2 214.7 272.2 215.6 272.2 215.8C272.2 216 271.6 216.4 271.7 216.8C271.8 217.2 273.8 218.9 273.7 219.5C273.7 220 272.7 220.5 272.9 220.9L274.1 222.5L272.6 221.4C272.3 221 271.6 220.2 271.5 220.3L270.7 222.3C270.7 222.7 271.7 223.2 271.8 224.1C271.9 225 271.7 226.1 271.6 226.1C271.6 226.1 270.3 224.4 270.1 224.4C269.767 224.333 269.5 224.5 269.3 224.9C269.1 225.3 268.3 226.6 268.5 226.9C268.5 227 269.8 227.3 269.8 228.3C269.8 229.3 269 230.2 268.9 230.2L267.3 228.2C267.1 228.2 265.5 230.1 265.5 230.2C265.5 230.5 266.5 231.3 266.4 231.6C266.2 232 265.4 231.6 264.9 231.8L263.6 232.3C263.4 232.3 263.2 231.8 263.2 231.8Z",fill:"#202020"}),g.jsx("path",{d:"M284 208C284 208 284.1 207.5 284.4 207.2C284.6 207 285.6 205.9 285.2 205.6C284.9 205.4 283.6 205.8 282.8 205.8C282 205.7 281.5 205.8 279.1 203.9C279.1 203.9 271.7 198.8 260.2 198.1C256.6 197.9 255 199.1 254.8 199.9C254.8 200 255.8 198.4 259.4 198.4C266.18 198.641 272.787 200.603 278.6 204.1C278.9 204.4 280.9 206.3 282.7 206.1C284.6 205.8 285 205.6 284.9 205.9L284.2 207.1L284 208ZM264 209.5C263.421 208.514 262.676 207.634 261.8 206.9C259.812 205.512 257.663 204.371 255.4 203.5C255.2 203.5 260.2 205.8 261.6 207.2L264 209.5Z",fill:"#202020"}),g.jsx("path",{d:"M264 217.8C264 217.8 263.6 217.3 262.6 216.6L260.6 215.7L263 216.3C263.6 216.9 264 217.8 264 217.8ZM263.3 213.5C263.3 213.5 263 213 261.6 212.5C260.334 212.167 259.767 212.067 259.9 212.2C260.1 212.4 261.2 211.6 262.2 212.2C262.487 212.31 262.744 212.485 262.952 212.71C263.16 212.935 263.313 213.206 263.4 213.5H263.3ZM262.5 209.9C262.5 209.9 262.2 209.3 261 208.9C259.667 208.433 258.967 208.233 258.9 208.3C258.8 208.4 260.2 208 261.4 208.5C262.7 209 262.5 209.9 262.5 209.9ZM261 207.7C261 207.7 260.7 207.2 258.3 206.7L255.1 206.1C255.2 206.2 258.4 205.8 259.3 206.1C260.2 206.5 261 207.7 261 207.7ZM256.7 205.2C256.7 205.2 255.3 204.8 253.9 204.7L250.4 204.8C250.4 204.8 254.4 204.2 255.4 204.4C256.4 204.8 256.834 205.067 256.7 205.2Z",fill:"#D2A567"}),g.jsx("path",{d:"M243.6 254.7C243.6 254.7 244.3 256 245.6 256C247.1 256 248.2 258 248.2 258L246.7 259.6L243 259.8L241.8 257.8L243.6 254.8V254.7ZM243.6 253.5C243.8 253.2 242.6 250.8 241.7 250.5C240.9 250 242 251.2 241.8 251.7C241.6 252.233 241.533 252.633 241.6 252.9C241.6 252.9 242.3 253.9 241.9 254.4C241.5 254.9 243.7 253.4 243.7 253.4L243.6 253.5Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M243 257.1C243 257.1 243.7 257.4 244.2 257.3C244.8 256.967 245.134 256.733 245.2 256.6M242.3 256.2C242.3 256.2 244.4 254.7 244.3 253.9C244.034 253.233 243.7 253 243.3 253.2L241.7 254.5L242.3 256.2Z",fill:"#F8C83C"}),g.jsx("path",{d:"M243 257.1C243 257.1 243.7 257.4 244.2 257.3C244.8 256.967 245.134 256.733 245.2 256.6M242.3 256.2C242.3 256.2 244.4 254.7 244.3 253.9C244.034 253.233 243.7 253 243.3 253.2L241.7 254.5L242.3 256.2Z",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M240.9 257.2C240.9 257.2 241.2 258.2 241.9 258.2C242.6 258.2 243.6 257.7 243.6 257.2C243.6 256.9 242.9 256.2 242.5 255.9C242 255.7 241 256.2 241 256.2L240.9 257.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M242.8 255.8C242.6 256.1 241.3 256.8 240.9 256.8C240.5 256.8 239.6 255.8 239.9 255.6L241.1 255.3C241.4 255.1 241.5 254.6 241.7 254.6C241.967 254.6 242.267 254.767 242.6 255.1C243.1 255.6 242.9 255.5 242.8 255.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M241.4 256.7C241.4 256.7 239.4 259.5 238.5 259.3C237.6 259.1 238.9 255.4 238.9 255.4L239.9 255.8C240.567 256 241.067 256.333 241.4 256.8V256.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M237.8 254.8C237.8 254.8 240.4 255.2 240.5 255.6C240.6 256 239.3 256.6 238.5 256.6C237.8 256.6 237.8 254.7 237.8 254.7V254.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231.2 258.7C231.2 258.7 231.6 260 232.7 260.1C233.8 260.2 234.9 258.9 234.9 258.9L232.2 257.9L231.2 258.7Z",fill:"#202220"}),g.jsx("path",{d:"M231.2 258.7L231.5 259.4C231.767 259.8 232.167 260.033 232.7 260.1H232.8C233.9 260.1 235 258.9 235 258.9L232.2 257.7L231.2 258.7ZM231.2 258.7L232.2 257.9L234.9 258.9L234.7 259C234.4 259.4 233.6 260 232.8 260C232.2 260 231.8 259.767 231.6 259.3L231.4 258.9L231.3 258.8L231.2 258.7Z",fill:"#4B4139"}),g.jsx("path",{d:"M232 258.4C232 258.4 232.4 259.4 234 259.4C235.4 259.4 236.6 258.2 236.6 258.2L234.2 256.3L232 258.4Z",fill:"#202220"}),g.jsx("path",{d:"M232 258.4C232 258.4 232.4 259.4 234 259.4C234.985 259.334 235.912 258.907 236.6 258.2L234.2 256.2L231.9 258.4H232ZM232 258.4L234.2 256.4L236.6 258.2H236.5C235.822 258.849 234.937 259.238 234 259.3C233.713 259.337 233.422 259.312 233.145 259.226C232.869 259.139 232.615 258.994 232.4 258.8L232.1 258.5L232 258.4Z",fill:"#4B4139"}),g.jsx("path",{d:"M232.2 258.6C232.2 258.6 232.8 259.1 233.6 259.2L235.4 259L234.4 259.3H233.2L232.7 259.1L232.3 258.8L232.2 258.6Z",fill:"#4B4139"}),g.jsx("path",{d:"M234 257.3C234 257.3 234.6 258.9 236 258.7C237.3 258.6 237.4 257.7 237.4 257.7L235.8 255.5L234 257.3Z",fill:"#202220"}),g.jsx("path",{d:"M234 257.3L234.4 258.1C234.734 258.5 235.234 258.733 235.9 258.8H236.1C236.767 258.667 237.167 258.467 237.3 258.2L237.5 257.8L235.9 255.4L233.9 257.3H234ZM234 257.3L236 255.6L237.4 257.8C237.4 257.9 237.3 258.5 236.1 258.7H235.9C235.367 258.633 234.9 258.4 234.5 258L234.2 257.5V257.3H234Z",fill:"#4B4139"}),g.jsx("path",{d:"M234.1 257.6C234.1 257.6 235 258.6 235.7 258.6C236.433 258.533 236.833 258.433 236.9 258.3V258.4L236.5 258.6L235.9 258.7H235.2L234.6 258.3L234.1 257.6ZM231.5 259.2C231.5 259.2 232.1 259.9 232.7 259.9C233.3 259.9 234.2 259.4 234.2 259.4H234.3L234.2 259.5L233.6 259.9L232.8 260.1L232.2 260L231.8 259.7L231.5 259.4V259.2Z",fill:"#4B4139"}),g.jsx("path",{d:"M237.6 254.6C238.2 254.6 239.6 256.3 239.6 257.2C239.6 258.1 239.2 259.4 238.6 259.3C237.9 259.3 236.4 258 236.1 257.3C235.633 256.633 235.5 256.167 235.7 255.9C235.9 255.5 237.7 254.6 237.7 254.6H237.6ZM231.2 254.8C231.2 254.8 230.2 254 229.7 254.4C229.2 254.8 229.4 256.2 229.7 256.4C230 256.8 231.2 255.8 231.2 255.8V254.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231 255.8C231 255.8 229.6 255.8 229.6 256.5C229.6 257.2 230.3 257.8 230.4 258C230.5 258.2 231.8 257.4 231.8 257.4L231 255.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M231.6 256.9C231.6 256.9 230.1 257.3 230.1 257.9C230.1 258.3 230.8 259.2 231.2 259.2C231.6 259.2 232 258.3 232.2 258.2C232.4 258 231.6 256.9 231.6 256.9ZM232.3 252.8C232.3 252.8 232 252.4 231.4 252.6C230.8 252.8 230.1 253.5 230.3 254.4C230.433 255.467 230.566 256 230.7 256L232.8 255.3L232.3 252.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M232.4 254.4C232.4 254.4 230.6 255 230.5 255.7C230.5 256.567 230.833 257.1 231.5 257.3C231.9 257.4 233.5 255.9 233.5 255.9L232.4 254.4Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M234 257.4C234 257.4 232.2 258.6 232 258.6C231.7 258.6 231 257.6 231.2 257C231.4 256.4 232.6 255.9 233.1 255.7C233.6 255.5 234.1 257.4 234.1 257.4H234ZM235.6 250.8C235.6 250.8 235 250.4 233.9 250.4C232.9 250.5 232 251.9 231.9 252.7C231.8 253.5 231.9 254.7 232.3 254.9C232.7 255.1 235 253.3 235 253.3L235.6 250.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M233.4 256.2C232.6 256.2 232 255.1 232.1 254.4C232.2 253.7 233.7 252.6 234.5 252.8C235.3 252.8 235.1 254.8 235.1 254.8C235.1 254.8 234.1 256.3 233.4 256.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M235.8 256C235.8 256 235.4 257 234.7 257.3C233.9 257.633 233.334 257.467 233 256.8C232.5 256.1 233.2 255.8 233.5 255.5C233.9 255.2 234.9 255 234.9 255L235.8 256Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M234.6 253.8C234.6 253.8 233.7 254.4 234.2 255.2C234.667 255.867 235.167 256.267 235.7 256.4C236.233 256.533 236.733 256.3 237.2 255.7C237.9 254.8 238.4 254.8 238.3 254.1C238.3 253.367 238.033 252.867 237.5 252.6C237.1 252.4 235.8 252.6 234.5 253.7L234.6 253.8Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M237 250.4C237 250.4 236.1 250 235.4 250.4C234.733 250.867 234.366 251.533 234.3 252.4L234.4 254.1C234.4 254.1 235.4 253.9 235.9 253.4C236.4 252.9 236.7 252.7 236.6 252.4C236.466 252.4 236.366 252.1 236.3 251.5C236.3 250.5 237 250.4 237 250.4Z",fill:"#202220"}),g.jsx("path",{d:"M237 250.4C237 250.4 236 250.2 235.5 250.5C234.966 250.833 234.6 251.333 234.4 252C234.333 252.667 234.333 252.933 234.4 252.8C234.5 252.6 234.2 252.3 234.4 251.7C234.666 251.033 235.066 250.567 235.6 250.3L237 250.4Z",fill:"#4B4139"}),g.jsx("path",{d:"M263 269.6L264.3 269L265.9 268L266.2 269.8L264.8 270.8H263.6L262.9 270.3L263.1 269.6H263Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M261.1 269.7H262L263 269.6C263.2 269.6 263.5 270.6 263.5 270.6L263.1 271.1L261.9 271.8L260.9 271.2L260.8 269.8L261.1 269.7ZM270.8 269.2L270.1 268.3L268.4 266.8V270.8H270.2L271 269.5L270.8 269.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M261.1 269.7C261.1 269.7 260.8 269.3 260.1 269.4C259.167 269.6 258.6 270.033 258.4 270.7C258.4 271.2 258.4 272.7 258.8 273C259.2 273.333 259.8 273.433 260.6 273.3C261.4 273 265.6 270.4 265.6 270.4L264.6 270.7L263.4 270.5C263.4 270.5 262.9 271.2 262.2 271.3C261.6 271.3 261.267 271.1 261.2 270.7L261.1 269.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M264 271.1L263 271.5L262 272L262.3 273.3L264.1 273.7L265.2 272.7V271.5L264 271.1ZM272.3 270.2L271.7 269.6C271.3 269.2 271 269.067 270.8 269.2L269.8 270.3V271.2L270.8 271.7L271.5 271.8L272.5 271.2L272.3 270.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M266.1 269.6L264.9 270.3L263.9 271.1L264.9 272.1L265.8 272.3L267.8 270.9L267.6 269.6H266.1ZM273.7 271.2L273.3 270.6C272.9 270.333 272.567 270.2 272.3 270.2C272.1 270.2 271.3 271.4 271.3 271.4L271.2 271.7L271.9 272.5L273.2 272.8L274.1 272L273.7 271.2Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M270.4 272.6L271.4 272.8C271.4 272.8 271.3 273 271.6 273.2H271.9C271.9 273.1 271.9 274.2 272.9 274.9C272.9 274.9 274.1 275.3 274.6 274.9C275.2 274.6 275.1 275 275.1 275L276.7 273C276.7 273 276.7 272.6 276.3 272.6C276.3 272.6 276.6 271.4 275.6 271.1C274.6 270.8 273.7 271.2 273.7 271.2C273.7 271.2 272.9 272.7 272.5 272.5L271.9 272.1L271.3 271.4L270.6 271.2C270.2 271 269.9 270.3 269.9 270.3C269.9 270.3 269.3 270.3 269.1 270L268.6 269.4L267.1 270.4C267.1 270.4 267.1 270.9 266.2 271.5C265.334 272.1 264.867 272.333 264.8 272.2C264.7 272 264.6 273.5 263.6 273.2C262.6 273.1 262 272 262 272C262 272 261.3 271.9 260.9 272.5C260.5 273.1 260.2 273.3 260.2 273.9C260.267 274.567 260.5 275.133 260.9 275.6C261.2 275.9 262.2 276.6 263.3 276C264.5 275.4 264.1 274.5 264.1 274.5L264.7 274.1C265.434 273.433 266.1 272.967 266.7 272.7",fill:"#F8C83C"}),g.jsx("path",{d:"M270.4 272.6L271.4 272.8C271.4 272.8 271.3 273 271.6 273.2H271.9C271.9 273.1 271.9 274.2 272.9 274.9C272.9 274.9 274.1 275.3 274.6 274.9C275.2 274.6 275.1 275 275.1 275L276.7 273C276.7 273 276.7 272.6 276.3 272.6C276.3 272.6 276.6 271.4 275.6 271.1C274.6 270.8 273.7 271.2 273.7 271.2C273.7 271.2 272.9 272.7 272.5 272.5L271.9 272.1L271.3 271.4L270.6 271.2C270.2 271 269.9 270.3 269.9 270.3C269.9 270.3 269.3 270.3 269.1 270L268.6 269.4L267.1 270.4C267.1 270.4 267.1 270.9 266.2 271.5C265.334 272.1 264.867 272.333 264.8 272.2C264.7 272 264.6 273.5 263.6 273.2C262.6 273.1 262 272 262 272C262 272 261.3 271.9 260.9 272.5C260.5 273.1 260.2 273.3 260.2 273.9C260.267 274.567 260.5 275.133 260.9 275.6C261.2 275.9 262.2 276.6 263.3 276C264.5 275.4 264.1 274.5 264.1 274.5L264.7 274.1C265.434 273.433 266.1 272.967 266.7 272.7",stroke:"#977C2E",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M268.6 264.7V267.2C268.6 267.2 269 269.5 268.5 270.2C268 270.9 266.2 270.8 265.9 270.2C265.7 269.5 265.8 267.6 265.8 267.6L268.6 264.6V264.7Z",fill:"#F8C83C",stroke:"#977C2E",strokeWidth:"0.2"}),g.jsx("path",{d:"M266.6 272.4C266.6 272.4 266.2 273.1 267.4 273.2L268.1 272.9C268.367 272.567 268.467 272.367 268.4 272.3C268.3 272.2 268.3 273.2 269.4 273.3C270.5 273.4 270.4 272.2 270.4 272.2",fill:"#F8C83C"}),g.jsx("path",{d:"M266.6 272.4C266.6 272.4 266.2 273.1 267.4 273.2L268.1 272.9C268.367 272.567 268.467 272.367 268.4 272.3C268.3 272.2 268.3 273.2 269.4 273.3C270.5 273.4 270.4 272.2 270.4 272.2",stroke:"#977C2E",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M257 274.5C257 274.5 256.3 273.4 257 273C257.8 272.6 258.3 273 258.7 273C259.2 273 259 271.8 258.9 271.6C258.833 271.2 258.667 270.867 258.4 270.6C258.2 270.6 255.6 270.8 255.7 272.5C255.8 274.2 257 274.5 257 274.5ZM261 278.6C261 278.6 260.2 277.4 260.6 276.7C261 276 261.4 276.5 261.6 276.4C261.867 276.4 261.867 275.967 261.6 275.1C261.2 273.8 260.7 274 260.4 273.9C260.1 273.8 258.6 275 258.9 276.5C259.3 278.3 260.9 278.6 260.9 278.6H261ZM275.5 277.2C275.5 277.2 278.3 278.4 278.5 275.5C278.6 274 277.2 273 276.8 273C276.6 273 276.267 273.267 275.8 273.8C275.2 274.4 274.967 274.8 275.1 275C275.3 275.3 276.1 274.8 276.5 275.7C277.1 277.2 275.5 277.2 275.5 277.2Z",fill:"#202220"}),g.jsx("path",{d:"M261 278.6C261 278.6 258.8 278.1 258.8 276C258.8 274.6 260.4 274 260.4 274C260.4 274 259 274.7 258.9 276C258.9 278.1 260.9 278.6 260.9 278.6H261ZM257 274.5C257 274.5 255.7 274.2 255.6 272.4C255.4 270.6 258.4 270.7 258.4 270.7C258.4 270.7 255.6 270.7 255.7 272.5C255.9 274.3 257 274.5 257 274.5ZM275.5 277.2C275.5 277.2 276.1 277.5 276.7 277.4C277.5 277.467 278.067 277.067 278.4 276.2C278.7 275.1 278.5 274.6 277.8 273.7C277.2 273.1 276.867 272.867 276.8 273C276.7 273.2 277.4 273.1 277.8 273.7C278.2 274.3 278.7 275 278.3 276.2C277.9 277.4 276.8 277.4 276.3 277.4L275.5 277.2Z",fill:"#4B4139"}),g.jsx("path",{d:"M242.1 217.9L241.6 217.8L242 216.9L243.4 216.4L244.9 216.3H246.4L247.1 216.7L247.9 218.6L245 220.3L244.5 220.5L244.4 219.7L243.9 218.6L242.1 217.9Z",fill:"#904720"}),g.jsx("path",{d:"M269.5 260.4L269.4 256L257.4 259.6L262.2 264L269.5 260.4Z",fill:"#202020"}),g.jsx("path",{d:"M247.6 252.7L246.6 251.9L245.5 251.3H244.5L244.4 251.5L244.5 251.9L245.6 253.2L247.4 254.2L248.1 254.7L248.5 254.9L247.6 252.7ZM247.3 254.6H248L248.6 255.5L249.1 256.3L249.6 257.3L249.8 258L248.5 257.7L244.6 256.5L245 255.6L245.6 255L246.2 254.8L247 254.6H247.3Z",fill:"#D2A567"}),g.jsx("path",{d:"M249.8 257.8L250.4 257.7L250.8 257.3L250.6 255.9L250.9 251.3L247.8 247.6L247.1 249.7L248.1 253.5L248.7 255.7L249.8 257.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M247.5 249.3C247.5 249.3 247.3 249.7 247.6 250.9C247.9 252.1 248.3 254.9 249.4 256.7C250.4 258.5 248.4 255.2 248.4 255.2C248.4 255.2 246.7 251.5 246.9 248.7C247.2 245.8 247.5 249.3 247.5 249.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M249.8 251.7C249.8 251.7 249.1 252.5 249 253.2V254.9C249 254.9 249 254.1 249.7 253.9C250.4 253.7 250.3 255.8 250.3 256L250.7 252.2L249.8 251.7ZM250.2 259.4L246.7 258.6C244.834 257.8 243.9 257.133 243.9 256.6C243.9 256.2 247.1 256.8 247.6 256.9C248.1 257 249.5 257.7 249.5 257.7H250.3L251.8 257.1L252 258.7L250.2 259.4ZM244.2 258.7C244.2 258.7 245.2 259.3 244.7 259.6C244.2 259.9 243.2 259.9 242.9 259.8L246.3 260.6L246.9 260L244.3 258.7H244.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M243.4 257.8C243.4 257.6 243.6 258.3 244.8 258.4C246 258.6 246.6 258.2 246.6 258.2L247.1 258.6L247.7 258.7L247.2 259.6L244.9 258.9L243.7 258.3L243.4 257.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.3 256.2L251.9 257.1L252.3 255.1V253.1L251 252.3L251.3 256.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M247.8 253L246.8 251.2L245.4 248.7L246.2 247.3L247.2 248.7C247.2 248.7 246.9 249.7 247.2 250.7C247.2 251.7 247.8 252.9 247.8 252.9V253Z",fill:"#4D2A15"}),g.jsx("path",{d:"M240.6 259.2C240.6 259.2 241.1 258.5 242.1 258.4L244.1 258.5L246.1 259.7L246.6 260.4L242.6 259.8L240.6 259.2Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.2 252L251.3 255.3C251.4 256 251.9 256.8 251.8 257.1C251.8 257.367 251.533 257.567 251 257.7C250.5 257.9 249.5 257.7 249.5 257.7C249.5 257.7 250.5 257.6 250.5 257.4L250.2 255.4C250.2 254.6 250.2 253.7 250 253.7C249.666 253.767 249.433 253.9 249.3 254.1C249.3 254.2 249.6 251.1 249.9 250.8C250.3 250.4 251.2 252.1 251.2 252.1V252Z",fill:"#8F4620"}),g.jsx("path",{d:"M243.8 258.4C243.8 258.4 243.4 258.1 243.4 257.8C243.4 257.5 243.8 259.1 246.1 259C248.3 258.9 248.1 258.8 248.1 258.8H249.2C249.2 258.8 249 259.8 248.8 259.9C248.6 259.9 247.1 261 247 261.1L246.5 261.4V261.2L246.2 259.5L244.3 258.8L243.8 258.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M247.8 253C247.8 253 245.2 250.2 244.3 248.5C243.4 246.8 244 244.3 244 244.3L246.4 247.5C246.4 247.5 246.1 248.1 246.2 249.1C246.3 250.1 247.8 252.9 247.8 252.9V253Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.1 262.6C246.1 262.4 245.9 261.8 246.4 261.2C247.945 259.729 249.786 258.603 251.8 257.9V260.3L246.8 262.7L246.1 262.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.4 260.8L247.5 259.8C247.5 259.533 246.933 259.333 245.8 259.2L243.8 258.4C243.8 258.4 245.1 259.5 245.7 259.7C246.1 259.9 246.233 260.1 246.1 260.3L246.4 260.8ZM253 261.4L252 259.7L251.8 257.9L251 258.5L249.5 259C249.5 259 251.1 259 251.1 259.5C251.1 260 248.7 260.3 248.7 260.4C248.7 260.5 250.6 260 250.5 260.4C250.3 260.9 249.5 260.9 248.5 261.4L246.1 262.6C246.1 262.6 246.5 262.9 247.3 262.8L249.6 262.4L252.6 261.2L253 261.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M253 261.4C253 261.4 252.2 261.1 251.6 257.5C251 253.9 251.1 253 251.1 253L252.6 254L253.9 256.3L253 261.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M253.5 255.4C253.5 255.4 252.8 257.4 252.8 258.6C252.8 259.733 252.866 260.667 253 261.4L254.5 263.2L255 262.7L255.3 261.1V258.4L253.5 255.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M255.5 258.2C255.5 258.2 255.9 263.2 254.5 263.3C254 263.4 253.1 261.4 253 261.3C253 261.3 254.1 263.3 254.6 263C255.4 262.7 255.1 257.8 255.1 257.8L255.5 258.2ZM253 261.4L252.5 260.7C252.1 260.1 252.5 261.2 249.7 262.2C246.9 263.2 246.1 262.6 246.1 262.6C246.1 262.6 247 263.3 249.7 262.5C252.4 261.7 252.2 261.5 252.5 261.5L253 261.4Z",fill:"#202020"}),g.jsx("path",{d:"M248 255C248 255 248.5 255.3 249 256.3L249.8 258L249.9 257.9L249.1 256.2L247.4 253.6L248 255Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.4 261.2C246.4 261.2 246.7 260.2 246.4 260.1L244 259.9L240.6 259.2C240.6 259.2 241.9 260 243.1 260.3L245.8 261H246.3L246.4 261.2Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.4 261.2L246.2 260.8C246 260.6 245.7 260.8 243.4 260.3L240.6 259.3C240.6 259.3 241.4 259.9 243.4 260.4L246.4 261.2Z",fill:"#202020"}),g.jsx("path",{d:"M247.4 254.6C247.4 254.6 245.7 254.6 245.2 255.1L243.9 256.7L245 256.8C245 256.8 244.9 255.8 245.4 255.3C245.9 254.8 246.7 254.7 247.4 254.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M244.2 251.4C244.2 251.4 244.9 252.3 245.6 252.6C246.4 252.867 246.967 253.2 247.3 253.6C247.7 253.9 248 255 248 255C248 255 245.6 253.9 245.2 253.4C244.7 252.8 244.2 251.4 244.2 251.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M246.6 252C246.6 252 246.3 251.6 245.6 251.3C245 251.033 244.566 251 244.3 251.2V251.4L245.1 252.7L245.6 252.6C245.6 252.6 244.3 251.8 244.6 251.6C245.2 251 246.6 251.9 246.6 251.9V252Z",fill:"#8F4620"}),g.jsx("path",{d:"M253 248.9L266.6 241.9L273 250.9L261.3 253.9L255.1 254.5L252.1 252.3L253 248.9Z",fill:"#202020"}),g.jsx("path",{d:"M271.2 252.7L288 267.3L286.2 268.6L282.2 267.5L274 259.4L271 256.3L271.2 252.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M292.8 264.4L283.1 257.1L271 248L271.3 252.3L285.2 265.1L289.8 267.3L292.1 266.6L293.3 265.4L292.8 264.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M271.1 254.1C271.1 254.1 276 259.6 279.7 262.4C283.4 265.2 286.9 268.2 287.7 267.8C288.5 267.4 288.1 266.9 288.1 266.9L271.1 253V254.1Z",fill:"#803F1D"}),g.jsx("path",{d:"M283 268.1L281.4 269.4L279.4 268.6L269 258L269.5 256L271 256.3L283 268.1Z",fill:"#4D2A15"}),g.jsx("path",{d:"M292.8 264.4C292.8 264.4 291.5 267.4 288.8 266.7C286.1 266 271.2 251.9 271.2 251.9V253.4C271.2 253.4 286.2 267.2 289.2 267.7C292.1 268.3 294.5 265.7 294.2 265.5L292.8 264.5V264.4Z",fill:"#202020"}),g.jsx("path",{d:"M269.5 256.3C269.5 256.3 274.3 262.5 276.8 264.7C279.4 267 281.6 268.8 282.6 268.6C283.6 268.4 282 267.2 282 267.2L274.7 260.1L271 256.3C271 256.3 269.5 255.7 269.5 256.3Z",fill:"#803F1D"}),g.jsx("path",{d:"M270.7 256.3C270.7 256.3 282.9 268.7 283.8 269C285.8 269.6 288.8 267.5 288.8 267.5L287.8 266.9L287.6 267.3C287.6 267.3 287.1 268.5 284.4 268C279.537 264.466 275.077 260.409 271.1 255.9L270.7 256.3Z",fill:"#202020"}),g.jsx("path",{d:"M275.3 268.2L270.8 263.1L269.8 261.4L269.6 259.2L278.4 268.2L277.2 269L276.1 268.6L275.3 268.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M283.3 268.4C283.3 268.4 282.3 270 280.8 269.7C279.894 269.513 279.082 269.018 278.5 268.3L270 260L269.8 258.7C269.8 258.7 279.1 268.6 280.8 269C282 269.3 282.8 267.8 282.8 267.8L283.3 268.4Z",fill:"#202020"}),g.jsx("path",{d:"M278.6 268.1C278.6 268.1 278.2 269.3 276.9 269.1C275.6 268.9 275.3 268.5 275.3 268.5L270.1 262.3L270 260.7C270 260.7 275.4 268.1 276.6 268.6C277.9 269 278.2 267.7 278.2 267.7L278.6 268.1Z",fill:"#202020"}),g.jsx("path",{d:"M273 251.9C273 251.9 278 256.2 278.5 256.4C279 256.6 280.7 256.7 280.8 257C280.9 257.3 279.6 257 279.5 257.2C279.5 257.5 282.1 259.6 282.5 259.7C282.9 259.7 285 259.7 285 260C285 260.3 283.5 260 283.5 260.3C283.5 260.6 285.7 262.5 286.2 262.5C286.6 262.6 289.2 262.6 289.2 262.9C289.2 263.2 287.1 262.9 287.2 263.3C287.2 263.7 290.8 266 290.7 266.3C290.6 266.6 286.3 263.5 286.2 263.6L285.7 265C285.4 265.1 285.7 263.6 285.5 263C285.3 262.4 282.8 260.5 282.5 260.7C282.2 260.9 282.5 262.1 282.3 262.1C282.1 262.1 282.3 260.7 282.1 260.2C281.9 259.7 279.5 257.8 279.2 257.8C278.9 257.8 279.1 258.8 278.9 259C278.7 259.2 278.7 257.8 278.4 257.4C278.1 257 272.8 252.2 273 251.9Z",fill:"#B07229"}),g.jsx("path",{d:"M264.4 265.9C264.4 265.9 264.4 267.8 263.6 268.1C262.8 268.4 261.1 264.6 261.1 264.6L260.7 261L263.2 263.4L264.4 265.9ZM271.1 264.9V263.9L270.9 262.7L270.7 260.7L270.3 259.5L269.9 258.6H269.3L268 259.6L267.6 260.9L268.3 263.3L268.9 265.4L269.9 265.8L271.1 264.9Z",fill:"#4D2A15"}),g.jsx("path",{d:"M269.4 268.3C269.7 268.1 269.1 265.5 269.1 265.5L267.6 261.7L267.1 260.3L265.9 259.8L265.1 260.8L265.2 262.3L267.1 265.8C267.6 266.6 268.9 268.4 269.4 268.2V268.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M268 260C268.5 260.4 269 261.4 269.1 262.1C269.1 262.1 270.1 265 270 265.2C269.9 265.4 269.2 265.5 269.2 265.5C269.2 265.5 270.6 267 271 266.8C271.4 266.6 271.3 265.2 271.1 264.9C270.9 264.6 270.6 264.9 270.4 264.5C270.2 264.2 269.7 262.3 269.7 261.2V259C269.9 258.7 270.9 261.3 270.9 262.7L271.4 263.3L270.9 260.7L270.4 258.9L270.6 257.7V256.9L271.3 257.3C271.567 257.367 271.767 256.833 271.9 255.7C272.1 254 271.8 250.9 271.8 250.9L266.4 258L268 260Z",fill:"#202020"}),g.jsx("path",{d:"M268 259.4C268 259.4 267.8 261.4 268.5 263.4C269.2 265.3 269.4 265.4 269.5 265.6C269.7 265.9 269.7 268 269.5 268.2C269.5 268.2 268 264.7 267.5 263C267 261.3 267 260.6 266.7 260.4L266.1 260.3L268 259.4Z",fill:"#202020"}),g.jsx("path",{d:"M267.5 269.6C267.6 269.6 267.5 268.8 267.5 268.8L267.3 267L265.4 263L263.4 261.2L262.3 259.5L262.1 262.7C262.1 262.7 263.6 265.9 264.6 266.9C265.6 267.9 267.2 269.7 267.5 269.6Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259.7 260.9C259.7 260.9 260.1 261.7 260.1 262.3V263.3L261.5 266.1C262.2 267.4 262.9 268.6 263.5 268.4C264 268.1 264.2 267.2 264.3 267.1C264.3 267 263.6 268.1 263.3 267.9C263 267.7 261.3 262.7 261.4 262.6L260.6 262L259.7 260.9ZM265.4 265.2L264 262.7C263.467 261.833 263.1 261.367 262.9 261.3C262.7 261.3 262.5 259.8 262.5 259.8C262.5 259.8 263 260.8 263.8 261.2C264.467 261.6 264.967 261.767 265.3 261.7L265.5 263.3L265.4 265.3V265.2Z",fill:"#202020"}),g.jsx("path",{d:"M262 262.6C262 262.6 262.3 263.7 263 264.8L264.9 267.1C264.9 267.1 263.6 265.9 262.9 264.9C262.2 263.9 261.8 262.6 261.8 262.6H261.9H262Z",fill:"#5C3A1D"}),g.jsx("path",{d:"M265.6 261.3C265.6 261.3 266 260.3 266.3 260.3L267.2 260.1C267.2 260.1 266.7 260 266.2 259.5L265.2 258.5L265.5 260L265.6 261.3ZM265.3 261.6L267.3 266C267.6 267.2 267.6 268.8 267.6 268.8L267 266.7C266.7 265.7 265.3 263 265.2 262.7C265.1 262.4 265.2 261.7 265.2 261.7L265.3 261.6Z",fill:"#202020"}),g.jsx("path",{d:"M267.4 259.5L267.8 254.7L267.4 252.9L265.2 248.1C265.2 248.1 265.1 248.8 264.5 248.8C263.572 248.542 262.738 248.021 262.1 247.3C261.664 248.555 261.595 249.907 261.9 251.2L266.2 259.1L267.4 259.5Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259 262.7C259 262.7 259.7 263.5 260 263.4C260.3 263.3 260.3 261.8 259.8 260.9C259.3 260 254.2 253.2 253.4 252.8C252.7 252.4 259 262.7 259 262.7Z",fill:"#8B441F"}),g.jsx("path",{d:"M262.5 259.9C262.6 260.2 263 262.4 262.1 262.6C260.9 262.8 255.2 255.1 254.4 254C254.4 254 250.8 251.8 250.8 251.2C250.8 250.6 254.6 252 254.6 252L262.1 259.2L262.5 259.9Z",fill:"#8B441F"}),g.jsx("path",{d:"M259 262.7C259 262.7 258.4 261.6 258.3 260.7C258.233 260.033 258.133 259.567 258 259.3L253.4 252.7L251.6 251.6L251.8 253.5C251.8 253.5 253.1 255.9 255 258.1L259 262.7Z",fill:"#202020"}),g.jsx("path",{d:"M265.3 261.6C265.8 261.3 265.6 259.4 265.3 258.8C265.2 258.2 261.8 251.2 261.8 251.2L260.8 251.6L258.9 250.1L257.9 249L258.2 251.5V252.8L260.8 257.4L265.3 261.6ZM269.1 257.4L269.9 256.4L269.4 252.9L267.2 245.3C267.2 245.3 266.7 245.5 266.2 245.1L265 244.1L265.5 248.6L267.8 255L268 256.9L269.1 257.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M262.1 259.2C262.1 259.2 259.9 256.8 259.1 255.6L257.8 253.2C257.8 253.2 257.2 253.5 256.4 253.2C255.7 252.8 254.6 251.7 254.6 251.7C254.6 251.7 254 252.9 257.2 256.2C260.9 259.9 262.2 259.2 262.2 259.2H262.1Z",fill:"#202020"}),g.jsx("path",{d:"M267.5 260C268.5 259.6 268.5 255.7 267.5 253C266.6 250.4 265.2 248 265.2 248C265.2 248 267 252.4 267.4 254C267.8 255.8 267.4 257 267.1 257C266.8 256.9 266.8 256 266.1 254.3C265.3 252.6 264.8 252.2 264.8 252.2C264.8 252.2 267.4 259.2 266.7 259.1C266 258.9 262.4 251.1 262.2 250.9C262.1 250.7 262 251.2 262 251.2C262 251.2 265.2 261 267.5 260Z",fill:"#8B441F"}),g.jsx("path",{d:"M269.6 241L271.2 244.4L271.7 247.9L271.8 250.9C271.8 250.9 271.9 256.9 271.2 256.9C270.5 257.1 270.1 256.4 270.1 256.2L268.7 249.6L267.3 242.8L267.8 242.4L268 241.4L269 241.3L269.6 241Z",fill:"#4D2A15"}),g.jsx("path",{d:"M265.3 261.6C265.9 261.6 265.3 260 265.3 260C265.3 260 264.8 260.7 264.3 260.2C263.8 259.7 263.3 257.7 263.3 257.7L262.9 256.5C262.9 256.5 262.4 257.8 261.9 257.8C261.2 257.8 258.2 252.7 258.2 252.7L257.8 253.2C257.8 253.2 262.1 262.1 265.3 261.6Z",fill:"#8B441F"}),g.jsx("path",{d:"M263.3 257.7C263.3 257.7 263.8 256.5 263.6 255.3C263.129 253.912 262.526 252.573 261.8 251.3L260.8 251.2L258.9 250.2C259.995 252.9 261.477 255.427 263.3 257.7ZM265.8 255.9C265.8 255.9 265.4 253.2 264.1 250.7C263.611 249.472 262.936 248.325 262.1 247.3V250.1C262.1 250.1 263.3 250.6 264.1 252.1L265.8 255.9ZM269.2 251.3C269.2 251.3 269 248.3 268.5 246.6L267.5 242.6L267.8 242.4H268.3C269 242.5 269.3 244.1 269.3 244.1L269.1 241.6L268.9 241.2H267.8C267.8 241.2 268 241.9 267.7 242.2C267.4 242.5 267.2 242.1 267.1 242L267 242.3L267.2 243.9V245.3C267.2 245.3 267.6 247 268.2 248.1L269.2 251.3ZM271.8 250.9C271.8 250.9 272.3 246.7 271.4 243.9C271.052 242.65 270.438 241.49 269.6 240.5L269.1 241.1C269.1 241.1 270.6 243.4 271.1 245.5C271.5 247.8 271.8 250.9 271.8 250.9ZM267.5 253.1C267.5 253.1 267.1 249.7 266.5 247.6L265.7 244.6L264.8 243.9C264.8 243.9 265.3 246.1 265.3 246.8L265.2 247.8C265.2 247.8 265.6 249 266.2 250C266.8 251 267.5 253 267.5 253V253.1Z",fill:"#202020"}),g.jsx("path",{d:"M269.8 258.3C270.6 258.3 269.8 253.5 269.5 252.3L267.2 245.3C267.2 245.3 269.6 253.5 269.4 253.9C269.1 254.5 268.2 251.4 268 251.5C267.8 251.5 269.8 257 269 257.1C268.4 257.1 268 255.9 268 255.9V257.1C268 257.1 268.5 258.3 269.8 258.3Z",fill:"#904720"}),g.jsx("path",{d:"M270.8 255.9C271.4 255.9 270.6 251.4 270.2 249.3L268.7 243.3C268.7 243.3 269.8 246.1 270.5 249.3C271.2 252.5 271.5 256.6 271 256.7C270.3 256.7 270 256.1 270 256.1V255.4C270 255.4 270.2 255.9 270.8 255.9Z",fill:"#904720"}),g.jsx("path",{d:"M263 261.2C263 261.5 263 263.1 262.2 263C261.4 262.9 259.9 261.5 259.6 260.5C259.6 260.5 261.4 262.5 262 262.5C262.6 262.5 262.6 260.5 262.5 259.9C262.5 259.4 263 261.2 263 261.2Z",fill:"#312317"}),g.jsx("path",{d:"M267.3 239.6C267.3 239.6 268.3 240.3 269.3 239.8C269.691 239.531 270.013 239.174 270.239 238.756C270.465 238.339 270.588 237.874 270.6 237.4C270.666 236.8 270.5 236.167 270.1 235.5C269.5 234.8 270.9 236.1 270.9 237.4C270.9 238.7 270.9 240.8 268.9 241.3C266.9 241.8 267.8 241.2 267.8 241.2L267.3 239.6Z",fill:"#D2A567"}),g.jsx("path",{d:"M265.7 235.8C265.7 235.8 267 237.8 267.5 239.8C267.967 241.533 267.967 242.4 267.5 242.4C267.234 242.4 267.1 242.167 267.1 241.7L265.7 235.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M243.3 238.3L251.7 250.6L262.4 238.6L255.7 231.8L243.3 238.3Z",fill:"#1E2121"}),g.jsx("path",{d:"M254 230.8L253.5 232.8L254.5 236L256.3 237.8L258.3 239.2L258.8 237.7L259.3 235.9L259.8 235.7L261.1 236.2L262 234.9L263.4 232.5L263.1 231.5L262.7 230.8L260.6 227.1L259.9 228.5L259.2 228.9L258 228.2L256.5 230.2L254.6 229.3L254 230.8Z",fill:"#4D2A15"}),g.jsx("path",{d:"M258.4 239.2C258.4 239.2 258.7 238.9 258.9 238C259 237 259.1 234 258.8 232.8C258.5 231.6 257.8 229.3 257.6 229.5C257.4 229.6 258.8 232 258.6 235C258.4 237.9 258.6 238.7 257.9 239C257.2 239.3 258.4 239.2 258.4 239.2Z",fill:"#5C3818"}),g.jsx("path",{d:"M258.8 234.3C258.8 234.3 260.2 236.3 260.9 235.5C261.6 234.8 261.2 232.3 260.9 231.3L259.9 228.8L260.3 228.4L261 231.1C261.3 232.2 262 235.3 261.1 235.9C260.2 236.5 258.9 234.7 258.9 234.7V234.3H258.8Z",fill:"#5C3818"}),g.jsx("path",{d:"M254.3 235.6C254.3 235.6 254.8 234.9 255.4 234.9C256.066 234.967 256.333 235.033 256.2 235.1L256.8 236.7L257.7 238.4L258.5 239.3L258.1 239.8H257.4L255.4 238.8L254.8 238L254.3 235.6Z",fill:"#8F4620"}),g.jsx("path",{d:"M257.6 253C257 253.4 255.5 252.7 254.6 251.9L249.2 246.5L248.6 244L250.4 244.4L253.4 243.1L254 242.1L257.7 240.1L259.7 239.1L264.2 238.9L265.2 236.8C265.2 236.8 266.8 239.4 267 240.4C267.2 241.4 267.2 244.7 266.8 244.9C266.4 245.1 265 243.9 264.8 243.9C264.5 243.9 265.8 248.5 264.8 248.7C263.7 248.8 261.8 246.9 261.8 246.9C261.8 246.9 262.6 251.1 261.8 251.1C260.8 251.1 258.6 250.1 257.7 249.1C257.7 249.1 258.7 252.5 257.7 253.1L257.6 253Z",fill:"#D2A567"}),g.jsx("path",{d:"M256.8 247.7L257.7 249.1C257.9 249.4 257.7 251.4 257.5 251.7C257.2 252.5 256.2 250.8 255.7 249.4L253.9 246.4C253.9 246 256.8 247.7 256.8 247.7ZM265.5 237.4C265.5 237.4 267 243.9 266.3 244.1C265.5 244.3 263.3 242.1 263.1 241.7L259.8 236.6L259.2 235.9L259.4 235.6L260.7 236.1L265.5 237.4Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.3 249.8C254 250.1 253.3 249 253 248.8L250.6 246.1C249.466 245.033 248.866 244.367 248.8 244.1C248.8 243.8 248.1 243.1 248.1 243.1L248.7 242.5L249.4 242.4C249.4 242.4 253.7 245.8 254 246.4C254.3 246.9 254.5 249.7 254.3 249.9V249.8ZM260.8 249.9C260.6 250.1 257.8 248 256.5 246.3C255.2 244.6 254.1 243.1 253.8 242.3L253.3 240.8L254.1 241C254.1 241 261.1 249.6 260.8 249.9ZM261.8 246.9C261.6 247.1 260.4 246.2 259.6 245.2C258.9 244.2 259.3 242.9 259.3 242.9C259.3 242.9 261.9 246.7 261.8 246.9ZM263.4 246.5C263 246.7 261.4 244.7 260 242.5C259 240.9 258.7 240.6 258.5 240.5L257.5 240.2L257.3 240L258 239.8L258.6 239.1L259.4 238.1L262.8 244.9C262.8 244.9 263.6 246.4 263.4 246.5Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.6 251.9C254.6 252.2 254.6 252.4 253.6 252.3C252.8 252.3 247.9 249.6 245.8 246.1L243.3 242.1L244.3 241L251.9 249.7L254.6 251.9Z",fill:"#AB6D29"}),g.jsx("path",{d:"M254.6 251.9C254.6 252.3 254.334 252.433 253.8 252.3C253.2 252.2 251.3 251.5 248.3 248.1C245.3 244.7 244 242.2 244 242.1L243.9 240.7L244.8 240.3L250 248.3L254.6 251.9Z",fill:"#8F4620"}),g.jsx("path",{d:"M259.7 248.5C259.7 248.5 258.1 247.3 257.1 246.1C256.1 244.9 254.1 242.1 254.1 241.5C254.1 240.9 255.1 241 255.1 241L255 239.5L255.2 239.1L256.7 239.7L258.6 242L259.3 243C259.3 243 260.5 245.8 260.3 246C260 246.4 258.3 244.5 258.1 244.7C257.9 244.9 260.1 248.2 259.7 248.5ZM256.7 247.7C256.7 247.7 257.3 248.5 257 249C256.7 249.5 256.6 249.9 255.8 248.7C255 247.5 254.1 246.2 254 246.3C254 246.4 254.1 248.1 253.7 248.1C253.3 248.1 252.1 246.7 251.3 245.5L249.3 242.5C249.3 242.5 249.5 242 249.4 240.7L249.3 238.7C249.3 238.7 249.3 239.1 249.5 239.4L249.9 240L252.7 243.3L253.5 242.8L255.2 246.1L256.7 247.7ZM245.9 242.7C245.9 242.7 248.1 246.7 250.2 248.8C251.452 250.108 252.947 251.161 254.6 251.9L248 244L246 242.8L245.9 242.7ZM262.9 245.1C262.8 245.1 261.4 243.7 260.5 242.4C259.722 241.197 259.242 239.826 259.1 238.4L259.3 235.6C259.3 235.6 261.6 238 262.1 239.1C262.5 240.1 263.4 241.7 263.2 241.9C263 242.1 261.5 240.9 261.3 241.1C261.1 241.4 263.1 244.9 262.9 245.1ZM265.5 242.6C265.2 242.7 264 241.4 263.7 240.6C263.4 239.6 263.3 238 263.3 238L262.3 235.6L262.4 233L263.4 232.8L264.9 234.9C264.9 234.9 265.5 236.2 265.5 237.9C265.5 239.8 265.8 242.4 265.5 242.6ZM247.5 249.1C245.5 246.6 244.2 244.1 244.2 244.1L243.5 241.9L243.9 242.2C243.9 242.2 244.5 244.8 247.6 247.9C250.8 251 251.5 251.3 251.5 251.3C251.5 251.3 252.1 253 251.8 253.6C251.8 253.6 249.5 251.6 247.5 249.1Z",fill:"#4D2A15"}),g.jsx("path",{d:"M250.9 252.7C250.9 252.7 248.2 250.3 246 247.7C243.9 244.9 242.5 242.3 242.5 242.3L243.5 241.4C243.5 241.4 245.3 245.6 246.5 247.3L250.9 252.7ZM254.6 251.9L250 247C249.03 245.937 248.19 244.762 247.5 243.5L248.8 244C248.8 244 249.3 245.4 250.5 246.8L254.6 251.9ZM254 246.3C254 246.3 252.3 244.3 251.5 242.9L249.8 239.9C249.8 239.9 252.1 242.6 252.8 242.7H253.5C253.3 242.6 253.2 243.7 253.5 244.5C253.6 245.3 254 246.3 254 246.3ZM254.7 237.9C254.7 237.9 255 239.3 254.8 240.2C254.6 241.1 254.1 241 254.1 241L255.6 242.8C256.1 243.4 257.4 244.3 257.4 244.3L255.9 242.1C255.5 241.4 254.9 240.5 255.2 239.8C255.4 239.1 256.8 240.3 257.2 240.6L259.2 242.9C259.2 242.9 258.7 240.9 257.8 240.2L254.8 237.9H254.7Z",fill:"#202020"}),g.jsx("path",{d:"M261.6 242.3L260.2 238.8L258.9 234.8V237C258.9 238 258.5 239.4 258.1 239.6C257.7 239.8 257.6 239.8 256.8 239.6C256.1 239.4 257.4 240 257.4 240C257.4 240 258.2 240 258.4 239.6C258.8 239.2 258.9 238.4 259.3 238.5C259.6 238.6 260 239.8 260.3 240.4L261.6 242.3Z",fill:"#202020"}),g.jsx("path",{d:"M259 234.7C259 234.7 260.6 236.6 261.3 235.7C262 234.8 261.6 232.6 261.6 232.6C261.6 232.6 262.6 232.9 262.9 232.6C263.2 232.3 263.1 231.6 263.1 231.6C263.1 231.6 264.9 234.1 265.7 235.8C266.6 237.4 267 240.4 267 240.4C267 240.4 265.5 238 264.8 235.8C264.1 233.6 263.1 232.8 262.9 233C262.7 233.2 262.5 234.6 262.7 235.4L263.9 238.1C264.4 239.2 264.9 240.9 264.9 240.9L263.5 238.9C262.967 238.233 262.5 237.8 262.1 237.6C261.8 237.3 261.3 236.6 260.8 236.5C260.3 236.4 259.3 235.8 259.3 236.2L259.1 235.4L259 234.7Z",fill:"#202020"}),g.jsx("path",{d:"M253.4 242.6L255 245.4L256.8 247.7C256.8 247.7 255.2 246.3 254.6 245.4C254 244.4 253.4 242.6 253.4 242.6Z",fill:"#171717"}),g.jsx("path",{d:"M264.1 243C263.9 243.2 263.1 242.9 263.1 243.2C263 243.5 263.5 244.5 264.1 245.1C264.566 245.633 264.866 245.8 265 245.6L264.8 244.5V243C264.7 242.8 264.1 243 264.1 243Z",fill:"#8F4620"}),g.jsx("path",{d:"M244.7 231.5L243.7 232.1L242.7 234.4L243 238.7L244.7 241.1C245.3 242.1 247.5 244.5 248 244.3C248.5 244.1 249.2 242.5 249.2 241.6L249.4 239C249.4 239 249.9 240 250.8 240.9C251.7 241.9 252.5 242.8 252.8 242.7C253.3 242.7 254.5 240.2 254.6 239.8C254.6 239.5 251.4 231.8 251.4 231.8L250 231.1L244.7 231.5Z",fill:"#D2A567"}),g.jsx("path",{d:"M251.8 238L252.7 240.9C253 241.9 252.7 242.7 252.9 242.7C253 242.7 254.7 240.5 254.7 239.5C254.7 238.5 254.7 237.5 254.3 234.5C253.8 231.4 254.4 230.5 254.4 230.5L253.4 229.7L251.9 233L251.8 238ZM246.3 236.2L246.8 240.2C247 241.2 247.6 242.8 247.9 242.7C248.2 242.7 249.2 240.1 249.3 239.2C249.3 239.2 248.6 237.9 248.6 234.8C248.6 231.7 248.3 231.3 248.3 231.3L246.3 236.2Z",fill:"#AB6D29"}),g.jsx("path",{d:"M242 230C242 230 239.5 233.6 239.6 235.6C239.6 237.6 239.9 237.2 240.6 239C241.1 240.8 241.4 243.4 241.4 243.6C241.533 243.8 241.7 243.7 241.9 243.3L242 230Z",fill:"#45392D"}),g.jsx("path",{d:"M242 230.5C242 230.5 239.8 233.8 240 235.7C240.1 237.6 240.4 237.5 241 239.2C241.6 240.9 241.7 243.6 241.7 243.6C241.7 243.6 242.4 243.4 243.2 242.8L244.7 241.1L243.9 239.4L243.3 237.9L242.7 236.9L242.9 233.8L243.5 231.4V230.6L242 230.5Z",fill:"#AB6D29"}),g.jsx("path",{d:"M253.8 236.3L252.2 235.8C251.8 235.5 251.6 234.8 251.6 234.8L251.9 234.2L253.8 236.3Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M242.4 230.8C242.4 230.8 240.9 234.2 241 236.6C241.253 238.452 241.828 240.246 242.7 241.9V234.2L243.4 231.9V230.7L242.4 230.8Z",fill:"#D2A567"}),g.jsx("path",{d:"M246.3 231.6V233C246.2 233.5 245.3 234 245 234.6L244.2 236.9C244.2 236.9 244.5 235.9 245.1 235.4C245.6 234.9 245.8 234.4 245.9 234.8C246 235.1 246.2 236.4 246.1 236.7C245.9 236.833 245.634 237.367 245.3 238.3C245.094 238.917 245.094 239.583 245.3 240.2L245.7 238.4C245.9 237.933 246.067 237.7 246.2 237.7L247.2 239.5V238C247.4 237.3 248.2 236.4 248.3 236.4C248.6 236.4 248.9 236.2 248.1 235.8C247.8 235.6 248 232.4 248.1 232.2C248.4 232.1 249.6 232.1 249.5 231.6L248.2 229.9L246.2 231.6H246.3Z",fill:"#8F4620"}),g.jsx("path",{d:"M253.6 238.5L252.4 238.3L252 237.8V237.3L253 237.8L253.6 238.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M243.6 238.9L243.1 240.1L242.8 241.3L242.5 238.7L242.2 236.8L241.7 237.3C241.7 237.3 241.7 236.1 241.9 235.5C242.234 234.767 242.3 234.233 242.1 233.9C241.834 233.9 241.567 234.1 241.3 234.5L240.7 235.5L241.2 234C241.5 233.6 242.6 232.3 242.9 231.7L243.1 230.7L243.9 230.6C243.9 230.6 244.8 231.3 244.8 231.9C244.8 232.2 243.9 232.5 243.9 232.6C243.9 232.7 243.2 232.6 243.1 235.2C242.9 237.9 243.6 237.7 243.6 238.9ZM251 231.9C251 231.9 251.2 233.4 251 233.9C250.867 234.3 250.6 234.733 250.2 235.2C249.8 235.8 249.9 237.2 249.9 237.2L250.3 236.2L250.8 235.3C251 235.3 251.234 235.733 251.5 236.6L252.1 238.6C252.1 238.6 251.9 237.6 252.1 237.6C252.3 237.6 252.5 237.6 252.9 237.9L253.6 238.5C253.6 238.5 253.6 238.1 253.1 237.5C252.6 236.9 252.3 237.1 252.1 236.4C251.967 235.6 251.934 235.033 252 234.7C252.067 234.5 252.3 234.667 252.7 235.2L253.9 236.3L253.4 235.5V233.2C253.4 232.333 253.467 231.733 253.6 231.4C253.9 231.2 254 230.2 253.8 230C253.8 229.8 251 232 251 232V231.9Z",fill:"#8F4620"}),g.jsx("path",{d:"M259.7 228.9C259.7 228.9 259.7 230.5 260 231.5L260.9 234.5C260.9 234.5 260 233 259.6 231.7C259.2 230.3 258.9 228.9 258.6 228.7C258.2 228.7 257.8 229.4 257.8 230C257.865 231.171 258.136 232.322 258.6 233.4C259.1 234.1 257.9 232.4 257.6 231.5L257 229.8C257 229.8 256.7 230.5 256.8 231.4C257 232.3 257.7 233.5 257.7 233.5L256.9 232.7L256.4 232.2C256.4 232.2 256.4 233.4 256.7 233.9L257.7 235.2L256.7 234.3L256.3 233.8C256.3 233.8 256.4 235.5 256.8 236.4L258 238.7C258 238.7 257 238 256.4 236.5C255.795 234.388 255.525 232.195 255.6 230L256.6 228.5C257 227.8 257.6 224.7 257.6 224.7C257.6 224.7 258.2 227.6 258.7 228.2L259.7 228.9ZM252.8 228L253.4 229.1L253.9 229.9C253.9 229.9 253 230.9 252.1 231.6C251.2 232.3 249.9 233.1 249.6 232.7C249.333 232.233 249.233 231.967 249.3 231.9L251.2 230.4C251.751 229.934 252.194 229.354 252.5 228.7L252.8 228ZM244.1 230.9C244.1 230.9 244.2 232.7 245 232.6C245.8 232.6 248 230.3 248.1 230.2C248.3 230.2 248.4 229.6 248.4 229.4V228.8C248.4 228.8 245.9 231.2 245.1 231.3C244.912 231.336 244.719 231.317 244.541 231.246C244.364 231.175 244.211 231.055 244.1 230.9ZM244.1 228.5L243.9 230.1L244.1 230.8C244.2 230.9 242.4 231.4 242.1 230.8C241.8 230.2 242 229.6 242 229.6L243.2 229.5C243.6 229.4 244.2 228.5 244.2 228.5H244.1ZM260.4 226C260.4 226 261.1 227.8 261.6 228.6L262.7 230.8L261.2 229.2L260.2 228.4L260.4 227.5V226Z",fill:"#1E2121"}),g.jsx("path",{d:"M241.7 229.6H242.7L243.4 229.5L244 228.5C244 228.5 243.7 229.6 244 230.5C244.267 231.167 244.533 231.467 244.8 231.4C245.499 231.289 246.137 230.935 246.6 230.4L248.3 229C248.3 229 248.1 230 248.5 231C248.833 232 249.433 232.167 250.3 231.5C251.1 230.8 251.9 229.7 252.3 229.2L252.9 228.4L253.8 227.7L254.6 223.3L254.1 222.7L253.1 223.3L251.7 222.7L251.3 222.2L250.5 223.5L249.7 224H249.3L248.3 224.3L247.9 223.4L247.7 222.8L247.2 222.6L245.2 224.6L244.2 224.5L243.1 226.2L242.3 227.2L241.5 229.2L241.7 229.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M251.1 225.2C251.1 225.2 251.3 226.2 250.7 228.1C250.1 230 249.4 231.1 249.4 231.1C249.4 231.1 251.4 230 252.3 227.9C253.3 225.7 253 223.3 253 223.3L251.1 225.2ZM253.5 223.2C253.5 223.2 253.7 223.5 253.5 225.2L252.9 228.4L253.4 229.3C253.6 229.8 254.3 230.7 254.8 230.6C255.334 230.467 255.9 229.867 256.5 228.8L257.5 226.5C257.767 226.367 257.9 226.433 257.9 226.7C257.9 226.7 258.1 227.7 258.6 228.1C259.1 228.5 259.6 229.1 260 228.9C260.334 228.633 260.5 228.3 260.5 227.9L259.5 224.7L258.2 221.5L257.4 220.3L255.1 220.5L253.5 223.2Z",fill:"#8F4620"}),g.jsx("path",{d:"M257.4 220.3C257.4 220.3 258 221.6 258.1 223.1C258.2 224.6 257.8 226.1 257.8 226.1V223.1C257.7 221.9 257.2 221.4 257.2 221.1L257.4 220.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M260.5 226V228C260.3 228.5 259.5 227.5 258.9 225.5C258.4 223.5 258.5 223.1 258.1 222.1L257.4 220.3L258.5 220.1L260.5 226ZM254.9 229.8C254.9 229.8 257.1 228.5 257.4 224.8C257.4 223.1 256.4 220.3 256.4 220.3C256.4 220.3 256.4 223.3 255.6 225.3L254.1 228.4L254.9 227.9L255.5 227V228.3L254.9 229.8ZM253 223.3C253 223.3 253 224.1 252 224.8C251.1 225.6 249.5 226.4 249.5 226.4C249.5 226.4 250.7 225.3 251.1 224.3C251.5 223.3 251.2 222.7 251.2 222.7C251.2 222.7 251.1 223.2 250.6 223.7C250.1 224.2 249.3 224.1 249.3 224.1C249.3 224.1 249.3 223.6 249.8 223.1L250 222.5C250.2 221.7 250.9 220.6 250.9 220.6C250.9 220.6 251.4 221.8 251.9 222.3L253 223.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M259.8 218.9C259.8 218.9 260.3 220.2 260.5 222.1C260.7 223.9 260.5 226.1 260.5 226.1L259.1 223.6L258.6 221.3L257.7 220.5L256.9 220.4C256.9 220.4 257.6 220.1 257.6 219.5V218.7C258.3 218.972 259.062 219.041 259.8 218.9ZM254.9 226.7C254.9 226.7 256.1 225.1 256.4 223C256.7 221 256.4 220.3 256.4 220.3C256.4 220.3 255.9 220.2 255.4 219.8C254.9 219.4 254.4 218.4 254.4 218.4C254.4 218.4 254.6 219.4 254.4 220.8C254.2 222.2 253 223.3 253 223.3C253 223.3 253.6 223.5 254.2 223.2C255.4 222.5 255.2 221.2 255.2 221.2C255.2 221.2 255.5 221.4 255.5 223C255.5 224.6 254.9 226.7 254.9 226.7Z",fill:"#1E2121"}),g.jsx("path",{d:"M241 229.5C240.7 229.5 241.7 227.9 242.4 226.8L244.1 224.1C244.1 224.1 244.3 224.3 244.7 224.3C245.105 224.232 245.491 224.081 245.835 223.857C246.179 223.634 246.473 223.342 246.7 223L247.4 221C247.4 220.7 247.4 222.4 248.2 223.3C249 224.3 248.9 224.2 249.2 224.1C249.2 224.1 249.2 225.3 248.9 226.3L248.3 229C248.3 229 248.4 227 248.1 226.4C247.8 225.8 247.6 226.4 247.3 227.2C247 227.9 246.4 228.4 246.4 228.4L247.2 226.6C247.5 225.6 247.3 225.6 247.2 225.6L246.7 225.9C246.3 226.3 246.067 226.467 246 226.4C245.9 226.3 246.4 226.1 246.6 225.6C246.6 225.1 247.1 224.4 247.3 224.2L247.7 223.4C247.7 223.133 247.633 222.933 247.5 222.8C247.367 222.667 247 223 246.4 223.8C245.6 224.5 245.4 224.5 245.4 224.8L244.7 226.8L243.8 229.1L243.4 229.5L244 227.5C244.4 226.5 245 225 244.8 224.8C244.667 224.6 244.5 224.6 244.3 224.8C244.2 225 243.3 225.9 242.6 227C241.9 228.1 241.9 229.5 241.7 229.6L241 229.5Z",fill:"#8F4620"}),g.jsx("path",{d:"M260.5 217.7C260.5 217.8 260.6 218.7 259.8 218.9C259.141 219.097 258.435 219.061 257.8 218.8V217.6L260.5 217.7Z",fill:"#874F20"}),g.jsx("path",{d:"M244.8 220.3L244.2 222C243.7 223 243 223.7 243.1 223.8C243.2 223.9 243.6 224.4 244.3 224.3C245 224.2 245.1 220.5 245.1 220.5V220.3H244.8Z",fill:"#B27129"}),g.jsx("path",{d:"M254.8 218.2C254.8 218.2 254.4 223.2 253 223.2C251.6 223.2 251 220.7 251 220.7C251 220.7 250.8 224.2 249 224.2C248.1 224.2 247.3 221.5 247.4 221C247.4 221 247.1 222.8 246.2 223.5C244.5 224.9 243.4 224.2 243.4 224C243.3 223.8 244.8 222.3 245 220.3C245 220.433 245.234 220.267 245.7 219.8C246.1 219.133 246.434 218.767 246.7 218.7C247.2 218.7 249.3 217.8 249.3 217.8L250.3 216.5C250.3 216.5 250.5 216.9 251.3 216.4C251.763 216.041 252.111 215.554 252.3 215L254.5 216.8L254.7 218.2H254.8Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M249.1 213.3L251.3 216.3L251.8 215.9C252.066 216.3 252.166 216.633 252.1 216.9C251.8 217.6 251.1 218.7 251.6 219.9C251.533 219.833 251.6 219.333 251.8 218.4C252.066 217.6 252.3 217.267 252.5 217.4C252.7 217.4 253 222 253.3 222C253.6 222 254 219.9 254 218.4C254 216.9 254.3 218.1 254.5 218.4C254.6 218.7 255.9 220.8 257 220.4C258 220.2 258 218.2 257.9 217.8L257.1 214.8L252.2 211.8L251.8 213C251.5 213.8 249.1 213.3 249.1 213.3Z",fill:"#B27129"}),g.jsx("path",{d:"M256 212.8C256 212.8 256.3 213.1 256.8 214.3C257.3 215.5 257.3 219.4 256.8 219.4C256.1 219.4 254.8 218.7 254.6 218.1C254.4 217.6 254.7 215.7 254.3 215.1C253.841 214.43 253.503 213.686 253.3 212.9L253.4 211.4L254.5 211L256.1 212.8H256Z",fill:"#8F4620"}),g.jsx("path",{d:"M255.7 211.6L257.7 214.7L259.7 217.3L260.5 217.7C260.194 218.045 259.777 218.273 259.322 218.346C258.866 218.419 258.399 218.332 258 218.1C257.3 217.7 257.7 216.5 256.8 214.5C256.199 213.297 255.305 212.266 254.2 211.5L254.8 211L255.8 211.6H255.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M254.6 210C254.6 210 256.4 211.1 257.1 212.5L258.9 215.9C259.7 217.2 260.6 217.6 260.5 217.7C260.433 217.833 260.1 217.833 259.5 217.7L258.5 216.4L256.5 213C255.959 212.393 255.316 211.886 254.6 211.5L255.9 213.2C256.383 213.956 256.691 214.81 256.8 215.7L255.8 214.1C255.2 212.9 253.7 211.4 253.6 211.6L254.8 214L255.8 216.6L254.4 214.3C253.6 213 253.4 213.2 253.1 212.8L252 211.4C252 211.4 252.7 211.6 253.5 211.1C254.2 210.6 254.5 209.9 254.5 209.9L254.6 210Z",fill:"#1E2121"}),g.jsx("path",{d:"M249.8 213.3C249.8 213.3 251 213.6 251.7 213.5H252.6C252.6 213.5 253 214 253 214.6C253 215.2 252.5 216.3 252.4 216.4C252.2 216.4 252.2 215.4 251.9 215L249.9 213.3H249.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M250.5 216.5C250.5 216.5 250.9 217.8 250.5 219.5C250.3 221.4 249.2 223.2 249 223.2C248.7 223.2 248.8 221.2 248.7 220.2V219.8L248.2 221C248.2 220.9 248.6 219.1 248.5 219V218.3L249.8 216.7L250.5 216.5Z",fill:"#B27129"}),g.jsx("path",{d:"M248.2 217.8C247.8 218.3 247.2 218.1 246.8 218.3C246.3 218.4 246.1 219.2 246.1 219.2C246.1 219.2 246.5 218.9 246.7 219C246.9 219.1 247.1 219 246.7 220C246.3 220.8 244.9 222.3 245 222.4C245 222.4 246.6 221.1 247 220.4C247.6 219.6 247.5 219.2 247.6 218.9C247.7 218.6 248.3 218.3 248.5 218.3C248.634 218.167 248.8 218.367 249 218.9L249.4 220.9L250.1 218.9L250.2 216.6L249.7 216.5L248.5 215.8C248.5 215.8 248.7 217.2 248.2 217.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M254.6 208.6C254.6 208.6 255.1 209.9 254.1 210.7C253.833 210.967 253.467 211.133 253 211.2C252.4 211.2 251.6 210.7 251.6 210.7L248.5 209.4L246.8 208.9L246 208.7L246.1 207.8L248.6 207.9L251 208.9L252 209.2L253 209.3H253.6L254.2 209.2L254.5 208.9L254.6 208.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M254.6 208.6C254.7 208.8 254.4 209.6 254.2 209.6C254 209.8 253.467 209.833 252.6 209.7C251.6 209.5 250.7 208.9 249.6 208.7C248.667 208.3 247.833 208.1 247.1 208.1C246 208.1 246.6 207.7 246.6 207.7C246.6 207.7 248.5 207.5 250.1 208.1C251.7 208.7 252.4 209.1 253.2 209.1C254.4 209.1 254.6 208.6 254.6 208.6Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246.1 207.7H246.8L247.3 207.5L247.2 208H246.2L246.1 207.7Z",fill:"#4D2A15"}),g.jsx("path",{d:"M252.2 211.5C252.2 211.5 253.3 212.5 253 213.5L251 212.5L247.5 211.1L245.7 210.5L245.4 210.2L246 209.6V209L248.3 209.3L250.7 210L252.2 211.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M249.9 213C249.9 213 251.9 215.5 251.4 216.4L246.9 213.4L245.2 216.1L241.5 214.3C241.5 214.3 244.5 212 244.9 211.5L245.2 210.9L246.9 211.3L249.6 212.1L249.9 213Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M248.8 209.3C248.8 209.3 250.4 209.7 251.5 210.3C252.5 210.7 253.9 210.9 253.9 210.9C253.9 210.9 253.3 211.5 252.2 211.5C251.733 211.367 251.2 211.033 250.6 210.5C249.7 209.7 248.6 209.7 248.6 209.7L248.8 209.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M246 208.4L247.9 209C248.6 209.3 248.6 209.2 248.9 209.2L249 209C249 209 249.2 209.7 248.6 209.7C248 209.7 247.9 209.5 247.2 209.2C246.5 208.9 246 209.2 246 209.2V208.4Z",fill:"#4D2A15"}),g.jsx("path",{d:"M252.3 212.9C252.3 212.9 253.2 213.4 253 213.5C252.867 213.633 252.434 213.733 251.7 213.8C251.1 213.8 250.6 213.733 250.2 213.6C249.6 213.4 249.4 212.5 248.2 212L245.9 211.2L244.9 211L245.7 210.7L248.3 211.2L250.5 211.9L251.8 212.5L252.3 212.9ZM248 214.4L248.5 216.4L248.2 217.7L247.5 218.1L246.9 217.9L246.7 217.5C246.7 217.5 247 217 246.7 216.6C246.4 216.2 245.1 215.6 245.1 215.6C245.1 215.6 245.6 214.6 246.1 214.4C246.8 214.2 246.5 213.4 246.5 213.4L248 214.4Z",fill:"#AB6D29"}),g.jsx("path",{d:"M245.4 210.2C245.4 210.2 245.8 210.6 246.7 210.7L248.4 211C248.6 211.1 249.2 210.8 249.3 210.8L248.8 211.1L250.8 211.8C251.7 212.2 252.4 212.8 252.4 212.8L250.8 212.1L248.4 211.4C246.8 211.1 245.3 211.2 244.9 211.1C244.5 211 245.1 211 245.2 210.8C245.4 210.533 245.466 210.333 245.4 210.2Z",fill:"#4D2A15"}),g.jsx("path",{d:"M251.2 215.8C251.2 215.8 251.7 216.4 251.2 216.6C250.7 216.8 249.2 216.7 248.6 216L248.2 215C247.9 214.7 246.9 214 246.2 213.7C245.7 213.3 246.5 213.2 246.5 213.2L249.4 214.5C250.2 214.9 251.2 215.8 251.2 215.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M251.3 215.9C251.3 215.9 250.3 214.5 247.3 213.3L248.2 213.1H246.7L246 212.8C244.4 212.4 244.3 212.4 244.2 212.2C244.134 212.067 244 212.167 243.8 212.5L243.2 213.3C243.848 213.098 244.536 213.063 245.2 213.2C246 213.4 246.267 213.7 246 214.1C246 214.4 244.9 215.7 245 215.7C245.1 215.7 245.7 214.5 246.5 214.7C247.234 214.967 247.567 215.167 247.5 215.3L247.4 214.6C247.2 214.4 246.4 213.6 246.6 213.6C246.8 213.6 247.8 213.9 249.2 214.6C250.6 215.3 250.8 215.5 251.2 215.9H251.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M246.5 213.6C246.5 213.6 248.7 214.3 248.6 216.6C248.6 219 246.8 218.6 246.6 217.7C246.4 216.8 246.9 218.1 247.5 218C248.167 217.867 248.433 217.3 248.3 216.3C248.3 215.5 248.033 214.9 247.5 214.5L246.5 213.6Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M236.8 208C236.8 208 237.1 208 236.4 209.8C236.01 211.023 235.362 212.148 234.5 213.1C232.7 215.1 231.9 215.1 232.1 215.9C232.3 216.8 233 216.6 233.1 216.6C233.3 216.6 236.6 211.8 236.6 211.8L237.3 209L237.1 208.2L236.9 207.9L236.8 208Z",fill:"#6C3F18"}),g.jsx("path",{d:"M244.9 204.5C244.9 204.5 245.9 205.9 245.5 208.5C245.2 211.2 241.7 213.5 241.7 213.5L236.7 217.1L234.5 216.9H233.9L233.2 216.5C233 216.5 232.8 215.5 232.8 215.5L233.4 214.7L235.3 212.9L236.4 211.2C236.4 211.2 237 210.2 237 209.3L236.9 207.9L237.3 208.6L237.5 210L237.3 211.6L238.7 210.6L240.4 209.9C240.4 209.9 240.9 209.8 241.3 208.9C241.6 207.9 241.9 206.4 241.9 205.7V204.3H242.1C242.1 204.4 242.6 205.3 242.6 205.7L242.9 207.9L243.8 207.1L244.5 205.9L244.9 204.5Z",fill:"#DBAD6C"}),g.jsx("path",{d:"M245.5 217.8C245.5 217.8 245.8 218 245.7 219C245.6 220 244.7 220.5 244.4 220.5V219.2L243.3 218.2L242.1 217.9L242.3 217.7C242.4 217.5 243.7 217 243.7 217L245.5 217.8Z",fill:"#904720"}),g.jsx("path",{d:"M244.6 217.8C244.6 217.8 244.9 218.1 245.5 218C246.1 217.9 246.3 217 246 216.6C245.7 216.2 245.8 217.4 245.5 217.6C245.1 217.6 244.7 216.6 244.2 216.6C243.7 216.4 242.9 216.8 242.7 217.1C242.5 217.4 243.5 217.1 243.5 217.1L244.1 217.3L244.5 217.4L244.6 217.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M237.2 214.1C237.2 214.1 237.9 214.3 238.6 214.2C239.3 214.1 241.1 213.4 241.1 213.4L242.5 212.4C243.1 211.7 245 210.6 245.2 208.2C245.4 205.9 244.9 204.5 244.9 204.5C244.9 204.5 247.7 207.5 245.2 211C243.6 213.3 242.2 214 242.2 214C242.2 214 245 213.2 245.2 213.9C245.4 214.5 245.1 215.5 245 215.7C245 215.7 246.5 216 246.8 216.8C246.9 217.3 245 216.3 243.6 216.6C242.829 216.792 242.132 217.21 241.6 217.8C241.6 217.8 241.3 217.4 240.1 217.4C238.8 217.4 238.2 218 237.5 217.9C236.8 217.8 234.5 217.4 234.1 216.8L235.6 215.1C236.3 213.8 237.2 214.1 237.2 214.1Z",fill:"#904720"}),g.jsx("path",{d:"M243 207.8C243 207.8 244.1 206.8 244.5 205.9L244.9 204.5C244.9 204.5 245 205.3 244.4 206.3L243 207.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M242.7 205.4C242.7 205.4 243.7 208.8 242.7 210.3C241.7 211.7 237.6 213.5 237.6 213.5C237.6 213.5 240.7 211.8 241.6 209.9C242.6 207.9 242.6 206.3 242.6 206.3L242.7 205.4Z",fill:"#904720"}),g.jsx("path",{d:"M238.6 214.2C238.6 214.2 239.9 214.2 240.6 213.7C241.4 213.3 242.5 212.3 242.5 212.3C242.5 212.3 241.5 213.2 241.2 213.2C240.866 213.067 240.733 212.8 240.8 212.4C240.8 212.4 240.6 213.1 240 213.5L238.6 214.2ZM241.6 209.9C241.6 209.9 242.8 208.7 242.8 206.3C242.8 203.9 241.8 204.3 241.8 204.3C241.8 204.3 242.6 204.9 242.4 206.7C242.3 208.6 241.7 209.9 241.7 209.9H241.6ZM243 210.1C243 210.1 244.3 209.8 244.7 209.1C245.2 208.3 245.2 206.9 245.2 206.9C245.2 206.9 245 208.2 244.7 208.7C244.3 209.2 243 210.1 243 210.1ZM242.3 217.7C242.3 217.7 242.9 216.5 243.7 216.7C244.6 217.1 244.6 217.7 244.6 217.7C244.6 217.7 244.3 217.3 243.6 217.2L242.3 217.7ZM239.9 215.5L242.9 214.7L245.2 213.9C245.2 213.9 244.3 214.9 243 215.8C241.466 216.467 240.633 216.733 240.5 216.6C240.3 216.4 243 215.5 243.2 215C243.2 215 240.8 215.7 239.9 215.5Z",fill:"#1E2121"}),g.jsx("path",{d:"M237 212.7C237.464 213.018 237.782 213.508 237.886 214.061C237.989 214.614 237.868 215.186 237.55 215.65C237.231 216.114 236.742 216.433 236.189 216.536C235.635 216.639 235.064 216.518 234.6 216.2",fill:"white"}),g.jsx("path",{d:"M236.9 212.9C237.192 213.225 237.364 213.64 237.385 214.076C237.407 214.512 237.278 214.942 237.02 215.295C236.762 215.647 236.39 215.899 235.968 216.009C235.545 216.12 235.098 216.081 234.7 215.9",fill:"#F16E16"}),g.jsx("path",{d:"M236 214C236.152 213.986 236.305 214.016 236.44 214.086C236.576 214.156 236.689 214.263 236.765 214.395C236.842 214.527 236.879 214.678 236.873 214.83C236.866 214.983 236.816 215.13 236.729 215.255C236.641 215.38 236.52 215.478 236.379 215.536C236.238 215.594 236.083 215.611 235.933 215.584C235.783 215.557 235.643 215.488 235.531 215.385C235.419 215.281 235.339 215.148 235.3 215",fill:"black"}),g.jsx("path",{d:"M236.2 214.9C236.187 214.966 236.148 215.025 236.092 215.062C236.035 215.1 235.967 215.113 235.9 215.1C235.834 215.087 235.776 215.048 235.738 214.991C235.701 214.935 235.687 214.866 235.7 214.8C235.695 214.763 235.7 214.725 235.716 214.69C235.731 214.656 235.756 214.627 235.787 214.606C235.819 214.585 235.855 214.573 235.893 214.572C235.931 214.571 235.968 214.581 236 214.6C236 214.6 236.2 214.7 236.2 214.9Z",fill:"#D5D3CA"}),g.jsx("path",{d:"M237.5 211.3C237.5 211.3 238.7 210.1 239 208.5V206L239.7 206.7L240 207.9L239.6 209.9L240.9 209.3C241.66 207.748 242.005 206.025 241.9 204.3C241.9 204.3 242.2 205 241.7 207.3C241.2 209.6 240.8 209.9 239.1 210.9C237.808 211.693 236.767 212.838 236.1 214.2L234.2 216.7C234.2 216.7 235.1 215.5 235.5 214.5C236.3 213.1 236.767 212.367 236.9 212.3L237.5 211.3Z",fill:"#AB6D29"}),g.jsx("path",{d:"M236.9 212.3C236.9 212.3 237.4 210.7 237.4 209.8C237.4 208.9 236.8 207.9 236.8 207.9C236.8 207.9 237.6 207.9 237.7 209.7C237.7 211.7 237.4 211.7 236.9 212.3Z",fill:"#904720"}),g.jsx("path",{d:"M239.3 210.3C239.3 210.3 239.9 208.8 239.9 207.9C239.9 206.9 239.1 206 239.1 206C239.1 206 240.1 206.2 240.1 208C240.1 209.7 239.9 209.7 239.3 210.3Z",fill:"#4D2A15"}),g.jsx("path",{d:"M233.7 216.8C233.7 216.8 233.2 216.2 233.3 215.8C233.4 215.4 233.3 215.2 234.4 214C235.21 213.293 235.888 212.446 236.4 211.5C236.7 210.9 237.6 209.2 236.9 207.9C236.9 207.9 237.4 209.9 236.3 211.3C235.561 212.434 234.65 213.447 233.6 214.3C232.6 215 232.6 215.3 232.6 215.7C232.6 216.1 232.7 216.367 232.9 216.5L233.7 216.8Z",fill:"#AB6D29"}),g.jsx("path",{d:"M244.4 220.5C244.4 220.5 244.6 220.5 244.8 220.2C244.933 219.933 244.833 219.533 244.5 219C244.168 218.552 243.717 218.206 243.2 218L241.6 217.8C241.6 217.8 241.9 218.4 242.6 218.8C243 219 243.6 218.8 244 219.1C244.3 219.5 244.4 220.5 244.4 220.5Z",fill:"#6C4119"}),g.jsx("path",{d:"M244.4 220.5C244.4 220.5 245.6 220.1 245.7 218.9L245.6 217.9C245.6 217.9 245.8 218.3 246.3 218.5L246.7 218.3C246.7 218.3 246 220.6 244.4 220.5Z",fill:"#6C4119"}),g.jsx("path",{d:"M235.8 220.3L236.5 220.9L237.2 221.6L240.2 220.8L241.2 219.9L240.3 218.6H238.2L235.8 220.3Z",fill:"#BF802D"}),g.jsx("path",{d:"M243 219.3L242.5 218.5C242.5 218.5 242.3 218.2 241.9 218C241.5 217.8 239.7 217.8 239.7 217.8L238.4 218C238.4 218 238 218.4 237.4 218.2L235.2 217.5L233.8 216.8C233.8 216.8 232.7 216.4 232.4 216.5C232.2 216.5 231.4 217.5 231.4 217.5C231.4 217.5 231.1 218.1 231.5 218.1C231.8 218.1 231 218.3 231 218.3C231 218.3 228.7 219.5 228.4 221.7C228.1 223.9 232.1 227.2 233.6 225.5C233.6 225.5 231.4 223.9 231.8 222.5C232.2 221.167 233.266 220.4 235 220.2C236.7 220.2 236.8 219.9 237.6 219.4C238.3 218.8 239.7 218.5 240.8 219.6C241.8 220.7 236.8 221.7 236.8 221.7L237.4 222.5C237.4 222.5 243.5 220.4 243 219.3Z",fill:"#F9C83A",stroke:"#8F4620",strokeWidth:"0.3"}),g.jsx("path",{d:"M231.5 224.5C231.5 224.5 229 223.9 229.2 221.6C229.31 220.869 229.621 220.183 230.098 219.619C230.574 219.054 231.198 218.632 231.9 218.4C232.3 218.3 232.2 217.1 232.6 217C233 216.9 233.8 217 234.2 217.3C234.5 217.7 235.3 218 235.3 218C235.3 218 230.9 220 230.8 222.5C230.8 224.2 231.5 224.5 231.5 224.5Z",fill:"#FCF3D8"}),g.jsx("path",{d:"M243 219C243 219 242.7 219.2 242.6 219C242.2 218.2 241.1 218 240.2 218C239.1 218 238.3 218.4 237.5 218.4L236.1 218.2C235.1 218.2 233.3 216.8 232.8 216.9C232.4 217.167 232.233 217.5 232.3 217.9C232.3 218.1 231.5 218.2 231.3 217.9C231.1 217.6 232 216.5 232.8 216.5C234.9 216.5 236.5 217.9 237.5 217.9C238.5 217.9 238.8 217.4 240.2 217.4C241.6 217.4 243 218 243 219Z",fill:"#FDEAAF"}),g.jsx("path",{d:"M236.2 220.7L237.9 220.1L239.7 219.5L238.1 220.5L236.4 220.9L236.2 220.7Z",fill:"#513625"}),g.jsx("path",{d:"M232.6 225.8C232.466 226 231.666 225.7 230.2 224.9C228 223.7 228.4 222.4 228.4 222.4C228.4 222.4 228.1 220.9 229.6 219.4C231 217.8 231.2 218.3 231.3 218.4V218.5L230 219.5L229.3 220.6L228.8 221.6V222.6L229.5 223.8L231.5 225.1L232.6 225.8Z",fill:"#F9C83A"}),g.jsx("path",{d:"M231.9 217.2V217L231.7 217.1L231.9 217.2ZM231.9 217.2H231.7V217.3L231.9 217.2ZM231.9 217.2H231.7L231.3 217.7L231.1 218.2C231.1 218.4 231.2 218.567 231.4 218.7H232.6V218.4L232.4 218.3H231.6V218L231.9 217.6V217.2ZM231.9 217.2V217L231.8 216.8C231.762 216.795 231.724 216.8 231.69 216.816C231.655 216.831 231.626 216.856 231.605 216.887C231.584 216.919 231.573 216.955 231.572 216.993C231.571 217.03 231.58 217.068 231.6 217.1L231.9 217.2Z",fill:"#8B5122"}),g.jsx("path",{d:"M236.1 219.3L233.1 220.2C232.8 220.4 234 220.2 234.9 220.2H236.7C237.9 219.7 240.3 218.8 240.5 219.8C240.7 220.8 237.2 221.5 237.2 221.5V221.8L240 221.1L241.4 220.4L241.9 219.6L240.5 218.6H238.5L237.5 218.9L236.1 219.3Z",fill:"#F9C83A"}),g.jsx("path",{d:"M231.8 223.6C232 224.2 232.5 225.1 233 225.4C233 225.667 232.567 225.733 231.7 225.6C230.7 225.3 229.3 224.9 228.4 222.3V222.8L228.9 223.8L229.9 224.8L231.3 225.8L232.3 226L233.2 225.8L233.6 225.5L232.7 224.7L231.7 222.9V223.6H231.8Z",fill:"#8F4620"}),g.jsx("path",{d:"M241.7 250.1V251.1H241.1L241.2 249.8L241.7 250.1ZM237.9 222.6L236.9 221.5H236.3L237.3 222.9L237.9 222.6Z",fill:"#FCCA3D"}),g.jsx("path",{d:"M241.6 252.4L240.3 251.6L238.3 251.1V251.4H238.5L240.2 251.9L241.5 252.6L241.6 252.4ZM241.6 249.9H239.4C238.6 250.167 238.2 250.367 238.2 250.5L238.3 250.7C238.899 250.243 239.649 250.029 240.4 250.1H241.5L241.6 249.9ZM241.3 247.8L239.3 248.8L237.9 249.8L238.1 250L238.5 249.7L239.4 249.1L241.4 248.1L241.3 247.8ZM239.9 245.6L239.7 246.6L239.2 247.2L237.9 248.6L237.2 249.3L237.3 249.5L238.5 248.3L239.4 247.3L239.9 246.7C240.166 246.1 240.266 245.767 240.2 245.7H239.9V245.6ZM238.2 244.6C238.352 245.196 238.317 245.824 238.1 246.4L237.3 248.1L236.9 248.9L236.8 249.2H237C237 249.2 238 247.5 238.3 246.5L238.5 245.3V244.6H238.2ZM236.5 244.4V245.4L236.4 246.7L235.9 248.2L235.6 249H235.8L236.6 246.8C236.8 246.333 236.866 245.833 236.8 245.3V244.4H236.5ZM235.2 244.4V245.4L235.1 246.9L234.7 248.9H234.9L235 248.3L235.3 247C235.5 246.1 235.5 244.4 235.5 244.4H235.2ZM233.9 244.7V246.9C233.6 247.7 233.5 248.9 233.5 248.9H233.8L234.1 247V244.6L233.9 244.7ZM232.8 244.7V244.9L232.5 246.7L232.1 248.2L231.9 249L232.1 249.1L232.8 246.8L233 244.9V244.8H232.8V244.7ZM231.5 244.8V245.3C231.5 245.833 231.4 246.4 231.2 247C230.933 247.533 230.6 247.933 230.2 248.2L229.5 248.7H229.4L229.5 248.9C229.5 248.9 230.9 248.1 231.5 247.1C231.779 246.367 231.881 245.58 231.8 244.8H231.5ZM230.8 244.6V244.7L230 246.2L229 247.2L228.5 247.4L228.3 247.5L228.4 247.8C228.4 247.8 229.6 247.1 230.2 246.4C230.7 245.7 231 244.6 231 244.6H230.8ZM229.6 244V244.1L229.2 244.6C229.2 244.8 229.1 244.967 228.9 245.1L228.1 245.6L227.6 245.9L227.7 246.1L228.2 245.8L229 245.3L229.6 244.6L229.8 244.1L229.6 244ZM229 243.2L228.8 243.5L228.1 244.2L227.7 244.6L227.4 244.8V245L228 244.7L229.2 243.4L229 243.2ZM228.8 242.7L228.6 242.9L227.9 243.3L227.2 243.6V243.9C227.4 243.9 227.566 243.833 227.7 243.7L228.9 242.9L228.8 242.7ZM228.5 242.2L227.9 242.5L227.5 242.7L227.1 242.9V243.1L227.6 243L228.6 242.4L228.5 242.2ZM228.3 241.1L227.8 241.5L227.1 241.8V242C227.5 242 227.833 241.867 228.1 241.6L228.5 241.3L228.3 241.1ZM228.3 239.3L227.9 239.7L227.3 240.5L227.2 240.6V240.9L227.4 240.8L227.5 240.6C227.5 240.4 227.7 240.167 228.1 239.9L228.4 239.7L228.5 239.5L228.3 239.3ZM236.9 229.1H238.2V229L238.1 229.1V229H238V228.9H238.1H236.9V229.1ZM236.9 228.3L237.5 228.2L238.3 227.7L238.6 227.4H238.9V227.1L238.4 227.3L237.6 227.8L236.9 228.1V228.3ZM236.9 227.1L237.4 226.9L238.4 226.3L239.1 226V225.7L238.6 225.9L237.6 226.5L236.8 226.9V227.1H236.9ZM236.4 226.1L237.6 225.1L238.9 224.2L238.8 224L237.5 225L236.3 225.8L236.4 226.1ZM235.6 224.8L238.2 222.9L238 222.7L235.4 224.6L235.6 224.8ZM234.4 223.5L235.9 222.5L237.1 221.7L237 221.5L235.8 222.3L234.3 223.3L234.4 223.5ZM233.6 222.8L235.7 221.3L236.3 220.9V220.7L235.6 221L233.4 222.6L233.6 222.8Z",fill:"#816C2A"}),g.jsx("path",{d:"M235.6 220.3L237.6 222.3C238.467 223.367 238.933 224.467 239 225.6V226C238.727 227.496 238.033 228.884 237 230C235.5 231.9 233.2 233.5 231.4 235.1C230.5 235.831 229.693 236.67 229 237.6C228.39 238.41 228.042 239.387 228 240.4V240.5C228 241.567 228.333 242.467 229 243.2C229.597 244.034 230.492 244.607 231.5 244.8H232.1C233.5 244.8 235.1 244.3 236.6 244.3C237.8 244.233 238.967 244.733 240.1 245.8C241.1 246.9 241.4 248.7 241.4 250.4L241.1 253.7L240.8 255.2H241C241 255.2 241.7 252.9 241.7 250.4C241.7 248.7 241.3 246.8 240.3 245.6C239.819 245.109 239.243 244.723 238.606 244.465C237.97 244.207 237.287 244.082 236.6 244.1C235 244.1 233.5 244.5 232.1 244.5H231.5C231.034 244.462 230.583 244.316 230.184 244.073C229.785 243.829 229.448 243.496 229.2 243.1C228.663 242.335 228.351 241.434 228.3 240.5V240.4C228.3 239.133 228.833 237.967 229.9 236.9C231.3 235.3 233.5 233.7 235.4 231.9C237.4 230.3 239 228.4 239.3 225.9V225.6C239.3 224.2 238.3 222.8 237.4 221.7L235.6 220V220.3Z",fill:"#78732E"}),g.jsx("path",{d:"M233.7 222.8L233.4 222.5L233.1 222.6L233.6 223L233.7 222.8ZM234.5 223.5L234.3 223.3H234.1L234.3 223.6L234.5 223.5Z",fill:"#A8AC71"}),g.jsx("path",{d:"M235.6 224.8L235.4 224.5L235.3 224.7L235.6 224.8ZM236.4 226V225.8H236.1L236.4 226.1V226ZM236.9 227.2V226.9H236.8L236.9 227.2ZM227.2 241L227.3 240.4C227.4 240.1 227.1 240.5 227.1 240.5V240.9H227.2V241Z",fill:"#78732E"}),g.jsx("path",{d:"M227.1 241.7V242.1H227.2L227.1 241.7Z",fill:"white"}),g.jsx("path",{d:"M227.2 243.1V242.8H227V243.3L227.2 243.1Z",fill:"#78732E"}),g.jsx("path",{d:"M227.3 243.9V243.6H227.1V243.9H227.3ZM227.8 246.2L227.6 245.8V246.2H227.8Z",fill:"white"}),g.jsx("path",{d:"M228.5 247.8L228.4 247.5H228.2L228.5 247.8ZM229.7 248.9L229.3 248.6C229.1 248.4 229.2 248.8 229.2 248.8L229.5 249L229.7 248.9ZM237.5 249.5L237.2 249.3L237.4 249.6V249.5H237.5Z",fill:"#A8AC71"}),g.jsx("path",{d:"M238.2 250L237.9 249.8V250H238.1H238.2Z",fill:"white"}),g.jsx("path",{d:"M238.3 250.3L238.1 250.5L238.4 250.7L238.3 250.3Z",fill:"#A8AC71"}),g.jsx("path",{d:"M238 252.6V252.3L237.8 252.6H238ZM226 210.9C226 210.9 226.5 210.8 226.1 211.3L226.4 210.9L226.2 210.8L226 210.9Z",fill:"white"}),g.jsx("path",{d:"M235.7 220L236 220.3L235.6 220.2L235.7 220Z",fill:"#F9C83A"}),g.jsx("path",{d:"M236 220.3H235.4L235.6 220.2L236 220.3Z",fill:"#8F4620"}),g.jsx("path",{d:"M240.7 255.3C240.7 255.3 241.1 255.3 241.2 255C241.4 254.8 241.2 255.3 241.2 255.3L240.9 255.4L240.7 255.3Z",fill:"#977C2E"})]}),g.jsxs("defs",{children:[g.jsxs("radialGradient",{id:"paint0_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(2.78573 1.17983 -1.15213 2.79993 234.885 267.814)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsxs("radialGradient",{id:"paint1_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(-0.27566 -2.98743 2.7721 -0.263226 214.229 257.819)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsxs("radialGradient",{id:"paint2_radial_4989_137735",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(1.00364 1.19767 -2.32347 2.00377 290.391 274.461)",gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"white"}),g.jsx("stop",{offset:"1",stopColor:"#F15770"})]}),g.jsx("clipPath",{id:"clip0_4989_137735",children:g.jsx("rect",{width:"512",height:"512",rx:"256",fill:"white"})})]})]}),yxe=t=>g.jsxs("svg",{width:"256",height:"256",viewBox:"0 0 256 256",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("g",{clipPath:"url(#clip0_4989_137730)",children:g.jsxs("g",{clipPath:"url(#clip1_4989_137730)",children:[g.jsx("path",{d:"M-65.3379 -3.625H434.837V259.625H-65.3379",fill:"#B31942"}),g.jsx("path",{d:"M-65.3379 26.75H434.837ZM434.837 67.25H-65.3379ZM-65.3379 107.75H434.837ZM434.837 148.25H-65.3379ZM-65.3379 188.75H434.837ZM434.837 229.25H-65.3379Z",fill:"black"}),g.jsx("path",{d:"M-65.3379 26.75H434.837M434.837 67.25H-65.3379M-65.3379 107.75H434.837M434.837 148.25H-65.3379M-65.3379 188.75H434.837M434.837 229.25H-65.3379",stroke:"white",strokeWidth:"20.25"}),g.jsx("path",{d:"M-65.3379 -3.625H134.732V138.125H-65.3379",fill:"#0A3161"}),g.jsx("path",{d:"M1.352 16.625L6.11306 31.278L-6.35156 22.2219H9.05555L-3.40906 31.278L1.352 16.625Z",fill:"white"}),g.jsx("path",{d:"M1.352 44.975L6.11306 59.628L-6.35156 50.5719H9.05555L-3.40906 59.628L1.352 44.975Z",fill:"white"}),g.jsx("path",{d:"M1.352 73.325L6.11306 87.978L-6.35156 78.9219H9.05555L-3.40906 87.978L1.352 73.325Z",fill:"white"}),g.jsx("path",{d:"M1.352 101.675L6.11306 116.328L-6.35156 107.272H9.05555L-3.40906 116.328L1.352 101.675Z",fill:"white"}),g.jsx("path",{d:"M18.0248 2.44998L22.7859 17.103L10.3213 8.04694H25.7284L13.2638 17.103L18.0248 2.44998Z",fill:"white"}),g.jsx("path",{d:"M18.0248 30.8L22.7859 45.453L10.3213 36.3969H25.7284L13.2638 45.453L18.0248 30.8Z",fill:"white"}),g.jsx("path",{d:"M18.0248 59.15L22.7859 73.803L10.3213 64.7469H25.7284L13.2638 73.803L18.0248 59.15Z",fill:"white"}),g.jsx("path",{d:"M18.0248 87.5L22.7859 102.153L10.3213 93.0969H25.7284L13.2638 102.153L18.0248 87.5Z",fill:"white"}),g.jsx("path",{d:"M18.0248 115.85L22.7859 130.503L10.3213 121.447H25.7284L13.2638 130.503L18.0248 115.85Z",fill:"white"}),g.jsx("path",{d:"M34.6977 16.625L39.4588 31.278L26.9941 22.2219H42.4013L29.9366 31.278L34.6977 16.625Z",fill:"white"}),g.jsx("path",{d:"M34.6977 44.975L39.4588 59.628L26.9941 50.5719H42.4013L29.9366 59.628L34.6977 44.975Z",fill:"white"}),g.jsx("path",{d:"M34.6977 73.325L39.4588 87.978L26.9941 78.9219H42.4013L29.9366 87.978L34.6977 73.325Z",fill:"white"}),g.jsx("path",{d:"M34.6977 101.675L39.4588 116.328L26.9941 107.272H42.4013L29.9366 116.328L34.6977 101.675Z",fill:"white"}),g.jsx("path",{d:"M51.3696 2.44992L56.1306 17.103L43.666 8.04688H59.0731L46.6085 17.103L51.3696 2.44992Z",fill:"white"}),g.jsx("path",{d:"M51.3696 30.7999L56.1306 45.453L43.666 36.3969H59.0731L46.6085 45.453L51.3696 30.7999Z",fill:"white"}),g.jsx("path",{d:"M51.3696 59.1499L56.1306 73.803L43.666 64.7469H59.0731L46.6085 73.803L51.3696 59.1499Z",fill:"white"}),g.jsx("path",{d:"M51.3696 87.4999L56.1306 102.153L43.666 93.0969H59.0731L46.6085 102.153L51.3696 87.4999Z",fill:"white"}),g.jsx("path",{d:"M51.3696 115.85L56.1306 130.503L43.666 121.447H59.0731L46.6085 130.503L51.3696 115.85Z",fill:"white"}),g.jsx("path",{d:"M68.0424 16.625L72.8035 31.278L60.3389 22.2219H75.746L63.2814 31.278L68.0424 16.625Z",fill:"white"}),g.jsx("path",{d:"M68.0424 44.9749L72.8035 59.628L60.3389 50.5719H75.746L63.2814 59.628L68.0424 44.9749Z",fill:"white"}),g.jsx("path",{d:"M68.0424 73.325L72.8035 87.978L60.3389 78.9219H75.746L63.2814 87.978L68.0424 73.325Z",fill:"white"}),g.jsx("path",{d:"M68.0424 101.675L72.8035 116.328L60.3389 107.272H75.746L63.2814 116.328L68.0424 101.675Z",fill:"white"}),g.jsx("path",{d:"M84.7143 2.44998L89.4754 17.103L77.0107 8.04694H92.4179L79.9532 17.103L84.7143 2.44998Z",fill:"white"}),g.jsx("path",{d:"M84.7143 30.8L89.4754 45.453L77.0107 36.3969H92.4179L79.9532 45.453L84.7143 30.8Z",fill:"white"}),g.jsx("path",{d:"M84.7143 59.15L89.4754 73.803L77.0107 64.7469H92.4179L79.9532 73.803L84.7143 59.15Z",fill:"white"}),g.jsx("path",{d:"M84.7143 87.5L89.4754 102.153L77.0107 93.0969H92.4179L79.9532 102.153L84.7143 87.5Z",fill:"white"}),g.jsx("path",{d:"M84.7143 115.85L89.4754 130.503L77.0107 121.447H92.4179L79.9532 130.503L84.7143 115.85Z",fill:"white"}),g.jsx("path",{d:"M101.387 16.625L106.148 31.278L93.6836 22.2219H109.091L96.6261 31.278L101.387 16.625Z",fill:"white"}),g.jsx("path",{d:"M101.387 44.975L106.148 59.628L93.6836 50.5719H109.091L96.6261 59.628L101.387 44.975Z",fill:"white"}),g.jsx("path",{d:"M101.387 73.325L106.148 87.978L93.6836 78.9219H109.091L96.6261 87.978L101.387 73.325Z",fill:"white"}),g.jsx("path",{d:"M101.387 101.675L106.148 116.328L93.6836 107.272H109.091L96.6261 116.328L101.387 101.675Z",fill:"white"}),g.jsx("path",{d:"M118.06 2.44995L122.821 17.103L110.356 8.04691H125.764L113.299 17.103L118.06 2.44995Z",fill:"white"}),g.jsx("path",{d:"M118.06 30.8L122.821 45.453L110.356 36.3969H125.764L113.299 45.453L118.06 30.8Z",fill:"white"}),g.jsx("path",{d:"M118.06 59.15L122.821 73.803L110.356 64.7469H125.764L113.299 73.803L118.06 59.15Z",fill:"white"}),g.jsx("path",{d:"M118.06 87.4999L122.821 102.153L110.356 93.0969H125.764L113.299 102.153L118.06 87.4999Z",fill:"white"}),g.jsx("path",{d:"M118.06 115.85L122.821 130.503L110.356 121.447H125.764L113.299 130.503L118.06 115.85Z",fill:"white"})]})}),g.jsxs("defs",{children:[g.jsx("clipPath",{id:"clip0_4989_137730",children:g.jsx("rect",{width:"256",height:"256",rx:"128",fill:"white"})}),g.jsx("clipPath",{id:"clip1_4989_137730",children:g.jsx("rect",{width:"500.175",height:"263.25",fill:"white",transform:"translate(-65.3379 -3.625)"})})]})]}),_Te={usd:{symbol:"$",name:"US Dollar",icon:g.jsx(yxe,{})},eur:{symbol:"€",name:"Euro",icon:g.jsx(pxe,{})},gbp:{symbol:"£",name:"British Pound",icon:g.jsx(mxe,{})},mxn:{symbol:"$",name:"Mexican Peso",icon:g.jsx(gxe,{})},brl:{symbol:"R$",name:"Brazilian Real",icon:g.jsx(fxe,{})}},CTe={usd:[["asset","Currency"],["bank_beneficiary_name","Beneficiary name"],["bank_beneficiary_address","Beneficiary address"],["bank_account_number","Account number"],["bank_routing_number","Routing number"],["bank_name","Bank name"],["bank_address","Bank address"]],eur:[["asset","Currency"],["account_holder_name","Account holder"],["iban","IBAN"],["bic","BIC / SWIFT"],["bank_name","Bank name"],["bank_address","Bank address"]],mxn:[["asset","Currency"],["account_holder_name","Account holder"],["clabe","CLABE"],["bank_name","Bank name"],["bank_address","Bank address"]],brl:[["asset","Currency"],["account_holder_name","Account holder"],["br_code","PIX code"],["bank_name","Bank name"],["bank_address","Bank address"]],gbp:[["asset","Currency"],["account_holder_name","Account holder"],["account_number","Account number"],["sort_code","Sort code"],["bank_name","Bank name"],["bank_address","Bank address"]]};async function _a(t,e){const n=e||{},r={};let i;n.body&&typeof n.body=="object"&&(r["Content-Type"]="application/json",i=JSON.stringify(n.body));const s=new AbortController;let a=null;(n.timeoutMs||0)>0&&(a=setTimeout(()=>s.abort(),n.timeoutMs));let o;try{o=await fetch(t,{method:n.method||"GET",headers:r,body:i,signal:s.signal})}catch(l){throw l?.name==="AbortError"&&(n.timeoutMs||0)>0?new Error(`Request timed out (${n.timeoutMs}ms)`):l}finally{a&&clearTimeout(a)}const c=await o.json().catch(()=>null);if(!o.ok){const l=(c?.error||c?.message||"Request failed")+" ("+o.status+")";throw new Error(l)}return c}const wxe=5*60*1e3,bxe=1200,vxe=4800,_xe=18;let X2=null;function yj(t,e,n){const r=t.trim()||"Deliver deterministic, verifiable outcomes.",i=e||"enclagent_profile";return{summary:`Objective mapped to a deterministic setup plan for ${i} (${n||"general"}).`,mermaid:`graph TD
  A[User Objective] --> B[Policy Synthesis]
  B --> C[Config Validation]
  C --> D[Identity and Signature]
  D --> E[Provisioning]
  E --> F[Runtime Verification]
  B --> G[Mission and Personality Seeding]`,identityMarkdown:`# IDENTITY

## Name
${i}

## Personality
- Precise, deterministic, and audit-focused
- Security-first with explicit policy gates
- Clear error handling and operational discipline

## Operating Style
- Prefer verifiable outputs over speculative behavior
- Preserve signer and policy constraints at all times`,missionMarkdown:`# MISSION

## Core Mission
${r}

## Success Criteria
- Deterministic policy execution
- Verifiable receipts and evidence links
- Safe fallback behavior under degraded dependencies

## Constraints
- No live execution without explicit signer authorization
- Preserve privacy and module governance boundaries`}}function Cxe(t){const e=String(t||"").replace(/```mermaid|```/gi,"").trim();if(!e)return`graph TD
  A[User Objective] --> B[Policy Synthesis]
  B --> C[Config Validation]
  C --> D[Identity and Signature]
  D --> E[Provisioning]
  E --> F[Runtime Verification]
  B --> G[Mission and Personality Seeding]`;if(/^(graph|flowchart)\s+TD\b/i.test(e)){const n=e.split(/\r?\n/).map(s=>s.trimEnd()).filter(s=>s.trim().length>0),r=n[0]||"graph TD",i=n.slice(1,1+_xe);return i.length===0?`graph TD
  A[Launch Objective] --> B[Policy Synthesis]`:[r,...i].join(`
`)}return/^(graph|flowchart)\s+/i.test(e)?`graph TD
  A[Launch Objective] --> B[Policy Synthesis]`:`graph TD
  A[Launch Objective] --> B[${e.replace(/\n+/g," ").slice(0,120)}]`}function rA(t,e,n){const r=String(t||"").trim();return r?/^#\s+/m.test(r)?r:`# ${e}

${r}`:`# ${e}

${n}`}function Exe(t){const e=String(t||"").trim();if(!e)return null;try{const s=JSON.parse(e);if(s&&typeof s=="object"&&!Array.isArray(s))return s}catch{}const n=e.match(/```json\s*([\s\S]*?)```/i);if(n?.[1])try{const s=JSON.parse(n[1].trim());if(s&&typeof s=="object"&&!Array.isArray(s))return s}catch{}const r=e.indexOf("{"),i=e.lastIndexOf("}");if(r>=0&&i>r){const s=e.slice(r,i+1);try{const a=JSON.parse(s);if(a&&typeof a=="object"&&!Array.isArray(a))return a}catch{return null}}return null}function xxe(t){const e=t.toLowerCase();return e.includes("claude")||e.includes("anthropic")||e.includes("minimax")||e.includes("m2.5")}function iA(t){const e=t.toLowerCase();return e.includes("minimax")&&e.includes("m2.5")?100:e.includes("minimax")?95:e.includes("claude")?90:e.includes("anthropic")?80:e.includes("gpt")?20:10}function Axe(t){const e=t.map(r=>String(r||"").trim()).filter(Boolean);return e.length===0?null:[...e].sort((r,i)=>iA(i)-iA(r))[0]||null}async function Lxe(){const t=Date.now();if(X2&&X2.expiresAt>t)return X2.models;try{const n=((await _a("/v1/models",{timeoutMs:bxe}))?.data||[]).map(r=>String(r?.id||"").trim()).filter(Boolean);return n.length>0&&(X2={models:n,expiresAt:t+wxe}),n}catch{return X2?.models?.length?X2.models:[]}}function Sxe(t){return["Create a launchpad setup blueprint for an Enclagent frontdoor provisioning flow.","Return strict JSON with keys: summary, mermaid, identity_markdown, mission_markdown.","The mermaid value must be a valid `graph TD` flow with at least 6 nodes.","The identity_markdown and mission_markdown should be high-quality seed docs.",`objective: ${t.objective}`,`profile_name: ${t.profile_name}`,`profile_domain: ${t.profile_domain}`,`custody_mode: ${t.custody_mode}`,`verification_backend: ${t.verification_backend}`,`runtime_decision_title: ${t.decision_title}`,`runtime_decision_reason: ${t.decision_reason}`].join(`
`)}async function sA(t,e){const r=await _a("/v1/chat/completions",{method:"POST",timeoutMs:vxe,body:{model:t,temperature:.25,max_tokens:700,messages:[{role:"system",content:"You generate launchpad setup blueprints. Output valid JSON only with keys summary, mermaid, identity_markdown, mission_markdown."},{role:"user",content:Sxe(e)}]}}),i=String(r?.choices?.[0]?.message?.content||"").trim(),s=Exe(i);if(!s)return null;const a=yj(e.objective,e.profile_name,e.profile_domain),o=String(s.summary||a.summary).trim()||a.summary,c=Cxe(String(s.mermaid||a.mermaid)),l=rA(String(s.identity_markdown||a.identityMarkdown),"IDENTITY","Deterministic, security-first, verifiable agent profile."),u=rA(String(s.mission_markdown||a.missionMarkdown),"MISSION",e.objective||"Deliver deterministic outcomes."),d=String(r?.model||t||"unknown-model");return{summary:o,mermaid:c,identityMarkdown:l,missionMarkdown:u,model:d,anthropicCompatibleSelected:xxe(d)}}function Ixe(t){const n=String(t?.message||t||"").match(/active model is '([^']+)'/i);return n?.[1]?String(n[1]).trim():null}const ni={async suggestConfig(t){return _a("/api/frontdoor/suggest-config",{method:"POST",body:t})},async challenge(t){return _a("/api/frontdoor/challenge",{method:"POST",body:t})},async verify(t){return _a("/api/frontdoor/verify",{method:"POST",body:t})},async getSession(t){return _a("/api/frontdoor/session/"+encodeURIComponent(t))},async getSessionTimeline(t){return _a("/api/frontdoor/session/"+encodeURIComponent(t)+"/timeline")},async getOnboardingState(t){return _a("/api/frontdoor/onboarding/state?session_id="+encodeURIComponent(t))},async postOnboardingChat(t,e){return(await _a("/api/frontdoor/onboarding/chat",{method:"POST",body:{session_id:t,message:e}}))?.state||{}},async generateLaunchpadBlueprint(t){const e=yj(t.objective,t.profile_name,t.profile_domain),n=await Lxe(),r=Axe(n)||"";if(!r)return{...e,model:"fallback:no-llm-model",anthropicCompatibleSelected:!1};try{const i=await sA(r,t);if(i)return i}catch(i){const s=Ixe(i);if(s&&s!==r)try{const a=await sA(s,t);if(a)return a}catch{}}return{...e,model:"fallback:deterministic-launchpad",anthropicCompatibleSelected:!1}}},Txe=["identity","objective","config","decision","signature","provisioning"],Cp=160,aA=900,kxe={wallet:{label:"Wallet",title:"Wallet Sign-In",summary:"Connect an external wallet or use Privy embedded wallet.",details:["Uses wallet address as identity context for launch sessions.","Signature challenge runs against the active Ethereum signer.","Embedded wallet is auto-provisioned for users without one."]},email:{label:"Email",title:"Email OTP Sign-In",summary:"Authenticate by one-time code and then continue with embedded wallet.",details:["Email verifies identity before wallet challenge flow begins.","Privy provisions embedded wallet for signature operations.","No browser extension is required for first-time setup."]},google:{label:"Google",title:"Google OAuth Sign-In",summary:"Authenticate with Google and continue using Privy wallet flow.",details:["OAuth identity maps to a Privy user profile.","Wallet signer setup remains deterministic for challenge verification.","Embedded wallet fallback stays available if external wallet is absent."]}};function Pxe(t){const e=t,n=Array.isArray(e?.linkedAccounts)?e.linkedAccounts:[];for(const r of n){const i=String(r?.type||"").trim().toLowerCase(),s=String(r?.provider||"").trim().toLowerCase();if(i==="google_oauth"||i==="google"||s==="google")return"google";if(i==="email")return"email";if(i==="wallet")return"wallet"}return null}function Vn(t){const e=String(t||"").trim();return/^0x[a-fA-F0-9]{40}$/.test(e)?e.toLowerCase():""}function Q2(t){return!!t&&typeof t=="object"&&typeof t.request=="function"}function C4(t){if(typeof t=="number"&&Number.isFinite(t)&&t>0)return"0x"+t.toString(16);if(typeof t!="string")return"";const e=t.trim();return e?/^0x[0-9a-fA-F]+$/.test(e)?"0x"+parseInt(e,16).toString(16):/^\d+$/.test(e)?"0x"+parseInt(e,10).toString(16):"":""}function Oxe(t){const e=C4(t);if(!e)return null;const n=parseInt(e,16);return Number.isFinite(n)&&n>0?n:null}function oA(t){const e=String(t?.message||t||"").toLowerCase();return e.includes("already")&&e.includes("wallet")}function wj(t){const e=t;if(!e?.linkedAccounts)return"";for(const n of e.linkedAccounts)if(n?.type==="wallet"&&(n.walletClientType==="privy"||n.wallet_client_type==="privy")&&(n.chainType==="ethereum"||n.chain_type==="ethereum")&&typeof n.address=="string"){const r=String(n.address).trim();if(/^0x[a-fA-F0-9]{40}$/.test(r))return r}return""}function Ep(t){const e=t;if(!e)return"";const n=e.linkedAccounts||e.linked_accounts||[];let r="",i="";for(const a of n){const o=String(a.type||"").trim().toLowerCase();if(o&&o!=="wallet")continue;const c=String(a.chainType||a.chain_type||"").trim().toLowerCase();if(c&&c!=="ethereum")continue;const l=Vn(String(a?.address||""));if(!l)continue;i||(i=l),String(a.walletClientType||a.wallet_client_type||"").trim().toLowerCase()!=="privy"&&!r&&(r=l)}if(r)return r;if(i)return i;const s=wj(e);return s||(e.wallet?.address&&/^0x[a-fA-F0-9]{40}$/.test(String(e.wallet.address))?String(e.wallet.address).trim():e.wallet_address&&/^0x[a-fA-F0-9]{40}$/.test(String(e.wallet_address))?String(e.wallet_address).trim():"")}function Ag(t,e){const n=t;return n?.id?String(n.id).trim():n?.user_id?String(n.user_id).trim():n?.did?String(n.did).trim():e?`wallet:${Vn(e)}`:""}function Rxe(t){return!t||t.length<=8?t||"-":t.slice(0,4)+"..."+t.slice(-4)}function $xe(){const t="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789",e=new Uint8Array(32);crypto.getRandomValues(e);let n="";for(let r=0;r<e.length;r++)n+=t[e[r]%t.length];return n}function Mxe(){const t=String(window.location.hostname||"").toLowerCase();return!t||t==="localhost"||t==="127.0.0.1"?"Local":/stage|staging|-stg/.test(t)?"Staging":"Production"}function cA(t){const e=String(t||"").trim().toLowerCase();return e?e.includes("ready")||e.includes("running")||e.includes("active")||e.includes("healthy")?"positive":e.includes("error")||e.includes("failed")||e.includes("denied")||e.includes("cancel")?"negative":e.includes("launch")||e.includes("provision")||e.includes("pending")||e.includes("starting")?"warning":"neutral":"neutral"}function Nxe(t){const e=String(t.status||"").toLowerCase(),n=String(t.event_type||"").toLowerCase();return e.includes("failed")||e.includes("error")?"error":e==="ready"||n.includes("ready")?"success":"info"}function Dxe(t){const e=String(t.detail||"").trim();let n=String(t.actor||t.event_type||"system"),r=String(t.event_type||"event"),i=e||t.event_type||"event";const s=e.match(/^\[([^/\]]+)\/([^\]]+)\]\s*(.*)$/);if(s)n=String(s[1]||n).trim().toLowerCase(),r=String(s[2]||r).trim().toLowerCase(),i=String(s[3]||"").trim()||i;else if(t.event_type!=="provision_log"){const a=String(t.event_type||"").trim();i=a?`${a}: ${i}`:i}return{seqId:Number(t.seq_id||0),createdAt:String(t.created_at||""),source:n||"system",stream:r||"event",level:Nxe(t),text:i}}function jxe(t){const e=new Date(t);return Number.isNaN(e.getTime())?"--:--:--":e.toLocaleTimeString([],{hour12:!1})}function xp(t){const e=String(t||"").trim();if(!e)return"";try{const n=new URL(e,window.location.origin);if(n.protocol!=="http:"&&n.protocol!=="https:")return"";if(n.origin===window.location.origin){const r=window.location.pathname.replace(/\/+$/,"")||"/",i=n.pathname.replace(/\/+$/,"")||"/";if(i===r||i==="/frontdoor")return""}return n.toString()}catch{return""}}function Uxe(t,e){const n={...t},r=n.domain_overrides||{};return n.domain_overrides={...r,agent_seed_identity_md:e.identityMarkdown,agent_seed_mission_md:e.missionMarkdown,launchpad_setup_mermaid:e.mermaid,launchpad_blueprint_summary:e.summary,launchpad_blueprint_model:e.model},n}function Bxe(t,e){return["Configuration and setup blueprint are ready.",t.anthropicCompatibleSelected?`Blueprint model: ${t.model} (Anthropic-compatible)`:`Blueprint model: ${t.model}`,t.summary,"```mermaid",t.mermaid,"```","Core markdown seeds generated and attached to launch config:","- `IDENTITY.md`","- `MISSION.md`",`Runtime decision: ${e.title}. ${e.reason}`,"Reply continue to issue your challenge and sign."].join(`
`)}function Fxe(t){const e=String(t||""),n=[],r=/```mermaid\s*([\s\S]*?)```/gi;let i=0;for(const a of e.matchAll(r)){const o=a[0],c=a[1]||"",l=a.index??-1;if(l<0)continue;if(l>i){const d=e.slice(i,l).trim();d&&n.push({type:"text",content:d})}const u=c.trim();u&&n.push({type:"mermaid",content:u}),i=l+o.length}const s=e.slice(i).trim();return s&&n.push({type:"text",content:s}),n.length>0?n:[{type:"text",content:e}]}function zxe({code:t}){const[e,n]=R.useState(""),[r,i]=R.useState(!1),s=R.useId(),a=R.useRef(0);return R.useEffect(()=>{let o=!0;return(async()=>{i(!1),n("");try{const l=a.current+1;a.current=l;const d=(await we(()=>import("./launchpad-mermaid.core-eRiVWycB.js").then(p=>p.bC),__vite__mapDeps([167,1]))).default;d.initialize({startOnLoad:!1,securityLevel:"strict",theme:"dark"});const h=`lp-mermaid-${s.replace(/[:]/g,"")}-${l}`,f=await d.render(h,t);if(!o)return;n(String(f.svg||""))}catch{if(!o)return;i(!0)}})(),()=>{o=!1}},[t,s]),r?g.jsx("pre",{className:"lp-mermaid-fallback",children:t}):e?g.jsx("div",{className:"lp-mermaid-graph",dangerouslySetInnerHTML:{__html:e}}):g.jsx("div",{className:"lp-mermaid-loading",children:"Rendering graph..."})}function Wxe({text:t}){const e=R.useMemo(()=>Fxe(t),[t]);return g.jsx(g.Fragment,{children:e.map((n,r)=>n.type==="mermaid"?g.jsx("div",{className:"lp-mermaid-card",children:g.jsx(zxe,{code:n.content})},`m-${r}`):g.jsx("div",{className:"lp-msg-text",children:n.content},`t-${r}`))})}function Vxe({bootstrap:t}){const n=!!String(t.privy_app_id||"").trim(),r=pO(),{wallets:i,ready:s}=gk(),a=r?.user??null,o=!!r?.ready,c=!!a,[l,u]=R.useState(null),d=R.useMemo(()=>a?wj(a):"",[a]),h=R.useCallback(async x=>{if(!Q2(x))return"";try{const N=await x.request({method:"eth_accounts"});if(Array.isArray(N)&&N.length>0)return Vn(String(N[0]||""))}catch{return""}return""},[]),f=R.useCallback(async x=>{if(!s||!Array.isArray(i)||i.length===0)return null;const N=Vn(x),F=Vn(d),H=[...i.filter(Q=>{const K=String(Q.chainType||Q.chain_type||"").trim().toLowerCase();return!(K&&K!=="ethereum"||typeof Q.getEthereumProvider!="function")})];H.sort((Q,K)=>{const be=Vn(String(Q.address||"")),Ae=Vn(String(K.address||"")),qe=String(Q.walletClientType||Q.wallet_client_type||"").trim().toLowerCase(),Ge=String(K.walletClientType||K.wallet_client_type||"").trim().toLowerCase(),Qe=(xe,yt)=>{let Mt=0;return N&&xe===N&&(Mt+=1e3),yt&&yt!=="privy"&&(Mt+=100),F&&xe===F&&(Mt+=10),yt==="privy"&&(Mt+=1),Mt};return Qe(Ae,Ge)-Qe(be,qe)});for(const Q of H)if(typeof Q.getEthereumProvider=="function")try{const K=await Q.getEthereumProvider();if(!Q2(K))continue;const be=await K.request({method:"eth_chainId"}).catch(()=>""),Ae=await h(K);return{provider:K,walletAddress:Ae||Vn(String(Q.address||""))||N,chainId:C4(be)}}catch{continue}return null},[d,h,i,s]),{login:p}=qQ({onComplete:async x=>{const N=x?.user||null,F=Ep(N)||x.walletAddress||"",z=Vn(F),H=Ag(N,z),Q=x.identityToken||"",K=x.accessToken||"",be=C4(x.chainId||""),Ae=Q2(x.ethereumProvider)?x.ethereumProvider:null,qe=await f(z),Ge=await h(Ae),Qe=qe?.walletAddress||Ge||z,xe=!!Ae&&!!Ge&&(!Qe||Ge===Qe);Tr({walletAddress:Qe,privyUserId:H,identityToken:Q,accessToken:K,chainId:be||qe?.chainId||"",ethereumProvider:qe?.provider||(xe?Ae:null)})},onError:x=>{u(null);const N=String(x?.message??x);N.includes("exited_auth_flow")||N.includes("user_cancelled")||ce("error","Privy login failed: "+N)}}),[m,y]=R.useState({phase:"await_identity",walletAddress:"",chainId:"",sessionId:"",challengeMessage:"",objective:"",config:null,decision:null,gatewayAuthKey:"",privyUserId:"",privyIdentityToken:"",privyAccessToken:"",ethereumProvider:null,pollingTimer:null,latestSessionStatus:"",redirectAttempted:!1}),C=m.walletAddress||Ep(a)||d,L=Vn(C),[w,b]=R.useState(()=>({identity:{status:"active",detail:"Waiting for Privy login."},objective:{status:"pending",detail:"Waiting for your goal."},config:{status:"pending",detail:"Not generated yet."},decision:{status:"pending",detail:"No decision yet."},signature:{status:"pending",detail:"Awaiting challenge issue."},provisioning:{status:"pending",detail:"No instance yet."}})),[A,_]=R.useState([]),[I,M]=R.useState(!1),[D,B]=R.useState(null),[W,P]=R.useState(""),[T,U]=R.useState({}),[v,E]=R.useState({}),[O,k]=R.useState([]),$=R.useRef(!1),j=R.useRef(""),V=R.useRef(""),Z=R.useRef(!1),X=R.useRef(""),J=R.useRef(""),ee=R.useRef(null),ue=R.useRef(!1),le=R.useRef(""),Ee=R.useRef(!1),se=R.useRef(null),q=R.useRef(null),Ne=R.useRef(0),je=R.useRef(m),ce=R.useCallback((x,N)=>{_(F=>{const z=[...F,{role:x,text:N}];return z.length>Cp?z.slice(z.length-Cp):z})},[]),Re=R.useCallback((x,N)=>{_(F=>{const z=F[F.length-1];if(z&&z.role===x&&z.text===N)return F;const H=[...F,{role:x,text:N}];return H.length>Cp?H.slice(H.length-Cp):H})},[]),pe=R.useCallback(x=>{if(!Array.isArray(x)||x.length===0)return;const N=x.filter(z=>Number(z.seq_id||0)>Ne.current).sort((z,H)=>Number(z.seq_id||0)-Number(H.seq_id||0));if(N.length===0)return;Ne.current=Number(N[N.length-1]?.seq_id||Ne.current);const F=N.map(Dxe);k(z=>{const H=[...z,...F];return H.length>aA?H.slice(H.length-aA):H})},[]),fe=R.useCallback((x,N,F)=>{b(z=>({...z,[x]:{status:N,detail:F}}))},[]),{createWallet:gs}=fO({onSuccess:()=>{Re("system","Embedded wallet provisioned. Finalizing identity."),fe("identity","active","Embedded wallet provisioned. Finalizing identity.")},onError:x=>{oA(x)||Re("error","Embedded wallet provisioning failed: "+String(x||"unknown_error"))}}),Sr=R.useCallback(async()=>{if(!Z.current){Z.current=!0,fe("identity","active","Provisioning Privy embedded wallet..."),Re("system","No wallet detected yet. Provisioning embedded wallet via Privy.");try{await gs()}catch(x){oA(x)||Re("error","Embedded wallet provisioning failed: "+String(x?.message||x))}finally{Z.current=!1}}},[Re,gs,fe]);R.useEffect(()=>{X.current=m.sessionId},[m.sessionId]),R.useEffect(()=>{J.current=m.latestSessionStatus},[m.latestSessionStatus]),R.useEffect(()=>{Ee.current=m.redirectAttempted},[m.redirectAttempted]),R.useEffect(()=>{je.current=m},[m]);const Ue=R.useCallback(()=>{ee.current&&(clearInterval(ee.current),ee.current=null),ue.current=!1,y(x=>x.pollingTimer?{...x,pollingTimer:null}:x)},[]),Ir=R.useCallback(async()=>{const x=X.current;if(x&&!ue.current){ue.current=!0;try{const N=await ni.getSession(x),F=await ni.getSessionTimeline(x).catch(()=>null),z=String(N.status||"");if(U(N),F?.events?.length&&pe(F.events),z&&z!==J.current&&(J.current=z,y(H=>H.latestSessionStatus===z?H:{...H,latestSessionStatus:z}),ce("system",`Session status: ${z} - ${N.detail||""}`)),z==="ready"){Ue(),y(K=>({...K,phase:"ready"})),fe("provisioning","done","Instance ready.");const H=xp(N.instance_url||N.app_url),Q=xp(N.verify_url);ce("assistant","Your enclave is ready. Use the session links to open the runtime and verification surface."),!H&&!Q&&ce("system","Provisioning completed without a dedicated runtime URL. Staying on terminal view."),M(!1),B(null)}["failed","error","verification_failed"].includes(z)&&(Ue(),y(H=>({...H,phase:"await_launch_confirmation"})),fe("provisioning","error","Provisioning failed."),ce("error","Provisioning failed: "+(N.error||N.detail||"Unknown")),M(!0),B({label:"Retry Launch",kind:"retry_launch"}))}finally{ue.current=!1}}},[ce,pe,Ue,fe]),ea=R.useCallback(()=>{Ue();const x=Math.max(1200,t.poll_interval_ms||1500),N=setInterval(()=>{Ir()},x);ee.current=N,y(F=>({...F,pollingTimer:N})),Ir()},[t.poll_interval_ms,Ue,Ir]);R.useEffect(()=>()=>Ue(),[Ue]),R.useEffect(()=>{const x=se.current;x&&x.scrollTo({top:x.scrollHeight,behavior:"smooth"})},[A,D]),R.useEffect(()=>{const x=se.current;if(!x)return;let N=0;const F=()=>{cancelAnimationFrame(N),N=requestAnimationFrame(()=>{x.scrollTop=x.scrollHeight})},z=new MutationObserver(()=>F());return z.observe(x,{childList:!0,subtree:!0,characterData:!0}),()=>{z.disconnect(),cancelAnimationFrame(N)}},[]),R.useEffect(()=>{const x=q.current;x&&x.scrollTo({top:x.scrollHeight,behavior:"auto"})},[O]),R.useEffect(()=>{m.phase==="planning"&&we(()=>import("./launchpad-mermaid.core-eRiVWycB.js").then(x=>x.bC),__vite__mapDeps([167,1])).catch(()=>{})},[m.phase]);const Tr=R.useCallback(x=>{const N=x.walletAddress?Vn(x.walletAddress):"",F=Q2(x.ethereumProvider)?x.ethereumProvider:null,z=x.privyUserId||(N?`wallet:${N}`:""),H=`${z}|${N}`,Q=H!=="|"&&j.current===H;if(y(K=>{const be=z||K.privyUserId,Ae=x.identityToken||"",qe=x.accessToken||"",Ge=N||K.walletAddress,Qe=x.chainId||K.chainId,xe=F??K.ethereumProvider;return K.privyUserId===be&&K.privyIdentityToken===Ae&&K.privyAccessToken===qe&&K.walletAddress===Ge&&K.chainId===Qe&&K.ethereumProvider===xe?K:{...K,privyUserId:be,privyIdentityToken:Ae,privyAccessToken:qe,walletAddress:Ge,chainId:Qe,ethereumProvider:xe}}),!Q){if(H!=="|"&&(j.current=H),!N){const K=!N||!d;fe("identity","active",K?"Privy authenticated. Provisioning embedded wallet.":"Privy authenticated. Resolving wallet signer."),M(!1),B(null),Re("assistant",K?"Privy login complete. Provisioning your embedded wallet.":"Privy login complete. Finalizing wallet signer.");return}if(!F){fe("identity","done","Privy identity connected. Wallet signer pending."),B(null),fe("objective","active","Tell me what you want this agent to do."),y(K=>({...K,phase:"await_objective"})),M(!0),Re("assistant","Identity confirmed. Tell me what you want the agent to do. Signer finalization will continue in the background.");return}fe("identity","done","Privy identity connected."),B(null),fe("objective","active","Tell me what you want this agent to do."),y(K=>({...K,phase:"await_objective"})),M(!0),Re("assistant","Identity confirmed. Tell me what you want the agent to do.")}},[Re,d,fe]);R.useEffect(()=>{if(!n||!o||!c||!a)return;const x=Vn(Ep(a)||d),N=Ag(a,x),F=`${N}|${x}`;if(F&&le.current===F)return;F&&(le.current=F);const z=r,H=z?.getIdentityToken,Q=z?.getAccessToken;(async()=>{let K="",be="";typeof H=="function"&&(K=await H()||""),typeof Q=="function"&&(be=await Q()||""),Tr({walletAddress:x,privyUserId:N,identityToken:K,accessToken:be,chainId:"",ethereumProvider:null})})()},[n,o,c,a,d,Tr]),R.useEffect(()=>{if(!o||!c||!a||Vn(je.current.walletAddress||Ep(a)||d))return;const N=Ag(a,"")||String(a.id||"").trim();if(!N||V.current===N)return;V.current=N;const F=setTimeout(()=>{Sr()},700);return()=>clearTimeout(F)},[o,c,a,d,Sr]),R.useEffect(()=>{$.current||($.current=!0,Re("assistant","Welcome. First step: sign up or log in with Privy and connect your wallet."))},[Re]);const Mn=R.useCallback(async()=>{Ue(),r?.logout&&await r.logout(),y({phase:"await_identity",walletAddress:"",chainId:"",sessionId:"",challengeMessage:"",objective:"",config:null,decision:null,gatewayAuthKey:"",privyUserId:"",privyIdentityToken:"",privyAccessToken:"",ethereumProvider:null,pollingTimer:null,latestSessionStatus:"",redirectAttempted:!1}),b({identity:{status:"active",detail:"Waiting for Privy login."},objective:{status:"pending",detail:"Waiting for your goal."},config:{status:"pending",detail:"Not generated yet."},decision:{status:"pending",detail:"No decision yet."},signature:{status:"pending",detail:"Awaiting challenge issue."},provisioning:{status:"pending",detail:"No instance yet."}}),E({}),U({}),k([]),M(!1),B(null),j.current="",$.current=!1,V.current="",Z.current=!1,le.current="",X.current="",J.current="",ue.current=!1,Ee.current=!1,Ne.current=0,ce("system","Logged out. Sign in again to continue.")},[r,ce,Ue]),fr=async x=>{ce("user",x);const N=je.current;if(N.phase==="await_identity"){ce("assistant","Complete Privy login first.");return}if(N.phase==="await_objective"){await Wi(x);return}if(N.phase==="await_launch_confirmation"){/^(continue|launch|proceed|yes|y|confirm)$/i.test(x.trim())?await pn():ce("assistant","Type continue when ready.");return}(N.phase==="provisioning"||N.phase==="ready")&&ce("assistant","Provisioning in progress or session ready.")},Wi=async x=>{const N=L||Vn(m.walletAddress);if(!N){ce("error","Wallet not ready yet. Finish Privy wallet setup, then retry."),y(F=>({...F,phase:"await_identity"})),M(!1);return}y(F=>({...F,objective:x,phase:"planning"})),fe("objective","done","Objective captured."),fe("config","active","Generating configuration and launch blueprint..."),M(!1),B(null);try{const F=$xe();y(Ae=>({...Ae,walletAddress:N,gatewayAuthKey:F}));const z=await ni.suggestConfig({wallet_address:N,intent:x,gateway_auth_key:F}),H=ta(z?.config||{},N,F),Q=xt(x,H),K=await ni.generateLaunchpadBlueprint({objective:x,profile_name:String(H.profile_name||""),profile_domain:String(H.profile_domain||""),custody_mode:String(H.custody_mode||""),verification_backend:String(H.verification_backend||""),decision_title:Q.title,decision_reason:Q.reason}),be=Uxe(H,K);y(Ae=>({...Ae,config:be,decision:Q,phase:"await_launch_confirmation"})),E(be),fe("config","done","Config and markdown seeds drafted."),fe("decision","done",Q.title),fe("signature","active","Pending challenge and signature."),ce("assistant",Bxe(K,Q)),M(!0),B({label:"Continue to Signature",kind:"launch_signature"})}catch(F){fe("config","error","Config draft failed."),y(z=>({...z,phase:"await_objective"})),M(!0),ce("error","Failed to draft configuration: "+String(F?.message||F))}},ta=(x,N,F)=>{const z={...x};return z.profile_name=z.profile_name||`enclagent-profile-${Vn(N).replace(/^0x/,"").slice(-6)||"user"}`,z.profile_domain=z.profile_domain||"general",z.custody_mode=z.custody_mode||"user_wallet",z.verification_backend=z.verification_backend||"eigencloud_primary",z.gateway_auth_key=z.gateway_auth_key||F,z.accept_terms=!0,z.user_wallet_address=z.user_wallet_address||N,z.symbol_allowlist=Array.isArray(z.symbol_allowlist)||z.symbol_allowlist?z.symbol_allowlist:["BTC","ETH"],z.enable_memory=z.enable_memory??!0,z},xt=(x,N)=>{const F=x.toLowerCase();return/(live|execution|execute|trade|production|autonomous|deploy|24\/7)/.test(F)||String(N.paper_live_policy||"").toLowerCase()==="live_allowed"?{mode:"dedicated",title:"Dedicated Enclaved IronClaw Instance",reason:"Objective indicates continuous or execution-sensitive behavior."}:{mode:"shared",title:"Shared Runtime First",reason:"Objective indicates research/planning posture."}},pn=async()=>{const x=je.current;let N=L||Vn(x.walletAddress);const F=x.config;if(!F||!N){ce("error","Cannot launch: missing config or wallet.");return}x.walletAddress!==N&&y(K=>({...K,walletAddress:N}));let z=Q2(x.ethereumProvider)?x.ethereumProvider:null,H=x.chainId;if(!z){const K=await f(N);if(!K?.provider){ce("error","Wallet signer unavailable. Open Privy wallet once, then retry launch.");return}z=K.provider,H=H||K.chainId||"",y(be=>({...be,ethereumProvider:K.provider,chainId:be.chainId||K.chainId||""})),Re("system","Wallet signer finalized. Proceeding to challenge.")}const Q=await h(z);Q&&Q!==N&&(N=Q,y(K=>({...K,walletAddress:Q})),Re("system","Using Privy signer wallet for challenge and verification.")),J.current="",Ee.current=!1,Ne.current=0,k([]),y(K=>({...K,phase:"launching",redirectAttempted:!1})),M(!1),B(null),fe("signature","active","Issuing challenge..."),fe("provisioning","active","Waiting for verification...");try{const K=Oxe(H),be=await ni.challenge({wallet_address:N,privy_user_id:x.privyUserId||null,chain_id:K}),Ae=String(be.session_id||""),qe=String(be.message||"");X.current=Ae,y(Qe=>({...Qe,sessionId:Ae,challengeMessage:qe})),U({session_id:Ae,status:"challenge_issued",provisioning_source:"pending",runtime_state:"pending"}),await pr(Ae,F,x.objective);const Ge=await Xr(qe,z,N);await ni.verify({session_id:Ae,wallet_address:N,privy_user_id:x.privyUserId||null,privy_identity_token:x.privyIdentityToken||null,privy_access_token:x.privyAccessToken||null,message:qe,signature:Ge,config:F}),fe("signature","done","Signature accepted."),fe("provisioning","active","Provisioning started. Polling..."),ce("assistant","Signature verified. Provisioning has started."),y(Qe=>({...Qe,phase:"provisioning"})),ea()}catch(K){fe("signature","error","Challenge/signature failed."),fe("provisioning","error","Provisioning did not start."),y(be=>({...be,phase:"await_launch_confirmation"})),M(!0),B({label:"Retry Signature",kind:"retry_signature"}),ce("error","Launch failed: "+String(K?.message||K))}},pr=async(x,N,F)=>{let z=await ni.getOnboardingState(x);const H=F.trim()||`Launch profile ${N.profile_name||"frontdoor_profile"} with deterministic verification.`,Q=`profile_name=${String(N.profile_name||"frontdoor_profile").replace(/[\n\r,;=]/g,"_")}, gateway_auth_key=__from_config__, accept_terms=true`;if(z.objective||(z=await ni.postOnboardingChat(x,H)),Array.isArray(z.missing_fields)&&z.missing_fields.length>0&&(z=await ni.postOnboardingChat(x,Q)),z.current_step!=="ready_to_sign"&&!z.completed&&(z=await ni.postOnboardingChat(x,"confirm plan")),Array.isArray(z.missing_fields)&&z.missing_fields.length>0&&(z=await ni.postOnboardingChat(x,Q),z=await ni.postOnboardingChat(x,"confirm plan")),Array.isArray(z.missing_fields)&&z.missing_fields.length>0)throw new Error("Onboarding required variables unresolved: "+z.missing_fields.join(", "));if(z.current_step!=="ready_to_sign"&&!z.completed&&(z=await ni.postOnboardingChat(x,"confirm sign")),z.current_step!=="ready_to_sign"&&!z.completed)throw new Error("Onboarding did not reach ready_to_sign state.")},Xr=async(x,N,F)=>{const z=Vn(F||L||m.walletAddress),H=N??m.ethereumProvider;if(!Q2(H))throw new Error("Wallet provider unavailable.");const K=[await h(H),z].filter((Ae,qe,Ge)=>!!Ae&&Ge.indexOf(Ae)===qe);if(K.length===0)throw new Error("Wallet address unavailable.");const be="0x"+Array.from(new TextEncoder().encode(x)).map(Ae=>Ae.toString(16).padStart(2,"0")).join("");for(const Ae of K){const qe=[[be,Ae],[x,Ae],[Ae,be],[Ae,x]];for(const Qe of qe)try{const xe=await H.request({method:"personal_sign",params:Qe});if(typeof xe=="string"&&xe)return xe}catch{}const Ge=[[Ae,be],[Ae,x]];for(const Qe of Ge)try{const xe=await H.request({method:"eth_sign",params:Qe});if(typeof xe=="string"&&xe)return xe}catch{}}throw new Error("Wallet signature failed.")},Xe=x=>{x.preventDefault();const N=W.trim();N&&(P(""),fr(N))},nt=R.useCallback(()=>{D&&(D.kind==="launch_signature"||D.kind==="retry_launch"||D.kind==="retry_signature")&&pn()},[D,pn]),ke=!c||!L,ct=n&&o,Nn=ke,Dn=R.useMemo(()=>xp(T.instance_url||T.app_url),[T.instance_url,T.app_url]),it=R.useMemo(()=>xp(T.verify_url),[T.verify_url]),me=cA(T.runtime_state),mr=cA(T.status||m.latestSessionStatus),cc=m.phase==="launching"||m.phase==="provisioning"||m.phase==="ready",lc=R.useMemo(()=>Pxe(a),[a]),uc=lc?kxe[lc]:null,If=R.useMemo(()=>[{key:"runtime",title:"Runtime Gateway",detail:"Primary endpoint for live agent runtime traffic.",url:Dn},{key:"verify",title:"Verification Gateway",detail:"Audit and verification surface for receipts and proofs.",url:it}].filter(x=>!!x.url),[Dn,it]),S=R.useCallback(x=>{if(!ct){Re("system","Privy is still initializing. Retry in a moment.");return}u(x),Promise.resolve(p({loginMethods:[x]})).catch(N=>{u(null),ce("error","Unable to open sign-in flow: "+String(N?.message||N))})},[ce,Re,ct,p]);return R.useEffect(()=>{c&&u(null)},[c]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"lp-bg lp-bg-a"}),g.jsx("div",{className:"lp-bg lp-bg-b"}),g.jsxs("main",{className:"lp-shell",children:[g.jsxs("header",{className:"lp-header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"lp-eyebrow",children:"Enclagent Gateway Launchpad"}),g.jsx("h1",{children:"Enclagent Setup"})]}),g.jsxs("div",{className:"lp-header-right",children:[g.jsx("div",{className:"lp-environment",children:Mxe()}),c&&g.jsxs("button",{type:"button",className:"lp-door-logout-btn",onClick:Mn,"aria-label":"Logout and exit",title:"Logout",children:[g.jsx("span",{className:"lp-door-icon","aria-hidden":"true"}),g.jsx("span",{children:"Exit"})]})]})]}),Nn&&g.jsxs("div",{className:"lp-auth-screen",role:"dialog","aria-modal":"true","aria-label":"Enclagent sign up",children:[g.jsxs("div",{className:"lp-auth-screen-panel lp-auth-wallet-panel",children:[g.jsx("p",{className:"lp-auth-panel-eyebrow",children:"Identity Overlay"}),g.jsx("h2",{children:"Wallet And Session"}),g.jsx("p",{className:"lp-auth-panel-subtitle",children:"Secure identity setup runs in-place over launchpad. Choose email or wallet to continue."}),g.jsxs("div",{className:"lp-kv",children:[g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Identity"}),g.jsx("strong",{children:c?"Connected":"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Wallet"}),g.jsx("strong",{children:L||"Not connected"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Chain"}),g.jsx("strong",{children:m.chainId||"Auto"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Session"}),g.jsx("strong",{children:m.sessionId||"Not started"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Custody"}),g.jsx("strong",{children:v.custody_mode||"user_wallet"})]})]}),uc&&g.jsxs("div",{className:"lp-auth-method-detail",children:[g.jsxs("p",{className:"lp-auth-method-title",children:["Detected Method: ",uc.label]}),g.jsx("p",{className:"lp-auth-method-summary",children:uc.summary}),g.jsx("ul",{className:"lp-auth-method-points",children:uc.details.map((x,N)=>g.jsx("li",{children:x},`detected-method-${N}`))})]})]}),g.jsxs("div",{className:"lp-auth-screen-panel lp-auth-cta-panel",children:[g.jsx("p",{className:"lp-auth-panel-eyebrow",children:"Enclagent"}),g.jsx("h2",{children:"Sign In To Unlock"}),g.jsx("p",{className:"lp-auth-panel-subtitle",children:"Real-time launch orchestration, verifiable signatures, and enclaved runtime provisioning."}),g.jsx("button",{type:"button",className:"lp-auth-cta-btn is-primary",onClick:()=>S("email"),disabled:!ct,children:l==="email"?"Opening Email Sign-In...":"Continue With Email"}),g.jsx("p",{className:"lp-auth-or",children:"OR"}),g.jsx("button",{type:"button",className:"lp-auth-cta-btn",onClick:()=>S("wallet"),disabled:!ct,children:l==="wallet"?"Opening Wallet Sign-In...":"Continue With Wallet"}),g.jsx("p",{className:"lp-auth-legal",children:"By continuing, you agree to secure enclave provisioning and wallet-authenticated session policy."})]})]}),g.jsxs("section",{className:"lp-grid",children:[cc?g.jsxs("article",{className:"lp-chat-card lp-terminal-card",children:[g.jsxs("div",{className:"lp-chat-head lp-terminal-head",children:[g.jsx("h2",{children:"Provisioning Terminal"}),g.jsx("p",{children:"Streaming live provisioning logs from Railway and eCloud runtimes."})]}),g.jsx("div",{className:"lp-terminal-stream",ref:q,children:O.length===0?g.jsx("div",{className:"lp-terminal-empty",children:"Waiting for provisioning output..."}):O.map(x=>g.jsxs("div",{className:`lp-terminal-line level-${x.level}`,children:[g.jsx("span",{className:"lp-terminal-time",children:jxe(x.createdAt)}),g.jsx("span",{className:`lp-terminal-source source-${x.source}`,children:x.source}),g.jsx("span",{className:"lp-terminal-channel",children:x.stream}),g.jsx("span",{className:"lp-terminal-text",children:x.text})]},x.seqId))}),g.jsxs("div",{className:"lp-terminal-footer",children:[g.jsxs("span",{children:["Session: ",m.sessionId||"-"]}),g.jsxs("span",{children:["Status: ",T.status||m.latestSessionStatus||"starting"]})]})]}):g.jsxs("article",{className:"lp-chat-card",children:[g.jsxs("div",{className:"lp-chat-head",children:[g.jsx("h2",{children:"Launchpad Chat"}),g.jsx("p",{children:"Identity, objective, policy, signature, provisioning."})]}),g.jsxs("div",{className:"lp-chat-stream",ref:se,children:[A.map((x,N)=>g.jsx("div",{className:`lp-msg ${x.role}`,children:g.jsx(Wxe,{text:x.text})},N)),D&&g.jsxs("div",{className:"lp-msg assistant lp-msg-action",children:[g.jsx("p",{className:"lp-msg-action-label",children:"Next interactive step"}),g.jsx("button",{type:"button",className:"lp-action-btn lp-action-btn-inline",onClick:nt,children:D.label})]})]}),g.jsxs("form",{className:"lp-chat-compose",onSubmit:Xe,children:[g.jsx("textarea",{rows:1,placeholder:"Describe what you want this agent to do...",disabled:!I,value:W,onChange:x=>P(x.target.value)}),g.jsx("button",{type:"submit",disabled:!I,children:"Send"})]})]}),g.jsxs("aside",{className:"lp-side-card",children:[g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Step Progress"}),g.jsx("div",{className:"lp-steps",children:Txe.map(x=>g.jsxs("div",{className:`lp-step ${w[x]?.status==="active"?"is-active":""} ${w[x]?.status==="done"?"is-done":""} ${w[x]?.status==="error"?"is-error":""}`,"data-step":x,children:[g.jsx("span",{className:"lp-step-dot"}),g.jsxs("div",{children:[g.jsxs("p",{className:"lp-step-title",children:[x==="identity"&&"1. Privy Signup",x==="objective"&&"2. Objective",x==="config"&&"3. Config Draft",x==="decision"&&"4. Runtime Decision",x==="signature"&&"5. Signature",x==="provisioning"&&"6. Provisioning"]}),g.jsx("p",{className:"lp-step-desc",children:w[x]?.detail||"-"})]})]},x))})]}),g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Configuration Summary"}),g.jsxs("div",{className:"lp-kv",children:[g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Profile"}),g.jsx("strong",{children:v.profile_name||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Domain"}),g.jsx("strong",{children:v.profile_domain||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Custody"}),g.jsx("strong",{children:v.custody_mode||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Verification"}),g.jsx("strong",{children:v.verification_backend||"Pending"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Gateway Auth Key"}),g.jsx("strong",{children:Rxe(v.gateway_auth_key||"")})]})]})]}),g.jsxs("section",{className:"lp-side-block",children:[g.jsx("h3",{children:"Session Status"}),g.jsxs("div",{className:"lp-kv",children:[g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Session"}),g.jsx("strong",{children:T.session_id||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Status"}),g.jsx("strong",{className:`lp-status-pill is-${mr}`,children:T.status||m.latestSessionStatus||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Provisioning Source"}),g.jsx("strong",{children:T.provisioning_source||"-"})]}),g.jsxs("div",{className:"lp-kv-row",children:[g.jsx("span",{children:"Runtime"}),g.jsx("strong",{className:`lp-status-pill is-${me}`,children:T.runtime_state||"-"})]})]}),g.jsx("div",{className:"lp-gateway-grid",children:If.length>0?If.map(x=>g.jsxs("article",{className:"lp-gateway-card",children:[g.jsxs("div",{className:"lp-gateway-card-head",children:[g.jsx("span",{className:"lp-gateway-tag",children:x.key==="runtime"?"Runtime":"Verify"}),g.jsx("span",{className:"lp-gateway-health",children:"Online"})]}),g.jsx("p",{className:"lp-gateway-title",children:x.title}),g.jsx("p",{className:"lp-gateway-detail",children:x.detail}),g.jsx("p",{className:"lp-gateway-url",children:x.url}),g.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"lp-gateway-open",children:"Open Gateway"})]},x.key)):g.jsx("div",{className:"lp-gateway-empty",children:"Gateway endpoints appear here after provisioning reaches ready state."})})]})]})]})]})]})}function Hxe({bootstrap:t}){const e=String(t.privy_app_id||"").trim(),n=String(t.privy_client_id||"").trim()||void 0;return g.jsx(hxe,{appId:e,clientId:n,config:{loginMethods:["wallet","email"],embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"}},appearance:{theme:"dark"}},children:g.jsx(Vxe,{bootstrap:t})})}function qxe(){const[t,e]=Te.useState(null),[n,r]=Te.useState(null);return Te.useEffect(()=>{fetch("/api/frontdoor/bootstrap").then(s=>s.json()).then(e).catch(s=>r(String(s?.message||s)))},[]),n?g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsxs("p",{style:{color:"var(--danger)"},children:["Failed to load: ",n]})}):t?t.enabled?String(t.privy_app_id||"").trim()?g.jsx(Hxe,{bootstrap:t}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{style:{color:"var(--danger)"},children:"Privy launch is required but no Privy App ID is configured."})}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{style:{color:"var(--danger)"},children:"Launchpad is disabled. Enable GATEWAY_FRONTDOOR_ENABLED=true."})}):g.jsx("div",{className:"lp-shell",style:{padding:24},children:g.jsx("p",{className:"lp-eyebrow",children:"Loading..."})})}const ETe=Object.freeze(Object.defineProperty({__proto__:null,default:qxe},Symbol.toStringTag,{value:"Module"}));export{T4 as $,DA as A,te as B,fL as C,Wd as D,Kg as E,YW as F,JW as G,NB as H,nS as I,pL as J,Dg as K,$z as L,Mz as M,t0 as N,I4 as O,qd as P,U4 as Q,Eu as R,vV as S,a8 as T,zz as U,ol as V,Xc as W,jg as X,uF as Y,hd as Z,zg as _,e0 as a,LB as a$,Yc as a0,Wg as a1,Vg as a2,cF as a3,oF as a4,AB as a5,IB as a6,RB as a7,hn as a8,FA as a9,Bg as aA,Od as aB,zd as aC,Kr as aD,x1 as aE,Nd as aF,Dd as aG,Gr as aH,D4 as aI,WA as aJ,pF as aK,zA as aL,kB as aM,Lz as aN,Vd as aO,e7 as aP,Jd as aQ,Pz as aR,uL as aS,dL as aT,jd as aU,Hg as aV,Bd as aW,Zd as aX,jh as aY,Dz as aZ,$B as a_,hF as aa,Hh as ab,lF as ac,dH as ad,OB as ae,fF as af,qo as ag,Iz as ah,PB as ai,TB as aj,Md as ak,DB as al,hH as am,Rd as an,Tz as ao,au as ap,kz as aq,MB as ar,fH as as,Ud as at,Nl as au,Kz as av,$d as aw,Rc as ax,Fg as ay,Ug as az,jA as b,uu as b$,Hd as b0,Dl as b1,oAe as b2,Fd as b3,OZ as b4,yl as b5,dV as b6,Oz as b7,Gh as b8,Ks as b9,xL as bA,EL as bB,oS as bC,Hz as bD,tS as bE,GW as bF,Jo as bG,O1 as bH,y7 as bI,Mh as bJ,ur as bK,fV as bL,PAe as bM,m7 as bN,KW as bO,Kq as bP,Ez as bQ,B4 as bR,M4 as bS,Wr as bT,ls as bU,Uh as bV,r8 as bW,Ka as bX,lL as bY,b2 as bZ,kn as b_,c8 as ba,ZV as bb,GV as bc,W4 as bd,V4 as be,bF as bf,VA as bg,hz as bh,fz as bi,fn as bj,$a as bk,pz as bl,Rh as bm,aW as bn,IL as bo,lr as bp,JF as bq,Ui as br,pS as bs,PZ as bt,kZ as bu,Nh as bv,Cz as bw,n0 as bx,hV as by,Xo as bz,_8 as c,oV as c$,Jc as c0,C1 as c1,KF as c2,$h as c3,$L as c4,ES as c5,xz as c6,gH as c7,u8 as c8,AS as c9,c0 as cA,gL as cB,Uz as cC,Vz as cD,D1 as cE,nI as cF,l8 as cG,pH as cH,SL as cI,Ht as cJ,Ho as cK,nL as cL,$g as cM,Wc as cN,Rl as cO,_n as cP,RL as cQ,uW as cR,Ra as cS,QA as cT,Ze as cU,uH as cV,Fa as cW,CL as cX,di as cY,CS as cZ,TZ as c_,xS as ca,vt as cb,mF as cc,_r as cd,hi as ce,fAe as cf,Pt as cg,Fh as ch,vr as ci,On as cj,yV as ck,Gz as cl,I1 as cm,Ul as cn,Xg as co,vF as cp,oe as cq,w2 as cr,dF as cs,zo as ct,$A as cu,jb as cv,Ub as cw,K4 as cx,oz as cy,lH as cz,Gn as d,oSe as d$,s0 as d0,sH as d1,vs as d2,v7 as d3,Vl as d4,pi as d5,Ya as d6,Q1 as d7,Qo as d8,ne as d9,zx as dA,N0 as dB,b4 as dC,nSe as dD,Ts as dE,vQ as dF,Xp as dG,FLe as dH,xSe as dI,ss as dJ,L0 as dK,m1 as dL,MEe as dM,xLe as dN,Mo as dO,S8 as dP,Lwe as dQ,GEe as dR,DLe as dS,rh as dT,ULe as dU,To as dV,bSe as dW,WEe as dX,HEe as dY,HLe as dZ,Xh as d_,gk as da,tSe as db,NEe as dc,G as dd,TQ as de,Ck as df,ALe as dg,wTe as dh,KN as di,fK as dj,cre as dk,EQ as dl,aSe as dm,ij as dn,w4 as dp,$t as dq,e3 as dr,NQ as ds,lTe as dt,ELe as du,QEe as dv,ah as dw,KLe as dx,hu as dy,lre as dz,Oh as e,pV as e$,CSe as e0,iSe as e1,gSe as e2,wQ as e3,Sve as e4,Q7e as e5,Y7e as e6,WY as e7,ILe as e8,SLe as e9,mSe as eA,UQ as eB,Xx as eC,bTe as eD,eB as eE,Ph as eF,x4 as eG,su as eH,GU as eI,E4 as eJ,kh as eK,Th as eL,Ih as eM,exe as eN,ZEe as eO,$Ee as eP,rB as eQ,w1 as eR,vSe as eS,mTe as eT,pTe as eU,fTe as eV,REe as eW,FK as eX,J6 as eY,N4 as eZ,N1 as e_,kLe as ea,TLe as eb,FQ as ec,QCe as ed,LLe as ee,uTe as ef,zI as eg,il as eh,hTe as ei,Pb as ej,tj as ek,nj as el,PSe as em,kSe as en,lt as eo,OSe as ep,RZ as eq,$0 as er,_Q as es,tl as et,Qx as eu,dSe as ev,dTe as ew,GCe as ex,KCe as ey,$Q as ez,XB as f,rSe as f$,qh as f0,Gt as f1,vTe as f2,gTe as f3,yTe as f4,Pe as f5,nTe as f6,tTe as f7,X7e as f8,qY as f9,dn as fA,k9e as fB,WD as fC,aTe as fD,oTe as fE,ove as fF,fve as fG,sTe as fH,cTe as fI,tO as fJ,_Te as fK,CTe as fL,A4 as fM,dLe as fN,hLe as fO,Dy as fP,ae as fQ,Ft as fR,ASe as fS,HQ as fT,QLe as fU,Ek as fV,Tk as fW,VQ as fX,BQ as fY,AQ as fZ,jEe as f_,P2 as fa,J9e as fb,J7e as fc,Lve as fd,iTe as fe,R9e as ff,rTe as fg,rL as fh,XF as fi,yAe as fj,ou as fk,OAe as fl,U1 as fm,pO as fn,si as fo,eSe as fp,HY as fq,es as fr,vre as fs,v2 as ft,VLe as fu,a9e as fv,bu as fw,oc as fx,w9e as fy,v9e as fz,QB as g,Gy as g$,pSe as g0,hSe as g1,fSe as g2,ySe as g3,wSe as g4,Ik as g5,mA as g6,gA as g7,yA as g8,bA as g9,wie as gA,jO as gB,PO as gC,$Se as gD,uw as gE,l3 as gF,Oie as gG,is as gH,die as gI,Sie as gJ,uie as gK,xre as gL,Pie as gM,Gie as gN,Ure as gO,vie as gP,Die as gQ,V0 as gR,EO as gS,WSe as gT,Ia as gU,zSe as gV,$O as gW,RO as gX,sSe as gY,cSe as gZ,zt as g_,wA as ga,vA as gb,o3 as gc,Lt as gd,sf as ge,NSe as gf,DSe as gg,Yr as gh,Lre as gi,Qs as gj,Vr as gk,jSe as gl,MSe as gm,Dre as gn,af as go,zi as gp,ms as gq,Kf as gr,$re as gs,Pa as gt,Zs as gu,Kre as gv,FSe as gw,IO as gx,Xre as gy,Va as gz,z1 as h,Oi as h$,Ct as h0,cv as h1,_d as h2,yte as h3,TSe as h4,Ce as h5,a0 as h6,hs as h7,Dh as h8,Js as h9,she as hA,gw as hB,Vse as hC,uR as hD,Ad as hE,w5 as hF,df as hG,g2e as hH,o2e as hI,gre as hJ,yhe as hK,gi as hL,I3e as hM,ts as hN,I2 as hO,tb as hP,dme as hQ,eb as hR,N3 as hS,Eh as hT,mw as hU,$_ as hV,L$ as hW,cde as hX,Fo as hY,M3 as hZ,$s as h_,Xz as ha,sI as hb,Ot as hc,Ys as hd,j4 as he,za as hf,du as hg,tN as hh,z3e as hi,W3e as hj,VC as hk,hS as hl,Yd as hm,Yg as hn,bhe as ho,td as hp,d2 as hq,Ha as hr,V3e as hs,q3e as ht,S2 as hu,dR as hv,$i as hw,Hr as hx,ye as hy,l2 as hz,eF as i,Rs as i0,kN as i1,S0 as i2,dJ as i3,fJ as i4,ETe as i5,tF as j,Bb as k,UA as l,Fb as m,nF as n,rF as o,Ol as p,BA as q,iF as r,Az as s,Kd as t,jl as u,vL as v,_L as w,uV as x,Gd as y,aF as z};
