import{r as m,j as u}from"./launchpad.js";import{F as p}from"./launchpad-PhoneIcon-C1ddPHdQ.js";import{w as c}from"./launchpad-ConnectPhoneForm-DTZTENXQ-Djy6FR4a.js";import{d4 as b,dy as h,d6 as S}from"./launchpad-App-CJN8YHj9.js";import{n as f}from"./launchpad-ScreenLayout-Ca6ml9wY-tWBwodfe.js";import"./launchpad-ModalHeader-JjfRejxC-CtYe7KE2.js";import"./launchpad-Chip-D2-wZOHJ-BUhC-lY9.js";import"./launchpad-LoadingSkeleton-U6-3yFwI-C2YhYO2U.js";import"./launchpad-Screen-DE3ldE_X-Bg_Q5Z_h.js";import"./launchpad-index-Dq_xe9dz-DPq0PTtR.js";const w=({title:o="Update your phone number",subtitle:a="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:t=!1})=>{let[e,n]=m.useState(null);return u.jsx(f,{title:o,subtitle:a,icon:p,primaryCta:{label:t?"Submitting":"Update",onClick:async()=>{e?.qualifiedPhoneNumber&&await r(e)},disabled:!e?.isValid||t},watermark:!0,children:u.jsx(c,{onChange:i=>{n(i)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},q={component:()=>{let{currentScreen:o,data:a,navigate:r,setModalData:t}=b(),{user:e}=h(),{initUpdatePhone:n}=S(),[i,s]=m.useState(!1);return u.jsx(w,{onSubmit:async d=>{s(!0);try{if(!e?.phone?.number)throw Error("User is required to have an phone number to update it.");await n(e?.phone?.number,d.qualifiedPhoneNumber),r("AwaitingPasswordlessCodeScreen")}catch(l){t({errorModalData:{error:l,previousScreen:a?.errorModalData?.previousScreen||o||"LinkPhoneScreen"}}),r("ErrorScreen")}finally{s(!1)}},isSubmitting:i})}};export{q as UpdatePhoneScreen,w as UpdatePhoneScreenView,q as default};
