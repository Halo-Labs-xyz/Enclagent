import{r as l,j as d}from"./launchpad.js";import{j as y}from"./launchpad-WalletInfoCard-CuZCmvHw-BQqSNujJ.js";import{d4 as C,d5 as g,d6 as h,dN as w,dd as k}from"./launchpad-App-D179iYht.js";import{n as j}from"./launchpad-ScreenLayout-Ca6ml9wY-CeAdm0Km.js";import{C as A}from"./launchpad-circle-alert-l7t-nY5R.js";import{C as S}from"./launchpad-circle-check-big-Bg8vqBbP.js";import{c as b}from"./launchpad-createLucideIcon-BSOjrqRH.js";import"./launchpad-ModalHeader-JjfRejxC-gvXxgADS.js";import"./launchpad-ErrorMessage-D8VaAP5m-xTbV0e-V.js";import"./launchpad-LabelXs-oqZNqbm_-D2WTgiPX.js";import"./launchpad-Address-D-q_5it9-DVYLY2Ks.js";import"./launchpad-check-C5kCRahI.js";import"./launchpad-copy-DYa4Op8P.js";import"./launchpad-shared-FM0rljBt-BThDrsH1.js";import"./launchpad-Screen-DE3ldE_X-BBf8NvvX.js";import"./launchpad-index-Dq_xe9dz-bxbF5Mdc.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],v=b("cloud-upload",x),D=({appName:o,address:a,success:s,error:e,onAccept:n,onDecline:t,onClose:r})=>d.jsx(j,s||e?{title:e?"Something went wrong":"Success!",subtitle:e?"Please try again.":`You've successfully granted delegated action permissions to ${o}.`,icon:e?A:S,iconVariant:e?"error":"success",onBack:r,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${o} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:v,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"Not now",onClick:t},onBack:r,watermark:!0,children:d.jsx(y,{address:a,title:"Wallet"})}),R={component:()=>{let{data:o}=C(),a=g(),{closePrivyModal:s}=h(),[e,n]=l.useState(!1),[t,r]=l.useState(),{address:m,onDelegate:u,onSuccess:p,onError:f}=o.delegatedActions.consent,c=async()=>{e?p():f(t??new k("User declined delegating actions.")),s({shouldCallAuthOnSuccess:!1})};return l.useEffect(()=>{if(!e&&!t)return;let i=setTimeout(c,w);return()=>clearTimeout(i)},[e,t]),d.jsx(D,{appName:a.name,address:m,success:e,error:t,onAccept:async()=>{try{await u(),n(!0)}catch(i){r(i)}},onDecline:()=>{c()},onClose:c})}};export{R as DelegatedActionsConsentScreen,D as DelegatedActionsConsentScreenView,R as default};
